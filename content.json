{"meta":{"title":"Maskros' Blog","subtitle":"","description":"","author":"Maskros","url":"https://maskros.top","root":"/"},"pages":[{"title":"æ–‡ç« åˆ†ç±»","date":"2020-11-01T16:00:00.000Z","updated":"2021-07-29T02:44:39.630Z","comments":true,"path":"categories/index.html","permalink":"https://maskros.top/categories/index.html","excerpt":"","text":"","author":"Maskros"},{"title":"Who Am I","date":"2021-08-27T03:12:31.000Z","updated":"2022-09-17T16:28:51.481Z","comments":true,"path":"about/index.html","permalink":"https://maskros.top/about/index.html","excerpt":"","text":"ACMç ´é“œğŸ¥ˆçƒ‚é“ğŸ¥‰æ”¶é›†å¤§å¸ˆï¼Œè¿åŠ¨ğŸ’ƒã€éŸ³ä¹ğŸ¶ã€å‰ªè¾‘ğŸ¬çˆ±å¥½è€…ï¼Œå¹»æƒ³å°å­ğŸ¤¤ï¼Œä¹é˜Ÿæ··å­bassæ‰‹ğŸ¸ï¼Œç‚¹å­å“¥ğŸ¤”ï¼Œcsgo/lolå°å­ğŸ®ï¼ŒCR7âš½/CP3ğŸ€/RFğŸ¾ç²‰ï¼Œç»¼ä¸Šã€‚ æ¬¢è¿å¤§ğŸ”¥ç•™è¨€ğŸ¤¬ğŸ¤¬"},{"title":"å‹æƒ…é“¾æ¥","date":"2022-05-15T15:11:46.359Z","updated":"2022-05-15T15:11:46.359Z","comments":true,"path":"links/index.html","permalink":"https://maskros.top/links/index.html","excerpt":"","text":""},{"title":"message-board","date":"2022-02-04T15:50:10.174Z","updated":"2022-02-04T15:50:10.174Z","comments":true,"path":"message-board/index.html","permalink":"https://maskros.top/message-board/index.html","excerpt":"","text":"è¿™æ˜¯ä¸€ä¸ªç•™è¨€æ¿ï¼Œæ¬¢è¿å¸¦ğŸ”¥å¼€å–·ğŸ¤¡"},{"title":"tags","date":"2020-09-19T08:19:22.000Z","updated":"2021-07-29T02:41:27.086Z","comments":true,"path":"tags/index.html","permalink":"https://maskros.top/tags/index.html","excerpt":"","text":"","author":"Maskros"}],"posts":[{"title":"Object-Detectionï¼šRCNNç³»åˆ—","slug":"dl/obj-detect/RCNNs","date":"2022-10-21T08:00:00.000Z","updated":"2022-10-23T04:48:07.580Z","comments":true,"path":"/post/dl/obj-detect/RCNNs.html","link":"","permalink":"https://maskros.top/post/dl/obj-detect/RCNNs.html","excerpt":"R-CNN / Fast R-CNN / Faster R-CNN RCNN = Region Proposal + CNN + Classify Fast RCNN = RCNN + ROI Pooling Faster RCNN = Fast RCNN + RPN R-CNN è®ºæ–‡ï¼šRich feature hierarchies for accurate object detection and semantic segmentation ä¸»è¦ç‰¹ç‚¹ï¼š é€Ÿåº¦ï¼š é‡‡ç”¨Selective Searchæ–¹æ³•é¢„å…ˆæå–ä¸€ç³»åˆ—è¾ƒå¯èƒ½æ˜¯ç‰©ä½“çš„å€™é€‰åŒºåŸŸï¼Œä¹‹åä»…åœ¨è¿™äº›å€™é€‰åŒºåŸŸä¸Šé‡‡ç”¨CNNæå–ç‰¹å¾ï¼Œè¿›è¡Œåˆ¤æ–­ï¼Œæ¯”å…ˆå‰çš„æ»‘åŠ¨çª—å£æ³•è¦å¥½ è®­ç»ƒé›†ï¼šä½¿ç”¨ä¸¤ä¸ªæ•°æ®åº“ï¼š ä¸€ä¸ªè¾ƒå¤§çš„è¯†åˆ«åº“ï¼ˆImageNet ILSVC 2012ï¼‰ï¼šæ ‡å®šæ¯å¼ å›¾ç‰‡ä¸­ç‰©ä½“çš„ç±»åˆ«ã€‚ä¸€åƒä¸‡å›¾åƒï¼Œ1000ç±»ã€‚ ä¸€ä¸ªè¾ƒå°çš„æ£€æµ‹åº“ï¼ˆPASCAL VOC 2007ï¼‰ï¼šæ ‡å®šæ¯å¼ å›¾ç‰‡ä¸­ï¼Œç‰©ä½“çš„ç±»åˆ«å’Œä½ç½®ï¼Œä¸€ä¸‡å›¾åƒï¼Œ20ç±»ã€‚ æœ¬æ–‡ä½¿ç”¨è¯†åˆ«åº“è¿›è¡Œæœ‰ç›‘ç£é¢„è®­ç»ƒå¾—åˆ°CNNï¼Œè€Œåç”¨æ£€æµ‹åº“è°ƒä¼˜å‚æ•°ï¼Œæœ€ååœ¨æ£€æµ‹åº“ä¸Šè¯„æµ‹ã€‚","text":"R-CNN / Fast R-CNN / Faster R-CNN RCNN = Region Proposal + CNN + Classify Fast RCNN = RCNN + ROI Pooling Faster RCNN = Fast RCNN + RPN R-CNN è®ºæ–‡ï¼šRich feature hierarchies for accurate object detection and semantic segmentation ä¸»è¦ç‰¹ç‚¹ï¼š é€Ÿåº¦ï¼š é‡‡ç”¨Selective Searchæ–¹æ³•é¢„å…ˆæå–ä¸€ç³»åˆ—è¾ƒå¯èƒ½æ˜¯ç‰©ä½“çš„å€™é€‰åŒºåŸŸï¼Œä¹‹åä»…åœ¨è¿™äº›å€™é€‰åŒºåŸŸä¸Šé‡‡ç”¨CNNæå–ç‰¹å¾ï¼Œè¿›è¡Œåˆ¤æ–­ï¼Œæ¯”å…ˆå‰çš„æ»‘åŠ¨çª—å£æ³•è¦å¥½ è®­ç»ƒé›†ï¼šä½¿ç”¨ä¸¤ä¸ªæ•°æ®åº“ï¼š ä¸€ä¸ªè¾ƒå¤§çš„è¯†åˆ«åº“ï¼ˆImageNet ILSVC 2012ï¼‰ï¼šæ ‡å®šæ¯å¼ å›¾ç‰‡ä¸­ç‰©ä½“çš„ç±»åˆ«ã€‚ä¸€åƒä¸‡å›¾åƒï¼Œ1000ç±»ã€‚ ä¸€ä¸ªè¾ƒå°çš„æ£€æµ‹åº“ï¼ˆPASCAL VOC 2007ï¼‰ï¼šæ ‡å®šæ¯å¼ å›¾ç‰‡ä¸­ï¼Œç‰©ä½“çš„ç±»åˆ«å’Œä½ç½®ï¼Œä¸€ä¸‡å›¾åƒï¼Œ20ç±»ã€‚ æœ¬æ–‡ä½¿ç”¨è¯†åˆ«åº“è¿›è¡Œæœ‰ç›‘ç£é¢„è®­ç»ƒå¾—åˆ°CNNï¼Œè€Œåç”¨æ£€æµ‹åº“è°ƒä¼˜å‚æ•°ï¼Œæœ€ååœ¨æ£€æµ‹åº“ä¸Šè¯„æµ‹ã€‚ ç®—æ³•æ­¥éª¤ï¼š ï¼ˆ1ï¼‰å€™é€‰åŒºåŸŸç”Ÿæˆï¼ˆ2ï¼‰CNNç‰¹å¾æå–ï¼ˆ3ï¼‰åˆ†ç±»ä¸è¾¹ç•Œå›å½’ å€™é€‰åŒºåŸŸç”Ÿæˆ(Extract Region Proposals) é‡‡ç”¨Selective Searchæ–¹æ³•æ¥è·å¾—çº¦2000ä¸ªå¤§å°å„ä¸ç›¸åŒçš„å€™é€‰æ¡†ã€‚ Selective Searchï¼šç”¨äºç›®æ ‡æ£€æµ‹çš„åŒºåŸŸæè®®ç®—æ³•ï¼Œå®ƒè®¡ç®—é€Ÿåº¦å¿«ï¼Œå…·æœ‰å¾ˆé«˜çš„å¬å›ç‡ï¼ŒåŸºäºé¢œè‰²ï¼Œçº¹ç†ï¼Œå¤§å°å’Œå½¢çŠ¶å…¼å®¹è®¡ç®—ç›¸ä¼¼åŒºåŸŸçš„åˆ†å±‚åˆ†ç»„ã€‚æœ‰ä¸‰ä¸ªä¼˜åŠ¿ï¼šæ•æ‰ä¸åŒå°ºåº¦(Capture All Scales)ã€å¤šæ ·åŒ–(Diversification)ã€å¿«é€Ÿè®¡ç®—(Fast to Compute)ã€‚æ ¸å¿ƒç®—æ³•æ˜¯Hierarchical Grouping Algorithmã€‚ Hierarchical Grouping Algorithm(å±‚æ¬¡åˆ†ç»„)ï¼š Step 1ï¼šä½¿ç”¨ä¸€ç§è¿‡åˆ†å‰²æ–¹æ³•å°†å›¾ç‰‡åˆ†å‰²ä¸ºå¾ˆå¤šå°åŒºåŸŸï¼Œç”ŸæˆåŒºåŸŸé›† ï¼Œä½¿ç”¨è´ªå¿ƒç®—æ³•å¯¹åŒºåŸŸè¿›è¡Œè¿­ä»£åˆ†ç»„ Step 2ï¼šè®¡ç®—æ‰€æœ‰é‚»è¿‘åŒºåŸŸä¹‹é—´çš„ç›¸ä¼¼åº¦ Step 3ï¼šæ‰¾å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„ä¸¤ä¸ªåŒºåŸŸï¼Œåˆå¹¶ä¸ºæ–°é›†(åˆå¹¶åŒºåŸŸ)ï¼Œæ·»åŠ è¿›R Step 4ï¼šä» ä¸­ç§»å‡ºæ‰€æœ‰ä¸Step 2ä¸­æœ‰å…³çš„å­é›† Step 5ï¼šè®¡ç®—æ–°é›†ä¸æ‰€æœ‰å­é›†çš„ç›¸ä¼¼åº¦ Step 6ï¼šè·³è‡³Step 2ï¼Œç›´è‡³ ä¸ºç©º(æ•´å¼ å›¾åƒåˆå¹¶æˆä¸€ä¸ªåŒºåŸŸ) è¯¥ç®—æ³•ä»¥è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼åˆ›å»ºä»è¾ƒå°çš„ç»†åˆ†segmentsåˆ°è¾ƒå¤§ç»†åˆ†segmentsçš„åŒºåŸŸææ¡ˆã€‚ åˆå¹¶è§„åˆ™(ç›¸ä¼¼åº¦è¡¡é‡)ï¼šç»¼åˆå¤šç§ä¿¡æ¯æ¥åˆ¤æ–­ï¼Œç›¸ä¼¼åº¦åº¦é‡å…¬å¼åˆ†ä¸ºå››ä¸ªå­å…¬å¼ï¼Œç§°ä¸ºäº’è¡¥ç›¸ä¼¼åº¦æµ‹é‡(Complementary Similarity Measures) ã€‚è¿™å››ä¸ªå­å…¬å¼çš„å€¼éƒ½è¢«å½’ä¸€åŒ–åˆ°åŒºé—´ [0, 1] å†…ã€‚ â‘ é¢œè‰²ç›¸ä¼¼åº¦(é¢œè‰²ç›´æ–¹å›¾) å°†æ¯ä¸ªregionçš„åƒç´ æŒ‰ç…§ä¸åŒé¢œè‰²é€šé“ç»Ÿè®¡æˆç›´æ–¹å›¾ï¼Œæ¯ä¸ªé¢œè‰²é€šé“çš„ç›´æ–¹å›¾ä¸º 25 bins (bins: å°†é¢œè‰²ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå°çš„é¢œè‰²åŒºé—´, å¯¹äº0~255, æ¯éš”9(255/25=9)ä¸ªæ•°å€¼ç»Ÿè®¡åƒç´ æ•°é‡)ï¼Œä¸‰ä¸ªé€šé“å…±å¾—åˆ°ä¸€ä¸ª75ç»´çš„ç›´æ–¹å›¾å‘é‡ ï¼Œå…¶ä¸­ n=75ã€‚ä¹‹åç”¨ èŒƒæ•°(ç»å¯¹å€¼ä¹‹å’Œ)å¯¹ç›´æ–¹å›¾è¿›è¡Œå½’ä¸€åŒ–ï¼Œç”±ç›´æ–¹å›¾è®¡ç®—ä¸¤ä¸ªåŒºåŸŸçš„é¢œè‰²ç›¸ä¼¼åº¦ï¼š å³è®¡ç®—ä¸¤ä¸ªåŒºåŸŸç›´æ–¹å›¾çš„äº¤é›†ã€‚åœ¨åˆå¹¶åŒºåŸŸçš„æ—¶å€™ï¼Œç›´æ–¹å›¾ä¹Ÿå¾ˆæ–¹ä¾¿è¿›è¡Œä¼ é€’ï¼Œå…¶ä¸­ è¡¨ç¤ºåŒºåŸŸé¢ç§¯ï¼š â‘¡çº¹ç†ç›¸ä¼¼åº¦(æ¢¯åº¦ç›´æ–¹å›¾) å¯¹æ¯ä¸€ä¸ªé¢œè‰²é€šé“ï¼Œåœ¨8ä¸ªæ–¹å‘ä¸Šæå–é«˜æ–¯å¯¼æ•°()ã€‚åœ¨æ¯ä¸ªé¢œè‰²é€šé“çš„æ¯ä¸ªæ–¹å‘ä¸Šï¼Œæå–ä¸€ä¸ªbinsä¸º10çš„ç›´æ–¹å›¾ï¼Œä»è€Œå¾—åˆ°æ¯ä¸ªåŒºåŸŸ çš„çº¹ç†ç›´æ–¹å›¾å‘é‡ ï¼Œå…¶ä¸­ ï¼ŒåŒæ ·ç”¨ èŒƒæ•°å½’ä¸€åŒ–åè®¡ç®—çº¹ç†ç›¸ä¼¼åº¦ï¼š â‘¢å°ºåº¦ç›¸ä¼¼åº¦(ä¿è¯åˆå¹¶æ“ä½œçš„å°ºåº¦å‡åŒ€ï¼Œå°½é‡è®©å°çš„åŒºåŸŸå…ˆåˆå¹¶) ç»™å°çš„åŒºåŸŸæ›´å¤šçš„æƒé‡ï¼Œå¼ä¸­ è¡¨ç¤ºå›¾åƒçš„å°ºå¯¸ï¼š â‘£å¡«å……ç›¸ä¼¼åº¦(Bounding Boxä¸­æ‰€å æ¯”ä¾‹å¤§çš„ï¼Œé‡åˆåº¦è¶Šé«˜ï¼Œä¿è¯åˆå¹¶åå½¢çŠ¶è§„åˆ™) éœ€è¦é¦–å…ˆå®šä¹‰ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ ï¼Œè¡¨ç¤ºåŒ…å« å’Œ çš„æœ€å°çš„ Bounding Boxï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š æœ€ç»ˆçš„ç›¸ä¼¼åº¦è¡¡é‡ç”±å››æ–¹é¢ç›¸åŠ è€Œäº§ç”Ÿï¼š å…¶ä¸­ çš„å–å€¼ä¸º 0/1ï¼Œè¡¨ç¤ºæŸä¸ªç›¸ä¼¼åº¦æ˜¯å¦è¢«é‡‡çº³ã€‚ 2000ä¸ªå€™é€‰æ¡†(region proposal)ä¸ºå¤§å°å„ä¸ç›¸åŒçš„çŸ©å½¢ï¼Œç„¶è€ŒCNNå¯¹è¾“å…¥å›¾ç‰‡çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œéœ€è¦è¿›è¡Œç¼©æ”¾å¤„ç†ã€‚åŸæ–‡å°è¯•äº†ä¸¤ç§å¤„ç†æ–¹æ³•ï¼š â‘  å„å‘å¼‚æ€§ç¼©æ”¾ï¼šå¿½ç•¥å›¾ç‰‡çš„é•¿å®½æ¯”ä¾‹åŠæ‰­æ›²ç¨‹åº¦ï¼Œå…¨éƒ¨ç¼©æ”¾åˆ° 227Ã—227 å¤§å° â‘¡ å„å‘åŒæ€§ç¼©æ”¾ï¼šæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨åŸå§‹å›¾ç‰‡ä¸­æŠŠbounding boxçš„è¾¹ç•Œè¿›è¡Œæ‰©å±•å»¶ä¼¸æˆæ­£æ–¹å½¢ï¼Œç„¶åå†è¿›è¡Œè£å‰ªã€‚å¦‚æœå·²ç»å»¶ä¼¸åˆ°äº†åŸå§‹å›¾ç‰‡çš„å¤–è¾¹ç•Œï¼Œåˆ™ç”¨bounding boxä¸­çš„é¢œè‰²å‡å€¼è¿›è¡Œå¡«å……ï¼›ç¬¬äºŒç§æ˜¯å…ˆæŠŠbounding boxå›¾ç‰‡è£å‰ªå‡ºæ¥ï¼Œç„¶åç”¨bounding boxä¸­çš„é¢œè‰²å‡å€¼å¡«å……æˆæ­£æ–¹å½¢ã€‚ æœ€ç»ˆåœ¨è®ºæ–‡ä¸­çš„å®éªŒç»“æœè¡¨æ˜å½“é‡‡ç”¨å„å‘å¼‚æ€§ç¼©æ”¾ã€padding=16(å¡«å……ä¸ºå»ºè®®æ¡†åƒç´ å¹³å‡å€¼)æ—¶çš„ç²¾åº¦æœ€é«˜ï¼Œèƒ½ä½¿mAPæå‡3%-5%ã€‚ CNNç‰¹å¾æå–(Compute CNN Features) 1) ç½‘ç»œç»“æ„è®¾è®¡é˜¶æ®µ å¯é€‰æ–¹æ¡ˆï¼šAlexNet å’Œ VGG16ï¼Œæµ‹è¯•åAlexNetç²¾åº¦58.5%ï¼ŒVGG16ç²¾åº¦ä¸º66%ã€‚ä½†VGG16è®¡ç®—é‡æ˜¯Alexnetçš„7å€ï¼Œæ•…ç”¨AlexNetä¸ºä¾‹ã€‚ Alexnetç‰¹å¾æå–éƒ¨åˆ†åŒ…å«äº†5ä¸ªconvã€2ä¸ªfcï¼Œåœ¨Alexnetä¸­p5å±‚ç¥ç»å…ƒä¸ªæ•°ä¸º9216ï¼Œ f6ã€f7çš„ç¥ç»å…ƒä¸ªæ•°éƒ½æ˜¯4096ï¼Œé€šè¿‡è¿™ä¸ªç½‘ç»œè®­ç»ƒå®Œæ¯•åï¼Œæœ€åæå–ç‰¹å¾æ¯ä¸ªè¾“å…¥å€™é€‰æ¡†å›¾ç‰‡éƒ½èƒ½å¾—åˆ°ä¸€ä¸ª4096ç»´çš„ç‰¹å¾å‘é‡ã€‚ 2) ç½‘ç»œæœ‰ç›‘ç£é¢„è®­ç»ƒé˜¶æ®µ æ•°æ®é›†ï¼šImageNet ILSVC2012ï¼ŒILSVRCæ ·æœ¬é›†ä¸Šä»…æœ‰å›¾åƒç±»åˆ«æ ‡ç­¾ï¼Œæ²¡æœ‰å›¾åƒç‰©ä½“ä½ç½®æ ‡æ³¨ã€‚ æœ‰ç›‘ç£é¢„è®­ç»ƒ(Supervised pre-training)ï¼šå³è¿ç§»å­¦ä¹ ï¼Œç›´æ¥ç”¨Alexnetçš„ç½‘ç»œï¼Œå‚æ•°ä¹Ÿç›´æ¥é‡‡ç”¨å®ƒçš„å‚æ•°ï¼Œä½œä¸ºåˆå§‹çš„å‚æ•°å€¼ï¼Œç½‘ç»œä¼˜åŒ–æ±‚è§£æ—¶é‡‡ç”¨SGDï¼Œlrä¸º0.001ï¼Œè¾“å…¥ä¸º227Ã—227çš„ILSVRCè®­ç»ƒé›†å›¾åƒï¼Œè¾“å‡ºæœ€åä¸€å±‚ä¸º4096ç»´ç‰¹å¾-&gt;1000ç±»çš„æ˜ å°„ï¼Œå…ˆè®­ç»ƒç½‘ç»œå‚æ•°ï¼Œç„¶åå†fine-tuningè®­ç»ƒã€‚ 3) fine-tuningé˜¶æ®µ æ•°æ®é›†ï¼šPASCAL VOC2007ï¼Œæ—¢æœ‰å›¾åƒä¸­ç‰©ä½“ç±»åˆ«æ ‡ç­¾ï¼Œä¹Ÿæœ‰å›¾åƒä¸­ç‰©ä½“ä½ç½®æ ‡ç­¾ é‡‡ç”¨è®­ç»ƒå¥½çš„AlexNetç½‘ç»œè¿›è¡ŒPASCAL VOC2007æ ·æœ¬é›†ä¸‹çš„å¾®è°ƒ(fine-tuning)ï¼šè¾“å…¥çš„å€™é€‰æ¡†æ˜¯ç”±Selective Searchç”Ÿæˆçš„å˜å½¢åçš„å›¾åƒï¼Œéœ€è¦æŠŠä¸Šé¢é¢„è®­ç»ƒé˜¶æ®µçš„CNNæ¨¡å‹çš„æœ€åä¸€å±‚ç»™æ›¿æ¢æ‰ï¼Œæ›¿æ¢æˆN+1ä¸ªè¾“å‡ºçš„ç¥ç»å…ƒ(èƒŒæ™¯ç±»+1) (20 + 1 = 21)ï¼Œç„¶åè¿™ä¸€å±‚ç›´æ¥é‡‡ç”¨å‚æ•°éšæœºåˆå§‹åŒ–çš„æ–¹æ³•ï¼Œå…¶å®ƒç½‘ç»œå±‚çš„å‚æ•°ä¸å˜ï¼›æ¥ç€å¼€å§‹ç»§ç»­SGDè®­ç»ƒï¼Œlråˆå§‹å€¼é€‰æ‹©0.001ï¼Œåœ¨æ¯æ¬¡è®­ç»ƒçš„æ—¶å€™ï¼Œbatch size=128ï¼Œå…¶ä¸­32ä¸ªæ­£æ ·æœ¬ã€96ä¸ªè´Ÿæ ·æœ¬(å› ä¸ºæ­£æ ·æœ¬å¤ªå°‘)ï¼š æ­£æ ·æœ¬ï¼šGround Truth+ä¸Ground Truthç›¸äº¤IoU&gt;0.5çš„å»ºè®®æ¡† (å› ä¸ºGTè¾ƒå°‘) è´Ÿæ ·æœ¬ï¼šä¸Ground Truthç›¸äº¤IoUâ‰¤0.5çš„å»ºè®®æ¡† æ€»ç»“ï¼šå°†CNNå½“æˆç‰¹å¾æå–å™¨ï¼Œpool5 å±‚å¾—åˆ°çš„ç‰¹å¾æ˜¯åŸºç¡€å…±æ€§ç‰¹å¾ï¼Œä» fc6 å’Œ fc7 ç­‰å…¨è¿æ¥å±‚ä¸­æ‰€å­¦ä¹ åˆ°çš„ç‰¹å¾æ˜¯é’ˆå¯¹ç‰¹å¾ä»»åŠ¡ç‰¹å®šæ ·æœ¬çš„ç‰¹å¾ã€‚ åˆ†ç±»å™¨åˆ†ç±»(Classify Regions) 1) SVMè®­ç»ƒ SVMæ˜¯äºŒåˆ†ç±»å™¨ï¼Œéœ€è¦ä¸ºæ¯ä¸ªç‰©ä½“ç±»(N=20)è®­ç»ƒå•ç‹¬çš„SVMåˆ†ç±»å™¨ï¼Œæ­¤å¤„åŒºåˆ†æ­£è´Ÿæ ·æœ¬çš„IoUé˜ˆå€¼ä¸º0.3ï¼Œä½œè€…æµ‹è¯•äº†(0, 0.1,â€¦, 0.5) å‘ç° 0.3 æ•ˆæœæœ€å¥½ï¼š æ­£æ ·æœ¬ï¼šGround Truth è´Ÿæ ·æœ¬ï¼šä¸Ground Truthç›¸äº¤IoUï¼œ0.3çš„å»ºè®®æ¡† ç”¨CNNæå– 2000 ä¸ªå€™é€‰æ¡†åï¼Œå¾—åˆ° 2000Ã—4096 çš„ç‰¹å¾å‘é‡çŸ©é˜µï¼Œç„¶åä¸SVMæƒå€¼çŸ©é˜µ 4096Ã—N ç‚¹ä¹˜(æ¯ä¸ª SVM åŒ…å«äº† 4096 ä¸ªæƒå€¼ w)ï¼Œå³å¯å¾—åˆ°ç»“æœã€‚ è®­ç»ƒé›†ä¸­æ­£æ ·æœ¬ä¸€èˆ¬æ¯”è¾ƒå°‘ï¼Œè€Œè´Ÿæ ·æœ¬å¾ˆå¤šï¼ŒSVMè®­ç»ƒå‡ºæ¥çš„æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œå¯ä»¥é€šè¿‡Hard negative miningæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šç¬¬ä¸€æ¬¡è®­ç»ƒçš„æ—¶å€™ä¼šæœ‰å¾ˆå¤šè´Ÿæ ·æœ¬åˆ†åˆ°æ­£æ ·æœ¬ä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ç§°ä¸ºhard negativeï¼ŒæŠŠè¿™äº›æ‹¿å‡ºæ¥ä½œä¸ºæœ‰ä»£è¡¨æ€§çš„è´Ÿæ ·æœ¬(ç±»ä¼¼äºé”™é¢˜é›†)é‡æ–°è¿›è¡Œè®­ç»ƒã€‚ Q1ï¼šCNNå¾®è°ƒé˜¶æ®µå’ŒSVMè®­ç»ƒé˜¶æ®µä¸ºä»€ä¹ˆæ­£è´Ÿæ ·æœ¬IoUé˜ˆå€¼ä¸åŒï¼Ÿ Aï¼šCNNå¯¹å°æ ·æœ¬å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œéœ€è¦å¤§é‡è®­ç»ƒæ•°æ®ï¼Œæ•…å¯¹IoUé™åˆ¶å®½æ¾ï¼›SVMæœºåˆ¶æ˜¯ç”±äºå…¶é€‚ç”¨äºå°æ ·æœ¬è®­ç»ƒï¼Œæ•…å¯¹æ ·æœ¬IoUé™åˆ¶ä¸¥æ ¼ã€‚ Q2ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥é‡‡ç”¨å¾®è°ƒåçš„AlexNet CNNç½‘ç»œæœ€åä¸€å±‚SoftMaxè¿›è¡Œ21åˆ†ç±»ï¼Ÿ Aï¼šå› ä¸ºå¾®è°ƒæ—¶å’Œè®­ç»ƒSVMæ—¶æ‰€é‡‡ç”¨çš„æ­£è´Ÿæ ·æœ¬é˜ˆå€¼ä¸åŒï¼Œå¾®è°ƒé˜¶æ®µæ­£æ ·æœ¬å®šä¹‰å¹¶ä¸å¼ºè°ƒç²¾å‡†çš„ä½ç½®ï¼Œè€ŒSVMæ­£æ ·æœ¬åªæœ‰Ground Truthï¼›å¹¶ä¸”å¾®è°ƒé˜¶æ®µçš„è´Ÿæ ·æœ¬æ˜¯éšæœºæŠ½æ ·çš„ï¼Œè€ŒSVMçš„è´Ÿæ ·æœ¬æ˜¯ç»è¿‡Hard negative miningæ–¹æ³•ç­›é€‰çš„ã€‚å®éªŒè¯æ˜SoftMaxä¼šé™ä½mAPã€‚ 2) è¾¹ç•Œæ¡†å›å½’(Bounding-box regression) è¾¹ç•Œæ¡†å›å½’(Bounding-box regression)ï¼šç”¨æ¥å¯¹ç®—æ³•æå–çš„é¢„æµ‹æ¡†(Region Proposal)è¿›è¡Œå¾®è°ƒï¼Œä½¿å…¶æ›´åŠ æ¥è¿‘äºç‰©ä½“çš„çœŸå®æ ‡æ³¨æ¡†(Ground Truth)ã€‚ è¾¹æ¡†ä¸€èˆ¬ç”¨å››ç»´å‘é‡ æ¥è¡¨ç¤ºï¼Œä»£è¡¨ä¸­å¿ƒç‚¹å’Œå®½é«˜ï¼Œç›®çš„æ˜¯å¯»æ‰¾ä¸€ç§å…³ç³»ä½¿è¾“å…¥çš„åŸå§‹è¾¹æ¡† ç»è¿‡æ˜ å°„å¾—åˆ°ä¸€ä¸ªè·ŸçœŸå®è¾¹æ¡† æ›´åŠ æ¥è¿‘çš„å›å½’è¾¹æ¡† ï¼Œå³ ç»™å®šï¼Œå¯»æ‰¾ä¸€ç§æ˜ å°„ ï¼Œä½¿å¾— æ€è·¯ä¸ºä½ç½®å¹³ç§»+å°ºåº¦æ”¾ç¼© ä¸‹å¼(1)(2)ä¸ºå¹³ç§»æ“ä½œï¼Œ(3)(4)ä¸ºå°ºåº¦æ”¾ç¼©æ“ä½œï¼Œè¾¹ç•Œæ¡†å›å½’å­¦ä¹ çš„æ­£æ˜¯ Â§ è¿™å››ä¸ªå˜æ¢ï¼Œæ”¾ç¼©æ—¶å–expæ˜¯å› ä¸ºç¼©æ”¾å€æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œåˆ©ç”¨expå°†å…¶è½¬æ¢æˆ&gt;=0çš„æ•°ï¼Œå³ä½¿ä¸ºè´Ÿï¼Œé‚£ä¹ˆç»è¿‡expä¹Ÿä¼šå˜æˆä¸€ä¸ªå¾ˆå°çš„æ•°ã€‚ä¸‹ä¸€æ­¥å³è®¾è®¡ç®—æ³•å¾—åˆ°è¿™å››ä¸ªæ˜ å°„ã€‚ åªæœ‰å½“è¾“å…¥çš„ Region Proposal ä¸ Ground Truth ç›¸å·®è¾ƒå°æ—¶ï¼Œå¯ä»¥è®¤ä¸ºè¿™ç§å˜æ¢æ˜¯ä¸€ç§çº¿æ€§å˜æ¢ï¼ˆæŒ‰ç…§RCNNè®ºæ–‡çš„è¯´æ³•ï¼ŒIoUå¤§äº0.6æ—¶ï¼Œè¾¹ç•Œæ¡†å›å½’å¯è§†ä¸ºçº¿å‹å˜æ¢ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨çº¿æ€§å›å½’æ¥å»ºæ¨¡å¯¹è¾¹æ¡†è¿›è¡Œå¾®è°ƒã€‚ çº¿æ€§å›å½’ï¼šç»™å®šè¾“å…¥çš„ç‰¹å¾å‘é‡ , å­¦ä¹ ä¸€ç»„å‚æ•° , ä½¿å¾—ç»è¿‡çº¿æ€§å›å½’åçš„å€¼è·ŸçœŸå®å€¼ (GT) éå¸¸æ¥è¿‘ï¼Œå³ ã€‚ Inputï¼šRegion Proposal å³ ï¼Œä½†ä¸æ˜¯è¿™å››ä¸ªæ•°å€¼ã€‚çœŸæ­£çš„è¾“å…¥æ˜¯è¿™ä¸ªçª—å£å¯¹åº”çš„ CNN ç‰¹å¾ï¼Œä¹Ÿå°±æ˜¯ pool5 æå–çš„ç‰¹å¾å‘é‡ã€‚ï¼ˆæ³¨ï¼šè®­ç»ƒé˜¶æ®µè¾“å…¥è¿˜åº”åŒ…æ‹¬ GTï¼Œå³ä¸‹é¢æåˆ°çš„ ï¼‰ Outputï¼šéœ€è¦è¿›è¡Œçš„å¹³ç§»å˜æ¢å’Œå°ºåº¦ç¼©æ”¾ Â§ å…¶ä¸­è¾¹æ¡†ä¸GTçš„å¹³ç§»é‡å’Œå°ºåº¦å› å­å¦‚ä¸‹ï¼Œè¦ä½¿ç”¨ç›¸å¯¹åæ ‡å·®ï¼Œå®½é«˜æ¯”å–å¯¹æ•°ï¼Œæ¥æ»¡è¶³å¼(1)~(4)ã€‚ ç›®æ ‡å‡½æ•°å¯ä»¥è¡¨ç¤ºä¸º $d_{}Â§=w_{}^T\\phi_5Â§ï¼Œå…¶ä¸­\\phi_5Â§æ˜¯è¾“å…¥çš„ç‰¹å¾å‘é‡ï¼Œw_{}æ˜¯è¦å­¦ä¹ çš„å‚æ•°ï¼Œd_{}Â§ä¸ºé¢„æµ‹å€¼ï¼Œè¦è®©å…¶ä¸çœŸå®å€¼t_{}å·®è·æœ€å°ï¼ŒæŸå¤±å‡½æ•°ä¸ºLoss=\\sum_i^N(t_{}^i-\\hat{w}_{*}^T\\phi_5(P^i))^2$ï¼Œ å‡½æ•°ä¼˜åŒ–ç›®æ ‡ä¸ºï¼š åˆ©ç”¨æ¢¯åº¦ä¸‹é™æ³•æˆ–è€…æœ€å°äºŒä¹˜æ³•å°±å¯ä»¥å¾—åˆ° ã€‚ æµ‹è¯• è¾“å…¥ä¸€å¼ å¤šç›®æ ‡å›¾åƒï¼Œé‡‡ç”¨Selective Searchç®—æ³•æå–çº¦2000ä¸ªregion proposalï¼›å…ˆåœ¨æ¯ä¸ªå»ºè®®æ¡†å‘¨å›´åŠ ä¸Š16ä¸ªåƒç´ å€¼ä¸ºå»ºè®®æ¡†åƒç´ å¹³å‡å€¼çš„paddingè¿›è¡Œå„å‘å¼‚æ€§ç¼©æ”¾ï¼Œå½’ä¸€åŒ–åˆ°227Ã—227ï¼Œåˆ°CNNä¸­æ­£å‘ä¼ æ’­ï¼Œå°†æœ€åä¸€å±‚å¾—åˆ°çš„ç‰¹å¾æå–å‡ºæ¥ã€‚ å¾—åˆ°2000ä¸ªå»ºè®®æ¡†çš„CNNç‰¹å¾ç»„åˆæˆ2000Ã—4096ç»´çŸ©é˜µï¼Œä¸20ä¸ªSVMç»„æˆçš„æƒå€¼çŸ©é˜µ4096Ã—20ç›¸ä¹˜ï¼Œè·å¾—2000Ã—20ç»´çŸ©é˜µè¡¨ç¤ºæ¯ä¸ªå»ºè®®æ¡†æ˜¯æŸä¸ªç‰©ä½“ç±»åˆ«çš„å¾—åˆ†ï¼› åˆ†åˆ«å¯¹ä¸Šè¿°2000Ã—20ç»´çŸ©é˜µä¸­æ¯ä¸€åˆ—å³æ¯ä¸€ç±»è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶(NMS)å‰”é™¤é‡å å»ºè®®æ¡†ï¼Œå¾—åˆ°è¯¥åˆ—å³è¯¥ç±»ä¸­å¾—åˆ†æœ€é«˜çš„ä¸€äº›å»ºè®®æ¡†ï¼›åˆ†åˆ«ç”¨20ä¸ªå›å½’å™¨å¯¹ä¸Šè¿°20ä¸ªç±»åˆ«ä¸­å‰©ä½™çš„å»ºè®®æ¡†è¿›è¡Œå›å½’æ“ä½œï¼Œæœ€ç»ˆå¾—åˆ°æ¯ä¸ªç±»åˆ«çš„ä¿®æ­£åçš„å¾—åˆ†æœ€é«˜çš„bounding boxã€‚ NMSæ“ä½œè¿‡ç¨‹ï¼š IoU=(Aâˆ©B)/(AâˆªB) â‘  å¯¹2000Ã—20ç»´çŸ©é˜µä¸­æ¯åˆ—æŒ‰ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼› â‘¡ ä»æ¯åˆ—æœ€å¤§çš„å¾—åˆ†å»ºè®®æ¡†å¼€å§‹ï¼Œåˆ†åˆ«ä¸è¯¥åˆ—åé¢çš„å¾—åˆ†å»ºè®®æ¡†è¿›è¡ŒIoUè®¡ç®—ï¼Œè‹¥IoU&gt;é˜ˆå€¼ï¼Œåˆ™å‰”é™¤å¾—åˆ†è¾ƒå°çš„å»ºè®®æ¡†ï¼Œå¦åˆ™è®¤ä¸ºå›¾åƒä¸­å­˜åœ¨å¤šä¸ªåŒä¸€ç±»ç‰©ä½“ï¼› â‘¢ ä»æ¯åˆ—æ¬¡å¤§çš„å¾—åˆ†å»ºè®®æ¡†å¼€å§‹ï¼Œé‡å¤æ­¥éª¤â‘¡ï¼› â‘£ é‡å¤æ­¥éª¤â‘¢ç›´åˆ°éå†å®Œè¯¥åˆ—æ‰€æœ‰å»ºè®®æ¡†ï¼› â‘¤ éå†å®Œ2000Ã—20ç»´çŸ©é˜µæ‰€æœ‰åˆ—ï¼Œå³æ‰€æœ‰ç‰©ä½“ç§ç±»éƒ½åšä¸€ééæå¤§å€¼æŠ‘åˆ¶ï¼› â‘¥ æœ€åå‰”é™¤å„ä¸ªç±»åˆ«ä¸­å‰©ä½™å»ºè®®æ¡†å¾—åˆ†å°‘äºè¯¥ç±»åˆ«é˜ˆå€¼çš„å»ºè®®æ¡†ã€‚ è¯„ä¼° 1) å®éªŒç»“æœ PASCAL VOC 2010æµ‹è¯•é›†ä¸Šå®ç°äº†53.7%çš„mAPï¼› PASCAL VOC 2012æµ‹è¯•é›†ä¸Šå®ç°äº†53.3%çš„mAPï¼› è®¡ç®—Region Proposalså’ŒFeatureså¹³å‡æ‰€èŠ±æ—¶é—´ï¼š13s/image on a GPUï¼›53s/image on a CPUã€‚ 2) ä¼˜ç‚¹ DLç›®æ ‡æ£€æµ‹çš„å¼€å±±ä¹‹ä½œ 3) ç¼ºç‚¹ æ¯å¼ å›¾ç‰‡äº§ç”Ÿçš„2000ä¸ª Region Proposal éƒ½éœ€è¦ç»è¿‡å˜å½¢å¤„ç†åç”±CNNå‰å‘ç½‘ç»œè®¡ç®—ä¸€æ¬¡ç‰¹å¾ï¼ŒåŒ…å«å¯¹ä¸€å¼ å›¾ç‰‡ä¸­å¤šä¸ªé‡å¤åŒºåŸŸçš„é‡å¤è®¡ç®—ï¼Œæµªè´¹æ—¶é—´å’Œç©ºé—´èµ„æºï¼› è®¡ç®—2000ä¸ªå€™é€‰æ¡†çš„ç‰¹å¾æ—¶ï¼Œåœ¨ç¡¬ç›˜ä¸Šä¿ç•™äº†æ¯ä¸ªå€™é€‰æ¡†çš„Pool5ç‰¹å¾ï¼Œå ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼› ç”±äºé‡‡ç”¨RoI-centric sampling (ä»æ‰€æœ‰å›¾ç‰‡çš„æ‰€æœ‰å»ºè®®æ¡†ä¸­å‡åŒ€å–æ ·) è¿›è¡Œè®­ç»ƒï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½éœ€è¦è®¡ç®—ä¸åŒå›¾ç‰‡ä¸­ä¸åŒå»ºè®®æ¡†çš„CNNç‰¹å¾ï¼Œæ— æ³•å…±äº«åŒä¸€å¼ å›¾çš„CNNç‰¹å¾ï¼Œå¯¼è‡´è®­ç»ƒé€Ÿåº¦å¾ˆæ…¢ï¼› æµ‹è¯•è¿‡ç¨‹å¤æ‚ï¼Œé¦–å…ˆè¦æå–å€™é€‰æ¡†ï¼Œç„¶åé€šè¿‡CNNæå–æ¯ä¸ªå€™é€‰æ¡†çš„ç‰¹å¾ï¼Œå†ä½¿ç”¨SVMåˆ†ç±»å’Œéæå¤§å€¼æŠ‘åˆ¶ï¼Œæœ€åç”¨bounding-boxå›å½’æ‰èƒ½å¾—åˆ°å›¾ç‰‡ä¸­ç‰©ä½“çš„ç§ç±»åŠä½ç½®ä¿¡æ¯ã€‚åŒæ ·è®­ç»ƒè¿‡ç¨‹ä¹Ÿå¾ˆå¤æ‚ï¼Œé€šè¿‡ILSVRC 2012ä¸Šé¢„è®­ç»ƒçš„AlexNetï¼Œåœ¨PASCAL VOC2007ä¸Šå¾®è°ƒCNNï¼Œè®­ç»ƒ20ç±»SVMåˆ†ç±»å™¨å’Œ20ç±»bounding-boxå›å½’å™¨ï¼Œè¿™äº›ä¸è¿ç»­è¿‡ç¨‹å¿…ç„¶æ¶‰åŠåˆ°ç‰¹å¾å­˜å‚¨ã€å ç”¨å¤§é‡ç£ç›˜ç©ºé—´ã€‚ refï¼š https://zhuanlan.zhihu.com/p/23006190 https://zhuanlan.zhihu.com/p/482677619 https://blog.csdn.net/weixin_39875161/article/details/90761383 https://blog.csdn.net/weixin_43694096/article/details/121610856 https://zhuanlan.zhihu.com/p/39927488 https://blog.csdn.net/weixin_42782150/article/details/110522380 â€‹ Fast R-CNN è®ºæ–‡ï¼šFast R-CNN R-CNNçš„æ€§èƒ½ç“¶é¢ˆä¸»è¦é›†ä¸­åœ¨åŒºåŸŸæè®® (region proposal / RoI) ä¸Šï¼Œéœ€è¦å¯¹æ¯ä¸ªæè®®åŒºåŸŸç‹¬ç«‹æŠ½å–ç‰¹å¾ï¼Œä¸¤å¤§é—®é¢˜ï¼š RoIçš„è·å–éº»çƒ¦(Selective Search)ï¼Œæ­£ç¡®ç‡ä¸é«˜ RoIçš„ç‰¹å¾æå–å¤ªè€—æ—¶(å…ˆåˆ‡å›¾ç‰‡ï¼Œå†CNNæå–ç‰¹å¾ï¼Œæ•°æ®æ— æ³•å…±äº«)ï¼Œä¸­é—´æ¶‰åŠå¤§é‡ç¡¬ç›˜è¯»å†™ï¼Œè€—æ—¶è€—ç©ºé—´ Fast R-CNNè§£å†³äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒFaster R-CNNè§£å†³äº†ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚ ç½‘ç»œç»“æ„ï¼š æœ€å¼€å§‹ä¾ç„¶æ˜¯åœ¨ImageNetæ•°æ®é›†ä¸Šè®­ç»ƒä¸€ä¸ª1000ç±»çš„åˆ†ç±»ç½‘ç»œï¼Œéšåç›¸å¯¹äºR-CNNä¸»è¦æœ‰ä»¥ä¸‹æ”¹å˜ï¼š è¾“å…¥ï¼šæ•´å¼ å›¾ç‰‡å’Œä¸€å †Region Proposal(Selective Search) CNNå‰é¢çš„conv+maxpoolåªç”¨æ¥æå–è¾“å…¥æ•´å¼ å›¾ç‰‡çš„ç‰¹å¾å›¾ï¼Œä¸å†å¯¹æ¯ä¸ªæè®®æ¡†åšé‡å¤è®¡ç®— å°†æœ€åçš„ä¸€ä¸ªæœ€å¤§æ± åŒ–å±‚æ¢æˆROIæ± åŒ–å±‚(RoI, Region of Interest)ï¼Œfcå±‚è¦æ±‚è¾“å…¥å°ºå¯¸ä¸€æ ·ï¼Œå°†region proposalè½¬åŒ–ä¸ºç›¸åŒå¤§å° å°†æœ€åçš„ä¸€ä¸ªfcå±‚å’Œåé¢çš„softmax1000æ¢æˆä¸¤ä¸ªå¹¶è¡Œå±‚ï¼Œä¸€ä¸ªæ˜¯fc+softmaxè®¡ç®—21ç±»æ¦‚ç‡(ä¸ç”¨SVMäº†)ï¼Œä¸€ä¸ªæ˜¯fc+è¾¹æ¡†å›å½’ï¼Œé¢„æµ‹æ¯ä¸ªç±»çš„è¾¹æ¡†ã€‚ ä¸ºäº†æé«˜è®¡ç®—é€Ÿåº¦ï¼Œç½‘ç»œæœ€åä½¿ç”¨SVDä»£æ›¿å…¨è¿æ¥å±‚ RoI pooling RoIæŒ‡çš„æ˜¯Selective Searchåå¾—åˆ°çš„å€™é€‰æ¡†åœ¨ç‰¹å¾å›¾ä¸Šçš„æ˜ å°„ã€‚ç”¨å››å…ƒç»„å®šä¹‰ï¼šï¼Œåˆ†åˆ«ä»£è¡¨å·¦ä¸Šé¡¶ç‚¹åæ ‡ã€é«˜å®½ã€‚ RoIçš„å¤§å°æ˜¯å„ä¸ç›¸åŒçš„ï¼Œæ•…éœ€è¦è¿›è¡Œå¤„ç†ï¼ˆé€šå¸¸æ˜¯é™ç»´ï¼‰æ‰èƒ½è¾“å…¥åˆ°fcä¸­ã€‚ RoI pooling å’Œ ä¼ ç»Ÿ pooling æœ‰æ‰€ä¸åŒï¼š ä¼ ç»Ÿpoolingé€šè¿‡è®¾ç½®æ± åŒ–çª—å£å®½åº¦width, paddingå’Œstrideæ¥é—´æ¥æ§åˆ¶è¾“å‡ºå½¢çŠ¶ RoI pooling é€šè¿‡è®¾ç½®è¶…å‚æ•°ç›´æ¥æ§åˆ¶è¾“å‡ºå½¢çŠ¶ exï¼šæŒ‡å®šæ¯ä¸ªåŒºåŸŸè¾“å‡ºçš„é«˜å®½ä¸º å’Œ ï¼ŒæŸä¸€å…´è¶£çª—å£çš„é«˜å®½åˆ†åˆ«ä¸º å’Œ ï¼Œè¯¥çª—å£ä¼šè¢«åˆ’åˆ†ä¸ºå½¢çŠ¶ä¸º çš„å­ç½‘æ ¼ï¼Œæ¯ä¸ªå­çª—å£çš„å¤§å°çº¦ä¸º ä»»ä¸€å­ç½‘æ ¼çš„é«˜å’Œå®½è¦å–æ•´(Roi poolingçš„æ¯ä¸ªç½‘æ ¼å¤§å°ä¸ä¸€å®šç›¸ç­‰)ï¼Œæ¯ä¸ªå­ç½‘æ ¼åšmax poolingä½œä¸ºè¯¥å­ç½‘æ ¼çš„è¾“å‡ºã€‚ å¯¹äºFast R-CNNï¼Œè¶…å‚æ•°å– ï¼Œå³åˆ’åˆ†æˆ 7Ã—7 çš„ç½‘æ ¼ï¼Œéœ€è¦å’Œåé¢fcå±‚çš„è¾“å…¥å°ºåº¦ç›¸åŒ¹é…ã€‚ è¿›é˜¶ç‰ˆæœ¬ï¼šRoI Align ROI Poolingåœ¨æ± åŒ–çš„æ—¶å€™éœ€è¦å¯¹æµ®ç‚¹æ•°è¾¹ç•ŒintåŒ–ï¼Œè¿™æ ·ä¼šå­˜åœ¨ä¸€å®šçš„åå·®ã€‚åœ¨ç‰¹å¾å›¾æ¯”åŸå§‹å›¾ç‰‡å°ºå¯¸å°çš„æƒ…å†µä¸‹ï¼Œä¸€ç‚¹ç‚¹çš„ç²¾åº¦æŸå¤±æ˜ å°„åˆ°åŸå§‹å›¾ç‰‡ä¸Šå°±å­˜åœ¨å¾ˆå¤§çš„åƒç´ ç‚¹å·®åˆ«ã€‚è€ŒROI Alignå–æ¶ˆäº†å–æ•´çš„æ“ä½œï¼Œä½¿ç”¨åŒçº¿æ€§å†…æ’çš„æ–¹æ³•è·å¾—åæ ‡æœªæµ®ç‚¹æ•°çš„åƒç´ ç‚¹ä¸Šçš„å›¾åƒæ•°å€¼ï¼Œå¯¹äºå°ç›®æ ‡æ›´å¥½ã€‚ å¤šä»»åŠ¡æŸå¤± æ¯ä¸ªRoIçš„è¾“å‡ºï¼š softmaxå¾—å‡ºçš„ï¼Œ ç»´æ¦‚ç‡ ä¸ªç‰©ä½“ç±»çš„åæ ‡(å°ºåº¦ä¸å˜çš„å¹³ç§»å’Œlogç©ºé—´çš„é«˜/å®½ä½ç§») ä¸è¾“å‡ºå¯¹åº”çš„GTï¼š æ¦‚ç‡ å¯¹åº”çš„æ ‡ç­¾ç±»åˆ« åæ ‡ å¯¹åº”å›å½’ç›®æ ‡ ç”±æ­¤å¾—å‡ºå¤šä»»åŠ¡çš„æŸå¤±å‡½æ•°ï¼š æ‹†å¼€æ¥è®²ï¼š ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œé¦–å…ˆæ˜¯softmaxåˆ†ç±»å™¨çš„è´Ÿå¯¹æ•°æŸå¤± å…¶æ¬¡æ˜¯å®šä½æŸå¤± ï¼ŒæŸå¤±å‡½æ•°é‡‡ç”¨ smooth L1 æŸå¤±ï¼Œå¯¹å››ä¸ªåæ ‡åˆ†åˆ«è¿›è¡Œ smooth L1 ç„¶åç›¸åŠ ã€‚ SVDåŠ é€Ÿ selective searchç®—æ³•æå–çš„å»ºè®®æ¡†æ¯”è¾ƒå¤šï¼Œå‡ ä¹æœ‰ä¸€åŠçš„å‰å‘è®¡ç®—æ—¶é—´è¢«èŠ±è´¹äºå…¨è¿æ¥å±‚ï¼ŒFast R-CNNé‡‡ç”¨SVD(å¥‡å¼‚å€¼åˆ†è§£)åŠ é€Ÿå…¨è¿æ¥å±‚è®¡ç®—ã€‚ SVDåˆ†è§£ï¼š ç‰©ä½“åˆ†ç±»å’Œçª—å£å›å½’éƒ½æ˜¯é€šè¿‡å…¨è¿æ¥å±‚å®ç°çš„ï¼Œå‡è®¾å…¨è¿æ¥å±‚è¾“å…¥æ•°æ®ä¸º ï¼Œè¾“å‡ºæ•°æ®ä¸º ï¼Œå…¨è¿æ¥å±‚å‚æ•°ä¸º ï¼Œå°ºå¯¸ä¸º ï¼Œé‚£ä¹ˆè¯¥å±‚å…¨è¿æ¥è®¡ç®—ä¸º: ï¼Œè®¡ç®—å¤æ‚åº¦ä¸º è‹¥å°† è¿›è¡ŒSVDåˆ†è§£ï¼Œå¹¶ç”¨å‰ ä¸ªç‰¹å¾å€¼è¿‘ä¼¼ä»£æ›¿ï¼Œå³ï¼š é‚£ä¹ˆåŸæ¥çš„å‰å‘ä¼ æ’­åˆ†è§£æˆä¸¤æ­¥ï¼š è®¡ç®—å¤æ‚åº¦ä¸º ï¼Œè‹¥ ï¼Œåˆ™è¿™ç§åˆ†è§£ä¼šå¤§å¤§å‡å°‘è®¡ç®—é‡ã€‚ åœ¨å®ç°æ—¶ï¼Œç›¸å½“äºæŠŠä¸€ä¸ªå…¨è¿æ¥å±‚æ‹†åˆ†ä¸ºä¸¤ä¸ªå…¨è¿æ¥å±‚ï¼Œç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚ä¸å«åç½®ï¼Œç¬¬äºŒä¸ªå…¨è¿æ¥å±‚å«åç½®ï¼›å®éªŒè¡¨æ˜ï¼ŒSVDåˆ†è§£å…¨è¿æ¥å±‚èƒ½ä½¿mAPåªä¸‹é™0.3%çš„æƒ…å†µä¸‹æå‡30%çš„é€Ÿåº¦ï¼ŒåŒæ—¶è¯¥æ–¹æ³•ä¹Ÿä¸å¿…å†æ‰§è¡Œé¢å¤–çš„å¾®è°ƒæ“ä½œã€‚ è®­ç»ƒ é¦–å…ˆç”¨ImageNet ILSVRCæ•°æ®é›†å¯¹VGG16è¿›è¡Œæœ‰ç›‘ç£çš„åˆ†ç±»é¢„è®­ç»ƒï¼Œéšååœ¨PASCAL VOCæ ·æœ¬ä¸Šè¿›è¡Œå¾®è°ƒè®­ç»ƒã€‚ å¾®è°ƒå‰ï¼Œæœ‰ä¸‰æ­¥è½¬åŒ–ï¼š RoIæ± åŒ–å±‚å–ä»£æœ‰ç›‘ç£é¢„è®­ç»ƒåçš„VGG-16ç½‘ç»œæœ€åä¸€å±‚æ± åŒ–å±‚ ä¸¤ä¸ªå¹¶è¡Œfcå–ä»£VGG-16ç½‘ç»œçš„æœ€åä¸€å±‚fcå’Œsoftmaxå±‚ï¼Œä¸€ä¸ªæ¥softmax21ç±»ï¼Œä¸€ä¸ªæ¥bbox regression ç½‘ç»œç”±åŸæ¥çš„å•è¾“å…¥(ä¸€ç³»åˆ—å›¾åƒ)å˜ä¸ºåŒè¾“å…¥(ä¸€ç³»åˆ—å›¾åƒå’Œè¿™äº›å›¾åƒä¸­çš„ä¸€ç³»åˆ—region proposal) è®­ç»ƒæ—¶ï¼Œä¸ºäº†æé«˜è®­ç»ƒé€Ÿåº¦ï¼Œé‡‡å–äº†å°æ‰¹é‡æ¢¯åº¦ä¸‹é™çš„æ–¹å¼ï¼šæ¯ä¸ªmini-batchåŒ…å«2å¼ å›¾åƒï¼Œå¯¹å®ƒä»¬è¿›è¡ŒSSåŒºåŸŸæœç´¢ç®—æ³•åï¼Œé‡‡æ ·å‡º128ä¸ªregion proposal(ROI)ï¼Œå³æ¯å¼ å›¾åƒæœ‰64ä¸ªROIã€‚çº¦25%ä½œä¸ºæ­£æ ·æœ¬ï¼Œæ­£æ ·æœ¬å’Œground truthçš„IOUå€¼éƒ½å¤§äº0.5ï¼›å‰©ä¸‹çš„75%ä½œä¸ºè´Ÿæ ·æœ¬ã€‚ ç‰¹å¾æ¡†ç»§ç»­å‘ä¸‹è®¡ç®—ï¼Œè¿›å…¥ä¸¤ä¸ªå¹¶è¡Œå±‚è®¡ç®—æŸå¤±å‡½æ•°ï¼Œéšååå‘ä¼ æ’­æ›´æ–°å‚æ•°ã€‚ æµ‹è¯• æ¯ä¸ªè¾“å…¥å›¾åƒç»è¿‡SSåå¾—åˆ°2000ä¸ªå€™é€‰åŒºåŸŸROIï¼Œç»è¿‡ç½‘ç»œåè¾“å‡ºæ¯ä¸€ä¸ªROIçš„åˆ†ç±»ç»“æœï¼Œæ ¹æ®åˆ†ç±»é˜ˆå€¼ç•™ä¸‹æœ‰æ•ˆROIï¼Œå¹¶ç»“åˆbboxå›å½’é¢„æµ‹è°ƒæ•´é¢„æµ‹æ¡†ã€‚æœ€åå†ç»è¿‡NMSï¼Œå»é™¤é‡å ç°è±¡ï¼Œç•™ä¸‹æœ€ç»ˆçš„æ£€æµ‹æ¡†ã€‚ è¯„ä¼° PASCAL VOC 2010æµ‹è¯•é›†ä¸Šå®ç°äº†70.0%çš„mAPï¼› PASCAL VOC 2012æµ‹è¯•é›†ä¸Šå®ç°äº†68.4%çš„mAPï¼› ä¼˜ç‚¹ï¼šç»„åˆäº†classificationå’Œregressionï¼Œåšæˆsingle Networkï¼Œå®ç°äº†ç«¯åˆ°ç«¯çš„è®­ç»ƒã€‚æŠ›å¼ƒäº†å¤šä¸ªSVMåˆ†ç±»å™¨å’Œbounding boxå›å½’å™¨çš„åšæ³•ï¼Œä¸€èµ·è¾“å‡ºbboxå’Œlabel, å¾ˆå¤§ç¨‹åº¦ä¸Šæå‡äº†åŸå§‹RCNNçš„é€Ÿåº¦ ç¼ºç‚¹ï¼šä¸»è¦åœ¨äºregion proposalçš„æå–ä½¿ç”¨selective searchï¼Œæ¶ˆè€—è¾ƒå¤šæ—¶é—´(2~3s) refï¼š https://zhuanlan.zhihu.com/p/79054417 https://blog.csdn.net/gentelyang/article/details/80469553 https://blog.csdn.net/weixin_43702653/article/details/124002054 http://t.zoukankan.com/leokale-zz-p-11360948.html Faster R-CNN è®ºæ–‡ï¼šFaster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks Faster RCNNå°†ç‰¹å¾æŠ½å–(feature extraction)ï¼Œproposalæå–ï¼Œbounding box regression(rect refine)ï¼Œclassificationéƒ½æ•´åˆåœ¨äº†ä¸€ä¸ªç½‘ç»œä¸­ï¼Œä½¿å¾—ç»¼åˆæ€§èƒ½æœ‰è¾ƒå¤§æé«˜ï¼Œæ£€æµ‹é€Ÿåº¦æå‡æ˜æ˜¾ã€‚ä¸ Fast RCNNçš„åŒºåˆ«ä¸»è¦æ˜¯å¼•å…¥äº†åŒºåŸŸç”Ÿæˆç½‘ç»œRPNå€™é€‰æ¡†æå–æ¨¡å—ã€‚ ç½‘ç»œç»“æ„ï¼š Conv layersï¼šå…ˆä½¿ç”¨ä¸€ç»„åŸºç¡€çš„conv+relu+poolingå±‚æå–imageçš„feature mapsã€‚è¯¥feature mapsè¢«å…±äº«ç”¨äºåç»­RPNå±‚å’Œfcå±‚ã€‚ Region Proposal Networks(RPN)ï¼šç”¨äºç”Ÿæˆregion proposalsã€‚è¯¥å±‚é€šè¿‡softmaxåˆ¤æ–­anchorså±äºpositiveæˆ–è€…negativeï¼Œå†åˆ©ç”¨bounding box regressionä¿®æ­£anchorsè·å¾—ç²¾ç¡®çš„proposalsã€‚ Roi Poolingï¼šæ”¶é›†è¾“å…¥çš„feature mapså’Œproposalsï¼Œç»¼åˆä¿¡æ¯åæå–proposal feature mapsï¼Œé€å…¥åç»­å…¨è¿æ¥å±‚åˆ¤å®šç›®æ ‡ç±»åˆ«ã€‚ Classificationï¼šåˆ©ç”¨proposal feature mapsè®¡ç®—proposalçš„ç±»åˆ«ï¼ŒåŒæ—¶å†æ¬¡bounding box regressionè·å¾—æ£€æµ‹æ¡†æœ€ç»ˆçš„ç²¾ç¡®ä½ç½®ã€‚ ä¸‹å›¾æµç¨‹ä»¥VGG16ä½œä¸ºbackboneï¼š å¯¹äºä»»æ„å¤§å° çš„å›¾åƒï¼Œé¦–å…ˆç¼©æ”¾è‡³å›ºå®šå¤§å° ï¼Œé€å…¥ç½‘ç»œçš„Conv layers(13conv+13relu+4pooling)ï¼Œç‰¹å¾å›¾ä¸‹é‡‡æ ·å››æ¬¡ï¼Œå˜ä¸º ï¼Œæå–feature mapï¼› RPNç½‘ç»œé¦–å…ˆé€šè¿‡ 3Ã—3 å·ç§¯ï¼Œå†åˆ†åˆ«ç”Ÿæˆpositive anchorså’Œå¯¹åº”bounding box regressionåç§»é‡ï¼Œç„¶åè®¡ç®—å‡ºproposalsï¼› Roi Poolingå±‚åˆ™åˆ©ç”¨proposalsä»feature mapsä¸­æå–proposal featureé€å…¥åç»­å…¨è¿æ¥å’Œsoftmaxç½‘ç»œä½œclassificationã€‚ Region Proposal Networks(RPN) Faster RCNN æŠ›å¼ƒäº†SSæ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨RPNç”Ÿæˆæ£€æµ‹æ¡†ï¼Œæå¤§æå‡æ£€æµ‹æ¡†çš„ç”Ÿæˆé€Ÿåº¦ã€‚ anchorsï¼šéšæœºç”Ÿæˆçš„ä¸€äº›çŸ©å½¢æ¡†ï¼Œä¸‰ç§å½¢çŠ¶ï¼Œä¸€èˆ¬ ï¼Œanchorçš„å¤§å°ä¸»è¦æ ¹æ®æ£€æµ‹å›¾åƒçš„å¤§å°ç¡®å®šï¼Œæ ¹æ®ç®—æ³•ç”Ÿæˆï¼Œä¸»è¦ä¸ºäº†anchorsèƒ½å¤Ÿè¦†ç›–å¤šå°ºåº¦ã€‚ éå†Conv layersè®¡ç®—è·å¾—çš„feature mapsï¼Œä¸ºæ¯ä¸€ä¸ªç‚¹éƒ½é…å¤‡è¿™9ç§anchorsä½œä¸ºåˆå§‹çš„æ£€æµ‹æ¡†ï¼Œå³å…±æœ‰ ä¸ª anchorã€‚ å‡è®¾åœ¨conv5 feature mapä¸­æ¯ä¸ªç‚¹ä¸Šæœ‰ ä¸ªanchorï¼ˆé»˜è®¤ ï¼‰ï¼Œè€Œæ¯ä¸ªanhcorè¦åˆ†positiveå’Œnegativeï¼Œæ‰€ä»¥æ¯ä¸ªç‚¹éƒ½æœ‰ cls = scoresï¼Œå¾—åˆ°åˆ†ç±»ç‰¹å¾çŸ©é˜µï¼›è€Œæ¯ä¸ªanchoréƒ½æœ‰ å¯¹åº”4ä¸ªåç§»é‡ï¼Œæ‰€ä»¥ reg = coordinatesï¼Œå¾—åˆ°regressionåæ ‡å›å½’ç‰¹å¾çŸ©é˜µã€‚ åœ¨è®­ç»ƒæ—¶ï¼Œå…¨éƒ¨anchorsæ‹¿å»è®­ç»ƒå¤ªå¤šäº†ï¼Œä¼šåœ¨åˆé€‚çš„anchorsä¸­éšæœºé€‰å–128ä¸ªpostive anchors+128ä¸ªnegative anchorsè¿›è¡Œè®­ç»ƒã€‚ softmaxåˆ¤å®špositive/negative å…ˆåšäº†1x1å·ç§¯ï¼Œç»è¿‡å·ç§¯è¾“å‡º ï¼Œå…¶ä¸­ ï¼Œã€‚åˆšå¥½å¯¹åº”äº†feature mapsæ¯ä¸€ä¸ªç‚¹éƒ½æœ‰9ä¸ªanchorsï¼Œæ¯ä¸ªanchorså¯èƒ½æ˜¯positiveå’Œnegativeçš„scoreã€‚ åœ¨softmaxå‰åéƒ½æ¥ä¸€ä¸ªreshape layerï¼šä¸ºäº†ä¾¿äºsoftmaxåˆ†ç±»ï¼Œä¸€å¼€å§‹æ˜¯[1, 2x9, H, W]ï¼Œåœ¨softmaxåˆ†ç±»æ—¶éœ€è¦è¿›è¡Œpositive/negativeäºŒåˆ†ç±»ï¼Œreshape layerä¼šå°†å…¶å˜ä¸º[1, 2, 9xH, W]å¤§å°ï¼Œâ€œè…¾ç©ºâ€å‡ºæ¥ä¸€ä¸ªç»´åº¦ä»¥ä¾¿softmaxåˆ†ç±»ï¼Œä¹‹åå†reshapeå›å¤åŸçŠ¶ã€‚ RPNç½‘ç»œä¸­åˆ©ç”¨anchorså’Œsoftmaxåˆæ­¥æå–å‡ºpositive anchorsä½œä¸ºå€™é€‰åŒºåŸŸã€‚ å¯¹proposalsè¿›è¡Œbbox regression feature mapsæ¯ä¸ªç‚¹9ä¸ªanchorsï¼Œæ¯ä¸ªanchorsåˆéƒ½æœ‰4ä¸ªç”¨äºå›å½’çš„å˜æ¢é‡ã€‚ Proposal Layer è´Ÿè´£ç»¼åˆæ‰€æœ‰ å˜æ¢é‡å’Œ positive anchorsï¼Œè®¡ç®—å‡ºç²¾å‡†çš„proposalï¼Œé€å…¥åç»­RoI Pooling Layerã€‚ è¾“å…¥ï¼š â‘  rpn_cls_prob_reshapeï¼špositive vs negative anchorsåˆ†ç±»å™¨ç»“æœ â‘¡ rpn_bbox_predï¼šå˜æ¢é‡ â‘¢ im_infoï¼šim_info=[M, N, scale_factor] ä¿å­˜äº†æ­¤æ¬¡ PÃ—Q åˆ° MÃ—N ç¼©æ”¾çš„æ‰€æœ‰ä¿¡æ¯ â‘£ feat_stride = 16 å³ç»å†å››æ¬¡ä¸‹é‡‡æ ·ã€‚ å‰å‘ä¼ æ’­è¿‡ç¨‹ï¼š ç”Ÿæˆanchorsï¼šåˆ©ç”¨ å¯¹æ‰€æœ‰çš„anchorsåšbbox regressionå›å½’ æŒ‰ç…§è¾“å…¥çš„positive softmax scoresç”±å¤§åˆ°å°æ’åºanchorsï¼Œæå–å‰pre_nms_topN(e.g. 6k)ä¸ªanchorsï¼Œå³æå–ä¿®æ­£ä½ç½®åçš„positive anchors é™å®šè¶…å‡ºå›¾åƒè¾¹ç•Œçš„positive anchorsä¸ºå›¾åƒè¾¹ç•Œï¼Œè¶…å‡ºçš„è¦è¿›è¡Œclip anchorï¼Œé˜²æ­¢åç»­roi poolingæ—¶proposalè¶…å‡ºå›¾åƒè¾¹ç•Œ å‰”é™¤å°ºå¯¸éå¸¸å°çš„positive anchors å¯¹å‰©ä½™çš„positive anchorsè¿›è¡ŒNMS å¯¹åº”çš„bbox regçš„(e.g. 300)ç»“æœä½œä¸ºproposalè¾“å‡º ä¹‹åè¾“å‡ºproposal=ï¼Œç”±äºåœ¨ç¬¬ä¸‰æ­¥ä¸­å°†anchorsæ˜ å°„å›åŸå›¾åˆ¤æ–­æ˜¯å¦è¶…å‡ºè¾¹ç•Œï¼Œè¿™é‡Œè¾“å‡ºçš„proposalæ˜¯å¯¹åº”è¾“å…¥å›¾åƒå°ºåº¦MxNçš„ã€‚ RPNæ€»ç»“ï¼šç”Ÿæˆanchors -&gt; softmaxåˆ†ç±»å™¨æå–positvie anchors -&gt; bbox regå›å½’positive anchors -&gt; Proposal Layerç”Ÿæˆproposalsã€‚ä¸å…³æ³¨objectçš„å…·ä½“ç±»åˆ«ï¼Œå®ƒåªå…³æ³¨åˆ°åº•æ˜¯objectè¿˜æ˜¯backgroundï¼Œobjectçš„å…·ä½“ç±»åˆ«ç”±softmaxæœ€åæ¥åˆ¤åˆ«ã€‚ è®­ç»ƒ æ•´ä¸ªç½‘ç»œä½¿ç”¨çš„Lossï¼š å…¶ä¸­ è¡¨ç¤ºanchors box, è¡¨ç¤ºpositive softmax probability, $p_i^{}è¡¨ç¤ºå¯¹åº”çš„æ¦‚ç‡å³å½“ç¬¬iä¸ªä¸é—´è®¤ä¸ºæ˜¯ï¼Œæ˜¯ï¼ŒäºŒè€…ä¹‹é—´çš„ä¸å‚ä¸è®­ç»ƒï¼›tä»£è¡¨çš„æ˜¯ï¼Œt^{}$ ä»£è¡¨å¯¹åº”positive anchorå¯¹åº”çš„GT boxã€‚æ•´ä¸ªLossåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š cls lossï¼Œå³rpn_cls_losså±‚è®¡ç®—çš„softmax lossï¼Œç”¨äºåˆ†ç±»anchorsä¸ºpositiveä¸negativeçš„ç½‘ç»œè®­ç»ƒ reg lossï¼Œå³rpn_loss_bboxå±‚è®¡ç®—çš„soomth L1 lossï¼Œç”¨äºbounding box regressionç½‘ç»œè®­ç»ƒã€‚åªå…³å¿ƒpositive anchorsçš„å›å½’ã€‚ å…¶ä¸­ ç”¨äºå¹³è¡¡äºŒè€…ï¼Œå› ä¸ºå®é™…è¿‡ç¨‹ä¸­ å’Œ å·®è·è¿‡å¤§ã€‚ TBD refï¼š https://zhuanlan.zhihu.com/p/31426458","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"https://maskros.top/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}]},{"title":"CNNä»£ç å¤ç°(PyTorch-CIFAR10)","slug":"dl/cnn/cifar10 CNN","date":"2022-10-08T08:00:00.000Z","updated":"2022-10-08T09:21:06.625Z","comments":true,"path":"/post/dl/cnn/cifar10 CNN.html","link":"","permalink":"https://maskros.top/post/dl/cnn/cifar10%20CNN.html","excerpt":"CIFAR-10 æ•°æ®é›†åŒ…å« 5w å¼ è®­ç»ƒæ ·æœ¬å’Œ 1w å¼ æµ‹è¯•æ ·æœ¬ï¼Œå›¾åƒä¸º3é€šé“32Ã—32ï¼Œä¸€å…±åŒ…å«10ä¸ªç±»åˆ«ã€‚ ä¸‹é¢åŸºäºPyTorchæ¡†æ¶è¿›è¡Œå®ç°ï¼Œæ¨¡æ¿éƒ¨åˆ†åŒ…æ‹¬æ•°æ®é›†å‡†å¤‡ã€ä¼˜åŒ–ã€è®­ç»ƒå’Œæµ‹è¯•è¿‡ç¨‹ï¼Œåªéœ€æ›´æ¢ä¸­é—´ç½‘ç»œå³å¯å¯¹ä¸åŒæ¨¡å‹è¿›è¡Œæµ‹è¯•ã€‚ ç½‘ç»œéƒ¨åˆ†ä¸ºAlexNet, VGG, ResNet, Inception(GoogLeNet, v3)ã€‚","text":"CIFAR-10 æ•°æ®é›†åŒ…å« 5w å¼ è®­ç»ƒæ ·æœ¬å’Œ 1w å¼ æµ‹è¯•æ ·æœ¬ï¼Œå›¾åƒä¸º3é€šé“32Ã—32ï¼Œä¸€å…±åŒ…å«10ä¸ªç±»åˆ«ã€‚ ä¸‹é¢åŸºäºPyTorchæ¡†æ¶è¿›è¡Œå®ç°ï¼Œæ¨¡æ¿éƒ¨åˆ†åŒ…æ‹¬æ•°æ®é›†å‡†å¤‡ã€ä¼˜åŒ–ã€è®­ç»ƒå’Œæµ‹è¯•è¿‡ç¨‹ï¼Œåªéœ€æ›´æ¢ä¸­é—´ç½‘ç»œå³å¯å¯¹ä¸åŒæ¨¡å‹è¿›è¡Œæµ‹è¯•ã€‚ ç½‘ç»œéƒ¨åˆ†ä¸ºAlexNet, VGG, ResNet, Inception(GoogLeNet, v3)ã€‚ Template import torch import torchvision from torch.utils.tensorboard import SummaryWriter import matplotlib.pyplot as plt import numpy as np import os from models import * from torch import nn from torch.utils.data import DataLoader # å‡†å¤‡æ•°æ®é›† train_data = torchvision.datasets.CIFAR10(root=\"./data\", train=True, transform=torchvision.transforms.ToTensor(), download=True) test_data = torchvision.datasets.CIFAR10(root=\"./data\", train=False, transform=torchvision.transforms.ToTensor(), download=True) train_data_size = len(train_data) test_data_size = len(test_data) print(\"size of train set: {}\".format(train_data_size)) print(\"size of test set: {}\".format(test_data_size)) train_dataloader = DataLoader(train_data, batch_size=64, shuffle=True) test_dataloader = DataLoader(test_data, batch_size=64, shuffle=False) CLASSES = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck') # å±•ç¤ºä¸€ä¸‹æ•°æ® def imshow(img): plt.figure(figsize=(8,8)) img = img / 2 + 0.5 # è½¬æ¢åˆ° [0,1] ä¹‹é—´ npimg = img.numpy() plt.imshow(np.transpose(npimg, (1, 2, 0))) plt.show() # # å¾—åˆ°ä¸€ç»„å›¾åƒ # images, labels = iter(train_dataloader).next() # # å±•ç¤ºå›¾åƒ # imshow(torchvision.utils.make_grid(images)) # # å±•ç¤ºç¬¬ä¸€è¡Œå›¾åƒçš„æ ‡ç­¾ # for j in range(8): # print(CLASSES[labels[j]]) if os.path.exists(\"./saved_pth\") == False: os.mkdir(\"./saved_pth\") ####################################### net = resnet34() ####################################### if torch.cuda.is_available(): net = net.cuda() # æŸå¤±å‡½æ•° loss_fn = nn.CrossEntropyLoss() if torch.cuda.is_available(): loss_fn = loss_fn.cuda() # ä¼˜åŒ–å™¨ learning_rate = 1e-3 optimizer = torch.optim.Adam(net.parameters(), lr=learning_rate) # è®°å½•è®­ç»ƒçš„æ¬¡æ•° total_train_step = 0 # è®°å½•æµ‹è¯•çš„æ¬¡æ•° total_test_step = 0 # max acc max_acc = 0 epoch = 10 # æ·»åŠ tensorboard writer = SummaryWriter(\"./logs_train\") for i in range(epoch): print(\"epoch: {} \".format(i+1)) net.train() for data in train_dataloader: imgs, targets = data if torch.cuda.is_available(): imgs = imgs.cuda() targets = targets.cuda() outputs = net(imgs) loss = loss_fn(outputs, targets) # ä¼˜åŒ–å™¨ä¼˜åŒ–æ¨¡å‹ optimizer.zero_grad() loss.backward() optimizer.step() total_train_step = total_train_step + 1 if total_train_step % 100 == 0: print(\"mini-batchï¼š{}, Loss: {}\".format(total_train_step, loss.item())) writer.add_scalar(\"train_loss\", loss.item(), total_train_step) # æµ‹è¯•æ­¥éª¤å¼€å§‹ net.eval() total_test_loss = 0 total_accuracy = 0 with torch.no_grad(): for data in test_dataloader: imgs, targets = data if torch.cuda.is_available(): imgs = imgs.cuda() targets = targets.cuda() outputs = net(imgs) loss = loss_fn(outputs, targets) total_test_loss = total_test_loss + loss.item() accuracy = (outputs.argmax(1) == targets).sum() total_accuracy = total_accuracy + accuracy print(\"Total test Loss: {}\".format(total_test_loss)) max_acc = max(max_acc, total_accuracy/test_data_size) print(\"Accuracy on the epoch {}: {} | max: {}\".format(i + 1, total_accuracy/test_data_size, max_acc)) writer.add_scalar(\"test_loss\", total_test_loss, total_test_step) writer.add_scalar(\"test_accuracy\", total_accuracy/test_data_size, total_test_step) total_test_step = total_test_step + 1 if i == epoch - 1: torch.save(net, \"./saved_pth/ResNet34_{}.pth\".format(i + 1)) print(\"model has been saved.\") print(\"training finished.\") writer.close() AlexNet é­”æ”¹äº†ä¸€ä¸‹ï¼Œåˆ å»äº†é‡å æ± åŒ–ï¼Œå› ä¸ºcifar10æ•°æ®é›†æ˜¯32Ã—32çš„è¾“å…¥ï¼Œ3Ã—3, strideä¸º2çš„æ± åŒ–ä¼šå¯¼è‡´ç‰¹å¾çš„æŸå¤±ï¼Œæœ€åè¾“å…¥åˆ°fcå±‚ä¸º2Ã—2çš„ç‰¹å¾å›¾ï¼›ä¸¢å¼ƒäº†LRNã€‚ import torch.nn as nn NUM_CLASSES = 10 class AlexNet(nn.Module): def __init__(self, num_classes=NUM_CLASSES): super(AlexNet, self).__init__() self.features = nn.Sequential( nn.Conv2d(3, 64, kernel_size=3, stride=2, padding=1), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=2), nn.Conv2d(64, 192, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=2), nn.Conv2d(192, 384, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.Conv2d(384, 256, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.Conv2d(256, 256, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=2), ) self.classifier = nn.Sequential( nn.Dropout(), nn.Linear(256 * 2 * 2, 4096), nn.ReLU(inplace=True), nn.Dropout(), nn.Linear(4096, 4096), nn.ReLU(inplace=True), nn.Linear(4096, num_classes), ) def forward(self, x): x = self.features(x) x = x.view(x.size(0), 256 * 2 * 2) x = self.classifier(x) return x VGGNet import torch.nn as nn cfg = { 'VGG11': [64, 'M', 128, 'M', 256, 256, 'M', 512, 512, 'M', 512, 512, 'M'], 'VGG13': [64, 64, 'M', 128, 128, 'M', 256, 256, 'M', 512, 512, 'M', 512, 512, 'M'], 'VGG16': [64, 64, 'M', 128, 128, 'M', 256, 256, 256, 'M', 512, 512, 512, 'M', 512, 512, 512, 'M'], 'VGG19': [64, 64, 'M', 128, 128, 'M', 256, 256, 256, 256, 'M', 512, 512, 512, 512, 'M', 512, 512, 512, 512, 'M'], } class VGG(nn.Module): def __init__(self, vgg_name): super(VGG, self).__init__() self.features = self._make_layers(cfg[vgg_name]) self.classifier = nn.Linear(512, 10) def forward(self, x): out = self.features(x) out = out.view(out.size(0), -1) out = self.classifier(out) return out def _make_layers(self, cfg): layers = [] in_channels = 3 for x in cfg: if x == 'M': layers += [nn.MaxPool2d(kernel_size=2, stride=2)] else: layers += [nn.Conv2d(in_channels, x, kernel_size=3, padding=1), nn.BatchNorm2d(x), nn.ReLU(inplace=True)] in_channels = x layers += [nn.AvgPool2d(kernel_size=1, stride=1)] return nn.Sequential(*layers) def VGG11(): return VGG('VGG11') def VGG13(): return VGG('VGG13') def VGG16(): return VGG('VGG16') def VGG19(): return VGG('VGG19') ResNet import torch.nn as nn import math def conv3x3(in_planes, out_planes, stride=1): # 3x3 convolution with padding return nn.Conv2d(in_planes, out_planes, kernel_size=3, stride=stride, padding=1, bias=False) class BasicBlock(nn.Module): expansion = 1 def __init__(self, inplanes, planes, stride=1, downsample=None): super(BasicBlock, self).__init__() self.conv1 = conv3x3(inplanes, planes, stride) self.bn1 = nn.BatchNorm2d(planes) self.relu = nn.ReLU(inplace=True) self.conv2 = conv3x3(planes, planes) self.bn2 = nn.BatchNorm2d(planes) self.downsample = downsample self.stride = stride def forward(self, x): residual = x x = self.conv1(x) x = self.bn1(x) x = self.relu(x) x = self.conv2(x) x = self.bn2(x) if self.downsample is not None: residual = self.downsample(x) x += residual x = self.relu(x) return x class Bottleneck(nn.Module): expansion = 4 def __init__(self, inplanes, planes, stride=1, downsample=None): super(Bottleneck, self).__init__() self.conv1 = nn.Conv2d(inplanes, planes, kernel_size=1, bias=False) self.bn1 = nn.BatchNorm2d(planes) self.conv2 = nn.Conv2d(planes, planes, kernel_size=3, stride=stride, padding=1, bias=False) self.bn2 = nn.BatchNorm2d(planes) self.conv3 = nn.Conv2d(planes, planes * 4, kernel_size=1, bias=False) self.bn3 = nn.BatchNorm2d(planes * 4) self.relu = nn.ReLU(inplace=True) self.downsample = downsample self.stride = stride def forward(self, x): residual = x x = self.conv1(x) x = self.bn1(x) x = self.relu(x) x = self.conv2(x) x = self.bn2(x) x = self.relu(x) x = self.conv3(x) x = self.bn3(x) if self.downsample is not None: residual = self.downsample(residual) x += residual x = self.relu(x) return x class ResNet(nn.Module): def __init__(self, block, layers, num_classes=10): self.inplanes = 64 super(ResNet, self).__init__() self.conv1 = nn.Conv2d(3, 64, kernel_size=3, stride=1, padding=1, bias=False) self.bn1 = nn.BatchNorm2d(64) self.relu = nn.ReLU(inplace=True) self.layer1 = self._make_layer(block, 64, layers[0]) self.layer2 = self._make_layer(block, 128, layers[1], stride=2) self.layer3 = self._make_layer(block, 256, layers[2], stride=2) self.layer4 = self._make_layer(block, 512, layers[3], stride=2) self.avgpool = nn.AvgPool2d(kernel_size=4) self.fc = nn.Linear(512 * block.expansion, num_classes) for m in self.modules(): if isinstance(m, nn.Conv2d): n = m.kernel_size[0] * m.kernel_size[1] * m.out_channels m.weight.data.normal_(0, math.sqrt(2. / n)) elif isinstance(m, nn.BatchNorm2d): m.weight.data.fill_(1) m.bias.data.zero_() def _make_layer(self, block, planes, blocks, stride=1): downsample = None if stride != 1 or self.inplanes != planes * block.expansion: downsample = nn.Sequential( nn.Conv2d(self.inplanes, planes * block.expansion, kernel_size=1, stride=stride, bias=False), nn.BatchNorm2d(planes * block.expansion), ) layers = [] layers.append(block(self.inplanes, planes, stride, downsample)) self.inplanes = planes * block.expansion for i in range(1, blocks): layers.append(block(self.inplanes, planes)) return nn.Sequential(*layers) def forward(self, x): x = self.conv1(x) x = self.bn1(x) x = self.relu(x) x = self.layer1(x) x = self.layer2(x) x = self.layer3(x) x = self.layer4(x) x = self.avgpool(x) x = x.view(x.size(0), -1) x = self.fc(x) return x def resnet18(**kwargs): return ResNet(BasicBlock, [2, 2, 2, 2], **kwargs) def resnet34(**kwargs): return ResNet(BasicBlock, [3, 4, 6, 3], **kwargs) def resnet50(**kwargs): return ResNet(Bottleneck, [3, 4, 6, 3], **kwargs) def resnet101(**kwargs): return ResNet(Bottleneck, [3, 4, 23, 3], **kwargs) def resnet152(**kwargs): return ResNet(Bottleneck, [3, 8, 36, 3], **kwargs) GoogLeNet import torch import torch.nn as nn class Inception(nn.Module): def __init__(self, in_planes, kernel_1_x, kernel_3_in, kernel_3_x, kernel_5_in, kernel_5_x, pool_planes): super(Inception, self).__init__() # 1x1 conv branch self.b1 = nn.Sequential( nn.Conv2d(in_planes, kernel_1_x, kernel_size=1), nn.BatchNorm2d(kernel_1_x), nn.ReLU(True), ) # 1x1 conv -&gt; 3x3 conv branch self.b2 = nn.Sequential( nn.Conv2d(in_planes, kernel_3_in, kernel_size=1), nn.BatchNorm2d(kernel_3_in), nn.ReLU(True), nn.Conv2d(kernel_3_in, kernel_3_x, kernel_size=3, padding=1), nn.BatchNorm2d(kernel_3_x), nn.ReLU(True), ) # 1x1 conv -&gt; 5x5 conv branch self.b3 = nn.Sequential( nn.Conv2d(in_planes, kernel_5_in, kernel_size=1), nn.BatchNorm2d(kernel_5_in), nn.ReLU(True), nn.Conv2d(kernel_5_in, kernel_5_x, kernel_size=3, padding=1), nn.BatchNorm2d(kernel_5_x), nn.ReLU(True), nn.Conv2d(kernel_5_x, kernel_5_x, kernel_size=3, padding=1), nn.BatchNorm2d(kernel_5_x), nn.ReLU(True), ) # 3x3 pool -&gt; 1x1 conv branch self.b4 = nn.Sequential( nn.MaxPool2d(3, stride=1, padding=1), nn.Conv2d(in_planes, pool_planes, kernel_size=1), nn.BatchNorm2d(pool_planes), nn.ReLU(True), ) def forward(self, x): y1 = self.b1(x) y2 = self.b2(x) y3 = self.b3(x) y4 = self.b4(x) return torch.cat([y1,y2,y3,y4], 1) class GoogLeNet(nn.Module): def __init__(self): super(GoogLeNet, self).__init__() self.pre_layers = nn.Sequential( nn.Conv2d(3, 192, kernel_size=3, padding=1), nn.BatchNorm2d(192), nn.ReLU(True), ) self.a3 = Inception(192, 64, 96, 128, 16, 32, 32) self.b3 = Inception(256, 128, 128, 192, 32, 96, 64) self.max_pool = nn.MaxPool2d(3, stride=2, padding=1) self.a4 = Inception(480, 192, 96, 208, 16, 48, 64) self.b4 = Inception(512, 160, 112, 224, 24, 64, 64) self.c4 = Inception(512, 128, 128, 256, 24, 64, 64) self.d4 = Inception(512, 112, 144, 288, 32, 64, 64) self.e4 = Inception(528, 256, 160, 320, 32, 128, 128) self.a5 = Inception(832, 256, 160, 320, 32, 128, 128) self.b5 = Inception(832, 384, 192, 384, 48, 128, 128) self.avgpool = nn.AvgPool2d(8, stride=1) self.linear = nn.Linear(1024, 10) def forward(self, x): x = self.pre_layers(x) x = self.a3(x) x = self.b3(x) x = self.max_pool(x) x = self.a4(x) x = self.b4(x) x = self.c4(x) x = self.d4(x) x = self.e4(x) x = self.max_pool(x) x = self.a5(x) x = self.b5(x) x = self.avgpool(x) x = x.view(x.size(0), -1) x = self.linear(x) return x Inception-v3 import torch import torch.nn as nn class BasicConv2d(nn.Module): def __init__(self, input_channels, output_channels, **kwargs): super().__init__() self.conv = nn.Conv2d(input_channels, output_channels, bias=False, **kwargs) self.bn = nn.BatchNorm2d(output_channels) self.relu = nn.ReLU(inplace=True) def forward(self, x): x = self.conv(x) x = self.bn(x) x = self.relu(x) return x #same naive inception module class InceptionA(nn.Module): def __init__(self, input_channels, pool_features): super().__init__() self.branch1x1 = BasicConv2d(input_channels, 64, kernel_size=1) self.branch5x5 = nn.Sequential( BasicConv2d(input_channels, 48, kernel_size=1), BasicConv2d(48, 64, kernel_size=5, padding=2) ) self.branch3x3 = nn.Sequential( BasicConv2d(input_channels, 64, kernel_size=1), BasicConv2d(64, 96, kernel_size=3, padding=1), BasicConv2d(96, 96, kernel_size=3, padding=1) ) self.branchpool = nn.Sequential( nn.AvgPool2d(kernel_size=3, stride=1, padding=1), BasicConv2d(input_channels, pool_features, kernel_size=3, padding=1) ) def forward(self, x): #x -&gt; 1x1(same) branch1x1 = self.branch1x1(x) #x -&gt; 1x1 -&gt; 5x5(same) branch5x5 = self.branch5x5(x) #branch5x5 = self.branch5x5_2(branch5x5) #x -&gt; 1x1 -&gt; 3x3 -&gt; 3x3(same) branch3x3 = self.branch3x3(x) #x -&gt; pool -&gt; 1x1(same) branchpool = self.branchpool(x) outputs = [branch1x1, branch5x5, branch3x3, branchpool] return torch.cat(outputs, 1) #downsample #Factorization into smaller convolutions class InceptionB(nn.Module): def __init__(self, input_channels): super().__init__() self.branch3x3 = BasicConv2d(input_channels, 384, kernel_size=3, stride=2) self.branch3x3stack = nn.Sequential( BasicConv2d(input_channels, 64, kernel_size=1), BasicConv2d(64, 96, kernel_size=3, padding=1), BasicConv2d(96, 96, kernel_size=3, stride=2) ) self.branchpool = nn.MaxPool2d(kernel_size=3, stride=2) def forward(self, x): #x - &gt; 3x3(downsample) branch3x3 = self.branch3x3(x) #x -&gt; 3x3 -&gt; 3x3(downsample) branch3x3stack = self.branch3x3stack(x) #x -&gt; avgpool(downsample) branchpool = self.branchpool(x) #\"\"\"We can use two parallel stride 2 blocks: P and C. P is a pooling #layer (either average or maximum pooling) the activation, both of #them are stride 2 the filter banks of which are concatenated as in #figure 10.\"\"\" outputs = [branch3x3, branch3x3stack, branchpool] return torch.cat(outputs, 1) #Factorizing Convolutions with Large Filter Size class InceptionC(nn.Module): def __init__(self, input_channels, channels_7x7): super().__init__() self.branch1x1 = BasicConv2d(input_channels, 192, kernel_size=1) c7 = channels_7x7 #In theory, we could go even further and argue that one can replace any n Ã— n #convolution by a 1 Ã— n convolution followed by a n Ã— 1 convolution and the #computational cost saving increases dramatically as n grows (see figure 6). self.branch7x7 = nn.Sequential( BasicConv2d(input_channels, c7, kernel_size=1), BasicConv2d(c7, c7, kernel_size=(7, 1), padding=(3, 0)), BasicConv2d(c7, 192, kernel_size=(1, 7), padding=(0, 3)) ) self.branch7x7stack = nn.Sequential( BasicConv2d(input_channels, c7, kernel_size=1), BasicConv2d(c7, c7, kernel_size=(7, 1), padding=(3, 0)), BasicConv2d(c7, c7, kernel_size=(1, 7), padding=(0, 3)), BasicConv2d(c7, c7, kernel_size=(7, 1), padding=(3, 0)), BasicConv2d(c7, 192, kernel_size=(1, 7), padding=(0, 3)) ) self.branch_pool = nn.Sequential( nn.AvgPool2d(kernel_size=3, stride=1, padding=1), BasicConv2d(input_channels, 192, kernel_size=1), ) def forward(self, x): #x -&gt; 1x1(same) branch1x1 = self.branch1x1(x) #x -&gt; 1layer 1*7 and 7*1 (same) branch7x7 = self.branch7x7(x) #x-&gt; 2layer 1*7 and 7*1(same) branch7x7stack = self.branch7x7stack(x) #x-&gt; avgpool (same) branchpool = self.branch_pool(x) outputs = [branch1x1, branch7x7, branch7x7stack, branchpool] return torch.cat(outputs, 1) class InceptionD(nn.Module): def __init__(self, input_channels): super().__init__() self.branch3x3 = nn.Sequential( BasicConv2d(input_channels, 192, kernel_size=1), BasicConv2d(192, 320, kernel_size=3, stride=2) ) self.branch7x7 = nn.Sequential( BasicConv2d(input_channels, 192, kernel_size=1), BasicConv2d(192, 192, kernel_size=(1, 7), padding=(0, 3)), BasicConv2d(192, 192, kernel_size=(7, 1), padding=(3, 0)), BasicConv2d(192, 192, kernel_size=3, stride=2) ) self.branchpool = nn.AvgPool2d(kernel_size=3, stride=2) def forward(self, x): #x -&gt; 1x1 -&gt; 3x3(downsample) branch3x3 = self.branch3x3(x) #x -&gt; 1x1 -&gt; 1x7 -&gt; 7x1 -&gt; 3x3 (downsample) branch7x7 = self.branch7x7(x) #x -&gt; avgpool (downsample) branchpool = self.branchpool(x) outputs = [branch3x3, branch7x7, branchpool] return torch.cat(outputs, 1) #same class InceptionE(nn.Module): def __init__(self, input_channels): super().__init__() self.branch1x1 = BasicConv2d(input_channels, 320, kernel_size=1) self.branch3x3_1 = BasicConv2d(input_channels, 384, kernel_size=1) self.branch3x3_2a = BasicConv2d(384, 384, kernel_size=(1, 3), padding=(0, 1)) self.branch3x3_2b = BasicConv2d(384, 384, kernel_size=(3, 1), padding=(1, 0)) self.branch3x3stack_1 = BasicConv2d(input_channels, 448, kernel_size=1) self.branch3x3stack_2 = BasicConv2d(448, 384, kernel_size=3, padding=1) self.branch3x3stack_3a = BasicConv2d(384, 384, kernel_size=(1, 3), padding=(0, 1)) self.branch3x3stack_3b = BasicConv2d(384, 384, kernel_size=(3, 1), padding=(1, 0)) self.branch_pool = nn.Sequential( nn.AvgPool2d(kernel_size=3, stride=1, padding=1), BasicConv2d(input_channels, 192, kernel_size=1) ) def forward(self, x): #x -&gt; 1x1 (same) branch1x1 = self.branch1x1(x) # x -&gt; 1x1 -&gt; 3x1 # x -&gt; 1x1 -&gt; 1x3 # concatenate(3x1, 1x3) #\"\"\"7. Inception modules with expanded the filter bank outputs. #This architecture is used on the coarsest (8 Ã— 8) grids to promote #high dimensional representations, as suggested by principle #2 of Section 2.\"\"\" branch3x3 = self.branch3x3_1(x) branch3x3 = [ self.branch3x3_2a(branch3x3), self.branch3x3_2b(branch3x3) ] branch3x3 = torch.cat(branch3x3, 1) # x -&gt; 1x1 -&gt; 3x3 -&gt; 1x3 # x -&gt; 1x1 -&gt; 3x3 -&gt; 3x1 #concatenate(1x3, 3x1) branch3x3stack = self.branch3x3stack_1(x) branch3x3stack = self.branch3x3stack_2(branch3x3stack) branch3x3stack = [ self.branch3x3stack_3a(branch3x3stack), self.branch3x3stack_3b(branch3x3stack) ] branch3x3stack = torch.cat(branch3x3stack, 1) branchpool = self.branch_pool(x) outputs = [branch1x1, branch3x3, branch3x3stack, branchpool] return torch.cat(outputs, 1) class InceptionV3(nn.Module): def __init__(self, num_classes=10): super().__init__() self.Conv2d_1a_3x3 = BasicConv2d(3, 32, kernel_size=3, padding=1) self.Conv2d_2a_3x3 = BasicConv2d(32, 32, kernel_size=3, padding=1) self.Conv2d_2b_3x3 = BasicConv2d(32, 64, kernel_size=3, padding=1) self.Conv2d_3b_1x1 = BasicConv2d(64, 80, kernel_size=1) self.Conv2d_4a_3x3 = BasicConv2d(80, 192, kernel_size=3) #naive inception module self.Mixed_5b = InceptionA(192, pool_features=32) self.Mixed_5c = InceptionA(256, pool_features=64) self.Mixed_5d = InceptionA(288, pool_features=64) #downsample self.Mixed_6a = InceptionB(288) self.Mixed_6b = InceptionC(768, channels_7x7=128) self.Mixed_6c = InceptionC(768, channels_7x7=160) self.Mixed_6d = InceptionC(768, channels_7x7=160) self.Mixed_6e = InceptionC(768, channels_7x7=192) #downsample self.Mixed_7a = InceptionD(768) self.Mixed_7b = InceptionE(1280) self.Mixed_7c = InceptionE(2048) #6*6 feature size self.avgpool = nn.AdaptiveAvgPool2d((1, 1)) self.dropout = nn.Dropout2d() self.linear = nn.Linear(2048, num_classes) def forward(self, x): #32 -&gt; 30 x = self.Conv2d_1a_3x3(x) x = self.Conv2d_2a_3x3(x) x = self.Conv2d_2b_3x3(x) x = self.Conv2d_3b_1x1(x) x = self.Conv2d_4a_3x3(x) #30 -&gt; 30 x = self.Mixed_5b(x) x = self.Mixed_5c(x) x = self.Mixed_5d(x) #30 -&gt; 14 #Efficient Grid Size Reduction to avoid representation #bottleneck x = self.Mixed_6a(x) #14 -&gt; 14 #\"\"\"In practice, we have found that employing this factorization does not #work well on early layers, but it gives very good results on medium #grid-sizes (On m Ã— m feature maps, where m ranges between 12 and 20). #On that level, very good results can be achieved by using 1 Ã— 7 convolutions #followed by 7 Ã— 1 convolutions.\"\"\" x = self.Mixed_6b(x) x = self.Mixed_6c(x) x = self.Mixed_6d(x) x = self.Mixed_6e(x) #14 -&gt; 6 #Efficient Grid Size Reduction x = self.Mixed_7a(x) #6 -&gt; 6 #We are using this solution only on the coarsest grid, #since that is the place where producing high dimensional #sparse representation is the most critical as the ratio of #local processing (by 1 Ã— 1 convolutions) is increased compared #to the spatial aggregation.\"\"\" x = self.Mixed_7b(x) x = self.Mixed_7c(x) #6 -&gt; 1 x = self.avgpool(x) x = self.dropout(x) x = x.view(x.size(0), -1) x = self.linear(x) return x def inceptionv3(): return InceptionV3() Result é‰´äºæ—¶é—´å’Œç¡¬ä»¶å…³ç³»ï¼Œæ•…å‡ä»¥å°epochå®Œæˆæµ‹è¯•ï¼š optï¼šAdam lrï¼š1e-3 batch-sizeï¼š64 epochï¼š10 Model Accuracy AlexNet 69.7% VGG16 83.2% ResNet34 83.5% ResNet34(20 epoch) 86.0% ResNet50 83.4% GoogLeNet 83.5% Inception-v3 83.1% AlexNet VGG16 ResNet34 ResNet34(20 epoch) ResNet50 GoogLeNet Inception-v3","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"}]},{"title":"CNNç»å…¸ç½‘ç»œï¼šInceptionç³»åˆ—","slug":"dl/cnn/Inception","date":"2022-10-02T08:00:00.000Z","updated":"2022-10-08T09:24:05.896Z","comments":true,"path":"/post/dl/cnn/Inception.html","link":"","permalink":"https://maskros.top/post/dl/cnn/Inception.html","excerpt":"GoogLeNetç¬¬ä¸€æ¬¡æå‡ºäº† Inception ç»“æ„ï¼Œæ²¡æœ‰å¦‚åŒ VGGNet é‚£æ ·å¤§é‡ä½¿ç”¨fcï¼Œå‚æ•°é‡éå¸¸å°ã€‚Inception çš„ç›®çš„æ˜¯è®¾è®¡ä¸€ç§å…·æœ‰ä¼˜è‰¯å±€éƒ¨æ‹“æ‰‘ç»“æ„çš„ç½‘ç»œï¼Œå³å¯¹è¾“å…¥å›¾åƒå¹¶è¡Œåœ°æ‰§è¡Œå¤šä¸ªå·ç§¯è¿ç®—æˆ–æ± åŒ–æ“ä½œï¼Œå¹¶å°†æ‰€æœ‰è¾“å‡ºç»“æœæ‹¼æ¥ä¸ºä¸€ä¸ªéå¸¸æ·±çš„ç‰¹å¾å›¾ã€‚é€šè¿‡ 1Ã—1 ã€3Ã—3 æˆ– 5Ã—5 ç­‰ä¸åŒçš„å·ç§¯è¿ç®—ä¸æ± åŒ–æ“ä½œå¯ä»¥è·å¾—è¾“å…¥å›¾åƒçš„ä¸åŒä¿¡æ¯ï¼Œå¹¶è¡Œå¤„ç†è¿™äº›è¿ç®—å¹¶ç»“åˆæ‰€æœ‰ç»“æœå°†è·å¾—æ›´å¥½çš„å›¾åƒè¡¨å¾ã€‚å¸¸è§ç‰ˆæœ¬æœ‰ Inception v1-v4 å’Œ Inception-ResNetã€‚ GoogLeNet(Inception v1)ï¼šGoing deeper with convolutionsï¼ŒInception-v2 BN: Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shiftï¼ŒInception-v2, v3ï¼šRethinking the Inception Architecture for Computer Vision, Inception v4, ResNet v1, v2: Inception-v4, Inception-ResNet and the Impact of Residual Connections on Learning","text":"GoogLeNetç¬¬ä¸€æ¬¡æå‡ºäº† Inception ç»“æ„ï¼Œæ²¡æœ‰å¦‚åŒ VGGNet é‚£æ ·å¤§é‡ä½¿ç”¨fcï¼Œå‚æ•°é‡éå¸¸å°ã€‚Inception çš„ç›®çš„æ˜¯è®¾è®¡ä¸€ç§å…·æœ‰ä¼˜è‰¯å±€éƒ¨æ‹“æ‰‘ç»“æ„çš„ç½‘ç»œï¼Œå³å¯¹è¾“å…¥å›¾åƒå¹¶è¡Œåœ°æ‰§è¡Œå¤šä¸ªå·ç§¯è¿ç®—æˆ–æ± åŒ–æ“ä½œï¼Œå¹¶å°†æ‰€æœ‰è¾“å‡ºç»“æœæ‹¼æ¥ä¸ºä¸€ä¸ªéå¸¸æ·±çš„ç‰¹å¾å›¾ã€‚é€šè¿‡ 1Ã—1 ã€3Ã—3 æˆ– 5Ã—5 ç­‰ä¸åŒçš„å·ç§¯è¿ç®—ä¸æ± åŒ–æ“ä½œå¯ä»¥è·å¾—è¾“å…¥å›¾åƒçš„ä¸åŒä¿¡æ¯ï¼Œå¹¶è¡Œå¤„ç†è¿™äº›è¿ç®—å¹¶ç»“åˆæ‰€æœ‰ç»“æœå°†è·å¾—æ›´å¥½çš„å›¾åƒè¡¨å¾ã€‚å¸¸è§ç‰ˆæœ¬æœ‰ Inception v1-v4 å’Œ Inception-ResNetã€‚ GoogLeNet(Inception v1)ï¼šGoing deeper with convolutionsï¼ŒInception-v2 BN: Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shiftï¼ŒInception-v2, v3ï¼šRethinking the Inception Architecture for Computer Vision, Inception v4, ResNet v1, v2: Inception-v4, Inception-ResNet and the Impact of Residual Connections on Learning Inception v1 åœ¨ Inception å‡ºç°ä¹‹å‰ï¼Œå¤§éƒ¨åˆ†æµè¡Œ CNN ä»…ä»…æ˜¯æŠŠå·ç§¯å±‚å †å å¾—è¶Šæ¥è¶Šå¤šï¼Œä½¿ç½‘ç»œè¶Šæ¥è¶Šæ·±ï¼Œä»¥æ­¤å¸Œæœ›èƒ½å¤Ÿå¾—åˆ°æ›´å¥½çš„æ€§èƒ½ï¼Œä½†ä¹Ÿé¢ä¸´ç€å‚æ•°é‡è¿‡å¤šã€è¿‡æ‹Ÿåˆã€è®¡ç®—é‡åŠ å¤§ç­‰é—®é¢˜ã€‚è§£å†³ä¸Šè¿°ä¸è¶³çš„æ–¹æ³•æ˜¯å¼•å…¥ç¨€ç–ç‰¹æ€§å’Œå°†å…¨è¿æ¥å±‚è½¬æ¢æˆç¨€ç–è¿æ¥ï¼Œä½†ç°åœ¨çš„è®¡ç®—æ¡†æ¶å¯¹éå‡åŒ€çš„ç¨€ç–æ•°æ®è¿›è¡Œè®¡ç®—æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œä¸»è¦æ˜¯å› ä¸ºæŸ¥æ‰¾å’Œç¼“å­˜çš„å¼€é”€ã€‚æœ‰å¤§é‡æ–‡çŒ®æŒ‡å‡ºï¼Œå°†ç¨€ç–çŸ©é˜µèšç±»æˆç›¸å¯¹å¯†é›†çš„å­çŸ©é˜µï¼Œèƒ½æé«˜è®¡ç®—æ€§èƒ½ã€‚æ ¹æ®æ­¤æƒ³æ³•ï¼Œä½œè€…æå‡ºäº†Inceptionç»“æ„ï¼Œä½¿ç”¨ä¸€ä¸ªå¯†é›†æˆåˆ†æ¥è¿‘ä¼¼æˆ–è€…ä»£æ›¿æœ€ä¼˜çš„å±€éƒ¨ç¨€ç–ç»“æ„ã€‚ GoogLeNetå°±ç‡å…ˆæå‡ºäº†å·ç§¯æ ¸çš„å¹¶è¡Œåˆå¹¶(ä¹Ÿç§°Bottleneck Layer)ã€‚æ„å›¾åœ¨åŒä¸€å±‚å°±ä½¿ç”¨ä¸åŒå°ºå¯¸çš„å·ç§¯æ ¸æ¥æå–ä¸åŒ(ç¨€ç–/ä¸ç¨€ç–)çš„ç‰¹å¾ã€‚ å…¶ä¸­ä¸€å±‚blockå°±åŒ…å«1x1å·ç§¯ï¼Œ3x3å·ç§¯ï¼Œ5x5å·ç§¯ï¼Œ3x3æ± åŒ–ã€‚è¿™æ ·ï¼Œç½‘ç»œä¸­æ¯ä¸€å±‚éƒ½èƒ½å­¦ä¹ åˆ°ç¨€ç–(3x3ã€5x5)æˆ–â€œä¸ç¨€ç–â€ï¼ˆ1x1ï¼‰çš„ç‰¹å¾ï¼Œæ—¢å¢åŠ äº†ç½‘ç»œçš„å®½åº¦ï¼Œä¹Ÿå¢åŠ äº†ç½‘ç»œå¯¹å°ºåº¦çš„é€‚åº”æ€§ã€‚æœ€ç»ˆé€šè¿‡deep concatåœ¨æ¯ä¸ªblockååˆæˆç‰¹å¾ï¼Œè·å¾—éçº¿æ€§å±æ€§ã€‚ æŒ‰ç…§è¿™æ ·çš„ç»“æ„æ¥å¢åŠ ç½‘ç»œçš„æ·±åº¦ï¼Œè™½ç„¶å¯ä»¥æå‡æ€§èƒ½ï¼Œä½†æ˜¯è¿˜é¢ä¸´å‚æ•°å¤šã€è®¡ç®—é‡å¤§çš„é—®é¢˜ã€‚ä¸ºæ”¹å–„è¿™ç§ç°è±¡ï¼ŒGoogLeNetå€Ÿé‰´Network-in-Networkçš„æ€æƒ³ï¼Œä½¿ç”¨1x1çš„å·ç§¯æ ¸å®ç°é™ç»´æ“ä½œ(ä¹Ÿé—´æ¥å¢åŠ äº†ç½‘ç»œçš„æ·±åº¦)ï¼Œä»¥æ­¤æ¥å‡å°ç½‘ç»œçš„å‚æ•°é‡ï¼Œå…¶ä¸­3Ã—3å’Œ5Ã—5çš„å·ç§¯ä¹‹å‰å…ˆç”¨1Ã—1é™ç»´ï¼Œè€Œæœ€å¤§æ± åŒ–æ—¶1Ã—1çš„å·ç§¯åœ¨ä¹‹åã€‚ æœ€åå®ç°çš„inception v1ç½‘ç»œæ˜¯ä¸Šå›¾ç»“æ„çš„é¡ºåºè¿æ¥ï¼Œå…¶ä¸­ä¸åŒinceptionæ¨¡å—ä¹‹é—´ä½¿ç”¨2x2çš„æœ€å¤§æ± åŒ–è¿›è¡Œä¸‹é‡‡æ ·ã€‚ ç½‘ç»œä»æœ‰ä¸€å±‚å…¨è¿æ¥å±‚ï¼Œè¯¥å±‚çš„è®¾ç½®æ˜¯ä¸ºäº†è¿ç§»å­¦ä¹ finetuneçš„å®ç°ã€‚ åœ¨ä¹‹å‰çš„ç½‘ç»œä¸­ï¼Œæœ€åéƒ½æœ‰å…¨è¿æ¥å±‚ï¼Œå¯èƒ½ä¼šå¸¦æ¥ä»¥ä¸‹ä¸‰ç‚¹ä¸ä¾¿ï¼šç½‘ç»œè¾“å…¥éœ€è¦å›ºå®šã€å‚æ•°é‡å¤šã€æ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆã€‚å®éªŒè¯æ˜ï¼Œå°†å…¶æ›¿æ¢ä¸ºå¹³å‡æ± åŒ–å±‚(æˆ–è€…1x1å·ç§¯å±‚)ä¸ä»…ä¸å½±å“ç²¾åº¦ï¼Œè¿˜å¯ä»¥å‡å°‘å‚æ•°é‡ã€‚æ­¤å¤–ï¼Œå®éªŒè¡¨æ˜ï¼Œå¦‚æœæ˜¯å°ç›®æ ‡æ£€æµ‹ï¼Œç½‘ç»œçš„æœ€åè¿˜æ˜¯éœ€è¦å‡ å±‚å…¨è¿æ¥å±‚çš„ï¼ŒçŒœæƒ³å¯èƒ½æ˜¯ç”¨æ± åŒ–çš„è¯ä¼šæŸå¤±å¤ªå¤šä¿¡æ¯ï¼Œæ¯•ç«Ÿæ˜¯å°ç›®æ ‡ã€‚ Inception v2 Inception v2 å’Œ v3 çš„æ”¹è¿›ï¼Œä¸»è¦æ˜¯åŸºäº v3 è®ºæ–‡ä¸­æåˆ°çš„å››ä¸ªé€šç”¨åŸåˆ™/ä¼˜åŒ–æ€æƒ³ï¼š é¿å…è¡¨ç¤ºç“¶é¢ˆ(å½“å·ç§¯ä¸ä¼šå¤§å¹…åº¦æ”¹å˜è¾“å…¥ç»´åº¦æ—¶ï¼Œç¥ç»ç½‘ç»œå¯èƒ½ä¼šæ‰§è¡Œåœ°æ›´å¥½ã€‚è¿‡å¤šåœ°å‡å°‘ç»´åº¦å¯èƒ½ä¼šé€ æˆä¿¡æ¯çš„æŸå¤±)ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œçš„å‰é¢ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç‰¹å¾å›¾ä»è¾“å…¥åˆ°è¾“å‡ºåº”è¯¥ç¼“æ…¢å‡å°ã€‚ é«˜ç»´åº¦ç‰¹å¾åœ¨ç½‘ç»œå±€éƒ¨å¤„ç†æ›´åŠ å®¹æ˜“ã€‚è€ƒè™‘åˆ°æ›´å¤šçš„è€¦åˆç‰¹å¾ï¼Œåœ¨å·ç§¯ç½‘ç»œä¸­å¢åŠ éçº¿æ€§ã€‚å¯ä»¥è®©ç½‘ç»œè®­ç»ƒæ›´å¿«ã€‚ ç©ºé—´èšåˆå¯ä»¥ä»¥ä½ç»´åº¦åµŒå…¥è¿›è¡Œï¼Œè¿™æ ·ä¸ä¼šå½±å“ç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›ã€‚å¦‚ï¼Œåœ¨è¿›è¡Œå¤§å°ºåº¦å·ç§¯ä¹‹å‰ï¼Œå…ˆå¯¹è¾“å…¥è¿›è¡Œé™ç»´ã€‚ å¹³è¡¡ç½‘ç»œçš„å®½åº¦å’Œæ·±åº¦ã€‚å¢åŠ å®½åº¦å’Œæ·±åº¦éƒ½ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ï¼Œä¸¤è€…åŒæ—¶å¢åŠ å¸¦æ¥äº†å¹¶è¡Œæå‡ï¼Œä½†æ˜¯è¦è€ƒè™‘è®¡ç®—èµ„æºçš„åˆç†åˆ†é…ã€‚ v2 åœ¨ v1 çš„åŸºç¡€ä¸Šä¸»è¦åšäº†ä»¥ä¸‹æ”¹è¿›ï¼š ä½¿ç”¨BNå±‚ï¼Œå°†æ¯ä¸€å±‚çš„è¾“å‡ºéƒ½è§„èŒƒåŒ–åˆ°ä¸€ä¸ªçš„æ­£æ€åˆ†å¸ƒï¼Œè¿™å°†æœ‰åŠ©äºè®­ç»ƒï¼Œå› ä¸ºä¸‹ä¸€å±‚ä¸å¿…å­¦ä¹ è¾“å…¥æ•°æ®ä¸­çš„åç§»ï¼Œå¹¶ä¸”å¯ä»¥ä¸“æ³¨ä¸å¦‚ä½•æ›´å¥½åœ°ç»„åˆç‰¹å¾ã€‚ (inception A) åœ¨æ¢¯åº¦35Ã—35æ—¶ä½¿ç”¨2ä¸ª3x3çš„å·ç§¯ä»£æ›¿5x5çš„å·ç§¯ï¼Œè¿™æ ·å¯ä»¥è·å¾—ç›¸åŒçš„æ„Ÿå—é‡ã€æ›´å°‘çš„å‚æ•°ï¼Œè¿˜é—´æ¥å¢åŠ äº†ç½‘ç»œçš„æ·±åº¦ã€‚(åŸºäºåŸåˆ™3) (inception B) åœ¨17x17çš„æ¢¯åº¦ä¸­ä½¿ç”¨1Ã—nå’ŒnÃ—1è¿™ç§éå¯¹ç§°çš„å·ç§¯æ¥ä»£æ›¿nÃ—nçš„å¯¹ç§°å·ç§¯ï¼Œæ—¢é™ä½ç½‘ç»œçš„å‚æ•°ï¼Œåˆå¢åŠ äº†ç½‘ç»œçš„æ·±åº¦(å®éªŒè¯æ˜ï¼Œè¯¥ç»“æ„æ”¾äºç½‘ç»œä¸­éƒ¨ï¼Œå–n=7ï¼Œå‡†ç¡®ç‡æ›´é«˜)ã€‚(åŸºäºåŸåˆ™3) (inception C) åœ¨æ¢¯åº¦ä¸º8x8æ—¶ä½¿ç”¨å¯ä»¥å¢åŠ æ»¤æ³¢å™¨è¾“å‡ºçš„æ¨¡å—ï¼Œä»¥æ­¤æ¥äº§ç”Ÿé«˜ç»´çš„ç¨€ç–ç‰¹å¾ã€‚(åŸºäºåŸåˆ™2) è¾“å…¥ä»224Ã—224å˜ä¸º229Ã—229ã€‚ æœ€ç»ˆç»“æ„ï¼šfigure 5, 6, 7 å¯¹åº”ä»¥ä¸Šä¸‰å¼ å›¾çš„ç»“æ„ inception v2ç›¸æ¯”inception v1åœ¨imagenetçš„æ•°æ®é›†ä¸Šï¼Œè¯†åˆ«è¯¯å·®ç‡ç”±29%é™ä¸º23.4%ã€‚ Inception v3 Inception v3 ä¸»è¦å¼•å…¥äº†å› å­åˆ†è§£çš„æ€æƒ³ã€‚ inceptionæ¨¡å—ä¹‹é—´ç‰¹å¾å›¾çš„ç¼©å°ï¼Œä¸»è¦æœ‰ä¸‹é¢ä¸¤ç§æ–¹å¼ï¼š å³å›¾æ˜¯å…ˆè¿›è¡Œinceptionæ“ä½œï¼Œå†è¿›è¡Œæ± åŒ–æ¥ä¸‹é‡‡æ ·ï¼Œä½†æ˜¯è¿™æ ·å‚æ•°é‡æ˜æ˜¾å¤šäºå·¦å›¾(æ¯”è¾ƒæ–¹å¼åŒå‰æ–‡çš„é™ç»´åinceptionæ¨¡å—)ï¼Œå› æ­¤v2é‡‡ç”¨çš„æ˜¯å·¦å›¾çš„æ–¹å¼ï¼Œå³åœ¨ä¸åŒçš„inceptionä¹‹é—´ï¼ˆ35/17/8çš„æ¢¯åº¦ï¼‰é‡‡ç”¨æ± åŒ–æ¥è¿›è¡Œä¸‹é‡‡æ ·ã€‚ ä½†æ˜¯ï¼Œå·¦å›¾è¿™ç§æ“ä½œä¼šé€ æˆè¡¨è¾¾ç“¶é¢ˆé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ç‰¹å¾å›¾çš„å¤§å°ä¸åº”è¯¥å‡ºç°æ€¥å‰§çš„è¡°å‡(åªç»è¿‡ä¸€å±‚å°±éª¤é™)ã€‚å¦‚æœå‡ºç°æ€¥å‰§ç¼©å‡ï¼Œå°†ä¼šä¸¢å¤±å¤§é‡çš„ä¿¡æ¯ï¼Œå¯¹æ¨¡å‹çš„è®­ç»ƒé€ æˆå›°éš¾ã€‚å› æ­¤ï¼Œv3 ç»“æ„å€Ÿé‰´inceptionçš„ç»“æ„è®¾è®¡äº†é‡‡ç”¨ä¸€ç§å¹¶è¡Œçš„é™ç»´ç»“æ„(reduction)ï¼š åˆ©ç”¨å¹³è¡Œçš„æ± åŒ–ä¸å·ç§¯ï¼Œæ¥è¿›è¡Œç‰¹å¾å›¾å°ºå¯¸ç¼©å°ï¼Œä¸ä»…èƒ½è¾ƒå°‘è®¡ç®—é‡ï¼Œåˆèƒ½é˜²æ­¢ç‰¹å¾ç“¶é¢ˆã€‚ Inception v4 v4ä¸»è¦æå‡ºäº†æ–°çš„æ›´åŠ ç»Ÿä¸€çš„Inceptionç»“æ„ï¼Œå¹¶ä¸”ç»“åˆResNetç½‘ç»œæå‡ºäº†Inception-ResNet-v1å’ŒInception-ResNet-v2ã€‚ å°†åŸæ¥å·ç§¯ã€æ± åŒ–çš„é¡ºæ¬¡è¿æ¥(ç½‘ç»œçš„å‰å‡ å±‚)æ›¿æ¢ä¸ºstemæ¨¡å—ï¼Œæ¥è·å¾—æ›´æ·±çš„ç½‘ç»œç»“æ„ã€‚ stemä¹‹ååŒ v3 ä¸€æ ·ï¼Œæ˜¯inceptionå’Œreductionæ¨¡å—ã€‚ Inception-ResNet-v1, v2 ResNetç»“æ„æ—¢å¯ä»¥åŠ é€Ÿè®­ç»ƒï¼Œè¿˜å¯ä»¥æå‡æ€§èƒ½ï¼›Inceptionæ¨¡å—å¯ä»¥åœ¨åŒä¸€å±‚ä¸Šè·å¾—ç¨€ç–æˆ–éç¨€ç–çš„ç‰¹å¾ã€‚å°†ä¸¤ä¸ªæ¨¡å—çš„ä¼˜åŠ¿è¿›è¡Œäº†ç»“åˆï¼Œè®¾è®¡å‡ºäº†Inception-ResNetç½‘ç»œã€‚inception-resnetæœ‰v1å’Œv2ä¸¤ä¸ªç‰ˆæœ¬ï¼Œv2è¡¨ç°æ›´å¥½ä¸”æ›´å¤æ‚ã€‚ æ€»ç»“ inceptionæ˜¯é€šè¿‡å¢åŠ ç½‘ç»œçš„å®½åº¦æ¥æé«˜ç½‘ç»œæ€§èƒ½ï¼Œåœ¨æ¯ä¸ªinceptionæ¨¡å—ä¸­ï¼Œä½¿ç”¨äº†ä¸åŒå¤§å°çš„å·ç§¯æ ¸ï¼Œå¯ä»¥ç†è§£æˆä¸åŒçš„æ„Ÿå—é‡ï¼Œç„¶åå°†å…¶concentrateèµ·æ¥ï¼Œä¸°å¯Œäº†æ¯å±‚çš„ä¿¡æ¯ã€‚ä¹‹åï¼Œä½¿ç”¨äº†BNç®—æ³•(convä¹‹åï¼Œreluä¹‹å‰)ï¼Œæ¥åŠ é€Ÿç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦ã€‚åœ¨V3ç‰ˆæœ¬ä¸­ï¼Œè¿˜ä½¿ç”¨äº†å·ç§¯å› å­åˆ†è§£çš„æ€æƒ³ï¼Œå°†å¤§å·ç§¯æ ¸åˆ†è§£æˆå°å·ç§¯ï¼ŒèŠ‚çœäº†å‚æ•°ï¼Œé™ä½äº†æ¨¡å‹å¤§å°ã€‚åœ¨V4ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨äº†æ›´åŠ ç»Ÿä¸€çš„inceptionæ¨¡å—ï¼Œå¹¶ç»“åˆäº†resnetçš„æ®‹å·®æ€æƒ³ï¼Œèƒ½å°†ç½‘ç»œåšå¾—æ›´æ·±ã€‚ refï¼š [1] https://zhuanlan.zhihu.com/p/30756181 [2] https://www.cnblogs.com/dengshunge/p/10808191.html [3] https://blog.csdn.net/l641208111/article/details/112484987","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"2022å¹´(23å±Š)è®¡ç®—æœºæœ«9ä½rkä¿ç ”ç»å†-èººå¹³é’å¹´ç¿»ç›˜è·¯","slug":"life/ä¿ç ”ç»éªŒè´´","date":"2022-09-28T12:00:00.000Z","updated":"2022-09-27T16:03:34.650Z","comments":true,"path":"/post/life/ä¿ç ”ç»éªŒè´´.html","link":"","permalink":"https://maskros.top/post/life/%E4%BF%9D%E7%A0%94%E7%BB%8F%E9%AA%8C%E8%B4%B4.html","excerpt":"æ³¨ï¼šæœ¬æ–‡ä¹Ÿè®¸å¯¹äºä½ çš„ä¿ç ”ç”³è¯·/é¢è¯•æ²¡æœ‰å¤šå°‘å¸®åŠ©ï¼Œæ›´å¤šçš„æ–‡å­—åªæ˜¯åœ¨é™ˆè¿°è¿™ä¸‰å¹´çš„å­¦ä¹ /ç”Ÿæ´»/å¿ƒç†å†ç¨‹ï¼Œä¿ç ”ç»éªŒåˆ†äº«éƒ¨åˆ†è¾ƒå°‘ï¼Œå™äº‹éƒ¨åˆ†è¿‡é•¿ï¼Œä¸å–œå¯ä»¥ç•¥è¿‡ã€‚å¦‚æœå±å¹•å‰çš„ä½ è¯»å®Œäº†æœ¬æ–‡ï¼Œåœ¨è¿™æ ·ä¸€ä¸ªé€æ¸å†…å·çš„æ—¶ä»£ï¼Œå¸Œæœ›æˆ‘çš„æ•…äº‹èƒ½å¤Ÿç¼“è§£ä½ çš„äº›è®¸ç„¦è™‘ã€‚ èƒŒæ™¯ä¿¡æ¯ å­¦æ ¡ï¼šæŸ985å®ˆé—¨å‘˜ æˆç»©ï¼šå‰äº”å­¦æœŸ35/237(~15%)ï¼Œå‰å…­å­¦æœŸ37/265(~14%) ç»¼æµ‹ï¼š10/265(~4%)ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨åˆ° è‹±è¯­ï¼šå››çº§496ï¼Œå…­çº§470 ä¸ªäººè£èª‰ï¼šæ ¡äºŒç­‰å¥–å­¦é‡‘ï¼Œç¤¾ä¼šå¥–å­¦é‡‘ï¼Œä¼˜ç§€å›¢å‘˜ï¼Œæ²¡å•¥ç”¨ ç«èµ›ï¼šICPCåŒºåŸŸèµ›é“œçœé“¶(é˜Ÿé•¿)ï¼Œè“æ¡¥Java Aç»„å›½äºŒï¼ŒCCSPå›½èµ›é“œé¦–ï¼Œæ•°å­¦å»ºæ¨¡ç¾èµ›Må¥–(ä¸€ä½œ)ç­‰ ç§‘ç ”ï¼š0 é¡¹ç›®ï¼šä»…æœ‰è¯¾è®¾ï¼Œâ‰ˆ0","text":"æ³¨ï¼šæœ¬æ–‡ä¹Ÿè®¸å¯¹äºä½ çš„ä¿ç ”ç”³è¯·/é¢è¯•æ²¡æœ‰å¤šå°‘å¸®åŠ©ï¼Œæ›´å¤šçš„æ–‡å­—åªæ˜¯åœ¨é™ˆè¿°è¿™ä¸‰å¹´çš„å­¦ä¹ /ç”Ÿæ´»/å¿ƒç†å†ç¨‹ï¼Œä¿ç ”ç»éªŒåˆ†äº«éƒ¨åˆ†è¾ƒå°‘ï¼Œå™äº‹éƒ¨åˆ†è¿‡é•¿ï¼Œä¸å–œå¯ä»¥ç•¥è¿‡ã€‚å¦‚æœå±å¹•å‰çš„ä½ è¯»å®Œäº†æœ¬æ–‡ï¼Œåœ¨è¿™æ ·ä¸€ä¸ªé€æ¸å†…å·çš„æ—¶ä»£ï¼Œå¸Œæœ›æˆ‘çš„æ•…äº‹èƒ½å¤Ÿç¼“è§£ä½ çš„äº›è®¸ç„¦è™‘ã€‚ èƒŒæ™¯ä¿¡æ¯ å­¦æ ¡ï¼šæŸ985å®ˆé—¨å‘˜ æˆç»©ï¼šå‰äº”å­¦æœŸ35/237(~15%)ï¼Œå‰å…­å­¦æœŸ37/265(~14%) ç»¼æµ‹ï¼š10/265(~4%)ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨åˆ° è‹±è¯­ï¼šå››çº§496ï¼Œå…­çº§470 ä¸ªäººè£èª‰ï¼šæ ¡äºŒç­‰å¥–å­¦é‡‘ï¼Œç¤¾ä¼šå¥–å­¦é‡‘ï¼Œä¼˜ç§€å›¢å‘˜ï¼Œæ²¡å•¥ç”¨ ç«èµ›ï¼šICPCåŒºåŸŸèµ›é“œçœé“¶(é˜Ÿé•¿)ï¼Œè“æ¡¥Java Aç»„å›½äºŒï¼ŒCCSPå›½èµ›é“œé¦–ï¼Œæ•°å­¦å»ºæ¨¡ç¾èµ›Må¥–(ä¸€ä½œ)ç­‰ ç§‘ç ”ï¼š0 é¡¹ç›®ï¼šä»…æœ‰è¯¾è®¾ï¼Œâ‰ˆ0 å¤ä»¤è¥/é¢„æ¨å…ç»å† å‡†å¤‡ï¼šè‡ªæˆ‘ä»‹ç»/å­¦ç§‘é—®é¢˜/é¡¹ç›®/è‹±è¯­ï¼Œå­¦ç§‘é—®é¢˜å½“æ—¶xjbæäº†ä¸ªã€Šé¢è¯•åœ£ç»ã€‹ï¼Œä»å„å¤§ä¿ç ”è´´å·çš„ï¼Œé¢å‰ç…ä¸¤çœ¼ï¼Œä¹Ÿæ²¡ç»†èƒŒï¼Œæ¯”è¾ƒé€—ä¹ï¼Œä»…ä¾›å‚è€ƒã€‚ ä»¥ä¸‹ä¸ºå¤ä»¤è¥å‚è¥ç»å†ï¼Œå†™å¾—æ¯”è¾ƒç®€ç•¥ï¼Œä¹Ÿä»…ä¾›å‚è€ƒã€‚ å­¦æ ¡ æ–¹å‘ æ˜¯å¦å…¥è¥ é¢è¯•æ—¶é—´ æ˜¯å¦ä¼˜è¥ ç»å† å¤æ—¦å¤§å­¦FDU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - æŠ•ç€å›¾ä¸€ä¹ ä¸­å—å¤§å­¦CSU è®¡ç®—æœºå­¦ç¡• âœ… 6/30 âœ…(å…ˆæŠ¥å…ˆå½•ğŸ˜…) åƒåœ¾ç³»ç»Ÿ é¢è¯•è‹±æ–‡è‡ªæˆ‘ä»‹ç»ï¼Œå½“æ—¶æ²¡å‡†å¤‡ï¼Œå¯„ =&gt; è¿™ä¹Ÿè¿‡äº†ï¼Œä»€ä¹ˆæµ·ç‹ åä¸œå¸ˆèŒƒå¤§å­¦ECNU è½¯å·¥ä¸“ç¡•/è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - - æ­¦æ±‰å¤§å­¦WHU(æœ€ç»ˆå»å‘) é¥æ„Ÿå›½é‡CV 0812å­¦ç¡• âœ… 7/7 âœ… å¤ä»¤è¥å¼€è¥ä»ªå¼å½“å¤©è”ç³»äº†å¿ƒä»ªçš„å¯¼å¸ˆï¼Œè€å¸ˆäººå¾ˆéšå’Œï¼Œé€šäº†ç”µè¯å®å˜±äº†å‡ å¥ã€‚é¢è¯•ç¯èŠ‚ä¸»è¦é—®äº†é¡¹ç›®ï¼Œç„¶åå°±æ˜¯è‹±è¯­çš„å®¢å¥—é¢˜ï¼Œnoç¬”è¯•ï¼Œè¯„åˆ†æ˜¯èƒŒæ™¯åˆ†+é¢è¯•åˆ†ã€‚xmWHU ä¸­å›½ç§‘å­¦é™¢ä¸Šæµ·é«˜ç ”é™¢UCAS ï¼Ÿ âœ… 7/14(é¸½) - ä¸Šç½‘å†²æµªæ—¶æ„Ÿè§‰è¯„ä»·ä¸€èˆ¬ï¼Œå¸ˆèµ„ä¸€èˆ¬ï¼Œä¸”ä¸æ‡‚æä»€ä¹ˆçš„ï¼Œé¸½ å¦é—¨å¤§å­¦XMU äººå·¥æ™ºèƒ½ä¸“ç¡• âœ–ï¸ - - å‘ƒå‘ƒ ä¸Šæµ·ç§‘æŠ€å¤§å­¦STU ç”Ÿç‰©åŒ»å­¦å·¥ç¨‹BME âœ… 7/22(é¸½) - æ…•åè€ŒæŠ•ï¼Œä½†å› äº†è§£ä¸å¤šï¼Œä¸”7/7åé€‰æ‹©èººå¹³å¼€æ‘†ï¼Œé¸½ ä¸­å±±å¤§å­¦SYSU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - - å±±ä¸œå¤§å­¦SDU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - å“ˆå“ˆ è¥¿å®‰äº¤é€šå¤§å­¦XJTU è½¯å·¥å­¦ç¡• âœ… 6/28 âœ… æµ·ç‹è¥ï¼Œé¢è¯•è¯»å®Œpptï¼Œé—®æ›°ï¼šâ€ä½ åœ¨ç®—æ³•ç«èµ›æ”¶è·äº†ä»€ä¹ˆï¼Ÿâ€ ç­”æ›°ï¼šâ€xxx&quot;ï¼Œåˆé“ï¼šâ€å—¯ï¼Œå¤§å­¦è¿‡çš„å¾ˆå……å®ï¼Œä½ å¯ä»¥èµ°äº†â€ï¼Œé‚æ¶¦ åä¸­ç§‘æŠ€å¤§å­¦HUST äººå·¥æ™ºèƒ½(x)è‡ªåŠ¨åŒ–(âˆš)å­¦ç¡• âœ… 7/7(é¸½) - xmHustå†…ç½®éº¦å½“åŠ³ï¼Œç»“æœæŠ¥æˆæ§åˆ¶ç§‘å­¦ä¸å·¥ç¨‹äº†ï¼Œæˆ‘ä»¥ä¸ºæ˜¯cvï¼ŒåŸæ¥æ˜¯æ¢çš®è‡ªåŠ¨åŒ–ï¼Œç»·ä¸ä½äº†ï¼Œé‚é¸½ å±±ä¸œå¤§å­¦iLearnå®éªŒå®¤ å¤šåª’ä½“ä¿¡æ¯å¤„ç† âœ…(å®éªŒå®¤é¢) 7/7 âœ…(åé¢) ä¸‰ä¸ªå­¦é•¿è½®æµé—®ï¼Œæ•°å­¦(æ¦‚ç‡/çº¿ä»£)+è‹±è¯­+ä¸“ä¸šè¯¾(æ•°æ®ç»“æ„)+é¡¹ç›®ï¼Œéå¸¸å…¨é¢ã€‚æ¦‚ç‡é¢˜æ•´ä¸ªå¯„çƒ‚ï¼Œä½†æ˜¯å°è±¡ä¸é”™ï¼Œé‰´å®šä¸ºä¼˜ç§€ï¼Œå› æ‹¿åˆ°whu offeré‚å©‰æ‹’é‡Šæ”¾åé¢ é¢„æ¨å…å°±æŠ•äº†ä¸€ä¸‹æ¸…æ·±çš„bmeå’Œäº’åª’(åšæ¸¸æˆçš„)ï¼Œç›´æ¥è¢«æ‹’äº†ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œä¸€ä¸ªæ¸…æ·±csçš„è€å¸ˆæ‰“å¼€äº†3æ¬¡æˆ‘çš„è‡ªèä¿¡ï¼Œå¯èƒ½æ˜¯å¥½å¥‡æˆ‘çš„MailTrackæ’ä»¶ç½¢:) ç¡®åˆ‡çš„è¯´ï¼Œæˆ‘çš„ä¿ç ”ä¹‹æ—…åœ¨7.7å°±å·²ç»åŸºæœ¬ç»“æŸäº†ï¼Œæ²¡æœ‰å†—é•¿çš„æˆ˜çº¿ï¼Œæ²¡æœ‰æ—¥å¤ä¸€æ—¥ç„¦è™‘çš„èƒŒè¯µå…«è‚¡ã€è‹±æ ¼åŠ›å£«ï¼Œæ—©æ—©åœ°èººå¹³ã€‚è¿™æ®µæ—¶é—´å°±å¦‚åŒæˆ‘è¿™ä¸‰å¹´ä¸€è´¯çš„ä½œé£ï¼Œç›¸è¾ƒèµ·æ¥ä¹Ÿæ²¡æœ‰å¤šä¹ˆçš„ç‰¹åˆ«ï¼Œè½¬çœ¼é—´å°±è¿‡å»äº†ã€‚ ã€Šè®ºèººå¹³ã€‹ é¦–å…ˆæ¥è°ˆè°ˆèººå¹³ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯ä¸æƒ³ç”¨è¿™ä¸ªè¯çš„ï¼Œæˆ‘è§‰å¾—æˆ‘å¹¶ä¸ç®—å½»åº•çš„èººå¹³(å¼€æ‘†)ï¼Œå¤šå°‘ä¹ŸåŠªåŠ›è¿‡ï¼Œä½†æ˜¯æˆ‘åˆæƒ³ä¸åˆ°æœ‰ä»€ä¹ˆæ›´åˆé€‚çš„è¯æ±‡æ¥å½¢å®¹ï¼Œéšæ€§ï¼Ÿä½›ç³»ï¼Ÿä¼¼ä¹éƒ½ä¸æ˜¯ç‰¹åˆ«åœ°å‡†ç¡®ï¼Œä½†æ˜¯æœ€è¿‘ç”±äºåœ¨ç‹ ç‹ åœ°ç©csgoï¼Œæœ‰ä¸ªéŸ³ä¹ç›’å«èººå¹³é’å¹´(lowlife- Neck Deep)ï¼š æ­Œåç¿»è¯‘çš„æŒºèŠ±å“¨ï¼Œä¹Ÿè®¸ä¸å‡†ç¡®ä½†å¤šå°‘æ²¾è¾¹ï¼Œå°±æ‹¿è¿‡æ¥å½“æ ‡é¢˜ç”¨äº†ã€‚ æ•´é¦–æ­ŒèŠ‚å¥å¾ˆè½»å¿«ï¼ŒæŒºå¥½å¬ï¼Œæœ‰ä¸€æ®µå¦‚æ˜¯å”±ï¼š Baby Iâ€™ll see you in hell Mr. â€˜dead on the insideâ€™ å¾ˆç»å…¸ï¼Œæˆ‘æ‰“csgoçš„æ—¶å€™å°±è€å¬åˆ°åˆ«äººæ‹¿äº†MVPï¼ŒéŸ³ä¹ç›’æ”¾è¿™æ®µå„¿ï¼Œäºæ˜¯æˆ‘å°±æ‰“ç®—å»bç«™ç»†å“ä¸€ä¸‹ï¼Œäºæ˜¯æœç´¢ï¼šèººå¹³é’å¹´ï¼Œç»“æœé¦–å…ˆç½®é¡¶çš„æ˜¯è¿™äº›ï¼Œå†å¾€ä¸‹æ‰æ˜¯å…³é”®è¯æœ€åŒ¹é…çš„éŸ³ä¹ç›’è§†é¢‘ï¼š è§‰å¾—å¾ˆæç¬‘ï¼Œä¸ç”±å¾—æƒ³èµ·å¦ä¸€å¼ å›¾ï¼š å†…å·æ˜¯ç°åœ¨çš„çƒ­è¯ï¼Œæ•´ä¸ªç¤¾ä¼šéƒ½åœ¨æå€¡ä½ å¼€å·ï¼Œæ‹’ç»ä½›ç³»ã€èººå¹³ã€æ‘†çƒ‚ï¼Œé£æ°”å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œè¡Œä¸šäººæ‰é¥±å’Œäº†ã€æœ¬ç§‘å­¦å†è´¬å€¼äº†ï¼Œä¸€å¤§å¸®äººäº‰ç€æŠ¢ç€å»ç»™èµ„æœ¬å®¶é€è¡€ï¼Œæ›´å¤šçš„äººé™·å…¥åˆ°ç–¯ç‹‚çš„ç„¦è™‘ä¸­ï¼›csè¿›å…¥äº†å¯’å†¬æœŸï¼Œå‰ä¸¤å¤©è¿˜çœ‹äº†ä¸‰ä¸ªç™¾äº¬å¸¦å­¦ç§‘ç­csç¡•å£«ç™¾åœºé¢è¯•0 offerçš„æƒ¨çƒˆæˆ˜ç»©ï¼Œå†è¿‡å‡ å¹´ä¸çŸ¥é“æ˜¯ä¸æ˜¯å…¨çƒ‚å®Œäº†ã€‚å°±æ‹¿æˆ‘æ ¡è¿™ä¸¤å¹´ä¿ç ”çš„æƒ…å†µæ¥è®²ï¼Œ18çº§çš„å¤´éƒ¨å‡åˆ†è¦æ¯”19çº§ä½äº†è¿‘2åˆ†ï¼Œæˆ‘ä¸å¥½è¯„ä»·ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸å°‘äººï¼Œæ¯å¤©å›¾ä¹¦é¦†æ—©è¿›æ™šå‡ºç‹ ç‹ åœ°å­¦ï¼Œæ¯èŠ‚è¯¾éƒ½ååœ¨æ•™å®¤ç¬¬ä¸€æ’ç‹ ç‹ åœ°å¬ã€è¯¾é—´/è¯¾ä¸‹æŠ“ä½è€å¸ˆç‹ ç‹ åœ°é—®ï¼Œâ€œæˆ‘è¦ç‹ ç‹ åœ°å·æˆ‘çš„ç»©ç‚¹ğŸ¥µï¼â€ â€œæˆ‘è¦ç‹ ç‹ åœ°è¶…åœ¨æˆ‘å‰é¢çš„äººğŸ¥µï¼â€â€œæˆ‘è¦è¯»æœ€å¥½çš„ç ”ğŸ¥µï¼â€â€œæˆ‘è¦ç‹ ç‹ çš„å…¥å¸¦å‚æ”¶ç±³ğŸ¥µğŸ¥µï¼â€ æœ‰æ¢¦æƒ³æ˜¯å¾ˆå¥½çš„ï¼Œä¸ºäº†æ›´å¥½çš„å¹³å°æ›´ç‰›çš„titleæ›´å¤šçš„é©¬å†…å½“ç„¶å¥½æï¼Œè°ä¸æƒ³è¦ï¼Œä½†æ˜¯è¿™ç§è¿‡åº¦çš„ç„¦è™‘æˆ‘è®¤ä¸ºä¸å¯å–ã€‚æœ‰çš„å“¥ä»¬å„¿å¤ªç„¦è™‘äº†ï¼Œå‹åŠ›å…¨ä¸Šå®Œäº†ï¼Œç»“æœè‡ªä¸ªè¢«è‡ªä¸ªå¦å®šå®Œäº†ï¼Œå­¦ä¹ /ç”Ÿæ´»/æ“ä½œéƒ½å˜å½¢å„¿äº†ï¼Œè¿™è‚¯å®š8è¡ŒğŸ¤—ã€‚ è¿™äº›è¯çš„ç›®çš„ä¸æ˜¯æˆ‘æ¨å´‡èººå¹³ï¼Œæˆ‘ä¸€ç›´å¾ˆæ•¬ä½©é‚£äº›ä¸ºäº†å®ç°æ¢¦æƒ³è€Œå¥‹æ–—çš„æœ‹å‹ã€‚æˆ‘åªæ˜¯ä¸ªäººè®¤ä¸ºæœ¬ç§‘å­¦çš„ç¡®å®å¤§å¤šæ•°æ²¡å•¥ç”¨ï¼Œä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„å…¬å…±è¯¾ã€é€‰ä¿®è¯¾ã€ä¸“ä¸šè¯¾ï¼Œå°±ç®—æ˜¯ä¸“ä¸šæ ¸å¿ƒè¯¾ï¼Œå¤§éƒ¨åˆ†çš„ä¸œè¥¿å½“ä½ åˆ°äº†ç”Ÿäº§ç¯å¢ƒä¸­ç”¨åˆ°çš„ä¹Ÿæ²¡å‡ é¡µï¼Œæ²¡æœ‰å¿…è¦èŠ±å¤ªå¤šçš„æ—¶é—´åœ¨ä¸Šé¢ã€‚ä¸æ˜¯å­¦ä¹ æ€åº¦ä¸ç«¯æ­£ã€ä¸å¥½å¥½å­¦ï¼Œè€Œæ˜¯ä¸å®ç”¨çš„ä¸œè¥¿åº”è¯•å°±å¤Ÿäº†ï¼Œå¸¦å­¦ä¸æ˜¯é«˜ä¸­ï¼Œä½ å­¦çš„å†è®¤çœŸä¹Ÿæ²¡å¤ªå¤šç”¨å¤„ï¼Œæœ‰é‚£ç‹ å­¦å…«è‚¡çš„åŠŸå¤«ä¸å¦‚æ‹“å±•ä¸€ä¸‹è§†é‡ï¼Œå¹²ç‚¹çƒ­çˆ±çš„ã€çœŸæ­£æœ‰ç”¨çš„ï¼Œææç§‘ç ”ææé¡¹ç›®ï¼Œå®è·µæ°¸è¿œå¤§äºä¸€åˆ‡ã€‚ é‰´å®šä¸ºè¦ä¿æŒå¥½è‡ªå·±çš„ç”Ÿæ´»èŠ‚å¥ï¼Œä¸è¦å¤ªè¿‡ç„¦è™‘ï¼Œåè€Œå®¹æ˜“ç»å…¸ç™½å¿™æ´»ğŸ¤—ã€‚ å½“ç„¶ä¸åŒçš„äººæœ‰ä¸åŒçš„æ€åº¦ï¼Œæˆ‘åªæ˜¯è°ˆè°ˆæˆ‘çš„ï¼Œå¤§ç«æœ‰å•¥åå¯¹æ„è§ä¹Ÿå¯ä»¥ç•™è¨€ä¸€ä¸‹ï¼Œcan can need ä¸‹é¢æ˜¯ä¿ºçš„ä¸‰å¹´ã€‚ç”±äºæ˜¯æ–­æ–­ç»­ç»­çš„å›å¿†ï¼Œæ‰€ä»¥æƒ³åˆ°å“ªå†™åˆ°å“ªã€‚ ä¸€å¹´ æœ‰äººæ›°ï¼šè¿›äº†å¸¦å­¦ï¼Œå°±æ˜¯è¿›äº†ç¤¾ä¼š çœæµï¼šç¤¾å›¢|å­¦ç”Ÿä¼š|è¿åŠ¨|ç¤¾äº¤|ç–«æƒ… åˆå…¥å¸¦å­¦ï¼Œé¦–å…ˆæƒ³çš„å°±æ˜¯è·Ÿèˆå‹æ‰“å¥½å…³ç³»ï¼Œæ¯•ç«Ÿæ˜¯ä½ å‡ å¹´çš„ä¼™ä¼´å„¿ã€‚åˆšå¥½æœ‰ä¸€ä¸ªå¿—åŒé“åˆçš„å“¥ä»¬å„¿ï¼Œæˆ‘ä»¬çš„çˆ±å¥½ä¹Ÿæœ‰å¾ˆé«˜çš„é‡åˆåº¦ï¼Œäºæ˜¯å°±å¾ˆå¿«ç©å„¿åˆ°ä¸€èµ·äº†ã€‚å†›è®­çš„æ—¶å€™ä¹Ÿæ²¡æœ‰å•¥å­¦ä¹ ä»»åŠ¡ï¼Œè¿™æ®µæ—¶é—´çš„æ–°é²œç©æ„å„¿å°±æ˜¯ç¤¾å›¢çº³æ–°ï¼Œæˆ‘ä¹ŸæŠ•æŠ¥äº†å¥½å‡ ä¸ªï¼šæ¯”å¦‚å¤§å­¦ç”Ÿè‰ºæœ¯å›¢ï¼Œå› ä¸ºæˆ‘ä¿©éƒ½å–œæ¬¢å”±æ­Œï¼Œå°±å»æŠ¥äº†åˆå”±å›¢ï¼›æ¯”å¦‚æ ¡å­¦ç”Ÿä¼šï¼Œé‚£ä¸ªæ£šå­æŒºæ°”æ´¾çš„æˆ‘ä»¬å°±å»å¡«äº†ä¸ªè¡¨ï¼ŒåŠ äº†æ–‡è‰ºéƒ¨ï¼Œè‡­åŠæ´»åŠ¨çš„ï¼›ç„¶åå°±æ˜¯æœ¬å­¦é™¢çš„ï¼Œå¯¹ACMæ¯”è¾ƒæ„Ÿå…´è¶£å°±æŠ¥äº†ï¼Œè™½ç„¶åªé™äºæŠ¥äº†ï¼Œè¿™æ˜¯åè¯ã€‚ å¼€å­¦äº†ï¼Œå“¥ä»¬ä¸€çœ‹è¿™è¯¾è¡¨ï¼Œç”µè·¯ç”µå­å­¦ï¼Œé«˜æ•°ï¼Œå†›æ¦‚ï¼Œæ€ä¿®ï¼Œè¿˜æœ‰ä¸ªä»€ä¹ˆå¯¼è®ºï¼Œéƒ½ä»€ä¹ˆbè¯¾ï¼Œå”¯ä¸€æ²¾ç‚¹è¾¹çš„å°±æ˜¯ä¸ªCè¯­è¨€ï¼Œå†åŠ ä¸Šå“¥ä»¬æœ‰ç‚¹å„¿åŸºç¡€äº†ï¼Œæ‰€ä»¥ä¸Šè¯¾ä¹Ÿå¼€æ‘†äº†ã€‚æ€»ç»“å°±æ˜¯ï¼ŒåŸºæœ¬ä¸Šæ„Ÿè§‰ä¸Šè¯¾å°±æ˜¯åœ¨ç­‰ç€ä¸‹è¯¾ï¼ŒåŠ ä¸Šä¸€è¾¹è¦åˆå”±æ’ç»ƒã€æ¼”å‡ºï¼Œä¸€è¾¹åˆè¦å¼€è¿™ä¼šé‚£ä¼šï¼Œæˆ‘å¯¹è¿™åŠå¹´çš„è®°å¿†å‡ ä¹ç™¾åˆ†ä¹‹å…«åéƒ½æ¥è‡ªäºè¯¾ä¸‹çš„æ´»åŠ¨ï¼Œå­¦æ˜¯æ²¡å’‹å­¦ã€‚ ä¸Šå¸¦å­¦ä¹‹å‰ä¸çŸ¥é“ä»å“ªé‡Œè·å¾—çš„æ¦‚å¿µè¯´ï¼Œä¸Šäº†å¸¦å­¦å°±è§£æ”¾äº†ï¼Œå¯ä»¥ç¿˜è¯¾ã€æ‘†çƒ‚ã€ç”šè‡³æŒ‚ç§‘ï¼Œæˆ‘å½“æ—¶å¯¹ä¿ç ”è€ƒç ”æ˜¯ä¸€ç‚¹äº†è§£éƒ½æ²¡æœ‰çš„ï¼Œæƒ³æƒ³ä¹ŸæŒºæç¬‘ï¼Œå•¥ä¹Ÿæ²¡äº†è§£å°±å—¯æ‘†ã€‚å½“ç„¶æˆ‘æ˜¯ä¸æƒ³æŒ‚ç§‘çš„ï¼Œæ¯•ç«Ÿè¿˜è¦ç‚¹è„¸ï¼Œæ‰€ä»¥è™½ç„¶å¹³å¸¸å­¦çš„ç¨€çƒ‚ï¼Œä½†æ˜¯æœŸæœ«ç¨å¾®çœ‹äº†çœ‹ï¼Œæ‰€ä»¥è™½ç„¶æˆç»©ä½ä¸€ç‚¹ä½†ä¹Ÿæ²¡æŒ‚ï¼Œä½†æ˜¯è¿™ä¸€ä¸ªå­¦æœŸä¹Ÿæˆä¸ºäº†æˆ‘åé¢ä¿ç ”è·¯ä¸Šçš„æœ€å¤§åæ‚”ä¹‹å¤„ï¼Œè¿™ä¹Ÿæ˜¯åè¯ã€‚ æˆ‘çš„çˆ±å¥½æ¯”è¾ƒå¹¿æ³›ï¼Œæ‰€ä»¥æˆ‘å‚åŠ äº†åˆå”±å›¢ã€å­¦ç”Ÿä¼šã€å‚åŠ äº†æ–°ç”Ÿæ¯è¶³çƒèµ›ã€ç¯®çƒèµ›ï¼Œåˆæ‰“äº†ä¼šè¾©è®ºï¼Œä½†æ˜¯ä¸çŸ¥é“å“ªå¤©ï¼Œæˆ‘çªç„¶å¼€çªäº†ï¼Œæˆ‘è§‰å¾—è¾©è®ºè¿™ä¸ªä¸œè¥¿æ˜¯ç”±èµ›äº‹ä¸»åŠæ–¹ç»™ä½ è§„å®šä½ çš„ç«‹åœºã€è€Œä½ è¦å»æƒ³åŠæ³•æ”¶é›†è¿™ä¸ªç«‹åœºçš„è®ºç‚¹æ¥è¿›è¡Œè¯¡è¾©ã€å“ªæ€•è¿èƒŒä½ å†…å¿ƒå¯¹å¯¹è¿™ä¸ªé—®é¢˜çš„ç«‹åœºä¹Ÿè¦å˜´ç¡¬æ©è¯´çš„ç©æ„ï¼ˆæ— æ„å†’çŠ¯ï¼‰ï¼Œæ„Ÿè§‰æ²¡å¤§æœ‰åŸåˆ™ï¼Œé‚æ¶¦ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ— æ³•é¿å…çš„ä¸€ä¸ªäº‹æƒ…å°±æ˜¯ç¤¾äº¤ã€‚æˆ‘æ˜¯å±äºé‚£ç§å’Œç†Ÿäººå¯ä»¥éšä¾¿å‘ç”µï¼Œä½†æ˜¯é‡åˆ°ç”Ÿäººå°±å˜æˆå°¬å­çš„æ€§æ ¼ï¼Œæˆ‘ç°åœ¨ä»¥ä¸Šå¸è§†è§’å›é¡¾å½“æ—¶çš„æ ·å­æ„Ÿè§‰å°±åƒæ˜¯ä¸€ä¸ªçº¯çº¯çš„å°ä¸‘ğŸ¤¡ï¼Œå¤©å¤©å‘æœ‹å‹åœˆåœ¨è¯„è®ºåŒºäº’ç›¸é«˜å¼ºåº¦äº’åŠ¨ï¼Œæ•´çš„æŒºçƒ­é—¹ï¼Œä½†æ˜¯å¾ˆè ¢ï¼›æœ‰æ—¶ä¸ºäº†ç¤¾äº¤ï¼Œæ•…æ„å»åˆ¶é€ èŠ‚ç›®æ•ˆæœå»é€—ä¹ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¸çŸ¥é“åˆ«äººçœŸæ­£å†…å¿ƒå¯¹ä½ çš„å°è±¡ï¼Œæ‰€ä»¥æ²¡å¤ªæœ‰å¿…è¦ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œæ•´ä¸ªå¤§å­¦æ—¶æœŸä½ ä¸éœ€è¦å»äº¤å¾ˆå¤šå¾ˆå¤šæœ‹å‹ï¼Œæœ‰æ‰€è°“çš„äººç¼˜ï¼Œåœ¨ç²¾è€Œä¸åœ¨å¤šï¼Œæˆ‘ä¸å¤ªå–œæ¬¢æ‰€è°“çš„é¥­å±€ã€é…’æ¡Œæ–‡åŒ–å’Œåƒé¥­ç¤¼ä»ªï¼Œä¼šè®©äººå¾ˆä¸è‡ªåœ¨ï¼Œä½†æ˜¯è¿˜å¾—èˆ”ç€ä¸ªç¬‘è„¸è¿è¿‡å»ï¼Œæœ‰ç‚¹ä½œè·µè‡ªå·±äº†ã€‚ ç„¶åï¼Œç–«æƒ…äº†ã€‚ å°åœ¨å®¶äº†ï¼Œæ€ä¹ˆåŠï¼Ÿæ‘†çƒ‚å‘—ï¼ç½‘è¯¾å…¶å®è¿˜æŒºå¥½ï¼Œæ•´å¤©åœ¨å®¶ä¸ç”¨èµ¶è·¯ï¼ŒæŒºè‡ªåœ¨ï¼Œè€ƒè¯•ä¹Ÿç®€å•ï¼Œå¯’å‡è¿æš‘å‡ï¼Œæœ€åç»™åˆ†ä¹Ÿä¸ä½ï¼Œç¤¾å›¢æ´»åŠ¨ä¹Ÿåœäº†ï¼Œè¿™ä¸€ä¸ªå­¦æœŸå°±è«åå¥‡å¦™çš„ï¼Œéå¸¸çº¯çœŸï¼Œæœ€åè¿˜æŠŠæˆ‘çš„æˆç»©ä»ä½è°·å¾€ä¸Šæ‹‰äº†ç‚¹(80.7â†’84.8)ï¼Œåªèƒ½è¯´æŒºå…³é”®çš„ã€‚ ä¸¤å¹´ ã€Šè™¹çŒ«è“å…”ä¸ƒä¾ ä¼ ã€‹ä¸»é¢˜æ›²æ›°ï¼šæ´»å°±è¦æ´»å¾—æœ‰æ»‹æœ‰å‘³ï¼Œè¿‡å°±è¦è¿‡å¾—ç¥é‡‡é£æ‰¬ çœæµï¼šä¹é˜Ÿ|ç¤¾å›¢|çˆ±æƒ…|å­¦ä¹ |ç«èµ›Ã—|èµ°åœ¨æ­£ç¡®çš„é“è·¯ä¸Š è¿™ä¸€å¹´å¯ä»¥è¯´æ˜¯éå­¦ä¸šå±‚é¢ä¸Šæœ€æœ‰æ»‹å‘³çš„ä¸€å¹´ã€‚ ç¤¾å›¢å±‚é¢ï¼Œæˆ‘æ¸æ¸æ·¡å‡ºäº†åˆå”±ã€å­¦ç”Ÿä¼šï¼Œå› ä¸ºç¡®å®å¤§ä¸€ä¸ŠåŠå¹´æ„Ÿè§‰èŠ±è´¹äº†ç‰¹åˆ«å¤šçš„æ—¶é—´ï¼ŒåŠ ä¸Šè¯¾ä¹Ÿå¤šäº†ï¼Œç¡®å®å¾ˆå¿™ï¼Œåªæ˜¯å‚åŠ äº†å‡ é¦–é˜¿å¡è´æ‹‰æ‹…ä»»bassï¼Œèˆå°å¯èƒ½æœ‰äº›é—æ†¾ï¼Œä½†æ˜¯ç»ˆå½’ä¹Ÿæ”¶è·åˆ°äº†ä¸é”™çš„ä½“éªŒã€‚ä¸‹é¢ä¸»è¦è¯´è¯´æˆ‘ä»¬çš„ä¹é˜Ÿã€‚ æˆ‘æœ€åˆå’Œé¼“æ‰‹å§å§æ˜¯åœ¨å­¦ç”Ÿä¼šè®¤è¯†çš„ï¼Œç–«æƒ…æœŸé—´å¥¹è·Ÿæˆ‘æäº†è¿™ä¸ªæƒ³æ³•ï¼Œè®©æˆ‘æ¥å¼¹bassã€‚æˆ‘æ¬£ç„¶åŠ å…¥ï¼Œéšåå¥¹åˆé™†é™†ç»­ç»­çš„æ‰¾äº†å‡ ä¸ªæœ‹å‹ï¼Œè¿™æ ·ç³Šé‡Œç³Šæ¶‚ä¹é˜Ÿå°±ç»„å»ºèµ·æ¥äº†ã€‚å¤§äºŒä¸€å¼€å­¦ï¼Œæˆ‘ä»¬å•†é‡ç€ç¬¬ä¸€æ¬¡å»æ’ç»ƒï¼Œå¤§å®¶äº’ç›¸è®¤è¯†è¿‡åï¼Œéƒ½è§‰å¾—æ˜¯æ€§æ ¼å¾ˆå¥½å¾ˆniceçš„äººã€‚å½“ç„¶è¿™ä¸ªç»„å»ºçš„è¿‡ç¨‹ä¹Ÿå‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚åŸæœ¬å®šçš„èŠ‚å¥å‰ä»–æ‰‹ä¸æ¥äº†ã€ç¼ºå°‘ç”·ä¸»å”±å¯¼è‡´æ›²ç›®å—é™ç­‰é—®é¢˜ï¼Œè¿™å°±å¯¼è‡´æˆ‘ä»¬çš„å¤„å¥³ä½œã€Šæ€æ­»é‚£ä¸ªçŸ³å®¶åº„äººã€‹æ˜¯æˆ‘å½“çš„ä¸´æ—¶ä¸»å”±ï¼Œç¬¬ä¸€æ¬¡ç™»å°åˆå¾ˆç´§å¼ ï¼Œå¯¼è‡´åé¢basséƒ½å¿˜äº†å¼¹ğŸ˜…ï¼Œå…¨èº«éƒ½åœ¨å‘åŠ›ğŸ˜…ï¼ˆå› ä¸ºåŸè°ƒç¡®å®å”±ä¸ä¸Šå»ğŸ˜…ï¼‰ï¼Œåªèƒ½è¯„ä»·ä¸ºå¾ˆäº«å—èˆå°ğŸ¤¡ï¼Œå°±æ˜¯æœ‰ç‚¹ä¸¢äººğŸ˜…ï¼šä¸¢äººç°åœº è¿™æ¬¡æ¼”å‡ºåŒ…æ‹¬éŸ³è‰²å’ŒèŠ‚å¥é—®é¢˜éƒ½æ˜¯å­˜åœ¨çš„ï¼Œè¿™ä¹Ÿæœ‰æˆ‘ä»¬çš„ç£¨åˆä¸å‘¨ã€èˆå°ç»éªŒä¸è¶³åœ¨é‡Œé¢ã€‚å†åæ¥å»livehouseæ¼”å‡ºçš„æ—¶å€™æˆ‘ä»¬å¼¥è¡¥äº†é—æ†¾ï¼ˆæ¢äº†ä¸»å”±ğŸ¤«ï¼‰ï¼Œæˆ‘çš„basslineä¹Ÿå¾ˆå¥½å¬ï¼šç¾¤é­”ä¹±èˆç°åœº æ— å†…é¬¼ï¼Œæ¥ç‚¹bassç¬‘è¯ï¼š æ¸æ¸æˆ‘ä»¬çš„ç£¨åˆè¶Šæ¥è¶Šå¥½ï¼Œæ”¶åˆ°çš„æ¼”å‡ºé‚€è¯·ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå¤§å®¶ä¹Ÿè¶Šæ¥è¶Šä¸æ€¯åœºï¼ŒèŠ‚ç›®æ•ˆæœä¹Ÿè¶Šæ¥è¶Šå¥½ã€‚æˆ‘æ˜¯å¾ˆå–œæ¬¢å¬æ‘‡æ»šçš„ï¼Œåœ¨æ’ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œbassæ˜¯å’Œé¼“ç‚¹å…±é¸£æœ€å¤šï¼Œæˆ‘ä¼šå¾ˆäº«å—é‚£ç§æ²‰æµ¸åœ¨èŠ‚å¥å’Œå¾‹åŠ¨ä¸­çš„æ„Ÿè§‰ï¼Œå³ä½¿æˆ‘ä»¬å»æ’ç»ƒéœ€è¦èƒŒç€æ²‰é‡çš„ä¹å™¨å¤§è€è¿œèµ°å‡ºæ ¡é—¨è¿‡å‡ ä¸ªè·¯å£èµ°è¿‡å±±è·¯åˆ°å±±ä¸Šçš„ä¸€ä¸ªå°é›†è£…ç®±å»æ’ç»ƒï¼Œä½†æ˜¯é‚£ä¸€åˆ»æ„Ÿè§‰çœŸçš„ä»€ä¹ˆéƒ½æ— æ‰€è°“äº†ã€‚æˆ‘æ˜¯çœŸçš„å¾ˆçˆ±è¿™ä¸ªèˆå°ï¼Œçˆ±æˆ‘çš„æœ‹å‹ä»¬ï¼Œåœ¨èˆå°ä¸Šï¼Œæ„Ÿè§‰å°±åƒæ˜¯è¿›å…¥äº†ä¸€ç§å¿˜æˆ‘çš„çŠ¶æ€ï¼Œæµ‘èº«çš„ç»†èƒéƒ½åœ¨æ²¸è…¾ï¼Œçƒ§èµ·æ¥è¾£ğŸ¥µğŸ¥µğŸ¥µã€‚ è™½ç„¶å¤§ä¸‰å› ä¸ºå­¦ä¸šæˆ‘ä»¬æš‚åœäº†æ´»åŠ¨ï¼Œä½†æ˜¯å¸Œæœ›å¤§å››ä¸‹æˆ‘ä»¬è¿˜èƒ½å†æ¬¡å›åˆ°æ‰€çƒ­çˆ±çš„èˆå°ä¸Šã€‚ é™¤äº†ä¹é˜Ÿä¹‹å¤–ï¼Œå› ä¸ºå“¥ä»¬å„¿æ™®é€šè¯è¯´çš„è¿˜æŒºæ ‡å‡†ï¼Œè„‘å­ä¹ŸæŒºçµå…‰ï¼Œå½¢è±¡ä¹Ÿè¿˜å‡‘æ´»ï¼Œè‡ªå‘Šå¥‹å‹‡å»æ ¡æ­Œèµ›å½“äº†æ¬¡ä¸»æŒäººï¼Œç»“æœåé¢å„¿ä¹Ÿæ”¶åˆ°äº†å»ä¸»æŒçš„é‚€è¯·ï¼Œç»“æœç»™å“¥ä»¬å„¿æ•´è„±å•äº†ï¼Œå°é¹¿ä¹±æ’äº†æã€‚æ‹çˆ±çš„è¿‡ç¨‹å°±ä¸è¯´äº†ï¼Œå˜»å˜»ã€ã€ è¯„ä»·ä¸ºå¹¿æ³›ç‚¹å„¿å‘å±•ç¡®å®èƒ½ç»™ä½ å¤šå¸¦æ¥ç‚¹å„¿ä¸ªäººé­…åŠ›ğŸ˜‡ğŸ˜‡ ä¸‹é¢è¯´è¯´è¿™å¹´çš„å­¦ä¸šã€‚ä¸€å¼€å­¦ï¼Œæˆ‘çš„å¥½å­¦é•¿ã€æŸvå§“ç”·å­æˆåŠŸä¿ç ”äº†ï¼Œè®©æˆ‘å¹¼å°çš„å¿ƒçµå—åˆ°äº†æå¤§çš„å†²å‡»ã€‚å› ä¸ºæˆ‘æ ¹æœ¬ä¸çŸ¥é“æœ‰è¿™ç§äº‹å„¿ï¼Œä»¥ä¸ºå¤§ç«éƒ½å¾—è€ƒç ”ï¼Œå°±å»æ·±å…¥äº¤æµğŸ¤ºäº†ä¸€ä¸‹ï¼šæˆ‘è¶…ï¼Œè¿˜æœ‰è¿™ç§å¥½äº‹ï¼Œæ‚¨çœ‹æˆ‘è¿˜æœ‰æœºä¼šå—ğŸ¤—ï¼Ÿåˆ†æäº†ä¸€ä¸‹ï¼Œé‰´å®šä¸ºéš¾ä½†æ˜¯è¦å¥½å¥½å­¦æé«˜ä¸€ä¸‹ç»©ç‚¹ï¼Œå¯ä»¥å‚åŠ ä¸€ä¸‹ç¾èµ›æ•´ä¸ªå¥–åŠ åˆ†å„¿å˜å˜æ»´ã€‚ æˆ‘ç¡®å®ä¹Ÿä¸çŸ¥é“ç¾èµ›æ˜¯ä¸ªä»€ä¹ˆå‹¾å…«ç©æ„å„¿ï¼ŒæŸ¥äº†ä¸€ä¸‹åŸæ¥æ˜¯æ•°å­¦å»ºæ¨¡ï¼Œå¥½é«˜çº§æï¼ŒåŸæ¥æˆ‘å°±æ˜¯ç‰™åŒ»ä¸çœŸï¼Œä¸€ä¸ªçº¯çº¯çš„ç™½é½¿ï¼Œä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œç‹ ç‹ åœ°æŠ½äº†è‡ªå·±å‡ ä¸ªå˜´å·´å­ï¼Œèµ¶ç´§å»å¥½å¥½äº†è§£æææ¯”èµ›ï¼ŒåŠ å…¥äº†ä½†æ˜¯æ²¡æœ‰å¥½å¥½ç”¨åŠŸçš„ACMæ˜¯æ—¶å€™è®¾ç½®ç½®é¡¶äº†ã€‚ ä¸ŠåŠå­¦å¹´ï¼Œå­¦ä¹ æ–¹é¢æˆ‘é‡‡ç”¨çš„ç­–ç•¥æ˜¯å¹³å¸¸å°±è·Ÿç€ç”»ç”»é‡ç‚¹ï¼Œå¬å¾—ä¹Ÿæ˜¯ä¸æ±‚ç”šè§£ï¼Œç„¶åæœŸæœ«ä¹‹å‰æ•´ç†ä¸€ä¸‹ç¬”è®°çªå‡»ä¸€ä¸‹ï¼Œå½“æ—¶æ²‰è¿·markdownï¼Œæ•´äº†ä¸€å †ç”µå­ç¬”è®°æœ€åæ‰“å°å‡ºæ¥ï¼Œç»“æœæœ€åæˆç»©å¹¶ä¸ç†æƒ³ï¼Œå¹³å‡åˆ†ä¹Ÿæ²¡æœ‰ä¸Šå‡å¤šå°‘ã€‚ç„¶åå°±å¼€å§‹å¤ç›˜ï¼Œè¿™ä¸ªæ•´ç†ç¬”è®°çš„è¿‡ç¨‹æ˜¯ä¸æ˜¯æ¯«æ— æ”¶è·æï¼Œè¦ä¹ˆæ˜¯ç…§ç€æ‰“å­—ï¼Œè¦ä¹ˆæ˜¯cvè¯¾ä»¶ï¼Œæ‰“å°å‡ºæ¥æ»¡æ»¡çš„æ”¶è·æ„Ÿï¼Œç»“æœçœ‹ä¸äº†å‡ çœ¼ğŸ˜…è€ƒçš„è¿˜æ˜¯å“¥ä»¬æœ€ä¸æ“…é•¿çš„ä¸€å †ç†è®ºæ–¹é¢çš„ä¸œè¥¿ï¼Œå°¤å…¶æ˜¯bydå­¦æ ¡å¤§å†¬å¤©æœŸæœ«è€ƒè¯•å‘¨å¿«åˆ°äº†ç»“æœè¯´ä»€ä¹ˆæ°´ç®¡è£‚äº†ç»™æš–æ°”çƒ­æ°´å…¨åœäº†ï¼Œæ¯å¤©æ´»ç€å°±æ˜¯ä¸ºäº†ä¸è¢«å†»æ­»ï¼Œå¿ƒæ€ä¹Ÿä¸å¤ªå¥½ã€‚åæ­£å°±æ˜¯ä¸€ä¸‡ä¸ªç†ç”±ï¼Œæœ€ç»ˆå†³å®šä¸‹æ¬¡è€ƒè¯•çš„æ—¶å€™å¤å¤ä¸€ä¸‹ï¼Œéƒ½æ•´æ‰‹å†™çš„æ˜ç™½çº¸ï¼Œæ•ˆæœæ‹”ç¾¤ï¼Œè¿™æ˜¯åè¯ã€‚ ä¸‹åŠå­¦å¹´ï¼Œæˆ‘çœŸæ­£æ„ä¹‰ä¸Šçš„ç¿»ç›˜è«åå…¶å¦™çš„å¼€å§‹äº†ã€‚é¦–å…ˆæ˜¯å¯’å‡çš„æ—¶å€™é‚£ä¸ªç¾èµ›ï¼Œå“¥ä»¬è«åå…¶å¦™çš„æ‹¿äº†ä¸ªä¸€ä½œMå¥–(Meritorious Winner) â€”â€”ã€Šæ•°å­¦å»ºæ¨¡ç¾æœ¯å¤§èµ›ä¸¤å‘¨é€Ÿæˆåˆ°åŸåœ°é€€å½¹ã€‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘æ‰¿è®¤æ˜¯æœ‰è¿æ°”çš„æˆåˆ†ï¼Œå› ä¸ºå½“æ—¶çš„é¢˜ç›®å’Œæˆ‘çœ‹è¿‡çš„å¾€å¹´Oå¥–è®ºæ–‡çš„èµ›é¢˜è¾ƒä¸ºç›¸ä¼¼ï¼Œæ‰€ä»¥å¯ä»¥å‚è€ƒä¸€äº›ï¼›åŠ ä¸Šé˜Ÿå‹ä¹Ÿå¾ˆç»™åŠ›ï¼Œæˆ‘æ‰“å‡ºçš„è®ºæ–‡æ’ç‰ˆå’Œæœ€åçš„å¼€æ”¾é¢˜è®¾è®¡ä¹Ÿå¾ˆæ¼‚äº®ï¼Œæ•´çš„å’ŒçœŸäº‹å„¿ä¸€æ ·ï¼Œæ²¡æƒ³åˆ°ç›´æ¥Mäº†ã€‚æœ¬æ¥ä¸ŠåŠå¹´çš„è¡¨ç°ä»¥ä¸ºè¦å¯„äº†ï¼Œæ²¡æƒ³åˆ°æŸ³æš—èŠ±æ˜åˆä¸€æ‘äº†ï¼Œæˆ‘è§‰å¾—æˆ‘åˆè¡Œäº†ï¼Œä¿¡å¿ƒä¸Šæ¥äº†ï¼Œç»“æœæœŸæœ«è€ƒè¯•æ¢äº†æ–¹æ³•çªå‡»ï¼Œç›´æ¥ä¸€æ°”å‘µæˆï¼Œè€ƒå¾—è¿˜è¡Œï¼ŒæŠŠåˆ†åˆæ‹‰å›æ¥äº†ç‚¹ğŸ¤¤ã€‚ åˆšæ‰æåˆ°ACMï¼Œä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰å±•å¼€è®²æï¼Œä¸ºäº†æ•…äº‹çº¿çš„è¿è´¯æ€§ï¼Œæˆ‘å†³å®šæŠŠè¿™éƒ¨åˆ†æ”¾åˆ°ç¬¬ä¸‰å¹´æ¥è®²ã€‚ ä¸‰å¹´ æœ‰äººæ›°ï¼šå…¶å®ï¼Œæˆ–è®¸ä½ çœŸçš„åªæ˜¯çœ‹èµ·æ¥å¾ˆåŠªåŠ› çœæµï¼šç«èµ›|è¿åŠ¨|å­¦ä¹ |çˆ±æƒ…|okç¿»ç›˜å¤§ç« å…ˆè°ˆè°ˆç«èµ›ï¼Œä¸ºä»€ä¹ˆå‰ä¸¤å¹´ACMæ²¡æœ‰å±•å¼€è®²ï¼Œå› ä¸ºæ²¡æœ‰æˆç»©æã€‚åŠ å…¥ACMé¦–å…ˆæ˜¯å› ä¸ºé«˜ä¸­æ¥è§¦è¿‡ä¸€ç‚¹ä¿¡ç«ï¼Œä½†ä¹Ÿåªç®—æ¥è§¦è¿‡ä¸€ç‚¹ï¼Œç›¸å½“äº0åŸºç¡€ï¼›è§‰å¾—åšç®—æ³•/æ€ç»´é¢˜ï¼Œçœ‹åˆ°ACæ˜¯å¾ˆæœ‰æ„æ€ã€å¾ˆæœ‰æˆå°±æ„Ÿçš„ä¸€ä»¶äº‹æƒ…ã€‚æˆ‘æ ¡å‘æ¥æ˜¯ACMå¼±æ ¡ï¼Œæ•™ç»ƒåœ¨è¿™æ–¹é¢ä¹Ÿæ¯”è¾ƒç–å¿½ï¼ŒåŸ¹è®­çš„è¿‡ç¨‹ä¹Ÿæ˜¯èµ°èµ°è¿‡åœºï¼Œæ‰€ä»¥çœŸæ­£æƒ³è¦æ‰“å‡ºæˆç»©è¿˜æ˜¯æ›´å¤šéœ€è¦è‡ªå·±å»èŠ±æ—¶é—´åœ¨ä¸Šé¢ã€‚ACMæ˜¯å…¬è®¤çš„ä¸€é¡¹æŠ•å…¥å’Œå›æŠ¥ä¸æˆæ­£æ¯”çš„ä¸œè¥¿ï¼Œä¸å¦‚åšé¡¹ç›®å’Œæç§‘ç ”ï¼Œå¦‚æœç›®çš„æ˜¯æ‹¿åˆ°æ»¡æ„çš„å¥–é¡¹ï¼Œé‚£çœŸçš„æŒºéš¾çš„ï¼Œå¾—çœ‹å¤©èµ‹æã€‚è€Œä¸”è¿™äº›ç®—æ³•åœ¨ç°å®ç”Ÿäº§ä¸­çš„åº”ç”¨çœŸçš„å¾ˆå°‘ï¼Œæ›´åå‘äºä¼ ç»Ÿç®—æ³•ï¼Œæ„Ÿè§‰ä¸»è¦å°±æ˜¯æå‡ä½ çš„æ€ç»´èƒ½åŠ›å’Œæ‰‹é€Ÿã€‚è¿™æ˜¯å‰è¨€ã€‚ å¤§ä¸€çš„è¯ï¼Œå‰é¢ä¹Ÿè®²äº†ï¼Œå°±æ˜¯æ²¡æœ‰æŠ•å…¥åŠŸå¤«ï¼Œæäº†ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œç›¸å½“äºæ²¡è®­ï¼›å¤§äºŒçš„è¯ï¼Œä¹Ÿç®—æ˜¯æ­£å¼å¼€å§‹å‚åŠ æ¯”èµ›äº†ï¼Œå‰åŠå¹´çš„æ¯”èµ›æ—¢å½’ç»“äºè‡ªå·±æœ¬èº«å®åŠ›çš„ä¸è¶³ï¼Œåˆæ˜¯å› ä¸ºé˜Ÿå‹æ˜¯éšä¾¿ç»„èµ·æ¥çš„ï¼Œæ²¡æœ‰é…åˆä¸è¯´ä¸ªäººæ°´å¹³ä¹Ÿä¸è¾¾æ ‡ï¼Œæ‰“æ¯”èµ›çš„æ—¶å€™ç”šè‡³è¿˜æœ‰å‰¯ä½œç”¨ğŸ˜…ã€‚ä¸‹åŠå¹´å»å‚åŠ äº†å¸¦å­¦ç”Ÿæ¶¯ç¬¬ä¸€åœºä¹Ÿæœ‰å¯èƒ½æ˜¯æœ€åä¸€åœºç°åœºèµ›ï¼Œç»“æœå› ä¸ºå¡åœ¨äº†æœ€ç®€å•çš„ç­¾åˆ°é¢˜çš„è¯»é¢˜ä¸Šï¼Œwa32å¯¼è‡´å¿ƒæ€ç‚¸è£‚ï¼Œè´¥èµ°éº¦åŸğŸ˜…ã€‚ç»æ­¤ä¸€å½¹ï¼Œæ‰“æ²¡äº†ä¸€ä¸ªèµ›ç«™ï¼Œæ‰“å‡ºäº†ä¸€ä¸ªæ¢çº½ï¼ŒåˆæŠŠæˆ‘å¯¹è‡ªå·±å®åŠ›çš„è¯„ä¼°æ‰“å›åŸå½¢ã€‚å‰ä¸¤å¹´ï¼Œå¯ä»¥è¯´æ˜¯æ¯«æ— æˆç»©ï¼Œåªæœ‰ä¸ªæœ‰æ‰‹å°±è¡Œçš„è“æ¡¥çœäºŒï¼Œå±å®æ˜¯ä¸¢äººä¸¢å®Œäº†ğŸ˜…ã€‚ å¤§ä¸‰æ¥äº†ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½èµ°åœ¨äº†æ­£ç¡®çš„é“è·¯ä¸Šã€‚ç»å†äº†ä¹‹å‰çš„è´¥ç»©ï¼Œæˆ‘å¼€å§‹æ›´å¤šçš„å»æ‰“æ¯”èµ›ç»ƒä¹ ï¼ŒåŒæ—¶ä¹Ÿåœ¨ç¾¤é‡Œä¸åœpushé˜Ÿå‹ï¼Œä»codeforcesèƒ½æ‰“å¿…æ‰“ï¼Œä»hduå¤šæ ¡åˆ°ç‰›å®¢å¤šæ ¡åœºåœºåç‰¢ï¼Œç´¯åœ¨å…¶ä¸­ä½†ä¹Ÿæ”¶è·äº†å¾ˆå¤šï¼Œåˆèœåˆçˆ±æ‰“æã€‚å¾ˆå¿«icpcä¸Šæµ·ç«™æ¥äº†ï¼Œå½“æ—¶é€‰ä¸»è¦æ˜¯æƒ³ç€èƒ½ä¸èƒ½å»çº¿ä¸‹ç©ç©ï¼Œè¿˜æ²¡å»è¿‡å›½é™…å¤§éƒ½å¸‚ï¼Œç»“æœç–«æƒ…çš„åŸå› åˆçº¿ä¸Šèµ›ï¼Œå…«ç™¾é˜Ÿç–¯ç‹‚å®æ€ï¼Œå·åˆ°äº†äº”é¢˜é“œç‰Œï¼Œæœ€ç»ˆæœä¸å…¶ç„¶åˆé—æ†¾æ‰“é“ã€‚ è¿™å¯¹äºåŠªåŠ›è¿‡çš„æˆ‘è‚¯å®šæ˜¯æœ‰äº›éš¾è¿‡çš„ï¼Œä¸¤æ¬¡æ¥è¿æ‰“é“çš„å¤±è½æ„Ÿå°±å¦‚åŒå…¨ä¸–ç•Œæ‰€æœ‰çš„ç»†é›¨è½åœ¨å…¨ä¸–ç•Œæ‰€æœ‰çš„è‰åªä¸Šï¼Œæ€ä¹ˆåŠæï¼Œæ¥ç€ç»ƒï¼è­¦é’Ÿé•¿é¸£ï¼âš ï¸âš ï¸âš ï¸ ä¸ªäººæ°´å¹³çš„æå‡å…¶å®æ˜¯æœ‰æ‰€ä½“ç°çš„ï¼Œä»cfçš„ä¸€è·¯ä¸Šåˆ†ï¼Œåˆ°CCSPæ‰“åˆ°é“œé¦–ï¼Œå†åˆ°ç‰›å®¢rkçš„æå‡ï¼Œçœ¼è§ç€åœ¨ä¸€æ¬¡æ¬¡æ¯”èµ›ä¸­çš„æ’åè¶Šæ¥è¶Šé«˜ï¼Œè¿˜æ˜¯å¾ˆæœ‰æˆå°±æ„Ÿçš„ï¼Œæ„Ÿè§‰å°±æ˜¯å¾ˆçˆ½ï¼Œæ€ä¹ˆå½¢å®¹å‘¢ï¼Œæ‰“æ¯”èµ›æœ‰ç‚¹&quot;ä¸Šç˜¾&quot;äº†ï¼Œå°±è·Ÿæºœå¤§äº†ä¸€æ ·ğŸ¥µã€‚ä¸‹åŠå¹´æˆ‘ä»¬æ›´æ¢äº†é…ç½®ï¼Œè¿æ¥äº†è‘—åçš„wanderingcowï¼Œæˆ‘å¤©å¤©åœ¨ç¾¤é‡Œå¼ ç½—ç€å»å®éªŒå®¤vpï¼Œæˆ‘ä»¬çš„ç£¨åˆä¹Ÿè¶Šæ¥è¶Šå¥½ï¼Œç‰ŒğŸ¥µï¼Œæˆ‘çš„ç‰ŒğŸ¥µï¼Œæˆ‘ä»¬æ¥ğŸŒ¶ï¸ï¼ â€œä»0å˜æˆ1éœ€è¦å¤šä¹…ï¼Ÿâ€ â€œ1 hour.â€ æ˜†æ˜ä¸€å½¹ï¼Œæ„é€ ç‹ä¸€æˆ˜å°ç¥ï¼Œç›´æ¥åšæ‰é“œç‰Œé¢˜ï¼Œæˆ‘é˜Ÿrkä¸€åº¦åœ¨é“¶ç‰ŒåŒºï¼Œå¾ˆå¯æƒœå¦å¤–ä¸€é“é¢˜è°ƒäº†åŠå¤©æ²¡èƒ½æˆåŠŸacï¼Œåªè¿‡äº†90ä¸ªç‚¹ï¼Œæ†¾å¤±é“¶ç‰Œï¼Œä¸è¿‡ä¹Ÿå®ç°äº†ä»0åˆ°1çš„çªç ´ï¼Œè¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚éšåè€Œæ¥çš„çœèµ›ï¼Œåœ¨é‚£ä¹‹å‰æˆ‘ä»¬vpäº†å…¶ä»–çœçš„å¥½å‡ åœºæ¯”èµ›ï¼Œæœ€ç»ˆéƒ½èƒ½æ··åˆ°é‡‘ç‰ŒåŒºï¼Œè‡ªç„¶æ˜¯ä¿¡å¿ƒæ»¡æ»¡ï¼Œèµ›æ—¶æˆ‘ä»¬ä¹Ÿä¸€åº¦rk13ï¼Œä½åˆ—é‡‘ç‰ŒåŒºï¼Œå¯æƒœäº†é‡‘ç‰Œé¢˜è®¡ç®—å‡ ä½•åœ¨codingçš„æ—¶å€™ä¸€ç›´æœ‰bugæ²¡è°ƒå¥½ï¼Œç—›å¤±é‡‘ç‰ŒğŸ˜” æ€»ä½“æ¥è¯´ï¼Œå…¶å®å¤§ä½“ç»“æœè¿˜æ˜¯æ¯”è¾ƒæ»¡æ„çš„ï¼Œäººç”Ÿæ€»ä¼šæœ‰é—æ†¾ï¼Œä½†æ˜¯è‡³å°‘åŠªåŠ›è¿‡ã€‚åœ¨ä»Šå¹´ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåŠªåŠ›å‘åŒºåŸŸé“¶å‘èµ·å†²å‡»ï¼Œé»‘å¤œçŠ¬äººç»™ğŸ‘´ğŸ»ç‹ ç‹ åœ°å†²ï¼ä¸ç•™é—æ†¾ï¼ æˆ–è®¸ACMåªæ˜¯éƒ¨åˆ†ç¾¤ä½“çš„è‡ªå¨±è‡ªä¹ï¼Œåœ¨åˆ«äººçœ¼é‡Œä½ å°±æ˜¯ä¸ªè‡­æ‰“ç«èµ›çš„ï¼Œæ²¡æœ‰äººè®¤å¯ä½ ã€‚ä½†æ˜¯ä½ åªè¦è‡ªå·±åŠªåŠ›è¿‡ï¼Œçƒ­çˆ±ä»–ï¼Œä½ çš„æ—¶é—´ä½ çš„åŠªåŠ›å°±ä¸ä¼šç™½è´¹ï¼ŒæŠŠå¤šä½™çš„æ—¶é—´ç”¨æ¥å¹²è‡ªå·±çƒ­çˆ±çš„äº‹æƒ…ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯æœ€å¹¸ç¦çš„åšæ³•ã€‚ è™½ç„¶ï¼Œæˆ‘å°±æ˜¯ä¸ªè‡­æ‰“acmçš„æğŸ˜ªğŸ˜ª åœ¨å…¶ä»–æ–¹é¢ï¼Œæˆ‘å°±ä¾æ—§æŒ‰ç€ä¹‹å‰çš„å­¦ä¹ æ–¹æ³•ï¼Œå¹³å¸¸å¬ä¸ªå¤§æ¦‚ï¼Œä½œä¸šèƒ½å†™å†™è¯¥æŠ„æŠ„ï¼ŒæœŸæœ«å‡ å¤©çªå‡»ä¸€ä¸‹ï¼Œæ•´ä¸ªæ˜ç™½çº¸åˆ’æ‹‰åˆ’æ‹‰èƒŒèƒŒï¼Œä¸èŠ±å¤šä½™çš„æ—¶é—´ï¼Œç…§æ ·è·å¾—äº†å¾ˆé«˜çš„åˆ†æ•°ï¼Œä¹Ÿè®©æˆ‘çš„å­¦ä¹ æˆç»©ä»æœ€åˆçš„80.7åˆ°äº†æœ€ç»ˆçš„87.6ï¼Œçº¯æˆç»©ä¹Ÿå¯ä»¥æˆåŠŸä¿ç ”ã€‚ç”Ÿæ´»è™½ç„¶æ²¡æœ‰é‚£ä¹ˆä¸°å¯Œå¤šå½©ä½†ä¹Ÿå¾ˆå……å®ï¼šå­¦å­¦ä¹ ã€vvpã€è¸¢è¸¢çƒã€æ‰“æ‰“çƒã€æ‹æ‹çˆ±ï¼Œæ²¡æœ‰é‚£ä¹ˆèŠ±å“¨ä½†ä¹Ÿè¿‡çš„ä¸é”™ï¼Œå³ä½¿æ˜¯è€ƒè¯•å‘¨æˆ‘ä¹Ÿè¯¥å¹²å•¥å¹²å•¥ï¼Œäº«å—ç€äººæµéª¤é™çš„çƒåœºï¼Œå¹²ç€æˆ‘æƒ³å¹²çš„äº‹æƒ…ã€‚ è¿˜æœ‰ä¸€ä»¶äº‹ï¼Œå­¦å¹´æœ«å‹çº¿æ‹¿äº†ä¸ªè“æ¡¥æ¯å›½äºŒï¼Œä¿ç ”çš„åŠ åˆ†å½»åº•æ‹¿ä¸‹(è™½ç„¶ä¸åŠ ä¹Ÿèƒ½ä¿)ï¼Œå®£å‘Šç€ç¿»ç›˜çš„æˆåŠŸã€‚åœ¨æ­¤æˆ‘æå‡ºå€¡è®®ï¼šéƒ½ç»™æˆ‘ç‹ ç‹ åœ°å‚åŠ åœˆé’±æ¯æğŸ˜‹ğŸ˜‹å«é‡‘é‡å¤§å¤§æ»´ğŸ˜‹ğŸ˜‹ æœ‰ä¸ºé’å¹´ï¼ æˆ‘çš„ä¸‰å¹´æ•…äº‹åˆ°æ­¤ç»“æŸäº†ã€‚ æˆ‘ä¸èƒ½è¯´æ˜¯çº¯çº¯çš„èººå¹³ï¼Œæˆ‘åªæ˜¯æ²¡æœ‰è¿›å…¥å·ç‹çš„çº·äº‰ã€‚æˆ‘åšç€æƒ³åšçš„äº‹æƒ…ï¼Œåœ¨æˆ‘æ‰€èƒ½æ”¯é…çš„æ—¶é—´é‡Œä¸å†ç„¦è™‘ï¼Œæˆ‘ä¸ºç«èµ›ä»˜å‡ºäº†å¾ˆå¤šä¸ªæ—¥å¤œï¼Œå› ä¸ºæˆ‘çƒ­çˆ±å®ƒï¼›æˆ‘ä¸ºéŸ³ä¹ä»˜å‡ºäº†å¾ˆå¤šçš„å¿ƒè¡€ï¼Œå› ä¸ºæˆ‘çƒ­çˆ±å®ƒï¼›æˆ‘èŠ±äº†å¾ˆå¤šçš„æ—¶é—´å»è¿åŠ¨ï¼Œå› ä¸ºæˆ‘äº«å—çƒåœºä¸Šçš„æ¿€æƒ…ã€‚ç ”ç©¶ç”Ÿæˆ‘ä¹Ÿé€‰æ‹©äº†æˆ‘æ‰€æ„Ÿå…´è¶£çš„æ–¹å‘ã€æ„Ÿå…´è¶£çš„ç¯å¢ƒã€å–œæ¬¢çš„å¯¼å¸ˆï¼Œæ²¡æœ‰æ— è„‘çš„é€‰æ‹©titleï¼Œä¹Ÿæ²¡æœ‰æ…Œä¸æ‹©è·¯çš„æµ·æŠ•ï¼Œä¹Ÿä¸ä¼šä¸ºæˆ‘çš„é€‰æ‹©åæ‚”ã€‚ å…¶å®ï¼Œæˆ‘æœ€å–œæ¬¢çš„éŸ³ä¹ç›’æ˜¯Blitz Kidsçš„On My Own å³ã€Šæœ‰ä¸ºé’å¹´ã€‹ï¼Œæˆ‘å–œæ¬¢å®ƒçš„å¿«èŠ‚å¥å¸¦æ¥çš„æ¿€æƒ…ã€‚é’å¹´å°±åº”è¯¥æŠŠè‡ªå·±çš„æ¿€æƒ…æŠ•å…¥åˆ°æ‰€çƒ­çˆ±çš„åœ°æ–¹ï¼Œçºµä½¿cså‡›å†¬å°†è‡³ï¼Œä½†æ˜¯ç«æŠŠå°±åœ¨è‡ªå·±çš„æ‰‹ä¸­ã€‚ ç¥å¤§å®¶éƒ½èƒ½ä¸Šå²¸ç†æƒ³çš„é«˜æ ¡ï¼Œåœ¨æœªæ¥èƒ½å¤Ÿä¸ºè‡ªå·±çš„é€‰æ‹©æ„Ÿåˆ°éª„å‚²ã€‚å„ä½ï¼Œå…±å‹‰ï¼","categories":[{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"}],"tags":[{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"}]},{"title":"CNNç»å…¸ç½‘ç»œï¼šResNet","slug":"dl/cnn/ResNet","date":"2022-09-24T08:00:00.000Z","updated":"2022-10-08T09:21:53.976Z","comments":true,"path":"/post/dl/cnn/ResNet.html","link":"","permalink":"https://maskros.top/post/dl/cnn/ResNet.html","excerpt":"åœ¨ILSVRC2015åˆ†ç±»ä»»åŠ¡ç«èµ›ä¸­ï¼Œç”±ä½•æºæ˜ã€å¼ ç¥¥é›¨ã€ä»»å°‘å¿å’Œå­™å‰‘æå‡ºçš„æ·±åº¦æ®‹å·®ç½‘ç»œ(ResNet)é¦–æ¬¡è¶…è¶Šäººç±»æ°´å¹³ï¼Œæ–©è·ç«èµ›ç¬¬ä¸€åçš„åŒæ—¶å¹¶æ‹¿åˆ°2016å¹´CVPRæœ€ä½³è®ºæ–‡ã€‚ResNetä¸»è¦è§£å†³äº†æ·±åº¦ç½‘ç»œé€€åŒ–é—®é¢˜ï¼Œæœ€æ·±è¾¾åˆ°152å±‚ï¼Œæå‡ºäº†æ¶æ„ä¸Šçš„æ ¸å¿ƒtrickï¼šæ®‹å·®å­¦ä¹ (Residual learning)ã€‚ åŸè®ºæ–‡ï¼šDeep Residual Learning for Image Recognition","text":"åœ¨ILSVRC2015åˆ†ç±»ä»»åŠ¡ç«èµ›ä¸­ï¼Œç”±ä½•æºæ˜ã€å¼ ç¥¥é›¨ã€ä»»å°‘å¿å’Œå­™å‰‘æå‡ºçš„æ·±åº¦æ®‹å·®ç½‘ç»œ(ResNet)é¦–æ¬¡è¶…è¶Šäººç±»æ°´å¹³ï¼Œæ–©è·ç«èµ›ç¬¬ä¸€åçš„åŒæ—¶å¹¶æ‹¿åˆ°2016å¹´CVPRæœ€ä½³è®ºæ–‡ã€‚ResNetä¸»è¦è§£å†³äº†æ·±åº¦ç½‘ç»œé€€åŒ–é—®é¢˜ï¼Œæœ€æ·±è¾¾åˆ°152å±‚ï¼Œæå‡ºäº†æ¶æ„ä¸Šçš„æ ¸å¿ƒtrickï¼šæ®‹å·®å­¦ä¹ (Residual learning)ã€‚ åŸè®ºæ–‡ï¼šDeep Residual Learning for Image Recognition é—®é¢˜èƒŒæ™¯ ä»ç»éªŒæ¥çœ‹ï¼Œç½‘ç»œçš„æ·±åº¦å¯¹æ¨¡å‹çš„æ€§èƒ½è‡³å…³é‡è¦ï¼Œå½“å¢åŠ ç½‘ç»œå±‚æ•°åï¼Œç½‘ç»œå¯ä»¥è¿›è¡Œæ›´åŠ å¤æ‚çš„ç‰¹å¾æ¨¡å¼çš„æå–ï¼Œæ‰€ä»¥å½“æ¨¡å‹æ›´æ·±æ—¶ç†è®ºä¸Šå¯ä»¥å–å¾—æ›´å¥½çš„ç»“æœã€‚ä½†æ˜¯è®ºæ–‡åšäº†ä¸€ä¸ªå®éªŒï¼Œå¯¹å¸¸è§„çš„ç½‘ç»œ(plain network, å¹³åŸç½‘ç»œ)ç›´æ¥è¿›è¡Œå †å ï¼Œå¯¹å›¾åƒè¯†åˆ«ç»“æœè¿›è¡Œæ£€éªŒåï¼Œå‘ç°56å±‚çš„æ¯”20å±‚çš„åè€Œæ•ˆæœæ›´å·®ã€‚ åœ¨ä¸æ–­åŠ ç¥ç»ç½‘ç»œçš„æ·±åº¦æ—¶ï¼Œæ¨¡å‹å‡†ç¡®ç‡ä¼šå…ˆä¸Šå‡ç„¶åè¾¾åˆ°é¥±å’Œï¼Œå†æŒç»­å¢åŠ æ·±åº¦æ—¶åˆ™ä¼šå¯¼è‡´å‡†ç¡®ç‡ä¸‹é™ï¼Œæ·±åº¦ç½‘ç»œå‡ºç°äº†é€€åŒ–é—®é¢˜(Degradation)ã€‚æ¥ä¸‹æ¥åˆ†æé€€åŒ–çš„åŸå› ï¼š åœ¨è®­ç»ƒé›†ä¸Šè¶Šæ·±çš„æ¨¡å‹æ€§èƒ½åè€Œä¸‹é™ï¼Œå¯ä»¥æ’é™¤è¿‡æ‹Ÿåˆã€‚åŒæ—¶ï¼Œbatchnorm(BN)å±‚çš„å¼•å…¥é€šè¿‡è§„æ•´æ•°æ®çš„åˆ†å¸ƒä¹ŸåŸºæœ¬è§£å†³äº†plainç½‘ç»œæ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥æ’é™¤ã€‚ æˆ‘ä»¬é€‰æ‹©åŠ æ·±ç½‘ç»œçš„å±‚æ•°ï¼Œæ˜¯å¸Œæœ›æ·±å±‚çš„ç½‘ç»œçš„è¡¨ç°èƒ½æ¯”æµ…å±‚å¥½ï¼Œæˆ–è€…æ˜¯å¸Œæœ›å®ƒçš„è¡¨ç°è‡³å°‘å’Œæµ…å±‚ç½‘ç»œæŒå¹³(ç›¸å½“äºç›´æ¥å¤åˆ¶æµ…å±‚ç½‘ç»œçš„ç‰¹å¾)ï¼Œä½†æ˜¯ç”±äºéçº¿æ€§æ¿€æ´»å‡½æ•°Reluçš„å­˜åœ¨ï¼Œæ¯æ¬¡è¾“å…¥åˆ°è¾“å‡ºçš„è¿‡ç¨‹éƒ½å‡ ä¹æ˜¯ä¸å¯é€†çš„ï¼Œä¼šé€ æˆä¸å¯é€†çš„ä¿¡æ¯æŸå¤±ã€‚ ResNetçš„åˆè¡·ï¼Œå°±æ˜¯è®©ç½‘ç»œæ‹¥æœ‰è¿™ç§æ’ç­‰æ˜ å°„(identity mapping)çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨åŠ æ·±ç½‘ç»œçš„æ—¶å€™ï¼Œè‡³å°‘èƒ½ä¿è¯æ·±å±‚ç½‘ç»œçš„è¡¨ç°è‡³å°‘å’Œæµ…å±‚ç½‘ç»œæŒå¹³ã€‚ Tricks æ®‹å·®å­¦ä¹ å•å…ƒ ä¸é€€åŒ–çš„æ ¹æœ¬å°±æ˜¯å¦‚ä½•åšåˆ°æ’ç­‰æ˜ å°„ã€‚å·²æœ‰çš„ç¥ç»ç½‘ç»œå¾ˆéš¾æ‹Ÿåˆæ½œåœ¨çš„æ’ç­‰æ˜ å°„å‡½æ•°ï¼Œä½†å¦‚æœå°†ç½‘ç»œè®¾è®¡æˆ ï¼Œç›´æ¥æŠŠæ’ç­‰æ˜ å°„ä½œä¸ºç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œå°±å¯ä»¥æŠŠé—®é¢˜è½¬åŒ–ä¸ºå­¦ä¹ ä¸€ä¸ªæ®‹å·®å‡½æ•° ï¼Œå¦‚æœ é‚£ä¹ˆå°±æ„æˆäº†ä¸€ä¸ªæ’ç­‰æ˜ å°„ã€‚ æ®‹å·®ç»“æ„å¤šäº†å³ä¾§çš„æ·å¾„è¿æ¥(shortcut connection)æ›²çº¿ï¼Œé€šè¿‡è·³æ¥åœ¨æ¿€æ´»å‡½æ•°å‰ï¼Œå°†ä¸Šä¸€å±‚(æˆ–å‡ å±‚)çš„è¾“å‡ºä¸æœ¬å±‚è¾“å‡ºç›¸åŠ ï¼Œå°†æ±‚å’Œçš„ç»“æœè¾“å…¥åˆ°æ¿€æ´»å‡½æ•°ä½œä¸ºæœ¬å±‚çš„è¾“å‡ºã€‚å…¶ä¸­âŠ•ä¸ºelement-wise additionï¼Œè¦æ±‚å‚ä¸è¿ç®—çš„å’Œçš„å°ºå¯¸ç›¸åŒã€‚ å¦‚æœå°ºå¯¸ä¸åŒå‘¢ï¼Ÿä¸‹å›¾ä¸­çš„è·³æ¥å°±å­˜åœ¨å®çº¿å’Œè™šçº¿çš„åŒºåˆ«ã€‚ å®çº¿éƒ¨åˆ†è¡¨ç¤ºé€šé“ç›¸åŒï¼Œå›¾ä¸­å‡ä¸º 3x3x64 çš„ç‰¹å¾å›¾ï¼Œé€šé“ç›¸åŒï¼Œæ•…é‡‡ç”¨è®¡ç®—æ–¹å¼ä¸º è™šçº¿éƒ¨åˆ†è¡¨ç¤ºé€šé“ä¸åŒï¼Œå›¾ä¸­åˆ†åˆ«æ˜¯ 3x3x64 å’Œ 3x3x128 çš„ç‰¹å¾å›¾ï¼Œé€šé“ä¸åŒï¼Œé‡‡ç”¨çš„è®¡ç®—æ–¹å¼ä¸º ï¼Œå…¶ä¸­ æ˜¯å·ç§¯æ“ä½œï¼Œç”¨äºè°ƒæ•´ ç»´åº¦ä¸ ä¿æŒä¸€è‡´ã€‚ è®ºæ–‡ä¸­é™¤äº†ä¸¤å±‚æ®‹å·®å­¦ä¹ å•å…ƒï¼Œè¿˜æœ‰ä¸‰å±‚çš„æ®‹å·®å­¦ä¹ å•å…ƒï¼š ä¸¤ç§ç»“æ„åˆ†åˆ«é’ˆå¯¹ ResNet34 å’Œ ResNet50/101/152ï¼Œå…¶ç›®çš„ä¸»è¦å°±æ˜¯ä¸ºäº†é™ä½å‚æ•°çš„æ•°ç›®ã€‚å³å›¾å…ˆç”¨1Ã—1çš„å·ç§¯å°†è¾“å…¥çš„256ç»´é™åˆ°64ç»´ï¼Œç„¶åé€šè¿‡1Ã—1æ¢å¤ï¼Œå‡å°‘äº†å‚æ•°é‡å’Œè®¡ç®—é‡ã€‚ å·¦å›¾æ˜¯ä¸¤ä¸ª 3x3x256 çš„å·ç§¯ï¼Œå‚æ•°æ•°ç›®: 3x3x256x256x2 = 1179648ï¼Œå³å›¾æ˜¯ç¬¬ä¸€ä¸ª 1x1 çš„å·ç§¯æŠŠ 256 ç»´é€šé“é™åˆ° 64 ç»´ï¼Œç„¶ååœ¨æœ€åé€šè¿‡ 1x1 å·ç§¯æ¢å¤ï¼Œæ•´ä½“ä¸Šç”¨çš„å‚æ•°æ•°ç›®ï¼š1x1x256x64 + 3x3x64x64 + 1x1x64x256 = 69632ã€‚ Qï¼šæ®‹å·®ç»“æ„èµ·ä½œç”¨çš„åŸå› ï¼Ÿ åœ¨ç¥ç»ç½‘ç»œå­¦ä¹ åˆ°è¯¥å±‚å‚æ•°æ˜¯å†—ä½™çš„æ—¶å€™å®ƒå¯ä»¥é€‰æ‹©ç›´æ¥èµ°è¿™æ¡â€œè·³æ¥â€æ›²çº¿ å­¦ä¹ æ®‹å·®çš„è®¡ç®—é‡æ¯”å­¦ä¹ è¾“å‡ºç­‰äºè¾“å…¥å°ï¼šç½‘ç»œä¸­æƒé‡ä¸€èˆ¬ä¼šåˆå§‹åŒ–æˆ0é™„è¿‘çš„æ•°ï¼Œè®©ç»è¿‡æƒé‡çŸ©é˜µæ‹Ÿåˆ0ä¼šæ¯”æ™®é€šç½‘ç»œæ›´å®¹æ˜“ ReLUå°†è´Ÿæ•°æ¿€æ´»ä¸º0ï¼Œæ­£æ•°è¾“å…¥ç­‰äºè¾“å‡ºï¼Œè¿‡æ»¤äº†è´Ÿæ•°çš„çº¿æ€§å˜åŒ–ï¼Œè®©æ›´å®¹æ˜“ æ®‹å·®ç½‘ç»œå¯ä»¥è¡¨ç¤ºæˆ ï¼Œåå‘ä¼ æ’­æ±‚è¾“å‡º å¯¹ çš„æ¢¯åº¦æ—¶ï¼Œï¼Œè¿™ä¸ªå¸¸æ•° ä¹Ÿèƒ½ä¿è¯åœ¨æ±‚æ¢¯åº¦çš„æ—¶å€™æ¢¯åº¦ä¸ä¼šæ¶ˆå¤± ä½¿ç”¨BNåŠ é€Ÿè®­ç»ƒ åœ¨æ¯ä¸ªå·ç§¯ä¹‹åå’Œæ¿€æ´»ä¹‹å‰ï¼Œé‡‡ç”¨æ‰¹é‡å½’ä¸€åŒ–(BN)(conv -&gt; BN -&gt; relu)ï¼Œä¸¢å¼ƒäº†dropoutã€‚ BNå±‚çš„åŠ å…¥å¯ä»¥èµ·åˆ°æŠ‘åˆ¶è¿‡æ‹Ÿåˆçš„ä½œç”¨ï¼Œæ— éœ€æ·»åŠ Dropoutï¼ŒåŒæ—¶ä½¿ç”¨ä¼šè®©ç²¾åº¦ä¸‹é™ã€‚ ç½‘ç»œç»“æ„ å›¾ä¸ºVGG19ï¼Œ34å±‚å¹³åŸç½‘ç»œå’ŒResNetçš„å¯¹æ¯”ã€‚ åœ¨ResNetä¸­æœ‰çš„è·³æ¥çº¿æ˜¯å®çº¿ï¼Œæœ‰çš„è·³æ¥çº¿æ˜¯è™šçº¿ã€‚è™šçº¿ä»£è¡¨è¿™äº›æ¨¡å—å‰åçš„ç»´åº¦ä¸ä¸€è‡´ï¼Œå› ä¸ºå»æ‰æ®‹å·®ç»“æ„çš„Plainç½‘ç»œè¿˜æ˜¯å’ŒVGGä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯æ¯éš”nå±‚è¿›è¡Œä¸‹é‡‡æ ·ä½†æ·±åº¦ç¿»å€ï¼ˆVGGé€šè¿‡æ± åŒ–å±‚/ResNeté€šè¿‡å·ç§¯è¿›è¡Œä¸‹é‡‡æ ·ï¼‰ã€‚è¿™é‡Œå°±æœ‰ä¸¤ä¸ªæƒ…å†µï¼š ç©ºé—´ä¸Šä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦ç»™è¾“å…¥çš„Xåšä¸€ä¸ªçº¿æ€§çš„æ˜ å°„ï¼š æ·±åº¦ä¸Šä¸ä¸€è‡´æ—¶ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œä¸€ç§æ˜¯åœ¨è·³æ¥è¿‡ç¨‹ä¸­åŠ ä¸€ä¸ª1Ã—1çš„å·ç§¯å±‚è¿›è¡Œå‡ç»´ï¼Œå¦ä¸€ç§åˆ™æ˜¯ç›´æ¥è¡¥é›¶ï¼ˆå…ˆåšä¸‹é‡‡æ ·ï¼‰ã€‚è¯•éªŒåå‘ç°ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ã€‚ æ™®é€šç½‘ç»œ(plain network)çš„è®¾è®¡è§„åˆ™ï¼š ä¸ºäº†å¾—åˆ°ç›¸åŒçš„è¾“å‡ºç‰¹å¾å›¾å°ºå¯¸ï¼Œæ‰€æœ‰å±‚å…·æœ‰ç›¸åŒæ•°é‡çš„æ»¤æ³¢å™¨ å¦‚æœç‰¹å¾å›¾å°ºå¯¸å‡åŠï¼Œåˆ™æ»¤æ³¢å™¨æ•°é‡åŠ å€ï¼Œä»¥ä¾¿ä¿æŒæ¯å±‚çš„æ—¶é—´å¤æ‚åº¦ ResNetåœ¨æ™®é€šç½‘ç»œçš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†shortcutè·¯å¾„ï¼Œé¦–å°¾åœˆå‡ºçš„layersæ„æˆä¸€ä¸ªResidual Blockï¼›é€šè¿‡stride=2çš„å·ç§¯å±‚ç›´æ¥æ‰§è¡Œä¸‹é‡‡æ ·ã€‚ç½‘ç»œä»¥å…¨å±€å¹³å‡æ± åŒ–å±‚average poolå¾—åˆ°æœ€ç»ˆçš„ç‰¹å¾è€Œä¸æ˜¯å…¨è¿æ¥å±‚ã€‚æ¯ä¸ªå·ç§¯å±‚ä¹‹åéƒ½ç´§æ¥ç€BNå±‚ï¼Œä¸ºç®€åŒ–å›¾ä¸­æ²¡æœ‰æ ‡å‡ºã€‚ ResNetç»“æ„éå¸¸å®¹æ˜“ä¿®æ”¹å’Œæ‰©å±•ï¼Œé€šè¿‡è°ƒæ•´blockå†…çš„channelæ•°é‡ä»¥åŠå †å çš„blockæ•°é‡ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“åœ°è°ƒæ•´ç½‘ç»œçš„å®½åº¦(æ¯å±‚é€šé“æ•°)å’Œæ·±åº¦(ç½‘ç»œå±‚æ•°)ï¼Œæ¥å¾—åˆ°ä¸åŒè¡¨è¾¾èƒ½åŠ›çš„ç½‘ç»œï¼Œè€Œä¸ç”¨è¿‡å¤šåœ°æ‹…å¿ƒç½‘ç»œçš„â€œé€€åŒ–â€é—®é¢˜ï¼Œåªè¦è®­ç»ƒæ•°æ®è¶³å¤Ÿï¼Œé€æ­¥åŠ æ·±ç½‘ç»œï¼Œå°±å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚ æ¨¡å‹è¡¨ç° resnetä¸VGGç›¸æ¯”ï¼Œæœ‰æ›´å°‘çš„æ»¤æ³¢å™¨å’Œæ›´ä½çš„å¤æ‚åº¦ã€‚34å±‚åŸºå‡†æœ‰36äº¿FLOP(ä¹˜åŠ )ï¼Œä»…æ˜¯VGG19(196äº¿FLOP)çš„18%ã€‚ ä½œè€…å¯¹æ¯”äº†18å±‚çš„ç¥ç»ç½‘ç»œå’Œ34å±‚çš„ç¥ç»ç½‘ç»œï¼Œå‘ç°æ®‹å·®ç»“æ„ç¡®å®è§£å†³äº†ç½‘ç»œçš„é€€åŒ–é—®é¢˜ï¼š åœ¨ImgaeNetä¸Šçš„æµ‹è¯•ç»“æœ","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"CNNç»å…¸ç½‘ç»œï¼šVGGNet","slug":"dl/cnn/VGGNet","date":"2022-09-19T08:00:00.000Z","updated":"2022-10-08T09:22:05.007Z","comments":true,"path":"/post/dl/cnn/VGGNet.html","link":"","permalink":"https://maskros.top/post/dl/cnn/VGGNet.html","excerpt":"2014å¹´ï¼Œç‰›æ´¥å¤§å­¦è®¡ç®—æœºè§†è§‰ç»„ (Visual Geometry Group) å’ŒGoogle DeepMindå…¬å¸ä¸€èµ·ç ”å‘äº†æ–°çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œå¹¶å‘½åä¸ºVGGNetã€‚VGGNetæ˜¯æ¯”AlexNetæ›´æ·±çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Œç»“æ„ç®€æ´ï¼Œåˆ›æ–°æ€§åœ°ä½¿ç”¨å°å°ºå¯¸çš„å·ç§¯æ ¸(3Ã—3)æé«˜ç½‘ç»œæ·±åº¦ã€‚ åŸè®ºæ–‡ï¼šVery Deep Convolutional Networks for Large-Scale Image Recognitionï¼Œ2014å¹´ILSVRCç«èµ›ç¬¬äºŒåï¼Œç¬¬ä¸€åæ˜¯GoogleNet","text":"2014å¹´ï¼Œç‰›æ´¥å¤§å­¦è®¡ç®—æœºè§†è§‰ç»„ (Visual Geometry Group) å’ŒGoogle DeepMindå…¬å¸ä¸€èµ·ç ”å‘äº†æ–°çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œå¹¶å‘½åä¸ºVGGNetã€‚VGGNetæ˜¯æ¯”AlexNetæ›´æ·±çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Œç»“æ„ç®€æ´ï¼Œåˆ›æ–°æ€§åœ°ä½¿ç”¨å°å°ºå¯¸çš„å·ç§¯æ ¸(3Ã—3)æé«˜ç½‘ç»œæ·±åº¦ã€‚ åŸè®ºæ–‡ï¼šVery Deep Convolutional Networks for Large-Scale Image Recognitionï¼Œ2014å¹´ILSVRCç«èµ›ç¬¬äºŒåï¼Œç¬¬ä¸€åæ˜¯GoogleNet ç½‘ç»œç»“æ„ VGGç”±5å±‚å·ç§¯å±‚ã€3å±‚å…¨è¿æ¥å±‚ã€1å±‚softmaxè¾“å‡ºå±‚æ„æˆï¼Œå±‚é—´ä½¿ç”¨maxpoolåˆ†å¼€ï¼Œæ‰€æœ‰éšè—å±‚æ¿€æ´»å•å…ƒå‡é‡‡ç”¨ReLUï¼Œè®ºæ–‡ä¸­æ ¹æ®å·ç§¯å±‚ä¸åŒçš„å­å±‚æ•°é‡ï¼Œè®¾è®¡äº†Aã€A-LRNã€Bã€Cã€Dã€Eè¿™6ç§ç½‘ç»œç»“æ„ã€‚ ä»Aåˆ°Eæ€»çš„ç½‘ç»œæ·±åº¦ä»11å±‚åˆ°19å±‚ï¼Œè¡¨æ ¼ä¸­çš„å·ç§¯å±‚å‚æ•°ä¸º\"æ„Ÿå—é‡å¤§å°-é€šé“æ•°\"ï¼Œconv3-64è¡¨ç¤ºä½¿ç”¨3Ã—3çš„å·ç§¯æ ¸ï¼Œé€šé“æ•°ä¸º64ã€‚Dè¡¨ç¤ºVGG16ï¼ŒEä¸ºVGG19ï¼Œä»¥ä¸‹ä»¥VGG16ä¸ºä¾‹ã€‚ VGG16å…±æœ‰16ä¸ªå­å±‚ï¼Œç¬¬1å±‚CONVç”±2ä¸ªconv3-64ç»„æˆï¼Œç¬¬2å±‚CONVç”±2ä¸ªconv3-128ç»„æˆï¼Œç¬¬3å±‚CONVç”±3ä¸ªconv3-256ç»„æˆï¼Œç¬¬4å±‚CONVç”±3ä¸ªconv3-512ç»„æˆï¼Œç¬¬5å±‚convç”±3ä¸ªconv3-512ç»„æˆï¼Œç„¶å2ä¸ªFC4096ï¼Œ1ä¸ªFC1000ï¼Œæœ€åä¸€ä¸ªsoftmaxã€‚ input layerï¼šè¾“å…¥224Ã—224Ã—3 CONV1(conv3-64 2Ã—)ï¼šCONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; maxpool CONVï¼šâ‘ è¾“å…¥224Ã—224Ã—3, 64ä¸ª3Ã—3å·ç§¯æ ¸ï¼Œpadding=1, stride=1, è¾“å‡º224Ã—224Ã—64ï¼›â‘¡è¾“å…¥224Ã—224Ã—64ï¼Œè¾“å‡º224Ã—224Ã—64 maxpoolï¼šæ± åŒ–å•å…ƒ2Ã—2, stride=2, è¾“å‡º112Ã—112Ã—64 CONV2(conv3-128 2Ã—)ï¼šCONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; maxpool CONVï¼šâ‘ è¾“å…¥112Ã—112Ã—64, 128ä¸ª3Ã—3å·ç§¯æ ¸ï¼Œpadding=1, stride=1, è¾“å‡º112Ã—112Ã—128ï¼›â‘¡åŒç†ï¼Œè¾“å‡º112Ã—112Ã—128 maxpoolï¼šè¾“å‡º56Ã—56Ã—128 CONV3(conv3-256 3Ã—)ï¼šCONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; maxpool CONVï¼šâ‘ è¾“å…¥56Ã—56Ã—128, 256ä¸ª3Ã—3å·ç§¯æ ¸, padding=1, stride=1, è¾“å‡º56Ã—56Ã—256ï¼›â‘¡â‘¢åŒç†ï¼Œè¾“å‡º56Ã—56Ã—256 maxpoolï¼šè¾“å‡º28Ã—28Ã—256 CONV4(conv3-512 3Ã—)ï¼šCONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; maxpool CONVï¼šâ‘ è¾“å…¥28Ã—28Ã—256, 512ä¸ª3Ã—3å·ç§¯æ ¸ï¼Œè¾“å‡º28Ã—28Ã—512ï¼›â‘¡â‘¢åŒç†ï¼Œè¾“å‡º28Ã—28Ã—512 maxpoolï¼šè¾“å‡º14Ã—14Ã—512 CONV5(conv3-512 3Ã—)ï¼šCONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; CONV -&gt; ReLU -&gt; maxpool CONVï¼šâ‘ â‘¡â‘¢è¾“å…¥è¾“å‡ºå‡ä¸º14Ã—14Ã—512 maxpoolï¼šè¾“å‡º7Ã—7Ã—512 FC6ï¼šFC -&gt; ReLU -&gt; Dropout FCï¼šè¾“å…¥7Ã—7Ã—512ï¼Œå±•å¼€ä¸º7Ã—7Ã—512çš„ä¸€ç»´å‘é‡ï¼Œå³7Ã—7Ã—512ä¸ªç¥ç»å…ƒï¼Œè¾“å‡ºä¸º4096ä¸ªç¥ç»å…ƒ FC7ï¼šFC -&gt; ReLU -&gt; Dropout FCï¼š4096 -&gt; 4096 FC8ï¼šFC FCï¼š4096 -&gt; 1000 Softmaxï¼šé€šè¿‡Softmaxå‡½æ•°è¾“å‡º1000ä¸ªç±»åˆ«å¯¹åº”çš„é¢„æµ‹æ¦‚ç‡å€¼ æµ‹è¯•é˜¶æ®µ VGG16åœ¨è®­ç»ƒçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯å…¨è¿æ¥ç½‘ç»œ(fully-connected)ï¼Œè€Œåœ¨æµ‹è¯•éªŒè¯é˜¶æ®µï¼Œä½œè€…å°†å…¨è¿æ¥æ›¿æ¢ä¸ºå…¨å·ç§¯ç½‘ç»œ(fully-convolutional)ï¼Œè®©ç½‘ç»œæ¨¡å‹ä¸å—å…¨è¿æ¥çš„é™åˆ¶ï¼Œå¯ä»¥æ¥å—ä»»æ„å¤§å°å°ºå¯¸çš„è¾“å…¥ã€‚ FC6 CONV6ï¼šè¾“å…¥7Ã—7Ã—512ï¼Œä½¿ç”¨4096ä¸ª7Ã—7Ã—512çš„å·ç§¯æ ¸è¿›è¡Œå·ç§¯ï¼Œå¾—åˆ°è¾“å‡º1Ã—1Ã—4096ï¼Œç›¸å½“äº4096ä¸ªç¥ç»å…ƒï¼Œä½†å±äºå·ç§¯å±‚ã€‚ FC7 CONV7ï¼šè¾“å…¥1Ã—1Ã—4096ï¼Œ4096ä¸ª1Ã—1Ã—4096çš„å·ç§¯æ ¸ï¼Œè¾“å‡º1Ã—1Ã—4096ã€‚ FC8 CONV8ï¼šè¾“å…¥1Ã—1Ã—4096ï¼Œ1000ä¸ª1Ã—1Ã—4096çš„å·ç§¯æ ¸ï¼Œè¾“å‡º1Ã—1Ã—1000ã€‚ ç½‘ç»œè¾“å…¥å›¾ç‰‡çš„å°ºå¯¸æ˜¯224x224x3ã€‚å¦‚æœåé¢ä¸‰ä¸ªå±‚éƒ½æ˜¯å…¨è¿æ¥ï¼Œé‡åˆ°å®½é«˜ä¸ç¬¦çš„å›¾ç‰‡å°±éœ€è¦è¿›è¡Œå‰ªè£ã€ç¼©æ”¾æˆ–å…¶å®ƒå¤„ç†ï¼Œæ‰èƒ½ç¬¦åˆå…¨è¿æ¥å±‚çš„è¾“å…¥è¦æ±‚ï¼Œä½†æˆ‘ä»¬ä¸èƒ½ä¿è¯å°†å›¾ç‰‡ä¸­çš„æ ¸å¿ƒä¿ç•™ä¸‹æ¥ï¼Œä¼šå½±å“æ¨¡å‹ç²¾åº¦ã€‚å…¨è¿æ¥å±‚æ¢æˆå·ç§¯å±‚åï¼Œåˆ©ç”¨1x1çš„å·ç§¯å¯ä»¥å®ç°å°†ä¸åŒå¤§å°çš„ç‰¹å¾è½¬åŒ–ä¸ºç›¸åŒå¤§å°çš„ç‰¹å¾ã€‚å¯ä»¥è®¤ä¸ºæ˜¯æ·±åº¦å‹ç¼©ã€‚ ç½‘ç»œå‚æ•° VGGå‚æ•°è¾ƒå¤šï¼Œä¸»è¦é›†ä¸­åœ¨å…¨è¿æ¥å±‚ï¼Œç›¸å¯¹å…¶ä»–æ–¹æ³•å‚æ•°ç©ºé—´æ›´å¤§ï¼Œæœ€ç»ˆmodelæœ‰500Mï¼Œè€ŒAlexNetåªæœ‰200Mï¼ŒGoogLeNetæ›´å°‘ã€‚è®­ç»ƒæ¨¡å‹èŠ±è´¹æ—¶é—´æ›´é•¿ã€‚ æ¨¡å‹è¡¨ç° å•å°ºåº¦è¯„ä»·ï¼šè¶Šæ·±è¶Šå¥½ï¼›å¢åŠ 1Ã—1å·ç§¯ï¼Œæå‡æ¨¡å‹éçº¿æ€§ï¼Œæœ‰åŠ©äºæ€§èƒ½æå‡ï¼›3Ã—3å·ç§¯æ›¿æ¢ä¸º5Ã—5å·ç§¯ï¼Œæ€§èƒ½ä¸‹é™ï¼›è®­ç»ƒæ—¶åŠ å…¥å°ºåº¦æ‰°åŠ¨(scale jittering)ï¼Œæœ‰åŠ©äºæ€§èƒ½æå‡ å¤šå°ºåº¦è¯„ä»·ï¼šæµ‹è¯•æ—¶ä½¿ç”¨scale jitteringæœ‰åŠ©äºæ€§èƒ½æå‡ Tricks å°å·ç§¯æ ¸ é€šè¿‡é™ä½å·ç§¯æ ¸çš„å¤§å°(3Ã—3)ï¼Œå¢åŠ å·ç§¯å­å±‚æ•°æ¥ä»£æ›¿å¤§å·ç§¯æ ¸ã€‚æ„Ÿå—é‡å³ä¸è¾“å‡ºæœ‰å…³çš„è¾“å…¥å›¾ç‰‡çš„å±€éƒ¨å¤§å°ï¼Œä¸¤ä¸ª3x3çš„å·ç§¯å †å è·å¾—çš„æ„Ÿå—é‡å¤§å°ï¼Œç›¸å½“ä¸€ä¸ª5x5çš„å·ç§¯ï¼Œä¸‰ä¸ªåˆ™ç›¸å½“äº7Ã—7çš„å·ç§¯ã€‚ è¿™æ ·åšå¤§å¹…åº¦å‡å°‘äº†æ¨¡å‹å‚æ•°æ•°é‡ï¼Œå°å·ç§¯æ ¸é€‰å–å°çš„strideå¯ä»¥é˜²æ­¢è¾ƒå¤§çš„strideå¯¼è‡´ç»†èŠ‚ä¿¡æ¯çš„ä¸¢å¤±ã€‚å¤šå±‚å·ç§¯å±‚åŒæ—¶å¯ä»¥å¢åŠ éçº¿æ€§ï¼Œæå‡æ¨¡å‹æ€§èƒ½ã€‚ å°æ± åŒ–æ ¸ ç›¸æ¯”AlexNet3Ã—3çš„æ± åŒ–æ ¸ï¼ŒVGGå…¨éƒ¨ä¸º2Ã—2çš„ã€‚ å·ç§¯æ ¸ä¸“æ³¨äºæ‰©å¤§é€šé“æ•°ã€æ± åŒ–æ ¸ä¸“æ³¨äºç¼©å°å®½å’Œé«˜ï¼Œä½¿å¾—æ¨¡å‹æ¶æ„ä¸Šæ›´æ·±æ›´å®½çš„åŒæ—¶ï¼Œè®¡ç®—é‡çš„å¢åŠ æ”¾ç¼“ï¼Œä½¿ç½‘ç»œæœ‰æ›´å¤§æ„Ÿå—é‡çš„åŒæ—¶èƒ½é™ä½ç½‘ç»œå‚æ•°ï¼ŒåŒæ—¶å¤šæ¬¡ä½¿ç”¨ReLuæ¿€æ´»å‡½æ•°æœ‰æ›´å¤šçš„çº¿æ€§å˜æ¢ï¼Œå­¦ä¹ èƒ½åŠ›æ›´å¼ºã€‚ Multi-Scale åœ¨è®­ç»ƒæ—¶å’Œé¢„æµ‹æ—¶ï¼Œä½¿ç”¨Multi-Scaleåšæ•°æ®å¢å¼ºã€‚è®­ç»ƒæ—¶å°†åŒä¸€å¼ å›¾ç‰‡ç¼©æ”¾åˆ°ä¸åŒçš„å°ºå¯¸ï¼Œå†éšæœºå‰ªè£åˆ°224*224çš„å¤§å°ï¼Œå¢åŠ æ•°æ®é‡ã€‚é¢„æµ‹æ—¶å°†åŒä¸€å¼ å›¾ç‰‡ç¼©æ”¾åˆ°ä¸åŒå°ºå¯¸åšé¢„æµ‹ï¼Œæœ€åå–å¹³å‡å€¼ã€‚ å…¨è¿æ¥â†’å…¨å·ç§¯ ç½‘ç»œæµ‹è¯•æ—¶ï¼Œå…¨è¿æ¥æ›¿æ¢æˆå…¨å·ç§¯ï¼Œå¯ä»¥æ¥å—ä»»æ„å¤§å°å°ºå¯¸çš„è¾“å…¥ã€‚","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"CNNç»å…¸ç½‘ç»œï¼šAlexNet","slug":"dl/cnn/AlexNet","date":"2022-09-14T08:00:00.000Z","updated":"2022-10-08T09:21:40.772Z","comments":true,"path":"/post/dl/cnn/AlexNet.html","link":"","permalink":"https://maskros.top/post/dl/cnn/AlexNet.html","excerpt":"AlexNetæ˜¯ç”¨äºå›¾åƒè¯†åˆ«çš„CNNï¼Œæ¯”LeNet-5æ›´å¤æ‚ï¼Œå‚æ•°æ›´å¤šã€‚åœ¨ILSVRCæ¯”èµ›ä¸­ï¼ŒAlexNetä½¿ç”¨ImageNetæ•°æ®é›†ï¼Œæ€»å…±è¯†åˆ«1000ä¸ªç±»ã€‚æ¨¡å‹åŒ…æ‹¬äº†5ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚ï¼Œä½¿ç”¨äº†GPUåŠ å¿«è®­ç»ƒã€‚æ–‡ç« ä¸»è¦æå‡ºäº†Reluæ¿€æ´»å‡½æ•°ã€DropOutæ­£åˆ™åŒ–ç­‰åˆ›æ–°ã€‚ åŸè®ºæ–‡ï¼šImageNet Classification with Deep Convolutional Neural Networksï¼Œ2012å¹´å‘è¡¨åœ¨NIPS","text":"AlexNetæ˜¯ç”¨äºå›¾åƒè¯†åˆ«çš„CNNï¼Œæ¯”LeNet-5æ›´å¤æ‚ï¼Œå‚æ•°æ›´å¤šã€‚åœ¨ILSVRCæ¯”èµ›ä¸­ï¼ŒAlexNetä½¿ç”¨ImageNetæ•°æ®é›†ï¼Œæ€»å…±è¯†åˆ«1000ä¸ªç±»ã€‚æ¨¡å‹åŒ…æ‹¬äº†5ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚ï¼Œä½¿ç”¨äº†GPUåŠ å¿«è®­ç»ƒã€‚æ–‡ç« ä¸»è¦æå‡ºäº†Reluæ¿€æ´»å‡½æ•°ã€DropOutæ­£åˆ™åŒ–ç­‰åˆ›æ–°ã€‚ åŸè®ºæ–‡ï¼šImageNet Classification with Deep Convolutional Neural Networksï¼Œ2012å¹´å‘è¡¨åœ¨NIPS ç½‘ç»œç»“æ„ æ•´ä½“ç½‘ç»œç»“æ„ï¼š1ä¸ªè¾“å…¥å±‚(input layer)ã€5ä¸ªå·ç§¯å±‚ (C1, C2, C3, C4, C5)ã€2ä¸ªå…¨è¿æ¥å±‚(FC6, FC7) å’Œ 1ä¸ªè¾“å‡ºå±‚(output layer) AlexNeté‡‡ç”¨ä¸¤è·¯GPUå¹¶è¡Œè®­ç»ƒï¼Œæ•…æŠŠåŸå…ˆçš„å·ç§¯å±‚è¯„åˆ†ä¸¤éƒ¨åˆ†featuremapåˆ†åˆ«åœ¨ä¸¤å—GPUä¸Šè®­ç»ƒï¼Œå›¾ä¸­ä¸Šä¸‹å¯¹ç§°ã€‚å…¶ä¸­ï¼Œå·ç§¯å±‚C2, C4, C5çš„å·ç§¯æ ¸åªå’Œä½äºåŒä¸€GPUçš„ä¸Šä¸€å±‚çš„FeatureMapç›¸è¿ï¼ŒC3çš„å·ç§¯æ ¸ä¸ä¸¤ä¸ªGPUçš„ä¸Šä¸€å±‚çš„FeautureMapéƒ½è¿æ¥ã€‚ input layerï¼šè¾“å…¥ï¼š224Ã—224Ã—3 C1ï¼šCONV -&gt; ReLU -&gt; LRN -&gt; max pooling CONVï¼šè¾“å…¥å°ºå¯¸224Ã—224Ã—3 227Ã—227Ã—3ï¼Œ96ä¸ª11Ã—11Ã—3å·ç§¯æ ¸, padding=0, stride=4ï¼Œè¾“å‡ºä¸º55Ã—55Ã—96 LRN(Local Response Normalization, å±€éƒ¨å“åº”å½’ä¸€åŒ–)ï¼šå¯¹å±€éƒ¨ç¥ç»å…ƒçš„æ´»åŠ¨åˆ›å»ºç«äº‰æœºåˆ¶ï¼Œä½¿å¾—å…¶ä¸­å“åº”æ¯”è¾ƒå¤§çš„å€¼å˜å¾—ç›¸å¯¹æ›´å¤§ï¼Œå¹¶æŠ‘åˆ¶å…¶ä»–åé¦ˆè¾ƒå°çš„ç¥ç»å…ƒï¼Œå¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚å…¬å¼å¦‚ä¸‹ï¼š , ä¸ºå½’ä¸€åŒ–å‰/åçš„ç¥ç»å…ƒï¼ŒNä¸ºå·ç§¯æ ¸ä¸ªæ•°ï¼Œå³featuremapçš„ä¸ªæ•°ï¼›k, Î±, Î², nä¸ºè¶…å‚æ•°ï¼Œè®ºæ–‡ä¸­ k=2, n=5, Î±=0.0001, Î²=0.75â€‹ï¼Œè¾“å‡ºå°ºå¯¸ä¾æ—§ä¸º55Ã—55Ã—96ï¼Œåˆ†æˆä¸¤ç»„åˆ†åˆ«ä½äºå•ä¸ªGPUä¸Šï¼Œå°ºå¯¸55Ã—55Ã—48 max poolingï¼šæ± åŒ–å•å…ƒ3Ã—3, stride=2ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯é‡å æ± åŒ–(Overlapping Pooling)ï¼Œå³strideå°äºæ± åŒ–å•å…ƒçš„è¾¹é•¿ï¼Œè¾“å‡ºä¸º27Ã—27Ã—48 C2ï¼šCONV -&gt; ReLU -&gt; LRN -&gt; max pooling CONVï¼šä¸¤ç»„è¾“å…¥27Ã—27Ã—48ï¼Œæ¯ç»„åˆ†åˆ«ä½¿ç”¨128ä¸ª5Ã—5Ã—48å·ç§¯æ ¸, padding=2, stride=1ï¼Œè¾“å‡ºä¸º27Ã—27Ã—128 max poolingï¼š3Ã—3, stride=2, è¾“å‡º13Ã—13Ã—128 C3ï¼šCONV -&gt; ReLU CONVï¼šè¾“å…¥13Ã—13Ã—256ï¼Œ384ä¸ª3Ã—3Ã—256å·ç§¯æ ¸ï¼Œpadding=1, stride=1, è¾“å‡º13Ã—13Ã—384 ReLUï¼šReLUåï¼Œå°†è¾“å‡ºå…¶åˆ†æˆä¸¤ç»„ï¼Œæ¯ç»„featuremapå¤§å°13x13x192ï¼Œåˆ†åˆ«ä½äºå•ä¸ªGPUä¸Š C4ï¼šCONV -&gt; ReLU CONVï¼šä¸¤ç»„è¾“å…¥13x13x192ï¼Œå„ç»„192ä¸ª3x3x192çš„å·ç§¯æ ¸ï¼Œpadding=1, stride=1, è¾“å‡º13x13x192 C5ï¼šCONV -&gt; ReLU -&gt; max pooling CONVï¼šä¸¤ç»„è¾“å…¥13x13x192ï¼Œå„ç»„128ä¸ª3x3x192çš„å·ç§¯æ ¸ï¼Œpadding=1, stride=1, è¾“å‡º13x13x128 max poolingï¼š3x3, stride=2çš„æ± åŒ–å•å…ƒï¼Œè¾“å‡º6x6x128 FC6ï¼šFC -&gt; ReLU -&gt; Dropout FCï¼šè¾“å…¥6x6x128ï¼Œä½¿ç”¨4096ä¸ª6x6x256çš„å·ç§¯æ ¸ï¼Œç”±äºå·ç§¯æ ¸å°ºå¯¸ä¸è¾“å…¥çš„å°ºå¯¸å®Œå…¨ç›¸åŒï¼Œå³å·ç§¯æ ¸ä¸­çš„æ¯ä¸ªç³»æ•°åªä¸è¾“å…¥å°ºå¯¸çš„ä¸€ä¸ªåƒç´ å€¼ç›¸ä¹˜ä¸€ä¸€å¯¹åº”ï¼Œè¾“å‡º1x1x4096 Dropoutï¼šéšæœºçš„æ–­å¼€å…¨è¿æ¥å±‚æŸäº›ç¥ç»å…ƒçš„è¿æ¥ï¼Œé€šè¿‡ä¸æ¿€æ´»æŸäº›ç¥ç»å…ƒçš„æ–¹å¼é˜²æ­¢è¿‡æ‹Ÿåˆã€‚4096ä¸ªç¥ç»å…ƒä¹Ÿè¢«å‡åˆ†åˆ°ä¸¤å—GPUä¸Šè¿›è¡Œè¿ç®—ã€‚ FC7ï¼šFC -&gt; ReLU -&gt; Dropout FCï¼šè¾“å…¥å’Œè¾“å‡ºå‡ä¸º4096ä¸ªç¥ç»å…ƒï¼Œå‡åˆ†åˆ°ä¸¤å—GPUä¸Š Output layerï¼šFC -&gt; Softmax FCï¼šè¾“å…¥4096ä¸ªï¼Œè¾“å‡º1000ä¸ªï¼Œå¯¹åº”1000ä¸ªæ£€æµ‹ç±»åˆ« Softmaxï¼šè¿™1000ä¸ªç¥ç»å…ƒçš„è¿ç®—ç»“æœé€šè¿‡Softmaxå‡½æ•°ä¸­ï¼Œè¾“å‡º1000ä¸ªç±»åˆ«å¯¹åº”çš„é¢„æµ‹æ¦‚ç‡å€¼ ç½‘ç»œå‚æ•° ç¥ç»å…ƒ Layer num C1 55x55x48x2=290400 C2 27x27x128x2=186624 C3 13x13x192x2=64896 C4 13x13x192x2=64896 C5 13x13x128x2=43264 FC6 4096 FC7 4096 Output layer 1000 â€‹ æ€»è®¡çº¦65wç¥ç»å…ƒ å‚æ•° Layer num C1 (11x11x3+1)x96=34944 C2 (5x5x48+1)x128x2=307456 C3 (3x3x256+1)x384=885120 C4 (3x3x192+1)x192x2=663936 C5 (3x3x192+1)x128x2=442624 FC6 (6x6x256+1)x4096=37752832 FC7 (4096+1)x4096=16781312 Output layer 1000x4096=4096000 â€‹ æ€»è®¡çº¦6åƒä¸‡å‚æ•°ï¼Œè®¾å®šæ¯ä¸ªå‚æ•°32ä½floatï¼Œæ¯ä¸ªfloat4å­—èŠ‚ï¼Œå ç”¨çº¦ç­‰232Mbç©ºé—´ã€‚ FLOPS FLOPS (floating-point operations per second)ï¼šæ¯ç§’æ‰€æ‰§è¡Œçš„æµ®ç‚¹è¿ç®—æ¬¡æ•°ã€‚ 1MFLOPS = 1e6æ¬¡/s 1GFLOPS = 1e9/s 1TFLOPS = 1e12/s 1PFLOPS = 1e15/s 1EFLOPS = 1e18/s åœ¨AlexNetç½‘ç»œä¸­ï¼Œå¯¹äºå·ç§¯å±‚ï¼ŒFLOPS=num_paramsÃ—(HÃ—W)ã€‚å…¶ä¸­num_paramsä¸ºå‚æ•°æ•°é‡ï¼ŒHÃ—Wä¸ºå·ç§¯å±‚çš„é«˜å’Œå®½ã€‚å¯¹äºå…¨è¿æ¥å±‚ï¼ŒFLOPS=num_paramsã€‚ Layer num C1 34944x55x55=105705600 C2 307456x27x27=224135424 C3 885120x13x13=149585280 C4 663936x13x13=112205184 C5 442624x13x13=74803456 FC6 37752832 FC7 16781312 Output layer 4096000 â€‹ æ¨¡å‹è¡¨ç° ä¸‹å›¾ä¸ºImageNetå›¾åƒæ•°æ®é›†ç«èµ›ä¸Šï¼ŒALexNetæ¨¡å‹çš„è¡¨ç°ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºtop1å’Œtop5é”™è¯¯ç‡å‡å¤§å¤§é™ä½ï¼Œæ•ˆæœéå¸¸å¥½(å…¶ä»–ä¸¤ç§æ¨¡å‹å‡æ˜¯ä¼ ç»Ÿæ‰‹å·¥æå–ç‰¹å¾çš„æ¨¡å‹)ã€‚ Top-1 Errorï¼šå‡è®¾æ¨¡å‹é¢„æµ‹æŸä¸ªå¯¹è±¡çš„ç±»åˆ«ï¼Œæ¨¡å‹è¾“å‡º1ä¸ªé¢„æµ‹ç»“æœï¼Œé‚£ä¹ˆè¿™ä¸€ä¸ªç»“æœèƒ½åˆ¤æ–­æ­£ç¡®çš„æ¦‚ç‡å°±æ˜¯Top-1æ­£ç¡®ç‡ã€‚åˆ¤æ–­é”™è¯¯çš„æ¦‚ç‡å°±æ˜¯Top-1é”™è¯¯ç‡ã€‚ç®€è¨€ä¹‹å°±æ˜¯æ¨¡å‹åˆ¤é”™çš„æ¦‚ç‡ã€‚ Top-5 Error ï¼šå‡è®¾æ¨¡å‹é¢„æµ‹æŸä¸ªå¯¹è±¡çš„ç±»åˆ«ï¼Œæ¨¡å‹è¾“å‡º5ä¸ªé¢„æµ‹ç»“æœï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªèƒ½åˆ¤æ–­æ­£ç¡®ç±»åˆ«ï¼Œè¿™ä¸ªæ¦‚ç‡å°±æ˜¯Top-5æ­£ç¡®ç‡ï¼Œåä¹‹ï¼Œé¢„æµ‹è¾“å‡ºçš„äº”ä¸ªç»“æœéƒ½é”™è¯¯çš„æ¦‚ç‡å°±æ˜¯Top-5é”™è¯¯ç‡ã€‚ ä¸€èˆ¬æ¥è¯´ï¼ŒTop-1 Errorå’ŒTop-5 Errorè¶Šä½ï¼Œæ¨¡å‹çš„æ€§èƒ½ä¹Ÿå°±è¶Šå¥½ã€‚ä¸”Top-5 Error å¾€å¾€å°äºTop-1 Errorã€‚ Tricks æ•°æ®å¢å¼º Data Augmentationï¼šåœ¨æœ¬æ–‡ä¸­ï¼Œä½œè€…é‡‡ç”¨äº†ä¸¤ç§æ•°æ®å¢å¼ºæ–¹æ³•ï¼š é•œåƒåå°„å’Œéšæœºå‰ªè£ æ”¹å˜è®­ç»ƒæ ·æœ¬RGBé€šé“çš„å¼ºåº¦å€¼ é•œåƒåå°„å’Œéšæœºå‰ªè£ï¼šå…ˆå¯¹å›¾åƒåšé•œåƒåå°„ï¼Œåœ¨åŸå›¾å’Œé•œåƒåå°„çš„å›¾(256Ã—256)ä¸­éšæœºè£å‰ª227Ã—227çš„åŒºåŸŸï¼Œæµ‹è¯•çš„æ—¶å€™ï¼Œå¯¹å·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ã€ä¸­é—´åˆ†åˆ«åšäº†5æ¬¡è£å‰ªï¼Œç„¶åç¿»è½¬ï¼Œå…±10ä¸ªè£å‰ªï¼Œä¹‹åå¯¹ç»“æœæ±‚å¹³å‡ã€‚ æ”¹å˜è®­ç»ƒæ ·æœ¬RGBé€šé“çš„å¼ºåº¦å€¼ï¼šå¯¹RGBç©ºé—´åšPCA(ä¸»æˆåˆ†åˆ†æ)ï¼Œç„¶åå¯¹ä¸»æˆåˆ†åšä¸€ä¸ª (0, 0.1) çš„é«˜æ–¯æ‰°åŠ¨ï¼Œä¹Ÿå°±æ˜¯å¯¹é¢œè‰²ã€å…‰ç…§ä½œå˜æ¢ï¼Œç»“æœä½¿é”™è¯¯ç‡åˆä¸‹é™äº†1%ã€‚ ReLU å–ä»£äº†tanh()ã€‚ReLUä½¿ä¸€éƒ¨åˆ†ç¥ç»å…ƒçš„è¾“å‡ºä¸º0ï¼Œé€ æˆäº†ç½‘ç»œçš„ç¨€ç–æ€§ï¼Œå¹¶ä¸”å‡å°‘äº†å‚æ•°çš„ç›¸äº’ä¾å­˜å…³ç³»ï¼Œç¼“è§£äº†è¿‡æ‹Ÿåˆé—®é¢˜çš„å‘ç”Ÿã€‚èƒ½ç¼“è§£æ¢¯åº¦æ¶ˆå¤±çš„æƒ…å†µï¼Œæ¢¯åº¦æ±‚è§£éå¸¸å®¹æ˜“ã€‚ LRN å±€éƒ¨å“åº”å½’ä¸€åŒ–(LRN)å¯¹å±€éƒ¨ç¥ç»å…ƒçš„æ´»åŠ¨åˆ›å»ºç«äº‰æœºåˆ¶ï¼Œä½¿å¾—å…¶ä¸­å“åº”æ¯”è¾ƒå¤§çš„å€¼å˜å¾—ç›¸å¯¹æ›´å¤§ï¼Œå¹¶æŠ‘åˆ¶å…¶ä»–åé¦ˆè¾ƒå°çš„ç¥ç»å…ƒï¼Œå°†æ•°æ®åˆ†å¸ƒè°ƒæ•´åˆ°åˆç†çš„èŒƒå›´å†…ï¼Œä¾¿äºè®¡ç®—å¤„ç†ï¼Œä»è€Œæé«˜æ³›åŒ–èƒ½åŠ›ã€‚ å¦‚ä»Šæ‰¹é‡å½’ä¸€åŒ–(BN)æ›´å¸¸ç”¨ã€‚ Dropout æŠ‘åˆ¶è¿‡æ‹Ÿåˆï¼Œæ¯æ¬¡è¿­ä»£ä¸­å¯¹äºæŸä¸€å±‚çš„ç¥ç»å…ƒï¼Œé€šè¿‡å®šä¹‰çš„æ¦‚ç‡å°†ç¥ç»å…ƒç½®ä¸º0ï¼Œè¿™ä¸ªç¥ç»å…ƒå°±ä¸å‚ä¸å‰å‘å’Œåå‘ä¼ æ’­ï¼ŒåŒæ—¶ä¿æŒè¾“å…¥å±‚ä¸è¾“å‡ºå±‚ç¥ç»å…ƒçš„ä¸ªæ•°ä¸å˜ï¼Œç„¶åæŒ‰ç…§ç¥ç»ç½‘ç»œçš„å­¦ä¹ æ–¹æ³•è¿›è¡Œå‚æ•°æ›´æ–°ã€‚ é‡å æ± åŒ– æ­¥é•¿æ¯”æ± åŒ–çš„æ ¸çš„å°ºå¯¸å°ï¼Œè¿™æ ·æ± åŒ–å±‚çš„è¾“å‡ºä¹‹é—´æœ‰é‡å ï¼Œæå‡äº†ç‰¹å¾çš„ä¸°å¯Œæ€§ã€‚é‡å æ± åŒ–è´¡çŒ®äº†0.3%çš„Top-5é”™è¯¯ç‡ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å‡ç¼“è¿‡æ‹Ÿåˆã€‚ åŒGPUè®­ç»ƒ end-to-end CNNçš„è¾“å…¥ç›´æ¥æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œè€Œå½“æ—¶æ¯”è¾ƒå¤šçš„åšæ³•æ˜¯å…ˆä½¿ç”¨ç‰¹å¾æå–ç®—æ³•å¯¹RGBå›¾ç‰‡è¿›è¡Œç‰¹å¾æå–ã€‚AlexNetä½¿ç”¨äº†ç«¯å¯¹ç«¯ç½‘ç»œï¼Œé™¤äº†å°†æ¯ä¸ªåƒç´ ä¸­å‡å»è®­ç»ƒé›†çš„åƒç´ å‡å€¼ä¹‹å¤–ï¼Œæ²¡æœ‰ä»¥ä»»ä½•å…¶ä»–æ–¹å¼å¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼Œç›´æ¥ä½¿ç”¨åƒç´ çš„RGBå€¼è®­ç»ƒç½‘ç»œã€‚","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"PyTorchåŸºç¡€","slug":"dl/base/PyTorch","date":"2022-09-10T15:00:00.000Z","updated":"2022-09-25T05:23:18.904Z","comments":true,"path":"/post/dl/base/PyTorch.html","link":"","permalink":"https://maskros.top/post/dl/base/PyTorch.html","excerpt":"ref: PyTorchæ–‡æ¡£ PyTorch æ˜¯æ˜¯åŸºäºä»¥ä¸‹ä¸¤ä¸ªç›®çš„è€Œæ‰“é€ çš„pythonç§‘å­¦è®¡ç®—æ¡†æ¶ï¼š æ— ç¼æ›¿æ¢NumPyï¼Œåˆ©ç”¨GPUçš„ç®—åŠ›æ¥åŠ é€Ÿç¥ç»ç½‘ç»œ é€šè¿‡è‡ªåŠ¨å¾®åˆ†æœºåˆ¶ï¼Œæ¥è®©ç¥ç»ç½‘ç»œçš„å®ç°å˜å¾—æ›´åŠ å®¹æ˜“","text":"ref: PyTorchæ–‡æ¡£ PyTorch æ˜¯æ˜¯åŸºäºä»¥ä¸‹ä¸¤ä¸ªç›®çš„è€Œæ‰“é€ çš„pythonç§‘å­¦è®¡ç®—æ¡†æ¶ï¼š æ— ç¼æ›¿æ¢NumPyï¼Œåˆ©ç”¨GPUçš„ç®—åŠ›æ¥åŠ é€Ÿç¥ç»ç½‘ç»œ é€šè¿‡è‡ªåŠ¨å¾®åˆ†æœºåˆ¶ï¼Œæ¥è®©ç¥ç»ç½‘ç»œçš„å®ç°å˜å¾—æ›´åŠ å®¹æ˜“ åŸºç¡€çŸ¥è¯† å¼ é‡ tensor åˆå§‹åŒ– ç›´æ¥ç”Ÿæˆå¼ é‡ data = [[1, 2], [3, 4]] x_data = torch.tensor(data) é€šè¿‡numpyæ•°ç»„ç”Ÿæˆ np_array = np.array(data) x_np = torch.from_numpy(np_array) é€šè¿‡å·²æœ‰çš„å¼ é‡æ¥ç”Ÿæˆæ–°çš„å¼ é‡ ç»§æ‰¿å·²æœ‰å¼ é‡çš„æ•°æ®å±æ€§ï¼ˆç»“æ„ã€ç±»å‹ï¼‰ï¼Œä¹Ÿå¯ä»¥é‡å†™æ–°ç±»å‹ x_ones = torch.ones_like(x_data) # ä¿ç•™ x_data çš„å±æ€§ print(f\"Ones Tensor: \\n {x_ones} \\n\") x_rand = torch.rand_like(x_data, dtype=torch.float) # é‡å†™ x_data çš„æ•°æ®ç±»å‹ print(f\"Random Tensor: \\n {x_rand} \\n\") é€šè¿‡æŒ‡å®šæ•°æ®ç»´åº¦æ¥ç”Ÿæˆå¼ é‡ shapeæ˜¯å…ƒç»„ç±»å‹, ç”¨æ¥æè¿°å¼ é‡çš„ç»´æ•°, ä¸‹é¢3ä¸ªå‡½æ•°é€šè¿‡ä¼ å…¥shapeæ¥æŒ‡å®šç”Ÿæˆå¼ é‡çš„ç»´æ•°ã€‚ shape = (2,3,) rand_tensor = torch.rand(shape) ones_tensor = torch.ones(shape) zeros_tensor = torch.zeros(shape) print(f\"Random Tensor: \\n {rand_tensor} \\n\") print(f\"Ones Tensor: \\n {ones_tensor} \\n\") print(f\"Zeros Tensor: \\n {zeros_tensor}\") å±æ€§ ç»´æ•°shapeã€æ•°æ®ç±»å‹dtypeä»¥åŠå®ƒä»¬æ‰€å­˜å‚¨çš„è®¾å¤‡(CPUæˆ–GPU)device è¿ç®— # åˆ¤æ–­å½“å‰ç¯å¢ƒGPUæ˜¯å¦å¯ç”¨, ç„¶åå°†tensorå¯¼å…¥GPUå†…è¿è¡Œ if torch.cuda.is_available(): tensor = tensor.to('cuda') ç´¢å¼•å’Œåˆ‡ç‰‡ tensor = torch.ones(4, 4) tensor[:,1] = 0 # å°†ç¬¬1åˆ—(ä»0å¼€å§‹)çš„æ•°æ®å…¨éƒ¨èµ‹å€¼ä¸º0 print(tensor) æ‹¼æ¥ torch.cat æˆ– torch.stackï¼Œdimä¸ºæ‹¼æ¥æ–¹å‘çš„ç»´åº¦ t1 = torch.cat([tensor, tensor, tensor], dim=1) print(t1) å¼ é‡ä¹˜ç§¯å’ŒçŸ©é˜µä¹˜æ³• # é€ä¸ªç›¸ä¹˜ï¼ŒäºŒè€…ç­‰ä»· tensor.mul(tensor) tensor * tensor # çŸ©é˜µä¹˜æ³• tensor.matmul(tensor.T) tensor @ tensor.T è‡ªåŠ¨èµ‹å€¼è¿ç®— è‡ªåŠ¨èµ‹å€¼è¿ç®—é€šå¸¸åœ¨æ–¹æ³•åæœ‰ _ ä½œä¸ºåç¼€ï¼Œä¾‹å¦‚: x.copy_(y), x.t_()æ“ä½œä¼šæ”¹å˜ x çš„å–å€¼ã€‚ tensor.add_(5) è‡ªåŠ¨èµ‹å€¼è¿ç®—è™½ç„¶å¯ä»¥èŠ‚çœå†…å­˜, ä½†åœ¨æ±‚å¯¼æ—¶ä¼šå› ä¸ºä¸¢å¤±äº†ä¸­é—´è¿‡ç¨‹è€Œå¯¼è‡´ä¸€äº›é—®é¢˜, æ‰€ä»¥æˆ‘ä»¬å¹¶ä¸é¼“åŠ±ä½¿ç”¨å®ƒã€‚ Autograd torch.autogradæ˜¯ PyTorch çš„è‡ªåŠ¨å·®åˆ†å¼•æ“ï¼Œå¯ä¸ºç¥ç»ç½‘ç»œè®­ç»ƒæä¾›æ”¯æŒã€‚ exï¼šä¸€ä¸ªè®­ç»ƒæ­¥éª¤ç¤ºä¾‹ ä»torchvisionåŠ è½½äº†ç»è¿‡é¢„è®­ç»ƒçš„ resnet18 æ¨¡å‹ã€‚ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªéšæœºæ•°æ®å¼ é‡æ¥è¡¨ç¤ºå…·æœ‰ 3 ä¸ªé€šé“çš„å•ä¸ªå›¾åƒï¼Œé«˜åº¦&amp;å®½åº¦ä¸º 64ï¼Œå…¶å¯¹åº”çš„labelåˆå§‹åŒ–ä¸ºä¸€äº›éšæœºå€¼ã€‚ import torch, torchvision model = torchvision.models.resnet18(pretrained=True) data = torch.rand(1, 3, 64, 64) labels = torch.rand(1, 1000) æ­£å‘ä¼ æ’­ã€‚ prediction = model(data) # forward pass åå‘ä¼ æ’­ï¼ŒAutograd ä¼šä¸ºæ¯ä¸ªæ¨¡å‹å‚æ•°è®¡ç®—æ¢¯åº¦å¹¶å°†å…¶å­˜å‚¨åœ¨å‚æ•°çš„.gradå±æ€§ä¸­ã€‚ loss = (prediction - labels).sum() loss.backward() # backward pass æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŠ è½½ä¸€ä¸ªä¼˜åŒ–å™¨ï¼Œåœ¨æœ¬ä¾‹ä¸­ä¸º SGDï¼Œå­¦ä¹ ç‡ä¸º 0.01ï¼ŒåŠ¨é‡ä¸º 0.9ã€‚ æˆ‘ä»¬åœ¨ä¼˜åŒ–å™¨ä¸­æ³¨å†Œæ¨¡å‹çš„æ‰€æœ‰å‚æ•°ã€‚ optim = torch.optim.SGD(model.parameters(), lr=1e-2, momentum=0.9) è°ƒç”¨.step()å¯åŠ¨æ¢¯åº¦ä¸‹é™ã€‚ ä¼˜åŒ–å™¨é€šè¿‡.gradä¸­å­˜å‚¨çš„æ¢¯åº¦æ¥è°ƒæ•´æ¯ä¸ªå‚æ•°ã€‚ optim.step() #gradient descent Autogradçš„å¾®åˆ† exï¼šautogradå¦‚ä½•æ”¶é›†æ¢¯åº¦ã€‚é¦–å…ˆç”¨requires_grad=Trueåˆ›å»ºä¸¤ä¸ªå¼ é‡aå’Œbã€‚ è¿™å‘autogradå‘å‡ºä¿¡å·ï¼Œåº”è·Ÿè¸ªå¯¹å®ƒä»¬çš„æ‰€æœ‰æ“ä½œã€‚ a = torch.tensor([2., 3.], requires_grad=True) b = torch.tensor([6., 4.], requires_grad=True) ä»aå’Œbåˆ›å»ºå¦ä¸€ä¸ªå¼ é‡Qã€‚å‡è®¾aå’Œbæ˜¯å‚æ•°ï¼ŒQæ˜¯è¯¯å·®ï¼Œåœ¨Qä¸Šè°ƒç”¨.backward()æ—¶ï¼ŒAutograd å°†è®¡ç®—è¿™äº›æ¢¯åº¦å¹¶å°†å…¶å­˜å‚¨åœ¨å„ä¸ªå¼ é‡çš„.gradå±æ€§ä¸­ã€‚ æˆ‘ä»¬éœ€è¦åœ¨Q.backward()ä¸­æ˜¾å¼ä¼ é€’gradientå‚æ•°ï¼Œå› ä¸ºå®ƒæ˜¯å‘é‡ã€‚ gradientæ˜¯ä¸Qå½¢çŠ¶ç›¸åŒçš„å¼ é‡ï¼Œå®ƒè¡¨ç¤ºQç›¸å¯¹äºæœ¬èº«çš„æ¢¯åº¦ï¼Œå³ ğŸ™ ï¼›åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†Qèšåˆä¸ºä¸€ä¸ªæ ‡é‡ï¼Œç„¶åéšå¼åœ°å‘åè°ƒç”¨ï¼Œä¾‹å¦‚Q.sum().backward()ã€‚ Q = 3*a**3 - b**2 external_grad = torch.tensor([1., 1.]) Q.backward(gradient=external_grad) æ£€æŸ¥æ²‰ç§¯çš„æ¢¯åº¦ï¼Œæ— è¯¯ã€‚ # ç»“æœéƒ½æ˜¯true print(9*a**2 == a.grad) print(-2*b == b.grad) è®¡ç®—å›¾ Autograd åœ¨ç”±å‡½æ•°å¯¹è±¡ç»„æˆçš„æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ä¸­è®°å½•æ•°æ®ï¼ˆå¼ é‡ï¼‰å’Œæ‰€æœ‰å·²æ‰§è¡Œçš„æ“ä½œï¼ˆä»¥åŠç”±æ­¤äº§ç”Ÿçš„æ–°å¼ é‡ï¼‰ã€‚ åœ¨æ­¤ DAG ä¸­ï¼Œå¶å­æ˜¯è¾“å…¥å¼ é‡ï¼Œæ ¹æ˜¯è¾“å‡ºå¼ é‡ã€‚ é€šè¿‡ä»æ ¹åˆ°å¶è·Ÿè¸ªæ­¤å›¾ï¼Œå¯ä»¥ä½¿ç”¨é“¾å¼è§„åˆ™è‡ªåŠ¨è®¡ç®—æ¢¯åº¦ã€‚ åœ¨æ­£å‘ä¼ æ’­ä¸­ï¼ŒAutograd åŒæ—¶æ‰§è¡Œä¸¤é¡¹æ“ä½œï¼š è¿è¡Œè¯·æ±‚çš„æ“ä½œä»¥è®¡ç®—ç»“æœå¼ é‡ åœ¨ DAG ä¸­ç»´æŠ¤æ“ä½œçš„æ¢¯åº¦å‡½æ•° å½“åœ¨ DAG æ ¹ç›®å½•ä¸Šè°ƒç”¨.backward()æ—¶ï¼Œåå‘ä¼ é€’å¼€å§‹ã€‚ Autogradæ‰§è¡Œï¼š ä»æ¯ä¸ª.grad_fnè®¡ç®—æ¢¯åº¦ï¼Œå°†å®ƒä»¬ç´¯ç§¯åœ¨å„è‡ªçš„å¼ é‡çš„.gradå±æ€§ä¸­ ä½¿ç”¨é“¾å¼è§„åˆ™ä¸€ç›´ä¼ æ’­åˆ°å¶å­å¼ é‡ DAG åœ¨ PyTorch ä¸­æ˜¯åŠ¨æ€çš„ã€‚è¦æ³¨æ„çš„é‡è¦ä¸€ç‚¹æ˜¯ï¼Œå›¾æ˜¯ä»å¤´å¼€å§‹é‡æ–°åˆ›å»ºçš„ï¼› åœ¨æ¯ä¸ª.backward()è°ƒç”¨ä¹‹åï¼ŒAutograd å¼€å§‹å¡«å……æ–°å›¾ã€‚ å¯ä»¥æ ¹æ®éœ€è¦åœ¨æ¯æ¬¡è¿­ä»£ä¸­æ›´æ”¹å½¢çŠ¶ï¼Œå¤§å°å’Œæ“ä½œã€‚ ä»DAGä¸­æ’é™¤ å¯¹äºä¸éœ€è¦æ¢¯åº¦çš„å¼ é‡ï¼Œå°†requires_gradå±æ€§è®¾ç½®ä¸ºFalseä¼šå°†å…¶ä»æ¢¯åº¦è®¡ç®— DAG ä¸­æ’é™¤ã€‚ä½†æ³¨æ„ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªè¾“å…¥å¼ é‡è¯¥å±æ€§ä¸ºTrueï¼Œæ“ä½œçš„è¾“å‡ºå¼ é‡ä¹Ÿå°†éœ€è¦æ¢¯åº¦ã€‚ åœ¨ NN ä¸­ï¼Œä¸è®¡ç®—æ¢¯åº¦çš„å‚æ•°é€šå¸¸ç§°ä¸ºå†»ç»“å‚æ•°ã€‚ å¦‚æœäº‹å…ˆçŸ¥é“æ‚¨ä¸éœ€è¦è¿™äº›å‚æ•°çš„æ¢¯åº¦ï¼Œåˆ™â€œå†»ç»“â€æ¨¡å‹çš„ä¸€éƒ¨åˆ†ä¼šå¸¦æ¥æ€§èƒ½ä¼˜åŠ¿ã€‚å¸¸è§ç”¨ä¾‹ï¼šè°ƒæ•´é¢„è®­ç»ƒç½‘ç»œ(finetuning) åœ¨å¾®è°ƒä¸­ï¼Œæˆ‘ä»¬å†»ç»“äº†å¤§éƒ¨åˆ†æ¨¡å‹ï¼Œé€šå¸¸ä»…ä¿®æ”¹åˆ†ç±»å™¨å±‚ä»¥å¯¹æ–°æ ‡ç­¾è¿›è¡Œé¢„æµ‹ã€‚ exï¼šåŠ è½½ä¸€ä¸ªé¢„è®­ç»ƒçš„ resnet18 æ¨¡å‹ï¼Œå¹¶å†»ç»“æ‰€æœ‰å‚æ•°ã€‚ from torch import nn, optim model = torchvision.models.resnet18(pretrained=True) # Freeze all the parameters in the network for param in model.parameters(): param.requires_grad = False å‡è®¾æˆ‘ä»¬è¦åœ¨å…·æœ‰ 10 ä¸ªæ ‡ç­¾çš„æ–°æ•°æ®é›†ä¸­å¾®è°ƒæ¨¡å‹ã€‚ åœ¨ resnet ä¸­ï¼Œåˆ†ç±»å™¨æ˜¯æœ€åä¸€ä¸ªçº¿æ€§å±‚model.fcã€‚ æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†å…¶æ›¿æ¢ä¸ºå……å½“æˆ‘ä»¬çš„åˆ†ç±»å™¨çš„æ–°çº¿æ€§å±‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹æœªå†»ç»“ï¼‰ã€‚ model.fc = nn.Linear(512, 10) ç°åœ¨ï¼Œé™¤äº†model.fcçš„å‚æ•°å¤–ï¼Œæ¨¡å‹ä¸­çš„æ‰€æœ‰å‚æ•°éƒ½å°†å†»ç»“ã€‚ è®¡ç®—æ¢¯åº¦çš„å”¯ä¸€å‚æ•°æ˜¯model.fcçš„æƒé‡å’Œåå·®ã€‚ # Optimize only the classifier optimizer = optim.SGD(model.fc.parameters(), lr=1e-2, momentum=0.9) å°½ç®¡æˆ‘ä»¬åœ¨ä¼˜åŒ–å™¨ä¸­æ³¨å†Œäº†æ‰€æœ‰å‚æ•°ï¼Œä½†å”¯ä¸€å¯è®¡ç®—æ¢¯åº¦çš„å‚æ•°ï¼ˆå› æ­¤ä¼šåœ¨æ¢¯åº¦ä¸‹é™ä¸­è¿›è¡Œæ›´æ–°ï¼‰æ˜¯åˆ†ç±»å™¨çš„æƒé‡å’Œåå·®torch.no_grad()ä¸­çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ’é™¤åŠŸèƒ½ã€‚ ç¥ç»ç½‘ç»œ å¯ä»¥ä½¿ç”¨torch.nnåŒ…æ„å»ºç¥ç»ç½‘ç»œã€‚nnä¾èµ–äºautogradæ¥å®šä¹‰æ¨¡å‹å¹¶å¯¹å…¶è¿›è¡Œå¾®åˆ†ã€‚ nn.ModuleåŒ…å«å±‚ï¼Œä»¥åŠè¿”å›outputçš„æ–¹æ³•forward(input)ã€‚ ç¥ç»ç½‘ç»œçš„å…¸å‹è®­ç»ƒè¿‡ç¨‹ï¼š å®šä¹‰å…·æœ‰ä¸€äº›å¯å­¦ä¹ å‚æ•°ï¼ˆæˆ–æƒé‡ï¼‰çš„ç¥ç»ç½‘ç»œ éå†è¾“å…¥æ•°æ®é›† é€šè¿‡ç½‘ç»œå¤„ç†è¾“å…¥ è®¡ç®—æŸå¤±ï¼ˆè¾“å‡ºæ­£ç¡®çš„è·ç¦»æœ‰å¤šè¿œï¼‰ å°†æ¢¯åº¦ä¼ æ’­å›ç½‘ç»œå‚æ•° é€šå¸¸ä½¿ç”¨ç®€å•çš„æ›´æ–°è§„åˆ™æ¥æ›´æ–°ç½‘ç»œçš„æƒé‡ï¼šweight = weight - learning_rate * gradient å®šä¹‰ç½‘ç»œ exï¼š import torch import torch.nn as nn import torch.nn.functional as F class Net(nn.Module): def __init__(self): super(Net, self).__init__() # 1 input image channel, 6 output channels, 5x5 square convolution # kernel self.conv1 = nn.Conv2d(1, 6, 5) self.conv2 = nn.Conv2d(6, 16, 5) # an affine operation: y = Wx + b self.fc1 = nn.Linear(16 * 5 * 5, 120) # 5*5 from image dimension self.fc2 = nn.Linear(120, 84) self.fc3 = nn.Linear(84, 10) def forward(self, x): # Max pooling over a (2, 2) window x = F.max_pool2d(F.relu(self.conv1(x)), (2, 2)) # If the size is a square, you can specify with a single number x = F.max_pool2d(F.relu(self.conv2(x)), 2) x = torch.flatten(x, 1) # flatten all dimensions except the batch dimension x = F.relu(self.fc1(x)) x = F.relu(self.fc2(x)) x = self.fc3(x) return x net = Net() print(net) è¾“å‡ºï¼š Net( (conv1): Conv2d(1, 6, kernel_size=(5, 5), stride=(1, 1)) (conv2): Conv2d(6, 16, kernel_size=(5, 5), stride=(1, 1)) (fc1): Linear(in_features=400, out_features=120, bias=True) (fc2): Linear(in_features=120, out_features=84, bias=True) (fc3): Linear(in_features=84, out_features=10, bias=True) ) åªéœ€å®šä¹‰forwardå‡½æ•°ï¼Œå°±å¯ä»¥ä½¿ç”¨autogradè‡ªåŠ¨å®šä¹‰backwardå‡½æ•°ï¼ˆè®¡ç®—æ¢¯åº¦ï¼‰ã€‚ å¯ä»¥åœ¨forwardå‡½æ•°ä¸­ä½¿ç”¨ä»»ä½•å¼ é‡æ“ä½œã€‚ æ¨¡å‹çš„å¯å­¦ä¹ å‚æ•°ç”±net.parameters()è¿”å›ã€‚ params = list(net.parameters()) print(len(params)) print(params[0].size()) # conv1's .weight è¾“å‡ºï¼š 10 torch.Size([6, 1, 5, 5]) å°è¯•ä¸€ä¸ª 32*32 éšæœºè¾“å…¥ã€‚ input = torch.randn(1, 1, 32, 32) out = net(input) print(out) è¾“å‡ºï¼š tensor([[ 0.0818, -0.0857, 0.0695, 0.1430, 0.0191, -0.1402, 0.0499, -0.0737, -0.0857, 0.1395]], grad_fn=&lt;AddmmBackward0&gt;) ä½¿ç”¨éšæœºæ¢¯åº¦å°†æ‰€æœ‰å‚æ•°å’Œåå‘ä¼ æ’­çš„æ¢¯åº¦ç¼“å†²åŒºå½’é›¶ï¼š net.zero_grad() out.backward(torch.randn(1, 10)) æ³¨æ„ï¼štorch.nnä»…æ”¯æŒmini-batchã€‚ æ•´ä¸ªtorch.nnåŒ…ä»…æ”¯æŒä½œä¸ºå¾®å‹æ ·æœ¬è€Œä¸æ˜¯å•ä¸ªæ ·æœ¬çš„è¾“å…¥ï¼šexï¼šnn.Conv2då°†é‡‡ç”¨nSamples x nChannels x Height x Widthçš„ 4D å¼ é‡ã€‚å¦‚æœæ‚¨åªæœ‰ä¸€ä¸ªæ ·æœ¬ï¼Œåªéœ€ä½¿ç”¨input.unsqueeze(0)æ·»åŠ ä¸€ä¸ªå‡æ‰¹é‡å°ºå¯¸ã€‚ æ€»ç»“ï¼š torch.Tensor-ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œæ”¯æŒè¯¸å¦‚backward()çš„è‡ªåŠ¨å¾®åˆ†æ“ä½œã€‚ åŒæ ·ï¼Œä¿æŒç›¸å¯¹äºå¼ é‡çš„æ¢¯åº¦ã€‚ nn.Module-ç¥ç»ç½‘ç»œæ¨¡å—ã€‚ å°è£…å‚æ•°çš„ä¾¿æ·æ–¹æ³•ï¼Œå¹¶å¸¦æœ‰å°†å…¶ç§»åŠ¨åˆ° GPUï¼Œå¯¼å‡ºï¼ŒåŠ è½½ç­‰çš„å¸®åŠ©å™¨ã€‚ nn.Parameter-ä¸€ç§å¼ é‡ï¼Œå³å°†å…¶åˆ†é…ä¸ºModuleçš„å±æ€§æ—¶ï¼Œè‡ªåŠ¨æ³¨å†Œä¸ºå‚æ•°ã€‚ autograd.Function-å®ç°è‡ªåŠ¨å¾®åˆ†æ“ä½œçš„æ­£å‘å’Œåå‘å®šä¹‰ã€‚ æ¯ä¸ªTensoræ“ä½œéƒ½ä¼šåˆ›å»ºè‡³å°‘ä¸€ä¸ªFunctionèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹è¿æ¥åˆ°åˆ›å»ºTensorçš„å‡½æ•°ï¼Œå¹¶ä¸”ç¼–ç å…¶å†å²è®°å½•ã€‚ æŸå¤±å‡½æ•° æŸå¤±å‡½æ•°é‡‡ç”¨ä¸€å¯¹ï¼ˆè¾“å‡ºï¼Œç›®æ ‡ï¼‰è¾“å…¥ï¼Œå¹¶è®¡ç®—ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼ä¼°è®¡è¾“å‡ºä¸ç›®æ ‡ä¹‹é—´çš„è·ç¦»ã€‚ nnåŒ…ä¸‹æœ‰å‡ ç§ä¸åŒçš„æŸå¤±å‡½æ•°ï¼Œä¸€ä¸ªç®€å•çš„æŸå¤±æ˜¯ï¼šnn.MSELossï¼Œå®ƒè®¡ç®—è¾“å…¥å’Œç›®æ ‡ä¹‹é—´çš„å‡æ–¹è¯¯å·®ï¼Œexï¼š output = net(input) target = torch.randn(10) # a dummy target, for example target = target.view(1, -1) # make it the same shape as output criterion = nn.MSELoss() loss = criterion(output, target) print(loss) è¾“å‡ºï¼š tensor(1.1649, grad_fn=&lt;MseLossBackward0&gt;) ç°åœ¨ï¼Œå¦‚æœä½¿ç”¨.grad_fnå±æ€§å‘åè·Ÿéšlossï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªè®¡ç®—å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š input -&gt; conv2d -&gt; relu -&gt; maxpool2d -&gt; conv2d -&gt; relu -&gt; maxpool2d -&gt; view -&gt; linear -&gt; relu -&gt; linear -&gt; relu -&gt; linear -&gt; MSELoss -&gt; loss å½“æˆ‘ä»¬è°ƒç”¨loss.backward()æ—¶ï¼Œæ•´ä¸ªå›¾å°†è¢«å¾®åˆ†ã€‚ å¹¶ä¸”å›¾ä¸­å…·æœ‰requires_grad=Trueçš„æ‰€æœ‰å¼ é‡å°†éšæ¢¯åº¦ç´¯ç§¯å…¶.gradå¼ é‡ã€‚ ä¸ºäº†è¯´æ˜ï¼Œè®©æˆ‘ä»¬å‘åèµ°å‡ æ­¥ï¼š print(loss.grad_fn) # MSELoss print(loss.grad_fn.next_functions[0][0]) # Linear print(loss.grad_fn.next_functions[0][0].next_functions[0][0]) # ReLU # è¾“å‡º &lt;MseLossBackward0 object at 0x7f71283dd048&gt; &lt;AddmmBackward0 object at 0x7f71283dd7f0&gt; &lt;AccumulateGrad object at 0x7f71283dd7f0&gt; åå‘ä¼ æ’­ è¦åå‘ä¼ æ’­è¯¯å·®ï¼Œæˆ‘ä»¬è¦åšçš„åªæ˜¯loss.backward()ã€‚ ä¸è¿‡ï¼Œéœ€è¦æ¸…é™¤ç°æœ‰çš„æ¢¯åº¦ï¼Œå¦åˆ™æ¢¯åº¦å°†ç´¯ç§¯åˆ°ç°æœ‰çš„æ¢¯åº¦ä¸­ã€‚ exï¼šçœ‹ä¸€ä¸‹backwardå‰åconv1çš„åå·®æ¢¯åº¦ net.zero_grad() # zeroes the gradient buffers of all parameters print('conv1.bias.grad before backward') print(net.conv1.bias.grad) loss.backward() print('conv1.bias.grad after backward') print(net.conv1.bias.grad) è¾“å‡ºï¼š conv1.bias.grad before backward tensor([0., 0., 0., 0., 0., 0.]) conv1.bias.grad after backward tensor([ 0.0188, 0.0172, -0.0044, -0.0141, -0.0058, -0.0013]) æ›´æ–°æƒé‡ å®è·µä¸­ä½¿ç”¨çš„æœ€ç®€å•çš„æ›´æ–°è§„åˆ™æ˜¯éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰ï¼š weight = weight - learning_rate * gradient ä½¿ç”¨ç¥ç»ç½‘ç»œæ—¶ï¼Œæ‚¨å¸Œæœ›ä½¿ç”¨å„ç§ä¸åŒçš„æ›´æ–°è§„åˆ™ï¼Œä¾‹å¦‚ SGDï¼ŒNesterov-SGDï¼ŒAdamï¼ŒRMSProp ç­‰ã€‚ä¸ºå®ç°æ­¤ç›®çš„ï¼Œtorch.optimå¯å®ç°æ‰€æœ‰è¿™äº›æ–¹æ³•ã€‚ ä½¿ç”¨å®ƒéå¸¸ç®€å•ï¼š import torch.optim as optim # create your optimizer optimizer = optim.SGD(net.parameters(), lr=0.01) # in your training loop: optimizer.zero_grad() # zero the gradient buffers output = net(input) loss = criterion(output, target) loss.backward() optimizer.step() # Does the update æ³¨æ„ï¼šä½¿ç”¨optimizer.zero_grad()å°†æ¢¯åº¦ç¼“å†²åŒºæ‰‹åŠ¨è®¾ç½®ä¸ºé›¶ã€‚ è¿™æ˜¯å› ä¸ºå¦‚åå‘ä¼ æ’­éƒ¨åˆ†ä¸­æ‰€è¿°ç´¯ç§¯äº†æ¢¯åº¦ã€‚ è®­ç»ƒåˆ†ç±»å™¨ æ•°æ® å¤„ç†å›¾åƒï¼Œæ–‡æœ¬ï¼ŒéŸ³é¢‘æˆ–è§†é¢‘æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å°†æ•°æ®åŠ è½½åˆ° NumPy æ•°ç»„ä¸­çš„æ ‡å‡† Python åŒ…ã€‚ ç„¶åï¼Œæ‚¨å¯ä»¥å°†è¯¥æ•°ç»„è½¬æ¢ä¸ºtorch.*Tensorã€‚ å¯¹äºå›¾åƒï¼ŒPillowï¼ŒOpenCV ç­‰åŒ…å¾ˆæœ‰ç”¨ å¯¹äºéŸ³é¢‘ï¼Œè¯·ä½¿ç”¨ SciPy å’Œ librosa ç­‰åŒ… å¯¹äºæ–‡æœ¬ï¼ŒåŸºäº Python æˆ– Cython çš„åŸå§‹åŠ è½½ï¼Œæˆ–è€… NLTK å’Œ SpaCy å¾ˆæœ‰ç”¨ ä¸“é—¨é’ˆå¯¹è§†è§‰çš„torchvisionåŒ…ï¼Œå…¶ä¸­åŒ…å«ç”¨äºå¸¸è§æ•°æ®é›†ï¼ˆä¾‹å¦‚ Imagenetï¼ŒCIFAR10ï¼ŒMNIST ç­‰ï¼‰çš„æ•°æ®åŠ è½½å™¨ï¼Œä»¥åŠç”¨äºå›¾åƒï¼ˆå³torchvision.datasetså’Œtorch.utils.data.DataLoaderï¼‰çš„æ•°æ®è½¬æ¢å™¨ã€‚ #### è®­ç»ƒ exï¼šå°†ä½¿ç”¨ CIFAR10 æ•°æ®é›†ã€‚ å®ƒå…·æœ‰ä»¥ä¸‹ç±»åˆ«ï¼šâ€œé£æœºâ€ï¼Œâ€œæ±½è½¦â€ï¼Œâ€œé¸Ÿâ€ï¼Œâ€œçŒ«â€ï¼Œâ€œé¹¿â€ï¼Œâ€œç‹—â€ï¼Œâ€œé’è›™â€ï¼Œâ€œé©¬â€ï¼Œâ€œèˆ¹â€ï¼Œâ€œå¡è½¦â€ã€‚ CIFAR-10 ä¸­çš„å›¾åƒå°ºå¯¸ä¸º3x32x32ï¼Œå³å°ºå¯¸ä¸º32x32åƒç´ çš„ 3 é€šé“å½©è‰²å›¾åƒã€‚ åº”æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š ä½¿ç”¨torchvisionåŠ è½½å¹¶æ ‡å‡†åŒ– CIFAR10 è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›† å®šä¹‰å·ç§¯ç¥ç»ç½‘ç»œ å®šä¹‰æŸå¤±å‡½æ•° æ ¹æ®è®­ç»ƒæ•°æ®è®­ç»ƒç½‘ç»œ åœ¨æµ‹è¯•æ•°æ®ä¸Šæµ‹è¯•ç½‘ç»œ 1.åŠ è½½å¹¶æ ‡å‡†åŒ– CIFAR10 TorchVision æ•°æ®é›†çš„è¾“å‡ºæ˜¯[0, 1]èŒƒå›´çš„PILImageå›¾åƒã€‚ æˆ‘ä»¬å°†å®ƒä»¬è½¬æ¢ä¸ºå½’ä¸€åŒ–èŒƒå›´[-1, 1]çš„å¼ é‡ import torch import torchvision import torchvision.transforms as transforms transform = transforms.Compose( [transforms.ToTensor(), transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5))]) trainset = torchvision.datasets.CIFAR10(root='./data', train=True, download=True, transform=transform) trainloader = torch.utils.data.DataLoader(trainset, batch_size=4, shuffle=True, num_workers=2) testset = torchvision.datasets.CIFAR10(root='./data', train=False, download=True, transform=transform) testloader = torch.utils.data.DataLoader(testset, batch_size=4, shuffle=False, num_workers=2) classes = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck') å±•ç¤ºä¸€äº›è®­ç»ƒå›¾åƒ import matplotlib.pyplot as plt import numpy as np # functions to show an image def imshow(img): img = img / 2 + 0.5 # unnormalize npimg = img.numpy() plt.imshow(np.transpose(npimg, (1, 2, 0))) plt.show() # get some random training images dataiter = iter(trainloader) images, labels = dataiter.next() # show images imshow(torchvision.utils.make_grid(images)) # print labels print(' '.join('%5s' % classes[labels[j]] for j in range(4))) 2.å®šä¹‰å·ç§¯ç¥ç»ç½‘ç»œ ä¹‹å‰ä»â€œç¥ç»ç½‘ç»œâ€éƒ¨åˆ†å¤åˆ¶ç¥ç»ç½‘ç»œï¼Œç„¶åå¯¹å…¶è¿›è¡Œä¿®æ”¹ä»¥è·å– 3 é€šé“å›¾åƒï¼ˆè€Œä¸æ˜¯å®šä¹‰çš„ 1 é€šé“å›¾åƒï¼‰ã€‚ import torch.nn as nn import torch.nn.functional as F class Net(nn.Module): def __init__(self): super(Net, self).__init__() self.conv1 = nn.Conv2d(3, 6, 5) self.pool = nn.MaxPool2d(2, 2) self.conv2 = nn.Conv2d(6, 16, 5) self.fc1 = nn.Linear(16 * 5 * 5, 120) self.fc2 = nn.Linear(120, 84) self.fc3 = nn.Linear(84, 10) def forward(self, x): x = self.pool(F.relu(self.conv1(x))) x = self.pool(F.relu(self.conv2(x))) x = x.view(-1, 16 * 5 * 5) x = F.relu(self.fc1(x)) x = F.relu(self.fc2(x)) x = self.fc3(x) return x net = Net() 3.å®šä¹‰æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨ ä½¿ç”¨åˆ†ç±»äº¤å‰ç†µæŸå¤±å’Œå¸¦åŠ¨é‡çš„ SGD import torch.optim as optim criterion = nn.CrossEntropyLoss() optimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9) 4.è®­ç»ƒç½‘ç»œ åªéœ€éå†æ•°æ®è¿­ä»£å™¨ï¼Œç„¶åå°†è¾“å…¥é¦ˆé€åˆ°ç½‘ç»œå¹¶è¿›è¡Œä¼˜åŒ–å³å¯ã€‚ for epoch in range(2): # loop over the dataset multiple times running_loss = 0.0 for i, data in enumerate(trainloader, 0): # get the inputs; data is a list of [inputs, labels] inputs, labels = data # zero the parameter gradients optimizer.zero_grad() # forward + backward + optimize outputs = net(inputs) loss = criterion(outputs, labels) loss.backward() optimizer.step() # print statistics running_loss += loss.item() if i % 2000 == 1999: # print every 2000 mini-batches print('[%d, %5d] loss: %.3f' % (epoch + 1, i + 1, running_loss / 2000)) running_loss = 0.0 print('Finished Training') å¿«é€Ÿä¿å­˜æˆ‘ä»¬è®­ç»ƒè¿‡çš„æ¨¡å‹ï¼š PATH = './cifar_net.pth' torch.save(net.state_dict(), PATH) 5.æ ¹æ®æµ‹è¯•æ•°æ®æµ‹è¯•ç½‘ç»œ æˆ‘ä»¬å·²ç»åœ¨è®­ç»ƒæ•°æ®é›†ä¸­å¯¹ç½‘ç»œè¿›è¡Œäº† 2 æ¬¡è®­ç»ƒï¼Œä¸‹é¢å°†é€šè¿‡é¢„æµ‹ç¥ç»ç½‘ç»œè¾“å‡ºçš„ç±»åˆ«æ ‡ç­¾å¹¶æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œæ£€æŸ¥æ¥è¿›è¡Œæ£€æŸ¥ã€‚ å¦‚æœé¢„æµ‹æ­£ç¡®ï¼Œåˆ™å°†æ ·æœ¬æ·»åŠ åˆ°æ­£ç¡®é¢„æµ‹åˆ—è¡¨ä¸­ã€‚ æ˜¾ç¤ºæµ‹è¯•é›†ä¸­çš„å‡ å¼ å›¾åƒ dataiter = iter(testloader) images, labels = dataiter.next() # print images imshow(torchvision.utils.make_grid(images)) print('GroundTruth: ', ' '.join('%5s' % classes[labels[j]] for j in range(4))) é‡æ–°åŠ è½½ä¿å­˜çš„æ¨¡å‹ï¼ˆè¿™é‡Œä¸éœ€è¦ä¿å­˜å’Œé‡æ–°åŠ è½½æ¨¡å‹ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜å¦‚ä½•è¿™æ ·åšï¼‰ï¼š net = Net() net.load_state_dict(torch.load(PATH)) ç¥ç»ç½‘ç»œå¯¹ä»¥ä¸Šç¤ºä¾‹çš„çœ‹æ³•ï¼š outputs = net(images) è¾“å‡º10ç±»çš„èƒ½é‡ï¼Œ ä¸€ä¸ªç±»åˆ«çš„èƒ½é‡è¶Šé«˜ï¼Œç½‘ç»œå°±è®¤ä¸ºè¯¥å›¾åƒå±äºç‰¹å®šç±»åˆ«ã€‚ å› æ­¤è®©æˆ‘ä»¬è·å–æœ€é«˜èƒ½é‡çš„æŒ‡æ•°ï¼Œæ‰“å°ç¤ºä¾‹çš„æµ‹è¯•ç»“æœï¼š _, predicted = torch.max(outputs, 1) print('Predicted: ', ' '.join('%5s' % classes[predicted[j]] for j in range(4))) ç½‘ç»œåœ¨æ•´ä¸ªæ•°æ®é›†ä¸Šçš„è¡¨ç°ï¼š correct = 0 total = 0 with torch.no_grad(): for data in testloader: images, labels = data outputs = net(images) _, predicted = torch.max(outputs.data, 1) total += labels.size(0) correct += (predicted == labels).sum().item() print('Accuracy of the network on the 10000 test images: %d %%' % ( 100 * correct / total)) å“ªäº›ç±»çš„è¡¨ç°è‰¯å¥½ï¼Œå“ªäº›ç±»çš„è¡¨ç°ä¸ä½³ï¼š class_correct = list(0. for i in range(10)) class_total = list(0. for i in range(10)) with torch.no_grad(): for data in testloader: images, labels = data outputs = net(images) _, predicted = torch.max(outputs, 1) c = (predicted == labels).squeeze() for i in range(4): label = labels[i] class_correct[label] += c[i].item() class_total[label] += 1 for i in range(10): print('Accuracy of %5s : %2d %%' % ( classes[i], 100 * class_correct[i] / class_total[i])) GPU å°†ç¥ç»ç½‘ç»œè½¬ç§»åˆ°GPUä¸Š é¦–å…ˆå°†æˆ‘ä»¬çš„è®¾å¤‡å®šä¹‰ä¸ºç¬¬ä¸€ä¸ªå¯è§çš„ cuda è®¾å¤‡ï¼š device = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\") # Assuming that we are on a CUDA machine, this should print a CUDA device: print(device) è¿™äº›æ–¹æ³•å°†é€’å½’éå†æ‰€æœ‰æ¨¡å—ï¼Œå¹¶å°†å…¶å‚æ•°å’Œç¼“å†²åŒºè½¬æ¢ä¸º CUDA å¼ é‡ï¼š net.to(device) è¿˜å¿…é¡»å°†æ¯ä¸€æ­¥çš„è¾“å…¥å’Œç›®æ ‡ä¹Ÿå‘é€åˆ° GPUï¼š inputs, labels = data[0].to(device), data[1].to(device) sb","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"}]},{"title":"æ·±åº¦å­¦ä¹ ï¼šåŸºæœ¬ç†è®º","slug":"dl/base/æ·±åº¦å­¦ä¹ _åŸºæœ¬ç†è®º","date":"2022-08-28T08:00:00.000Z","updated":"2022-09-18T13:58:07.942Z","comments":true,"path":"/post/dl/base/æ·±åº¦å­¦ä¹ _åŸºæœ¬ç†è®º.html","link":"","permalink":"https://maskros.top/post/dl/base/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_%E5%9F%BA%E6%9C%AC%E7%90%86%E8%AE%BA.html","excerpt":"ref: å´æ©è¾¾ã€Šæ·±åº¦å­¦ä¹ ã€‹&amp; èŠ±ä¹¦ Courseraè¯¾ç¨‹å¤§çº² ç¥ç»ç½‘ç»œ(Neural Networks)å’Œæ·±åº¦å­¦ä¹ (Deep Learning) æ”¹è‰¯æ·±åº¦ç¥ç»ç½‘ç»œï¼šè¶…å‚æ•°è°ƒæ•´(Hyperparameter tunning)ï¼Œæ­£åˆ™åŒ–(Regularization)ï¼Œè¯Šæ–­åå·®/æ–¹å·®ï¼Œä¼˜åŒ–(Optimization)ç®—æ³• ç»“æ„åŒ–ä½ çš„æœºå™¨å­¦ä¹ å·¥ç¨‹ï¼šæ”¹å˜æ·±åº¦å­¦ä¹ çš„é”™è¯¯ï¼Œtrain/dev/test set, end-to-end å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Networks, CNN)ï¼Œå›¾åƒé¢†åŸŸ åºåˆ—æ¨¡å‹(sequence models): è‡ªç„¶è¯­è¨€å¤„ç†(Natural Language Processing, NLP)ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œ(Recurrent Neural Network, RNN)ï¼Œé•¿çŸ­æœŸè®°å¿†ç½‘ç»œ(Long Short- Term Memory models, LSTM)ï¼Œè¯­éŸ³è¯†åˆ«(speech recognization)ï¼Œç¼–æ›²(music generation)â€¦","text":"ref: å´æ©è¾¾ã€Šæ·±åº¦å­¦ä¹ ã€‹&amp; èŠ±ä¹¦ Courseraè¯¾ç¨‹å¤§çº² ç¥ç»ç½‘ç»œ(Neural Networks)å’Œæ·±åº¦å­¦ä¹ (Deep Learning) æ”¹è‰¯æ·±åº¦ç¥ç»ç½‘ç»œï¼šè¶…å‚æ•°è°ƒæ•´(Hyperparameter tunning)ï¼Œæ­£åˆ™åŒ–(Regularization)ï¼Œè¯Šæ–­åå·®/æ–¹å·®ï¼Œä¼˜åŒ–(Optimization)ç®—æ³• ç»“æ„åŒ–ä½ çš„æœºå™¨å­¦ä¹ å·¥ç¨‹ï¼šæ”¹å˜æ·±åº¦å­¦ä¹ çš„é”™è¯¯ï¼Œtrain/dev/test set, end-to-end å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Networks, CNN)ï¼Œå›¾åƒé¢†åŸŸ åºåˆ—æ¨¡å‹(sequence models): è‡ªç„¶è¯­è¨€å¤„ç†(Natural Language Processing, NLP)ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œ(Recurrent Neural Network, RNN)ï¼Œé•¿çŸ­æœŸè®°å¿†ç½‘ç»œ(Long Short- Term Memory models, LSTM)ï¼Œè¯­éŸ³è¯†åˆ«(speech recognization)ï¼Œç¼–æ›²(music generation)â€¦ ã€‡ã€æ•°å­¦åŸºç¡€ link: çº¿æ€§ä»£æ•°ã€æ¦‚ç‡ä¸ä¿¡æ¯è®ºã€æ•°å€¼è®¡ç®— ã€‡(2)ã€ç¼–ç¨‹åŸºç¡€ link: pythonï¼Œnumpy link: pytorch ä¸€ã€ç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹  1. å‰ç½®çŸ¥è¯† ex: Housing Price Prediction ç¥ç»å…ƒ Neurons ä¿®æ­£çº¿æ€§å•å…ƒ (ReLU, rectified linear unit): rectified: ä¸å–å°äº0çš„å€¼ ç›‘ç£å­¦ä¹ (Supervised learning)ï¼šä¸€ç§æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œè¾“å…¥xï¼Œä¹ å¾—ä¸€ä¸ªå‡½æ•°(function)ï¼Œæ˜ å°„(mapping)è¾“å‡ºåˆ°y éç»“æ„åŒ–æ•°æ®(Unstructured Data)ï¼šAudio, Image, Text / ç»“æ„åŒ–æ•°æ®ï¼šdb Scale drives deep learning progress è§„æ¨¡æ¨åŠ¨æ·±åº¦å­¦ä¹ çš„è¿›æ­¥ Data/Computation/Algorithms 2. ç¼–ç¨‹åŸºç¡€ 2.1. äºŒåˆ†åˆ†ç±» äºŒåˆ†åˆ†ç±»(Binary Classification)ï¼š forward propagation / backward propagation æ­£å‘ä¼ æ’­ / åå‘ä¼ æ’­ Notation ç¬¦å·ï¼š xï¼šfeature vector ç‰¹å¾å‘é‡ ç»´åº¦ ï¼šsizeÃ—sizeÃ—3(RGB) yï¼šcorresponding label ç»“æœæ ‡ç­¾ x â€”&gt; y (x, y)ï¼š, mï¼štraining examples è®­ç»ƒæ ·æœ¬æ•° (), â€¦ , () X = [, , â€¦ , ]ï¼ŒX.shape çŸ©é˜µå¤§å°ï¼š(), å³ Y = [, , â€¦ , ]ï¼Œï¼Œ Y.shapeï¼š(1, m) 2.2 logistic å›å½’ logisticå›å½’(logistic regression)ï¼šç›‘ç£å­¦ä¹ ä¸­ï¼Œè¾“å‡ºyæ ‡ç­¾æ˜¯0æˆ–1ï¼ŒäºŒå…ƒåˆ†ç±»é—®é¢˜ å‚æ•°ï¼š ï¼Œè®­ç»ƒwå’Œb output: ï¼Œsigmoidå‡½æ•°ï¼š æŸå¤±å‡½æ•°(loss/error function)ï¼šåœ¨å•ä¸ªè®­ç»ƒæ ·æœ¬ä¸­å®šä¹‰ï¼Œè¡¡é‡è¾“å‡ºå€¼å’Œå®é™…å€¼æœ‰å¤šæ¥è¿‘ï¼Œè¡¡é‡åœ¨å•ä¸ªè®­ç»ƒæ ·æœ¬ä¸Šçš„è¡¨ç° æˆæœ¬å‡½æ•°(cost function): è¡¡é‡åœ¨å…¨ä½“è®­ç»ƒæ ·æœ¬ä¸Šçš„è¡¨ç°ï¼Œå‚æ•°çš„æ€»æˆæœ¬ 2.3 æ¢¯åº¦ä¸‹é™ æ¢¯åº¦ä¸‹é™(Gradient Descent)ï¼šè®­ç»ƒwå’Œbï¼Œä»åˆå§‹ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡è¿­ä»£æœæœ€é™¡çš„ä¸‹å¡æ–¹å‘èµ°ä¸€æ­¥ï¼Œç›´è‡³æ”¶æ•›åˆ°æ¥è¿‘å…¨å±€æœ€ä¼˜è§£ã€‚ repeatï¼š , ä¸ºå­¦ä¹ ç‡(learning rate)æˆ–æ­¥é•¿ 2.4 è®¡ç®—å›¾ è®¡ç®—å›¾(computing graph)ï¼šä»å·¦åˆ°å³çš„è®¡ç®—ï¼Œæ­£å‘ä¼ æ’­ å¯¼æ•°è®¡ç®—ï¼šä»å³åˆ°å·¦åå‘è®¡ç®—ï¼Œåå‘ä¼ æ’­ï¼Œé“¾å¼æ³•åˆ™ è§£é‡Šlogisticå›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ï¼š 2.5 å‘é‡åŒ– å‘é‡åŒ–(Vectorization)ï¼šæ¶ˆé™¤ä»£ç ä¸­æ˜¾å¼forå¾ªç¯è¯­å¥çš„æŠ€å·§ï¼ŒåŠ é€Ÿä»£ç ã€‚numpyå†…ç½®å‡½æ•°ï¼Œnp.dot()ï¼ŒCPU/GPUï¼Œå¹¶è¡ŒåŒ–æŒ‡ä»¤ï¼ŒSIMD(å•æŒ‡ä»¤å¤šæ•°æ®æµ) å‘é‡åŒ–logisticå›å½’ pythonä¸­çš„å¹¿æ’­(Broadcasting)ï¼šéšå¼å¤åˆ¶å‘é‡åˆ°å¾ˆå¤šä½ç½®çš„æ–¹å¼ï¼Œnp.sum() ç®€åŒ–ä»£ç ï¼Œä¸è¦ä½¿ç”¨ç§©ä¸º1çš„æ•°ç»„ï¼Œå§‹ç»ˆä½¿ç”¨nÃ—1çŸ©é˜µå³åˆ—å‘é‡æˆ–1Ã—nå³è¡Œå‘é‡ï¼Œéšæ„æ’å…¥assert()å£°æ˜æ³¨æ„ç»´åº¦ï¼Œä¸è¦å®³æ€•è°ƒç”¨reshapeã€‚ 3. ç¥ç»ç½‘ç»œ 3.1. è¡¨ç¤º è¾“å…¥å±‚(input layer)ã€éšè—å±‚(hidden layer)ã€è¾“å‡ºå±‚(output layer) éšè—å±‚ï¼šè®­ç»ƒé›†ä¸­è¿™äº›ä¸­é—´èŠ‚ç‚¹çš„çœŸæ­£æ•°å€¼æ— æ³•çœ‹åˆ° å‘é‡åŒ–ï¼š for i = 1 to m: $z^{1}=W^{[1]}x^{(i)}+b^{[1]}$ $a^{1}=\\sigma(z^{[1][i]})$ $z^{2}=W^{[2]}a^{1}+b^{[2]}$ $a^{2}=\\sigma(z^{[2][i]})$ 3.2. æ¿€æ´»å‡½æ•° æ¿€æ´»å‡½æ•°(Activation functions)ï¼šåœ¨éšè—å±‚ä¸­ï¼Œéçº¿æ€§å‡½æ•°ï¼Œä¸åŒå±‚çš„æ¿€æ´»å‡½æ•°å¯ä»¥ä¸ä¸€æ · sigmoid(Ïƒ)ï¼šï¼ŒäºŒå…ƒåˆ†ç±» tanhï¼šåŒæ›²æ­£åˆ‡å‡½æ•°ï¼Œï¼Œæ˜¯sigmoidå‡½æ•°å¹³ç§»åçš„ç‰ˆæœ¬ï¼Œ(-1, 1)ï¼Œå¹³å‡å€¼æ›´æ¥è¿‘0 sigmoidå’Œtanhçš„ç¼ºç‚¹ï¼šå¦‚æœzéå¸¸å¤§/å°ï¼Œåˆ™å¯¼æ•°æ¢¯åº¦å¾ˆå°ï¼Œæ‹–æ…¢æ¢¯åº¦ä¸‹é™ç®—æ³• ReLUï¼šä¿®æ­£çº¿æ€§å•å…ƒï¼Œï¼Œzä¸ºæ­£æ–œç‡ä¸º1ï¼Œä¸ºè´Ÿæ–œç‡ä¸º0ã€‚ Leaky ReLUï¼š é€‰æ‹©æ¿€æ´»å‡½æ•°çš„ç»éªŒæ³•åˆ™ï¼šè¾“å‡ºå€¼ä¸º0å’Œ1(äºŒå…ƒåˆ†ç±»)æ—¶ï¼ŒÏƒå‡½æ•°ä½œä¸ºè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°ï¼Œå…¶ä»–æ‰€æœ‰å•å…ƒéƒ½ç”¨ReLUï¼Œä½¿ç”¨ReLUç¥ç»ç½‘ç»œå­¦ä¹ é€Ÿåº¦ä¼šå¿«å¾—å¤šï¼Œå› ä¸ºæ²¡æœ‰æ–œç‡æ¥è¿‘ä¸º0æ—¶å‡æ…¢å­¦ä¹ é€Ÿåº¦çš„æ•ˆåº” æ¿€æ´»å‡½æ•°çš„å¯¼æ•°ï¼š sigmoidï¼š Tanhï¼š ReLU/Leaky ReLUï¼š1 if z â‰¥ 0ï¼Œ0/0.01 if z &lt; 0 3.3. æ¢¯åº¦ä¸‹é™ 3.4. éšæœºåˆå§‹åŒ–æƒé‡ å…¨åˆå§‹åŒ–ä¸º0ä¼šå¯¼è‡´éšè—å•å…ƒå¯¹ç§°ï¼Œè®¡ç®—ç›¸åŒçš„å‡½æ•°ï¼Œæ²¡æœ‰æ„ä¹‰ bå¯ä»¥åˆå§‹åŒ–ä¸º0ï¼Œwä¸è¡Œï¼Œex: =np.random.randn((2,2)) * 0.01ï¼Œå¸¸æ•°æ ¹æ®æƒ…å†µé€‰æ‹© 3.5 æ·±å±‚ç¥ç»ç½‘ç»œ ç¥ç»ç½‘ç»œä»å·¦åˆ°å³ï¼Œç¥ç»å…ƒæå–çš„ç‰¹å¾ä»ç®€å•åˆ°å¤æ‚ã€‚ç‰¹å¾å¤æ‚åº¦ä¸ç¥ç»ç½‘ç»œå±‚æ•°æˆæ­£ç›¸å…³ã€‚ç‰¹å¾è¶Šæ¥è¶Šå¤æ‚ï¼ŒåŠŸèƒ½ä¹Ÿè¶Šæ¥è¶Šå¼ºå¤§ã€‚ æ·±å±‚ç¥ç»ç½‘ç»œèƒ½å‡å°‘ç¥ç»å…ƒä¸ªæ•°ï¼Œä»è€Œå‡å°‘è®¡ç®—é‡ã€‚ å‚æ•°(parameters)ï¼š, è¶…å‚æ•°(hyperparameters)ï¼šå­¦ä¹ é€Ÿç‡ï¼Œè®­ç»ƒè¿­ä»£æ¬¡æ•°ï¼Œç¥ç»ç½‘ç»œå±‚æ•°ï¼Œå„å±‚ç¥ç»å…ƒä¸ªæ•°ï¼Œæ¿€æ´»å‡½æ•° ç­‰ï¼Œç§°å…¶ä¸ºè¶…å‚æ•°çš„åŸå› æ˜¯å› ä¸ºä»–ä»¬å†³å®šäº†å‚æ•°, çš„å€¼ã€‚ å¦‚ä½•è®¾ç½®æœ€ä¼˜çš„è¶…å‚æ•°æ˜¯ä¸€ä¸ªæ¯”è¾ƒå›°éš¾çš„ã€éœ€è¦ç»éªŒçŸ¥è¯†çš„é—®é¢˜ã€‚é€šå¸¸çš„åšæ³•æ˜¯é€‰æ‹©è¶…å‚æ•°ä¸€å®šèŒƒå›´å†…çš„å€¼ï¼Œåˆ†åˆ«ä»£å…¥ç¥ç»ç½‘ç»œè¿›è¡Œè®­ç»ƒï¼Œæµ‹è¯•cost functionéšç€è¿­ä»£æ¬¡æ•°å¢åŠ çš„å˜åŒ–ï¼Œæ ¹æ®ç»“æœé€‰æ‹©cost functionæœ€å°æ—¶å¯¹åº”çš„è¶…å‚æ•°å€¼ã€‚è¿™ç±»ä¼¼äºvalidationçš„æ–¹æ³•ã€‚ äºŒã€ ä¼˜åŒ–æ·±åº¦ç¥ç»ç½‘ç»œ 1. æ·±åº¦å­¦ä¹ çš„å®ç”¨å±‚é¢ 1.1 Train/Dev/Test sets è®­ç»ƒé›†(Training), éªŒè¯é›†(Development), æµ‹è¯•é›†(Test) è¿­ä»£è¿‡ç¨‹ï¼šå…ˆæœ‰ä¸ªIdeaï¼Œå…ˆé€‰æ‹©åˆå§‹çš„å‚æ•°å€¼ï¼Œæ„å»ºç¥ç»ç½‘ç»œæ¨¡å‹ç»“æ„ï¼›ç„¶åé€šè¿‡Codeçš„å½¢å¼ï¼Œå®ç°è¿™ä¸ªç¥ç»ç½‘ç»œï¼›æœ€åï¼Œé€šè¿‡ExperimentéªŒè¯è¿™äº›å‚æ•°å¯¹åº”çš„ç¥ç»ç½‘ç»œçš„è¡¨ç°æ€§èƒ½ã€‚æ ¹æ®éªŒè¯ç»“æœï¼Œæˆ‘ä»¬å¯¹å‚æ•°è¿›è¡Œé€‚å½“çš„è°ƒæ•´ä¼˜åŒ–ï¼Œå†è¿›è¡Œä¸‹ä¸€æ¬¡çš„Idea-&gt;Code-&gt;Experimentå¾ªç¯ã€‚é€šè¿‡å¾ˆå¤šæ¬¡çš„å¾ªç¯ï¼Œä¸æ–­è°ƒæ•´å‚æ•°ï¼Œé€‰å®šæœ€ä½³çš„å‚æ•°å€¼ï¼Œä»è€Œè®©ç¥ç»ç½‘ç»œæ€§èƒ½æœ€ä¼˜åŒ–ã€‚ Trainï¼šè®­ç»ƒç®—æ³•æ¨¡å‹ Devï¼šéªŒè¯ä¸åŒç®—æ³•çš„è¡¨ç°æƒ…å†µï¼Œä»ä¸­é€‰æ‹©æœ€å¥½çš„ç®—æ³•æ¨¡å‹ï¼Œä¼°è®¡è¯¯å·®ï¼Œæ›´æ–°è¶…å‚æ•° Testï¼šç”¨æ¥æµ‹è¯•æœ€å¥½ç®—æ³•çš„å®é™…è¡¨ç°ï¼Œä½œä¸ºè¯¥ç®—æ³•çš„æ— åä¼°è®¡ ç§‘å­¦çš„åšæ³•æ˜¯è¦å°†Dev setså’ŒTest setsçš„æ¯”ä¾‹è®¾ç½®å¾—å¾ˆä½ï¼Œå°æ•°æ®60/20/20ï¼Œå¤§æ•°æ®å‡å°æ¯”ä¾‹ã€‚ æ²¡æœ‰Test setsä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼šTest setsçš„ç›®æ ‡ä¸»è¦æ˜¯è¿›è¡Œæ— åä¼°è®¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡Train setsè®­ç»ƒä¸åŒçš„ç®—æ³•æ¨¡å‹ï¼Œç„¶ååˆ†åˆ«åœ¨Dev setsä¸Šè¿›è¡ŒéªŒè¯ï¼Œæ ¹æ®ç»“æœé€‰æ‹©æœ€å¥½çš„ç®—æ³•æ¨¡å‹ã€‚è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸éœ€è¦å†è¿›è¡Œæ— åä¼°è®¡äº†ã€‚å¦‚æœåªæœ‰è¿™äºŒè€…ï¼Œé€šå¸¸ä¹Ÿæœ‰äººæŠŠè¿™é‡Œçš„Dev setsç§°ä¸ºTest setsã€‚ 1.2 åå·®/æ–¹å·® åå·®(Bias), æ–¹å·®(Variance) åœ¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼ŒBiaså’ŒVarianceæ˜¯å¯¹ç«‹çš„ï¼Œåˆ†åˆ«å¯¹åº”ç€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆã€‚high biasæ¬ æ‹Ÿåˆï¼Œhigh Varianceè¿‡æ‹Ÿåˆ ä¸€èˆ¬æ¥è¯´ï¼ŒTrain set errorä½“ç°äº†æ˜¯å¦å‡ºç°biasï¼ŒDev set errorä½“ç°äº†æ˜¯å¦å‡ºç°variance (æ­£ç¡®åœ°è¯´ï¼Œåº”è¯¥æ˜¯Dev set errorä¸Train set errorçš„ç›¸å¯¹å·®å€¼)ã€‚ Qï¼šæ¨¡å‹æ—¢å­˜åœ¨high biasä¹Ÿå­˜åœ¨high varianceï¼Ÿ Aï¼šå¯ä»¥ç†è§£æˆæŸæ®µåŒºåŸŸæ˜¯æ¬ æ‹Ÿåˆçš„ï¼ŒæŸæ®µåŒºåŸŸæ˜¯è¿‡æ‹Ÿåˆçš„ã€‚ åå·®åº¦é‡åç¦»çœŸå®å‡½æ•°æˆ–å‚æ•°çš„è¯¯å·®æœŸæœ›ï¼Œæ–¹å·®åº¦é‡æ•°æ®ä¸Šä»»æ„ç‰¹å®šé‡‡æ ·å¯èƒ½å¯¼è‡´çš„ä¼°è®¡æœŸæœ›çš„åå·®ã€‚ è§£å†³æ–¹æ¡ˆï¼šå‡å°‘high biasï¼šå¢åŠ ç¥ç»ç½‘ç»œçš„éšè—å±‚ä¸ªæ•°ã€ç¥ç»å…ƒä¸ªæ•°ï¼Œè®­ç»ƒæ—¶é—´å»¶é•¿ï¼Œé€‰æ‹©å…¶å®ƒæ›´å¤æ‚çš„NNæ¨¡å‹ï¼›å‡å°‘high varianceï¼šå¢åŠ è®­ç»ƒæ ·æœ¬æ•°æ®ï¼Œè¿›è¡Œæ­£åˆ™åŒ–Regularizationï¼Œé€‰æ‹©å…¶ä»–æ›´å¤æ‚çš„NNæ¨¡å‹ç­‰ã€‚ æŠ˜ä¸­(tradeoff)ï¼šä½¿ç”¨æ›´å¤æ‚çš„ç¥ç»ç½‘ç»œå’Œæµ·é‡çš„è®­ç»ƒæ ·æœ¬ 1.3 æ­£åˆ™åŒ– æ­£åˆ™åŒ–(Regularzation)ï¼šè§£å†³è¿‡æ‹Ÿåˆå³high varianceï¼Œé™ä½æ³›åŒ–è¯¯å·®ã€‚ é€šå¸¸è·å¾—æ›´å¤šè®­ç»ƒæ ·æœ¬çš„æˆæœ¬å¤ªé«˜ï¼Œæ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥æ­£åˆ™åŒ–æ›´å¯è¡Œæœ‰æ•ˆã€‚ç»™ä»£ä»·å‡½æ•°æ·»åŠ æ­£åˆ™åŒ–é¡¹çš„æƒ©ç½šã€‚ L2æ­£åˆ™åŒ–ï¼šlogistic regressioné‡‡ç”¨ é‡‡ç”¨FrobeniusèŒƒæ•°ï¼Œä¸€ä¸ªçŸ©é˜µçš„FrobeniusèŒƒæ•°å°±æ˜¯è®¡ç®—æ‰€æœ‰å…ƒç´ å¹³æ–¹å’Œå†å¼€æ–¹ã€‚ Qï¼šä¸ºä»€ä¹ˆåªå¯¹wè¿›è¡Œæ­£åˆ™åŒ–è€Œä¸å¯¹bè¿›è¡Œæ­£åˆ™åŒ–å‘¢ï¼Ÿ Aï¼šå…¶å®ä¹Ÿå¯ä»¥å¯¹bè¿›è¡Œæ­£åˆ™åŒ–ã€‚ä½†æ˜¯ä¸€èˆ¬wçš„ç»´åº¦å¾ˆå¤§ï¼Œè€Œbåªæ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚ç›¸æ¯”è¾ƒæ¥è¯´ï¼Œå‚æ•°å¾ˆå¤§ç¨‹åº¦ä¸Šç”±wå†³å®šï¼Œæ”¹å˜bå€¼å¯¹æ•´ä½“æ¨¡å‹å½±å“è¾ƒå°ã€‚ L1æ­£åˆ™åŒ–ï¼š ä¸L2 regularizationç›¸æ¯”ï¼ŒL1 regularizationå¾—åˆ°çš„wæ›´åŠ ç¨€ç–ï¼Œå³å¾ˆå¤šwä¸ºé›¶å€¼ã€‚å…¶ä¼˜ç‚¹æ˜¯èŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºå¤§éƒ¨åˆ†wä¸º0ã€‚ç„¶è€Œï¼Œå®é™…ä¸ŠL1 regularizationåœ¨è§£å†³high varianceæ–¹é¢æ¯”L2 regularizationå¹¶ä¸æ›´å…·ä¼˜åŠ¿ã€‚è€Œä¸”ï¼ŒL1çš„åœ¨å¾®åˆ†æ±‚å¯¼æ–¹é¢æ¯”è¾ƒå¤æ‚ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬L2 regularizationæ›´åŠ å¸¸ç”¨ã€‚ ï¼šæ­£åˆ™åŒ–å‚æ•°(è¶…å‚æ•°çš„ä¸€ç§)ï¼Œå¯ä»¥è®¾ç½® Î» ä¸ºä¸åŒçš„å€¼ï¼Œåœ¨Dev setä¸­è¿›è¡ŒéªŒè¯ï¼Œé€‰æ‹©æœ€ä½³çš„Î»ã€‚åœ¨pythonä¸­ï¼Œç”±äºlambdaæ˜¯ä¿ç•™å­—ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…å†²çªï¼Œæˆ‘ä»¬ä½¿ç”¨lambdæ¥è¡¨ç¤ºÎ»ã€‚ ç”±äºåŠ å…¥äº†æ­£åˆ™åŒ–é¡¹ï¼Œæ¢¯åº¦ä¸‹é™ç®—æ³•ä¸­çš„è®¡ç®—è¡¨è¾¾å¼éœ€è¦åšå¦‚ä¸‹ä¿®æ”¹ï¼š $dw^{[l]}{before}=dw^{[l]}{before}+\\dfrac{\\lambda}{m}w^{[l]}$ L2 regularizationä¹Ÿè¢«ç§°åšweight decayã€‚è¿™æ˜¯å› ä¸ºï¼Œç”±äºåŠ ä¸Šäº†æ­£åˆ™é¡¹ï¼Œæœ‰ä¸ªå¢é‡ï¼Œåœ¨æ›´æ–°çš„æ—¶å€™ï¼Œä¼šå¤šå‡å»è¿™ä¸ªå¢é‡ï¼Œä½¿å¾—æ¯”æ²¡æœ‰æ­£åˆ™é¡¹çš„å€¼è¦å°ä¸€äº›ã€‚ä¸æ–­è¿­ä»£æ›´æ–°ï¼Œä¸æ–­åœ°å‡å°ã€‚ 1.4 Dropout æ­£åˆ™åŒ– é™¤äº†L2 regularizationä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§é˜²æ­¢è¿‡æ‹Ÿåˆçš„æœ‰æ•ˆæ–¹æ³•ï¼šDropout Dropoutæ˜¯æŒ‡åœ¨æ·±åº¦å­¦ä¹ ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯å±‚çš„ç¥ç»å…ƒï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¦‚ç‡å°†å…¶æš‚æ—¶ä»ç½‘ç»œä¸­ä¸¢å¼ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è®­ç»ƒæ—¶ï¼Œæ¯ä¸€å±‚éƒ½æœ‰éƒ¨åˆ†ç¥ç»å…ƒä¸å·¥ä½œï¼Œèµ·åˆ°ç®€åŒ–å¤æ‚ç½‘ç»œæ¨¡å‹çš„æ•ˆæœï¼Œä»è€Œé¿å…å‘ç”Ÿè¿‡æ‹Ÿåˆã€‚ç›¸å½“äºæ¯æ¬¡éƒ½åœ¨ä¸åŒçš„ç¥ç»ç½‘ç»œä¸Šè¿›è¡Œè®­ç»ƒï¼Œç±»ä¼¼æœºå™¨å­¦ä¹ ä¸­Baggingçš„æ–¹æ³•ã€‚ Dropoutæœ‰ä¸åŒçš„å®ç°æ–¹æ³•ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•ï¼šInverted dropoutã€‚å‡è®¾å¯¹äºç¬¬ å±‚ç¥ç»å…ƒï¼Œè®¾å®šä¿ç•™ç¥ç»å…ƒæ¯”ä¾‹æ¦‚ç‡keep_prob=0.8ï¼Œå³è¯¥å±‚æœ‰20%çš„ç¥ç»å…ƒåœæ­¢å·¥ä½œï¼ˆä¸åŒéšè—å±‚çš„keep_probå¯ä»¥ä¸åŒï¼Œç¥ç»å…ƒè¶Šå¤šå¯ä»¥è®¾çš„å°ä¸€äº›ï¼‰ã€‚ ä¸ºdropoutå‘é‡ï¼Œè®¾ç½® ä¸ºéšæœºvectorï¼Œå…¶ä¸­80%çš„å…ƒç´ ä¸º1ï¼Œ20%çš„å…ƒç´ ä¸º0ã€‚ç¬¬ å±‚ç»è¿‡dropoutï¼Œéšæœºåˆ å‡20%çš„ç¥ç»å…ƒï¼Œåªä¿ç•™80%çš„ç¥ç»å…ƒï¼Œå…¶è¾“å‡ºä¸º ï¼Œæœ€åå¯¹å…¶è¿›è¡Œ scale up å¤„ç†ï¼Œä¸ºäº†ä¿è¯åœ¨ç»è¿‡dropoutåï¼Œ ä½œä¸ºä¸‹ä¸€å±‚ç¥ç»å…ƒçš„è¾“å…¥å€¼å°½é‡ä¿æŒä¸å˜ï¼ŒæœŸæœ›å€¼ç›¸æ¯”ä¹‹å‰æ²¡æœ‰å¤§çš„å˜åŒ–ï¼Œæµ‹è¯•æ—¶å°±ä¸éœ€è¦å†å¯¹æ ·æœ¬æ•°æ®è¿›è¡Œç±»ä¼¼çš„å°ºåº¦ä¼¸ç¼©æ“ä½œäº†ã€‚ è¿­ä»£è¿‡ç¨‹ï¼šå¯¹äºmä¸ªæ ·æœ¬ï¼Œå•æ¬¡è¿­ä»£è®­ç»ƒæ—¶ï¼Œéšæœºåˆ é™¤æ‰éšè—å±‚ä¸€å®šæ•°é‡çš„ç¥ç»å…ƒï¼›ç„¶åï¼Œåœ¨åˆ é™¤åçš„å‰©ä¸‹çš„ç¥ç»å…ƒä¸Šæ­£å‘å’Œåå‘æ›´æ–°æƒé‡wå’Œå¸¸æ•°é¡¹bï¼›æ¥ç€ï¼Œä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œå†æ¢å¤ä¹‹å‰åˆ é™¤çš„ç¥ç»å…ƒï¼Œé‡æ–°éšæœºåˆ é™¤ä¸€å®šæ•°é‡çš„ç¥ç»å…ƒï¼Œè¿›è¡Œæ­£å‘å’Œåå‘æ›´æ–°wå’Œbã€‚ä¸æ–­é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³è¿­ä»£è®­ç»ƒå®Œæˆã€‚ æµ‹è¯•å’Œå®é™…åº”ç”¨æ¨¡å‹æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œdropoutå’Œéšæœºåˆ å‡ç¥ç»å…ƒï¼Œæ‰€æœ‰çš„ç¥ç»å…ƒéƒ½åœ¨å·¥ä½œã€‚ å…¶ä»–é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼š å¢åŠ è®­ç»ƒæ ·æœ¬æ•°é‡ï¼› å¯¹å·²æœ‰çš„è®­ç»ƒæ ·æœ¬è¿›è¡Œä¸€äº›å¤„ç† (data augmentation)ï¼šå¯¹å·²æœ‰çš„å›¾ç‰‡è¿›è¡Œæ°´å¹³ç¿»è½¬ã€å‚ç›´ç¿»è½¬ã€ä»»æ„è§’åº¦æ—‹è½¬ã€ç¼©æ”¾æˆ–æ‰©å¤§ï¼› é€‰æ‹©åˆé€‚çš„è¿­ä»£æ¬¡æ•°(early stopping)ï¼šä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹éšç€è¿­ä»£è®­ç»ƒæ¬¡æ•°å¢åŠ ï¼Œtrain set errorä¸€èˆ¬æ˜¯å•è°ƒå‡å°çš„ï¼Œè€Œdev set error å…ˆå‡å°ï¼Œä¹‹ååˆå¢å¤§ã€‚ è‡ªèº«ç¼ºç‚¹ï¼šæœºå™¨å­¦ä¹ è®­ç»ƒæ¨¡å‹æœ‰ä¸¤ä¸ªç›®æ ‡ï¼šä¸€æ˜¯ä¼˜åŒ–cost functionï¼Œå°½é‡å‡å°Jï¼›äºŒæ˜¯é˜²æ­¢è¿‡æ‹Ÿåˆã€‚è¿™ä¸¤ä¸ªç›®æ ‡å½¼æ­¤å¯¹ç«‹çš„ï¼Œå³å‡å°Jçš„åŒæ—¶å¯èƒ½ä¼šé€ æˆè¿‡æ‹Ÿåˆï¼Œåä¹‹äº¦ç„¶ã€‚äºŒè€…ä¹‹é—´çš„å…³ç³»ç§°ä¸ºæ­£äº¤åŒ–(orthogonalization)ã€‚early stoppingä¼šå¯¼è‡´Jå°±ä¸ä¼šè¶³å¤Ÿå°ï¼Œä¸å…¶ç›¸æ¯”ï¼ŒL2 regularizationè¿­ä»£è®­ç»ƒè¶³å¤Ÿå¤šï¼Œå‡å°Jï¼Œè€Œä¸”ä¹Ÿèƒ½æœ‰æ•ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼Œç¼ºç‚¹æ˜¯æœ€ä¼˜çš„æ­£åˆ™åŒ–å‚æ•° Î» çš„é€‰æ‹©æ¯”è¾ƒå¤æ‚ã€‚L2æ­£åˆ™åŒ–æ›´å¸¸ç”¨ä½†ä¸å¦‚early stoppingç®€å•ã€‚ 1.5 å½’ä¸€åŒ–è¾“å…¥ å½’ä¸€åŒ–/æ ‡å‡†åŒ–(Normalizing)ï¼šåœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œæ ‡å‡†åŒ–è¾“å…¥å¯ä»¥æé«˜è®­ç»ƒçš„é€Ÿåº¦ã€‚æ ‡å‡†åŒ–è¾“å…¥å°±æ˜¯å¯¹è®­ç»ƒæ•°æ®é›†è¿›è¡Œå½’ä¸€åŒ–çš„æ“ä½œï¼Œå³å°†åŸå§‹æ•°æ®å‡å»å…¶å‡å€¼ åï¼Œå†é™¤ä»¥å…¶æ–¹å·® ï¼š ç”±äºè®­ç»ƒé›†è¿›è¡Œäº†æ ‡å‡†åŒ–å¤„ç†ï¼Œé‚£ä¹ˆå¯¹äºæµ‹è¯•é›†æˆ–åœ¨å®é™…åº”ç”¨æ—¶ï¼Œåº”è¯¥ä½¿ç”¨åŒæ ·çš„ å’Œ å¯¹å…¶è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚è¿™æ ·ä¿è¯äº†è®­ç»ƒé›†åˆæµ‹è¯•é›†çš„æ ‡å‡†åŒ–æ“ä½œä¸€è‡´ã€‚ å½’ä¸€åŒ–ä¸»è¦æ˜¯ä¸ºäº†è®©æ‰€æœ‰è¾“å…¥å½’ä¸€åŒ–åŒæ ·çš„å°ºåº¦ä¸Šï¼Œæ–¹ä¾¿è¿›è¡Œæ¢¯åº¦ä¸‹é™ç®—æ³•æ—¶èƒ½å¤Ÿæ›´å¿«æ›´å‡†ç¡®åœ°æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚å¦‚æœè¿›è¡Œäº†å½’ä¸€åŒ–æ“ä½œï¼Œx1ä¸x2åˆ†å¸ƒå‡åŒ€ï¼Œw1å’Œw2æ•°å€¼å·®åˆ«ä¸å¤§ï¼Œå¾—åˆ°çš„cost functionä¸wå’Œbçš„å…³ç³»æ˜¯ç±»ä¼¼åœ†å½¢ç¢—ã€‚å¯¹å…¶è¿›è¡Œæ¢¯åº¦ä¸‹é™ç®—æ³•æ—¶ï¼ŒÎ± å¯ä»¥é€‰æ‹©ç›¸å¯¹å¤§ä¸€äº›ï¼Œä¸”Jä¸€èˆ¬ä¸ä¼šå‘ç”ŸæŒ¯è¡ï¼Œä¿è¯äº†Jæ˜¯å•è°ƒä¸‹é™çš„ã€‚ 1.6 æ¢¯åº¦æ¶ˆå¤±/æ¢¯åº¦çˆ†ç‚¸ Vanishing and Exploding gradients å½“è®­ç»ƒä¸€ä¸ª å±‚æ•°éå¸¸å¤šçš„ç¥ç»ç½‘ç»œæ—¶ï¼Œè®¡ç®—å¾—åˆ°çš„æ¢¯åº¦å¯èƒ½éå¸¸å°æˆ–éå¸¸å¤§ï¼Œç”šè‡³æ˜¯æŒ‡æ•°çº§åˆ«çš„å‡å°æˆ–å¢å¤§ã€‚è¿™æ ·ä¼šè®©è®­ç»ƒè¿‡ç¨‹å˜å¾—éå¸¸å›°éš¾ã€‚ æ”¹å–„æ–¹æ³•ï¼šå¯¹æƒé‡wè¿›è¡Œä¸€äº›åˆå§‹åŒ–å¤„ç†ã€‚ä»¥ä¸‹ä»¥å•ä¸ªç¥ç»å…ƒä¸ºä¾‹ï¼šè¾“å…¥ä¸ªæ•°ä¸ºnï¼Œè¾“å‡ºä¸ºï¼š ï¼Œ è¿™é‡Œå¿½ç•¥å¸¸æ•°é¡¹bï¼Œä¸ºäº†è®©zä¸ä¼šè¿‡å¤§æˆ–è€…è¿‡å°ï¼Œæ€è·¯æ˜¯è®©wä¸næœ‰å…³ï¼Œä¸”nè¶Šå¤§ï¼Œwåº”è¯¥è¶Šå°æ‰å¥½ã€‚è¿™æ ·èƒ½å¤Ÿä¿è¯zä¸ä¼šè¿‡å¤§ã€‚ä¸€ç§æ–¹æ³•æ˜¯åœ¨åˆå§‹åŒ–wæ—¶ï¼Œä»¤å…¶æ–¹å·®ä¸ºï¼š w[l] = np.random.randn(n[l],n[l-1])*np.sqrt(1/n[l-1]) å¦‚æœæ¿€æ´»å‡½æ•°æ˜¯tanhï¼Œä¸€èˆ¬é€‰æ‹©ä¸Šé¢çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ å¦‚æœæ¿€æ´»å‡½æ•°æ˜¯ReLUï¼Œä¸€èˆ¬é€‰æ‹©æ–¹å·®ä¸º; w[l] = np.random.randn(n[l],n[l-1])*np.sqrt(2/n[l-1]) é™¤æ­¤ä¹‹å¤–ï¼ŒYoshua Bengioæå‡ºäº†å¦å¤–ä¸€ç§åˆå§‹åŒ–wçš„æ–¹æ³•ï¼Œä»¤å…¶æ–¹å·®ä¸º w[l] = np.random.randn(n[l],n[l-1])*np.sqrt(2/n[l-1]*n[l]) é€‰æ‹©å“ªç§åˆå§‹åŒ–æ–¹æ³•å› äººè€Œå¼‚ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„æ¿€æ´»å‡½æ•°é€‰æ‹©ä¸åŒæ–¹æ³•ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™äº›åˆå§‹åŒ–æ–¹æ³•ä¸­è®¾ç½®æŸäº›å‚æ•°ï¼Œä½œä¸ºè¶…å‚æ•°ï¼Œé€šè¿‡éªŒè¯é›†è¿›è¡ŒéªŒè¯ï¼Œå¾—åˆ°æœ€ä¼˜å‚æ•°ï¼Œæ¥ä¼˜åŒ–ç¥ç»ç½‘ç»œã€‚ 1.7 æ¢¯åº¦æ£€æŸ¥ Back Propagationç¥ç»ç½‘ç»œæœ‰ä¸€é¡¹é‡è¦çš„æµ‹è¯•æ˜¯æ¢¯åº¦æ£€æŸ¥ï¼ˆgradient checkingï¼‰ã€‚å…¶ç›®çš„æ˜¯æ£€æŸ¥éªŒè¯åå‘ä¼ æ’­è¿‡ç¨‹ä¸­æ¢¯åº¦ä¸‹é™ç®—æ³•æ˜¯å¦æ­£ç¡®ã€‚ æ¢¯åº¦çš„æ•°å€¼é€¼è¿‘ï¼šåˆ©ç”¨å¾®åˆ†æ€æƒ³ï¼Œå‡½æ•° f åœ¨ç‚¹ Î¸ å¤„çš„æ¢¯åº¦å¯è¡¨ç¤ºæˆ ï¼Œå…¶ä¸­ ä¸”è¶³å¤Ÿå°ã€‚ æ¢¯åº¦æ£€æŸ¥é¦–å…ˆè¦åšçš„æ˜¯åˆ†åˆ«å°†è¿™äº›çŸ©é˜µæ„é€ æˆä¸€ç»´å‘é‡ï¼Œç„¶åå°†è¿™äº›ä¸€ç»´å‘é‡ç»„åˆèµ·æ¥æ„æˆä¸€ä¸ªæ›´å¤§çš„ä¸€ç»´å‘é‡ ã€‚è¿™æ ·cost functionï¼šå°±å¯ä»¥è¡¨ç¤ºæˆã€‚ ç„¶åå°†åå‘ä¼ æ’­è¿‡ç¨‹é€šè¿‡æ¢¯åº¦ä¸‹é™ç®—æ³•å¾—åˆ°çš„ æŒ‰ç…§ä¸€æ ·çš„é¡ºåºæ„é€ æˆä¸€ä¸ªä¸€ç»´å‘é‡ ã€‚ç»´åº¦ä¸ä¸€è‡´ã€‚ æ¥ç€åˆ©ç”¨å¯¹æ¯ä¸ªè®¡ç®—è¿‘ä¼¼æ¢¯åº¦ï¼Œå…¶å€¼ä¸åå‘ä¼ æ’­ç®—æ³•å¾—åˆ°çš„ç›¸æ¯”è¾ƒï¼Œæ£€æŸ¥æ˜¯å¦ä¸€è‡´ã€‚ä¾‹å¦‚ï¼Œå¯¹äºç¬¬ä¸ªå…ƒç´ ï¼Œè¿‘ä¼¼æ¢¯åº¦ä¸ºï¼š è®¡ç®—å®Œæ‰€æœ‰ çš„è¿‘ä¼¼æ¢¯åº¦åï¼Œå¯ä»¥è®¡ç®— ä¸ çš„æ¬§æ°(Euclidean)è·ç¦»æ¥æ¯”è¾ƒäºŒè€…çš„ç›¸ä¼¼åº¦ã€‚å…¬å¼å¦‚ä¸‹ï¼š æ¢¯åº¦æ£€æŸ¥ä¸­éœ€æ³¨æ„çš„åœ°æ–¹ï¼š ä¸è¦åœ¨æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹ä¸­éƒ½è¿›è¡Œæ¢¯åº¦æ£€æŸ¥ï¼Œä»…ä»…ä½œä¸ºdebugä½¿ç”¨ å¦‚æœæ¢¯åº¦æ£€æŸ¥å‡ºç°é”™è¯¯ï¼Œæ‰¾åˆ°å¯¹åº”å‡ºé”™çš„æ¢¯åº¦ï¼Œæ£€æŸ¥å…¶æ¨å¯¼æ˜¯å¦å‡ºç°é”™è¯¯ æ³¨æ„ä¸è¦å¿½ç•¥æ­£åˆ™åŒ–é¡¹ï¼Œè®¡ç®—è¿‘ä¼¼æ¢¯åº¦çš„æ—¶å€™è¦åŒ…æ‹¬è¿›å» æ¢¯åº¦æ£€æŸ¥æ—¶å…³é—­dropoutï¼Œæ£€æŸ¥å®Œæ¯•åå†æ‰“å¼€dropout éšæœºåˆå§‹åŒ–æ—¶è¿è¡Œæ¢¯åº¦æ£€æŸ¥ï¼Œç»è¿‡ä¸€äº›è®­ç»ƒåå†è¿›è¡Œæ¢¯åº¦æ£€æŸ¥ï¼ˆä¸å¸¸ç”¨ï¼‰ 2. ä¼˜åŒ–ç®—æ³• 2.1 Mini-batch æ¢¯åº¦ä¸‹é™ èƒŒæ™¯ï¼šç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹æ˜¯å¯¹æ‰€æœ‰mä¸ªæ ·æœ¬ï¼Œç§°ä¸ºbatchï¼Œé€šè¿‡å‘é‡åŒ–è®¡ç®—æ–¹å¼åŒæ—¶è¿›è¡Œçš„ã€‚å¦‚æœmå¾ˆå¤§ï¼Œä¾‹å¦‚è¾¾åˆ°ç™¾ä¸‡æ•°é‡çº§ï¼Œè®­ç»ƒé€Ÿåº¦å¾€å¾€ä¼šå¾ˆæ…¢ï¼Œå› ä¸ºæ¯æ¬¡è¿­ä»£éƒ½è¦å¯¹æ‰€æœ‰æ ·æœ¬è¿›è¡Œè¿›è¡Œæ±‚å’Œè¿ç®—å’ŒçŸ©é˜µè¿ç®—ã€‚æˆ‘ä»¬å°†è¿™ç§æ¢¯åº¦ä¸‹é™ç®—æ³•ç§°ä¸ºBatch Gradient Descentã€‚ Mini-batch Gradient Descentï¼šæŠŠmä¸ªè®­ç»ƒæ ·æœ¬åˆ†æˆè‹¥å¹²ä¸ªå­é›†ï¼Œç§°ä¸ºmini-batchesï¼Œè¿™æ ·æ¯ä¸ªå­é›†åŒ…å«çš„æ•°æ®é‡å°±å°äº†ï¼Œç„¶åæ¯æ¬¡åœ¨å•ä¸€å­é›†ä¸Šè¿›è¡Œç¥ç»ç½‘ç»œè®­ç»ƒï¼Œé€Ÿåº¦å°±ä¼šå¤§å¤§æé«˜ã€‚è¿™ç§æ¢¯åº¦ä¸‹é™ç®—æ³•å«åš å®ç°è¿‡ç¨‹ï¼šå…ˆå°†æ€»çš„è®­ç»ƒæ ·æœ¬åˆ†æˆTä¸ªå­é›†ï¼ˆmini-batchesï¼‰ï¼Œç„¶åå¯¹æ¯ä¸ªmini-batchè¿›è¡Œç¥ç»ç½‘ç»œè®­ç»ƒï¼ŒåŒ…æ‹¬Forward Propagationï¼ŒCompute Cost Functionï¼ŒBackward Propagationï¼Œå¾ªç¯è‡³Tä¸ªmini-batchéƒ½è®­ç»ƒå®Œæ¯•ã€‚ç»è¿‡Tæ¬¡å¾ªç¯ä¹‹åï¼Œæ‰€æœ‰mä¸ªè®­ç»ƒæ ·æœ¬éƒ½è¿›è¡Œäº†æ¢¯åº¦ä¸‹é™è®¡ç®—ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç»å†äº†ä¸€ä¸ªepochï¼Œä¸€ä¸ªepochä¼šè¿›è¡ŒTæ¬¡æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚ å¯¹äºMini-Batches Gradient Descentï¼Œå¯ä»¥å¤šæ¬¡epochè®­ç»ƒã€‚è€Œä¸”ï¼Œæ¯æ¬¡epochï¼Œæœ€å¥½æ˜¯å°†æ€»ä½“è®­ç»ƒæ•°æ®é‡æ–°æ‰“ä¹±ã€é‡æ–°åˆ†æˆTç»„mini-batchesï¼Œè¿™æ ·æœ‰åˆ©äºè®­ç»ƒå‡ºæœ€ä½³çš„ç¥ç»ç½‘ç»œæ¨¡å‹ æ¯”è¾ƒï¼šå¯¹äºä¸€èˆ¬çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œä½¿ç”¨Batch gradient descentï¼Œéšç€è¿­ä»£æ¬¡æ•°å¢åŠ ï¼Œcostæ˜¯ä¸æ–­å‡å°çš„ã€‚ç„¶è€Œï¼Œä½¿ç”¨Mini-batch gradient descentï¼Œéšç€åœ¨ä¸åŒçš„mini-batchä¸Šè¿­ä»£è®­ç»ƒï¼Œå…¶costä¸æ˜¯å•è°ƒä¸‹é™ï¼Œè€Œæ˜¯å—ç±»ä¼¼noiseçš„å½±å“ï¼Œå‡ºç°æŒ¯è¡ã€‚ä½†æ•´ä½“çš„è¶‹åŠ¿æ˜¯ä¸‹é™çš„ï¼Œæœ€ç»ˆä¹Ÿèƒ½å¾—åˆ°è¾ƒä½çš„costå€¼ã€‚ mä¸å¤§æ—¶ç›´æ¥ä½¿ç”¨Batch gradient descentï¼Œmå¾ˆå¤§æ—¶åˆ†ä¸ºmini-batchesï¼Œæ¨èå¸¸ç”¨çš„mini-batch sizeä¸º64,128,256,512ã€‚ 2.2 æŒ‡æ•°åŠ æƒå¹³å‡ exï¼šä¼¦æ•¦æ°”æ¸©å˜åŒ–ï¼Œå¸Œæœ›çœ‹åˆ°åŠå¹´å†…æ°”æ¸©çš„æ•´ä½“å˜åŒ–è¶‹åŠ¿ï¼Œå¯ä»¥é€šè¿‡æ»‘åŠ¨å¹³å‡ (moving average) çš„æ–¹æ³•æ¥å¯¹æ¯å¤©æ°”æ¸©è¿›è¡Œå¹³æ»‘å¤„ç† æŒ‡æ•°åŠ æƒå¹³å‡(Exponentially weighted averages)ï¼šä¸€èˆ¬å½¢å¼ä¸º: ï¼ŒæŒ‡æ•°åŠ æƒå¹³å‡çš„è®¡ç®—å…¬å¼ä¸º æŒ‡æ•°åŠ æƒå¹³å‡å…¬å¼çš„ä¸€èˆ¬å½¢å¼å†™ä¸‹æ¥ï¼š è§‚å¯Ÿä¸Šé¢è¿™ä¸ªå¼å­ï¼ŒÎ¸t,Î¸tâˆ’1,Î¸tâˆ’2,â‹¯,Î¸1 æ˜¯åŸå§‹æ•°æ®å€¼ï¼Œ(1âˆ’Î²),(1âˆ’Î²)Î²,(1âˆ’Î²)Î²2,â‹¯,(1âˆ’Î²)Î²tâˆ’1 æ˜¯ç±»ä¼¼æŒ‡æ•°æ›²çº¿ï¼Œä»å³å‘å·¦ï¼Œå‘ˆæŒ‡æ•°ä¸‹é™çš„ã€‚Vt çš„å€¼å°±æ˜¯è¿™ä¸¤ä¸ªå­å¼çš„ç‚¹ä¹˜ï¼Œå°†åŸå§‹æ•°æ®å€¼ä¸è¡°å‡æŒ‡æ•°ç‚¹ä¹˜ï¼Œç›¸å½“äºåšäº†æŒ‡æ•°è¡°å‡ï¼Œç¦»å¾—è¶Šè¿‘ï¼Œå½±å“è¶Šå¤§ï¼Œç¦»å¾—è¶Šè¿œï¼Œå½±å“è¶Šå°ï¼Œè¡°å‡è¶Šå‰å®³ã€‚ æŒ‡æ•°åŠ æƒå¹³å‡çš„åå·®ä¿®æ­£(bias correction)ï¼šåœ¨æ¯æ¬¡è®¡ç®—å®Œ åï¼Œå¯¹ è¿›è¡Œä¸‹å¼å¤„ç†ï¼šï¼Œéšç€tå¢å¤§ï¼Œï¼ŒåŸºæœ¬ä¸å˜ã€‚ MLä¸­ï¼Œåç§»æ ¡æ­£å¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚å› ä¸ºï¼Œåœ¨è¿­ä»£ä¸€æ¬¡æ¬¡æ•°å (tè¾ƒå¤§)ï¼Œ å—åˆå§‹å€¼å½±å“å¾®ä¹å…¶å¾®ï¼Œä¸€èˆ¬å¯ä»¥å¿½ç•¥åˆå§‹è¿­ä»£è¿‡ç¨‹ï¼Œç­‰åˆ°ä¸€å®šè¿­ä»£ä¹‹åå†å–å€¼ï¼Œè¿™æ ·å°±ä¸éœ€è¦è¿›è¡Œåç§»æ ¡æ­£äº†ã€‚ 2.3 åŠ¨é‡æ¢¯åº¦ä¸‹é™æ³• åŠ¨é‡æ¢¯åº¦ä¸‹é™ç®—æ³•(Gradient descent with momentum)ï¼šé€Ÿåº¦è¦æ¯”ä¼ ç»Ÿçš„æ¢¯åº¦ä¸‹é™ç®—æ³•å¿«å¾ˆå¤šï¼Œåœ¨æ¯æ¬¡è®­ç»ƒæ—¶ï¼Œå¯¹æ¢¯åº¦è¿›è¡ŒæŒ‡æ•°åŠ æƒå¹³å‡å¤„ç†ï¼Œç„¶åç”¨å¾—åˆ°çš„æ¢¯åº¦å€¼æ›´æ–°æƒé‡Wå’Œå¸¸æ•°é¡¹bã€‚ åŸå§‹çš„æ¢¯åº¦ä¸‹é™ç®—æ³•å¦‚ä¸Šå›¾è“è‰²æŠ˜çº¿æ‰€ç¤ºã€‚åœ¨æ¢¯åº¦ä¸‹é™è¿‡ç¨‹ä¸­ï¼Œæ¢¯åº¦ä¸‹é™çš„æŒ¯è¡è¾ƒå¤§ï¼Œå°¤å…¶å¯¹äºWã€bä¹‹é—´æ•°å€¼èŒƒå›´å·®åˆ«è¾ƒå¤§çš„æƒ…å†µã€‚æ­¤æ—¶æ¯ä¸€ç‚¹å¤„çš„æ¢¯åº¦åªä¸å½“å‰æ–¹å‘æœ‰å…³ï¼Œäº§ç”Ÿç±»ä¼¼æŠ˜çº¿çš„æ•ˆæœï¼Œå‰è¿›ç¼“æ…¢ã€‚è€Œå¦‚æœå¯¹æ¢¯åº¦è¿›è¡ŒæŒ‡æ•°åŠ æƒå¹³å‡ï¼Œè¿™æ ·ä½¿å½“å‰æ¢¯åº¦ä¸ä»…ä¸å½“å‰æ–¹å‘æœ‰å…³ï¼Œè¿˜ä¸ä¹‹å‰çš„æ–¹å‘æœ‰å…³ï¼Œè¿™æ ·å¤„ç†è®©æ¢¯åº¦å‰è¿›æ–¹å‘æ›´åŠ å¹³æ»‘ï¼Œå‡å°‘æŒ¯è¡ï¼Œèƒ½å¤Ÿæ›´å¿«åœ°åˆ°è¾¾æœ€å°å€¼å¤„ã€‚ æƒé‡Wå’Œå¸¸æ•°é¡¹bçš„æŒ‡æ•°åŠ æƒå¹³å‡è¡¨è¾¾å¼å¦‚ä¸‹ï¼š ä»åŠ¨é‡çš„è§’åº¦æ¥çœ‹ï¼Œä»¥æƒé‡Wä¸ºä¾‹ï¼Œå¯ä»¥æˆé€Ÿåº¦Vï¼Œå¯ä»¥çœ‹æˆæ˜¯åŠ é€Ÿåº¦aã€‚æŒ‡æ•°åŠ æƒå¹³å‡å®é™…ä¸Šæ˜¯è®¡ç®—å½“å‰çš„é€Ÿåº¦ï¼Œå½“å‰é€Ÿåº¦ç”±ä¹‹å‰çš„é€Ÿåº¦å’Œç°åœ¨çš„åŠ é€Ÿåº¦å…±åŒå½±å“ã€‚è€ŒÎ²&lt;1ï¼Œåˆèƒ½é™åˆ¶é€Ÿåº¦è¿‡å¤§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰çš„é€Ÿåº¦æ˜¯æ¸å˜çš„ï¼Œè€Œä¸æ˜¯ç¬å˜çš„ï¼Œæ˜¯åŠ¨é‡çš„è¿‡ç¨‹ã€‚è¿™ä¿è¯äº†æ¢¯åº¦ä¸‹é™çš„å¹³ç¨³æ€§å’Œå‡†ç¡®æ€§ï¼Œå‡å°‘æŒ¯è¡ï¼Œè¾ƒå¿«åœ°è¾¾åˆ°æœ€å°å€¼å¤„ã€‚ åˆå§‹æ—¶ä»¤ã€‚ä¸€èˆ¬è®¾ç½®ï¼Œå³æŒ‡æ•°åŠ æƒå¹³å‡å‰10å¤©çš„æ•°æ®ï¼Œå®é™…åº”ç”¨æ•ˆæœè¾ƒå¥½ã€‚å…³äºåç§»æ ¡æ­£ï¼Œå¯ä»¥ä¸ä½¿ç”¨ã€‚å› ä¸ºç»è¿‡10æ¬¡è¿­ä»£åï¼Œéšç€æ»‘åŠ¨å¹³å‡çš„è¿‡ç¨‹ï¼Œåç§»æƒ…å†µä¼šé€æ¸æ¶ˆå¤±ã€‚ 2.4 RMSprop RMSpropæ˜¯å¦å¤–ä¸€ç§ä¼˜åŒ–æ¢¯åº¦ä¸‹é™é€Ÿåº¦çš„ç®—æ³•ã€‚æ¯æ¬¡è¿­ä»£è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå…¶æƒé‡Wå’Œå¸¸æ•°é¡¹bçš„æ›´æ–°è¡¨è¾¾å¼ä¸ºï¼š ä¾æ—§å‚è€ƒ2.3ä¸­çš„å›¾ï¼Œæ¢¯åº¦ä¸‹é™ï¼ˆè“è‰²æŠ˜çº¿ï¼‰åœ¨å‚ç›´æ–¹å‘ï¼ˆbï¼‰ä¸ŠæŒ¯è¡è¾ƒå¤§ï¼Œåœ¨æ°´å¹³æ–¹å‘ï¼ˆWï¼‰ä¸ŠæŒ¯è¡è¾ƒå°ï¼Œè¡¨ç¤ºåœ¨bæ–¹å‘ä¸Šæ¢¯åº¦è¾ƒå¤§ï¼Œå³ è¾ƒå¤§ï¼Œè€Œåœ¨Wæ–¹å‘ä¸Šæ¢¯åº¦è¾ƒå°ï¼Œå³ è¾ƒå°ã€‚å› æ­¤ï¼Œä¸Šè¿°è¡¨è¾¾å¼ä¸­ è¾ƒå¤§ï¼Œè€Œ è¾ƒå°ã€‚åœ¨æ›´æ–°Wå’Œbçš„è¡¨è¾¾å¼ä¸­ï¼Œå˜åŒ–å€¼è¾ƒå¤§ï¼Œè€Œè¾ƒå°ã€‚ä¹Ÿå°±ä½¿å¾—Wå˜åŒ–å¾—å¤šä¸€äº›ï¼Œbå˜åŒ–å¾—å°‘ä¸€äº›ã€‚å³åŠ å¿«äº†Wæ–¹å‘çš„é€Ÿåº¦ï¼Œå‡å°äº†bæ–¹å‘çš„é€Ÿåº¦ï¼Œå‡å°æŒ¯è¡ï¼Œå®ç°å¿«é€Ÿæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚æ€»å¾—æ¥è¯´ï¼Œå°±æ˜¯å¦‚æœå“ªä¸ªæ–¹å‘æŒ¯è¡å¤§ï¼Œå°±å‡å°è¯¥æ–¹å‘çš„æ›´æ–°é€Ÿåº¦ï¼Œä»è€Œå‡å°æŒ¯è¡ã€‚ ä¸ºäº†é¿å…RMSpropç®—æ³•ä¸­åˆ†æ¯ä¸ºé›¶ï¼Œé€šå¸¸å¯ä»¥åœ¨åˆ†æ¯å¢åŠ ä¸€ä¸ªæå°çš„å¸¸æ•°Îµ=1e-8æˆ–å…¶å®ƒè¾ƒå°å€¼ï¼š 2.5 Adam ä¼˜åŒ–ç®—æ³• Adam(Adaptive Moment Estimation)ç®—æ³•ç»“åˆäº†åŠ¨é‡æ¢¯åº¦ä¸‹é™ç®—æ³•å’ŒRMSpropç®—æ³•ã€‚å…¶ç®—æ³•æµç¨‹ä¸ºï¼š Adamç®—æ³•åŒ…å«äº†å‡ ä¸ªè¶…å‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šÎ±,Î²1,Î²2,Îµã€‚å…¶ä¸­ï¼ŒÎ²1é€šå¸¸è®¾ç½®ä¸º0.9ï¼ŒÎ²2é€šå¸¸è®¾ç½®ä¸º0.999ï¼ŒÎµé€šå¸¸è®¾ç½®ä¸º1eâˆ’8ã€‚ä¸€èˆ¬åªéœ€è¦å¯¹Î²1å’ŒÎ²2è¿›è¡Œè°ƒè¯•ã€‚ 2.6 å­¦ä¹ ç‡è¡°å‡ Learning rate decayï¼šå‡å°å­¦ä¹ å› å­ ä¹Ÿèƒ½æœ‰æ•ˆæé«˜ç¥ç»ç½‘ç»œè®­ç»ƒé€Ÿåº¦ éšç€è¿­ä»£æ¬¡æ•°å¢åŠ ï¼Œå­¦ä¹ å› å­ é€æ¸å‡å°ã€‚ä¸‹é¢ç”¨å›¾ç¤ºçš„æ–¹å¼æ¥è§£é‡Šè¿™æ ·åšçš„å¥½å¤„ã€‚ä½¿ç”¨æ’å®šçš„å­¦ä¹ å› å­ ï¼Œç”±äºæ¯æ¬¡è®­ç»ƒ ç›¸åŒï¼Œæ­¥è¿›é•¿åº¦ä¸å˜ï¼Œåœ¨æ¥è¿‘æœ€ä¼˜å€¼å¤„çš„æŒ¯è¡ä¹Ÿå¤§ï¼Œåœ¨æœ€ä¼˜å€¼é™„è¿‘è¾ƒå¤§èŒƒå›´å†…æŒ¯è¡ï¼Œä¸æœ€ä¼˜å€¼è·ç¦»å°±æ¯”è¾ƒè¿œï¼›ä½¿ç”¨ä¸æ–­å‡å°çš„ ï¼Œéšç€è®­ç»ƒæ¬¡æ•°å¢åŠ ï¼Œ é€æ¸å‡å°ï¼Œæ­¥è¿›é•¿åº¦å‡å°ï¼Œä½¿å¾—èƒ½å¤Ÿåœ¨æœ€ä¼˜å€¼å¤„è¾ƒå°èŒƒå›´å†…å¾®å¼±æŒ¯è¡ï¼Œä¸æ–­é€¼è¿‘æœ€ä¼˜å€¼ã€‚ å¯ç”±ä¸‹åˆ—å…¬å¼å¾—åˆ°ï¼š å…¶ä¸­ï¼Œdeacy_rateæ˜¯å‚æ•° (å¯è°ƒ)ï¼Œepochæ˜¯è®­ç»ƒå®Œæ‰€æœ‰æ ·æœ¬çš„æ¬¡æ•°ã€‚éšç€epochå¢åŠ ï¼Œ ä¼šä¸æ–­å˜å°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–å¯ä¾›é€‰æ‹©çš„è®¡ç®—å…¬å¼ï¼š å…¶ä¸­ï¼Œkä¸ºå¯è°ƒå‚æ•°ï¼Œtä¸ºmini-bach numberã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½® ä¸ºå…³äº t çš„ç¦»æ•£å€¼ï¼Œéšç€tå¢åŠ ï¼Œ å‘ˆé˜¶æ¢¯å¼å‡å°ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è®­ç»ƒæƒ…å†µçµæ´»è°ƒæ•´å½“å‰çš„ å€¼ï¼Œä½†ä¼šæ¯”è¾ƒè€—æ—¶é—´ã€‚ 2.7 å±€éƒ¨æœ€ä¼˜çš„é—®é¢˜ åœ¨ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•ä¸æ–­å‡å°cost functionæ—¶ï¼Œå¯èƒ½ä¼šå¾—åˆ°å±€éƒ¨æœ€ä¼˜è§£ (local optima) è€Œä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ (global optima)ã€‚ä¹‹å‰æˆ‘ä»¬å¯¹å±€éƒ¨æœ€ä¼˜è§£çš„ç†è§£æ˜¯å½¢å¦‚ç¢—çŠ¶çš„å‡¹æ§½ï¼Œå¦‚ä¸‹å›¾å·¦è¾¹æ‰€ç¤ºã€‚ä½†æ˜¯åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œlocal optimaçš„æ¦‚å¿µå‘ç”Ÿäº†å˜åŒ–ã€‚å‡†ç¡®åœ°æ¥è¯´ï¼Œå¤§éƒ¨åˆ†æ¢¯åº¦ä¸ºé›¶çš„â€œæœ€ä¼˜ç‚¹â€å¹¶ä¸æ˜¯è¿™äº›å‡¹æ§½å¤„ï¼Œè€Œæ˜¯å½¢å¦‚å³è¾¹æ‰€ç¤ºçš„é©¬éçŠ¶ï¼Œç§°ä¸ºsaddle pointã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¢¯åº¦ä¸ºé›¶å¹¶ä¸èƒ½ä¿è¯éƒ½æ˜¯convex (æå°å€¼) ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯concave(æå¤§å€¼)ã€‚ ç±»ä¼¼é©¬éçŠ¶çš„plateausä¼šé™ä½ç¥ç»ç½‘ç»œå­¦ä¹ é€Ÿåº¦ã€‚Plateausæ˜¯æ¢¯åº¦æ¥è¿‘äºé›¶çš„å¹³ç¼“åŒºåŸŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚åœ¨plateausä¸Šæ¢¯åº¦å¾ˆå°ï¼Œå‰è¿›ç¼“æ…¢ï¼Œåˆ°è¾¾saddle pointéœ€è¦å¾ˆé•¿æ—¶é—´ã€‚åˆ°è¾¾saddle pointåï¼Œç”±äºéšæœºæ‰°åŠ¨ï¼Œæ¢¯åº¦ä¸€èˆ¬èƒ½å¤Ÿæ²¿ç€å›¾ä¸­ç»¿è‰²ç®­å¤´ï¼Œç¦»å¼€saddle pointï¼Œç»§ç»­å‰è¿›ï¼Œåªæ˜¯åœ¨plateausä¸ŠèŠ±è´¹äº†å¤ªå¤šæ—¶é—´ã€‚ æ€»ç»“ï¼š åªè¦é€‰æ‹©åˆç†çš„å¼ºå¤§çš„ç¥ç»ç½‘ç»œï¼Œä¸€èˆ¬ä¸å¤ªå¯èƒ½é™·å…¥local optima Plateauså¯èƒ½ä¼šä½¿æ¢¯åº¦ä¸‹é™å˜æ…¢ï¼Œé™ä½å­¦ä¹ é€Ÿåº¦ï¼ŒåŠ¨é‡æ¢¯åº¦ä¸‹é™ï¼ŒRMSpropï¼ŒAdamç®—æ³•éƒ½èƒ½æœ‰æ•ˆè§£å†³plateausä¸‹é™è¿‡æ…¢çš„é—®é¢˜ï¼Œæé«˜ç½‘ç»œçš„å­¦ä¹ é€Ÿåº¦ã€‚ 3. è¶…å‚æ•°è°ƒè¯•ï¼Œbatchæ­£åˆ™åŒ–å’Œç¼–ç¨‹æ¡†æ¶ 3.1 è°ƒè¯•å¤„ç† æ·±åº¦ç¥ç»ç½‘ç»œéœ€è¦è°ƒè¯•çš„è¶…å‚æ•°ï¼ˆHyperparametersï¼‰è¾ƒå¤šï¼ŒåŒ…æ‹¬ï¼š Î±ï¼šå­¦ä¹ å› å­ Î²ï¼šåŠ¨é‡æ¢¯åº¦ä¸‹é™å› å­ Î²1, Î²2, Îµï¼šAdamç®—æ³•å‚æ•° #layersï¼šç¥ç»ç½‘ç»œå±‚æ•° #hidden unitsï¼šå„éšè—å±‚ç¥ç»å…ƒä¸ªæ•° learning rate decayï¼šå­¦ä¹ å› å­ä¸‹é™å‚æ•° mini-batch sizeï¼šæ‰¹é‡è®­ç»ƒæ ·æœ¬åŒ…å«çš„æ ·æœ¬ä¸ªæ•° è¶…å‚æ•°ä¹‹é—´ä¹Ÿæœ‰é‡è¦æ€§å·®å¼‚ã€‚é€šå¸¸æ¥è¯´ï¼Œå­¦ä¹ å› å­ Î± æ˜¯æœ€é‡è¦çš„è¶…å‚æ•°ï¼Œä¹Ÿæ˜¯éœ€è¦é‡ç‚¹è°ƒè¯•çš„è¶…å‚æ•°ã€‚åŠ¨é‡æ¢¯åº¦ä¸‹é™å› å­ Î²ã€å„éšè—å±‚ç¥ç»å…ƒä¸ªæ•° #hidden units å’Œ mini-batch size çš„é‡è¦æ€§ä»…æ¬¡äº Î±ã€‚ç„¶åå°±æ˜¯ç¥ç»ç½‘ç»œå±‚æ•° #layers å’Œå­¦ä¹ å› å­ä¸‹é™å‚æ•° learning rate decayã€‚æœ€åï¼ŒAdamç®—æ³•çš„ä¸‰ä¸ªå‚æ•° Î²1, Î²2, Îµ ä¸€èˆ¬å¸¸è®¾ç½®ä¸º0.9, 0.999å’Œ1e-8ï¼Œä¸éœ€è¦åå¤è°ƒè¯•ã€‚ å¦‚ä½•é€‰æ‹©å’Œè°ƒè¯•è¶…å‚æ•°ï¼Ÿå‡åŒ€é‡‡æ ·(å·¦å›¾)çš„æ¯ä¸ªå‚æ•°çš„æƒ…å†µè¾ƒå°‘ï¼Œè€Œé‡‡ç”¨éšæœºåŒ–é€‰æ‹©å‚æ•°(å³å›¾)ï¼Œå¯ä»¥å°½å¯èƒ½åœ°å¾—åˆ°æ›´å¤šç§å‚æ•°ç»„åˆï¼Œå¯¹é‡è¦æ€§ä¸åŒçš„å‚æ•°ä¹‹é—´çš„é€‰æ‹©æ•ˆæœæ›´å¥½ï¼šå¢åŠ äº†é‡è¦æ€§æ›´é«˜çš„å‚æ•°è°ƒè¯•çš„ä¸ªæ•°ï¼Œæ›´æœ‰å¯èƒ½é€‰æ‹©åˆ°æœ€ä¼˜å€¼ã€‚ åœ¨ç»è¿‡éšæœºé‡‡æ ·ä¹‹åï¼Œæˆ‘ä»¬å¯èƒ½å¾—åˆ°æŸäº›åŒºåŸŸæ¨¡å‹çš„è¡¨ç°è¾ƒå¥½ã€‚ç„¶è€Œï¼Œä¸ºäº†å¾—åˆ°æ›´ç²¾ç¡®çš„æœ€ä½³å‚æ•°ï¼Œæˆ‘ä»¬åº”è¯¥ç»§ç»­å¯¹é€‰å®šçš„åŒºåŸŸè¿›è¡Œç”±ç²—åˆ°ç»†çš„é‡‡æ · (coarse to fine sampling scheme)ã€‚ä¹Ÿå°±æ˜¯æ”¾å¤§è¡¨ç°è¾ƒå¥½çš„åŒºåŸŸï¼Œå†å¯¹æ­¤åŒºåŸŸåšæ›´å¯†é›†çš„éšæœºé‡‡æ ·ã€‚ä¾‹å¦‚ï¼Œå¯¹ä¸‹å›¾ä¸­å³ä¸‹è§’çš„æ–¹å½¢åŒºåŸŸå†åš25ç‚¹çš„éšæœºé‡‡æ ·ï¼Œä»¥è·å¾—æœ€ä½³å‚æ•°ã€‚ 3.2 ä¸ºè¶…å‚æ•°é€‰æ‹©åˆé€‚çš„èŒƒå›´ æŸäº›è¶…å‚æ•°æ˜¯å¯ä»¥è¿›è¡Œå°ºåº¦å‡åŒ€é‡‡æ ·çš„ï¼Œä½†æ˜¯æŸäº›è¶…å‚æ•°éœ€è¦é€‰æ‹©ä¸åŒçš„åˆé€‚å°ºåº¦è¿›è¡Œéšæœºé‡‡æ ·ã€‚ è¶…å‚æ•°#layerså’Œ#hidden unitsï¼Œéƒ½æ˜¯æ­£æ•´æ•°ï¼Œæ˜¯å¯ä»¥è¿›è¡Œå‡åŒ€éšæœºé‡‡æ ·çš„ï¼Œå³è¶…å‚æ•°æ¯æ¬¡å˜åŒ–çš„å°ºåº¦éƒ½æ˜¯ä¸€è‡´çš„ï¼› è¶…å‚æ•°Î±ï¼Œå¾…è°ƒèŒƒå›´æ˜¯[0.0001, 1]ã€‚å¦‚æœä½¿ç”¨å‡åŒ€éšæœºé‡‡æ ·ï¼Œé‚£ä¹ˆæœ‰90%çš„é‡‡æ ·ç‚¹åˆ†å¸ƒåœ¨[0.1, 1]ä¹‹é—´ï¼Œåªæœ‰10%åˆ†å¸ƒåœ¨[0.0001, 0.1]ä¹‹é—´ã€‚è¿™åœ¨å®é™…åº”ç”¨ä¸­æ˜¯ä¸å¤ªå¥½çš„ï¼Œå› ä¸ºæœ€ä½³çš„ Î± å€¼å¯èƒ½ä¸»è¦åˆ†å¸ƒåœ¨[0.0001, 0.1]ä¹‹é—´ï¼Œè€Œ[0.1, 1]èŒƒå›´å†… Î± å€¼æ•ˆæœå¹¶ä¸å¥½ã€‚å› æ­¤æˆ‘ä»¬æ›´å…³æ³¨çš„æ˜¯åŒºé—´[0.0001, 0.1]ï¼Œåº”è¯¥åœ¨è¿™ä¸ªåŒºé—´å†…ç»†åˆ†æ›´å¤šåˆ»åº¦ï¼šå°†linear scaleè½¬æ¢ä¸ºlog scaleï¼Œå°†å‡åŒ€å°ºåº¦è½¬åŒ–ä¸ºéå‡åŒ€å°ºåº¦ï¼Œç„¶åå†åœ¨log scaleä¸‹è¿›è¡Œå‡åŒ€é‡‡æ ·ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒåŠ¨é‡æ¢¯åº¦å› å­ Î² åŒç†ã€‚å¯¹ 1 - Î² åœ¨ [0.001, 0.1] åŒºé—´è¿›è¡Œlogå˜æ¢å³å¯ã€‚ Pandas vs. Caviarï¼š Panda approachï¼šå—è®¡ç®—èƒ½åŠ›æ‰€é™ï¼Œåªå¯¹ä¸€ä¸ªæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œè°ƒè¯•ä¸åŒçš„è¶…å‚æ•°ï¼Œä½¿å¾—è¿™ä¸ªæ¨¡å‹æœ‰æœ€ä½³çš„è¡¨ç° Caviar approachï¼šå¯¹å¤šä¸ªæ¨¡å‹åŒæ—¶è¿›è¡Œè®­ç»ƒï¼Œæ¯ä¸ªæ¨¡å‹ä¸Šè°ƒè¯•ä¸åŒçš„è¶…å‚æ•°ï¼Œæ ¹æ®è¡¨ç°æƒ…å†µï¼Œé€‰æ‹©æœ€ä½³çš„æ¨¡å‹ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºã€‚ ä¸€èˆ¬å¯¹äºéå¸¸å¤æ‚æˆ–è€…æ•°æ®é‡å¾ˆå¤§çš„æ¨¡å‹ï¼Œæ›´å¤šä½¿ç”¨Panda approachã€‚ 3.3 æ­£åˆ™åŒ–ç½‘ç»œçš„æ¿€æ´»å‡½æ•°(Batch Norm) Batch Normalizationä¸ä»…è®©è°ƒè¯•è¶…å‚æ•°æ›´åŠ ç®€å•ï¼Œè€Œä¸”å¯ä»¥è®©ç¥ç»ç½‘ç»œæ¨¡å‹æ›´åŠ â€œå¥å£®â€ã€‚ä¹Ÿå°±æ˜¯è¯´è¾ƒå¥½æ¨¡å‹å¯æ¥å—çš„è¶…å‚æ•°èŒƒå›´æ›´å¤§ä¸€äº›ï¼ŒåŒ…å®¹æ€§æ›´å¼ºï¼Œä½¿å¾—æ›´å®¹æ˜“å»è®­ç»ƒä¸€ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œã€‚ æ ‡å‡†åŒ–è¾“å…¥å¯ä»¥æé«˜è®­ç»ƒçš„é€Ÿåº¦ï¼Œå³å¯¹è®­ç»ƒæ•°æ®é›†è¿›è¡Œå½’ä¸€åŒ–çš„æ“ä½œï¼Œå³å°†åŸå§‹æ•°æ®å‡å»å…¶å‡å€¼ åï¼Œå†é™¤ä»¥å…¶æ–¹å·® ã€‚è€Œåœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå¯¹å„éšè—å±‚çš„æ ‡å‡†åŒ–å¤„ç†å³ä¸ºBatch Normalizationã€‚ Batch Normalizationï¼šå¯¹ç¬¬ å±‚éšè—å±‚çš„è¾“å…¥ åšå¦‚ä¸‹æ ‡å‡†åŒ–å¤„ç†ï¼Œå¿½ç•¥ä¸Šæ ‡ ï¼Œï¼Œï¼Œ å…¶ä¸­mæ˜¯å•ä¸ªmini-batchåŒ…å«æ ·æœ¬ä¸ªæ•°ï¼ŒÎµæ˜¯ä¸ºäº†é˜²æ­¢åˆ†æ¯ä¸ºé›¶ï¼Œå¯å–å€¼1e-8ã€‚è¿™æ ·ï¼Œä½¿å¾—è¯¥éšè—å±‚çš„æ‰€æœ‰è¾“å…¥å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ã€‚ ä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µå¹¶ä¸å¸Œæœ›æ‰€æœ‰å‡å€¼éƒ½ä¸º0ï¼Œæ–¹å·®éƒ½ä¸º1ï¼Œä¹Ÿä¸å¤ªåˆç†ã€‚ä»æ¿€æ´»å‡½æ•°çš„è§’åº¦æ¥è¯´ï¼Œå¦‚æœå„éšè—å±‚çš„è¾“å…¥å‡å€¼åœ¨é è¿‘0çš„åŒºåŸŸå³å¤„äºæ¿€æ´»å‡½æ•°çš„çº¿æ€§åŒºåŸŸï¼Œè¿™æ ·ä¸åˆ©äºè®­ç»ƒå¥½çš„éçº¿æ€§ç¥ç»ç½‘ç»œï¼Œå¾—åˆ°çš„æ¨¡å‹æ•ˆæœä¹Ÿä¸ä¼šå¤ªå¥½ã€‚é€šå¸¸éœ€è¦å¯¹è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ï¼š ï¼Œ å…¶ä¸­ å’Œ æ˜¯learnable parametersï¼Œç±»ä¼¼äºWå’Œbä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™ç­‰ç®—æ³•æ±‚å¾—ï¼Œä»–ä»¬çš„ä½œç”¨æ˜¯è®© çš„å‡å€¼å’Œæ–¹å·®ä¸ºä»»æ„å€¼ï¼Œåªéœ€è°ƒæ•´å…¶å€¼å³å¯ã€‚ è¿™æ ·é€šè¿‡ Batch Normalizationï¼Œå¯¹éšè—å±‚çš„å„ä¸ª $z^{l}è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå¾—åˆ°\\tilde{z}^{l}$ä»¥æ›¿ä»£ã€‚ å°† Batch Norm æ‹Ÿåˆè¿›ç¥ç»ç½‘ç»œï¼š å®é™…ä¸Šï¼ŒBatch Normç»å¸¸ä½¿ç”¨åœ¨mini-batchä¸Šï¼Œè¿™ä¹Ÿæ˜¯å…¶åç§°çš„ç”±æ¥ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºBatch Normå¯¹å„éšè—å±‚ æœ‰å»å‡å€¼çš„æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œçš„å¸¸æ•°é¡¹ å¯ä»¥æ¶ˆå»ï¼Œå…¶æ•°å€¼æ•ˆæœå®Œå…¨å¯ä»¥ç”± ä¸­çš„ æ¥å®ç°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨Batch Normçš„æ—¶å€™ï¼Œå¯ä»¥å¿½ç•¥å„éšè—å±‚çš„å¸¸æ•°é¡¹ ã€‚åœ¨ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•æ—¶ï¼Œåˆ†åˆ«å¯¹ , å’Œ è¿›è¡Œè¿­ä»£æ›´æ–°ã€‚é™¤äº†ä¼ ç»Ÿçš„æ¢¯åº¦ä¸‹é™ç®—æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰ä»‹ç»è¿‡çš„åŠ¨é‡æ¢¯åº¦ä¸‹é™ã€RMSpropæˆ–è€…Adamç­‰ä¼˜åŒ–ç®—æ³•ã€‚ Qï¼šWhy does Batch Norm work? Aï¼šä¸¾ä¾‹ï¼šç”¨ä¸€ä¸ªæµ…å±‚ç¥ç»ç½‘ç»œï¼ˆç±»ä¼¼é€»è¾‘å›å½’ï¼‰æ¥è®­ç»ƒè¯†åˆ«çŒ«çš„æ¨¡å‹ã€‚æä¾›çš„æ‰€æœ‰çŒ«çš„è®­ç»ƒæ ·æœ¬éƒ½æ˜¯é»‘çŒ«ã€‚ç„¶åï¼Œç”¨è¿™ä¸ªè®­ç»ƒå¾—åˆ°çš„æ¨¡å‹æ¥å¯¹å„ç§é¢œè‰²çš„çŒ«æ ·æœ¬è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•çš„ç»“æœå¯èƒ½å¹¶ä¸å¥½ã€‚å…¶åŸå› æ˜¯è®­ç»ƒæ ·æœ¬ä¸å…·æœ‰ä¸€èˆ¬æ€§ï¼ˆå³ä¸æ˜¯æ‰€æœ‰çš„çŒ«éƒ½æ˜¯é»‘çŒ«ï¼‰ï¼Œè¿™ç§å®é™…åº”ç”¨çš„æ ·æœ¬ä¸è®­ç»ƒæ ·æœ¬åˆ†å¸ƒçš„ä¸åŒç§°ä¹‹ä¸ºcovariate shiftã€‚ å¦‚æœå‘ç”Ÿcovariate shiftï¼Œåˆ™ä¸€èˆ¬æ˜¯è¦å¯¹æ¨¡å‹é‡æ–°è¿›è¡Œè®­ç»ƒã€‚covariate shiftä¼šå¯¼è‡´æ¨¡å‹é¢„æµ‹æ•ˆæœå˜å·®ï¼Œé‡æ–°è®­ç»ƒçš„æ¨¡å‹å„éšè—å±‚çš„ W[l] å’Œ B[l] å‡äº§ç”Ÿåç§»ã€å˜åŒ–ï¼Œè€ŒBatch Normçš„ä½œç”¨æ°æ°æ˜¯å‡å°covariate shiftçš„å½±å“ï¼Œè®©æ¨¡å‹å˜å¾—æ›´åŠ å¥å£®ï¼Œé²æ£’æ€§æ›´å¼ºã€‚å‡å°‘äº†å„å±‚ W[l], B[l] ä¹‹é—´çš„è€¦åˆæ€§ï¼Œè®©å„å±‚æ›´åŠ ç‹¬ç«‹ï¼Œå®ç°è‡ªæˆ‘è®­ç»ƒå­¦ä¹ çš„æ•ˆæœã€‚ Batch Normä¹Ÿèµ·åˆ°è½»å¾®çš„æ­£åˆ™åŒ–(regularization)æ•ˆæœï¼Œå…·ä½“è¡¨ç°åœ¨ï¼š æ¯ä¸ªmini-batchéƒ½è¿›è¡Œå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1çš„å½’ä¸€åŒ–æ“ä½œ æ¯ä¸ªmini-batchä¸­ï¼Œå¯¹å„ä¸ªéšè—å±‚çš„ æ·»åŠ äº†éšæœºå™ªå£°ï¼Œæ•ˆæœç±»ä¼¼äºDropout mini-batchè¶Šå°ï¼Œæ­£åˆ™åŒ–æ•ˆæœè¶Šæ˜æ˜¾ Batch Normçš„æ­£åˆ™åŒ–æ•ˆæœæ¯”è¾ƒå¾®å¼±ï¼Œæ­£åˆ™åŒ–ä¹Ÿä¸æ˜¯Batch Normçš„ä¸»è¦åŠŸèƒ½ã€‚ æµ‹è¯•è¿‡ç¨‹ä¸­çš„Batch Normï¼š è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒBatch Normæ˜¯å¯¹å•ä¸ªmini-batchè¿›è¡Œæ“ä½œçš„ï¼Œä½†åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ˜¯å•ä¸ªæ ·æœ¬ï¼Œè¯¥å¦‚ä½•ä½¿ç”¨Batch Normè¿›è¡Œå¤„ç†å‘¢ï¼Ÿ å…¶ä¸­ å’Œ æ˜¯å¯¹å•ä¸ªmini-batchä¸­æ‰€æœ‰mä¸ªæ ·æœ¬æ±‚å¾—çš„ï¼Œæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªæ ·æœ¬ï¼Œæ±‚å…¶å‡å€¼å’Œæ–¹å·®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå°±è¦å¯¹å…¶ä¼°è®¡ã€‚å®é™…åº”ç”¨ä¸­ä¸€èˆ¬ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡ï¼ˆexponentially weighted averageï¼‰çš„æ–¹æ³•æ¥é¢„æµ‹æµ‹è¯•è¿‡ç¨‹å•ä¸ªæ ·æœ¬çš„ å’Œ ã€‚ å¯¹äºç¬¬ å±‚éšè—å±‚ï¼Œè€ƒè™‘æ‰€æœ‰mini-batchåœ¨è¯¥éšè—å±‚ä¸‹çš„ å’Œ ï¼Œç„¶åç”¨æŒ‡æ•°åŠ æƒå¹³å‡çš„æ–¹å¼æ¥é¢„æµ‹å¾—åˆ°å½“å‰å•ä¸ªæ ·æœ¬çš„ å’Œ ã€‚è¿™æ ·å°±å®ç°äº†å¯¹æµ‹è¯•è¿‡ç¨‹å•ä¸ªæ ·æœ¬çš„å‡å€¼å’Œæ–¹å·®ä¼°è®¡ã€‚æœ€åï¼Œå†åˆ©ç”¨è®­ç»ƒè¿‡ç¨‹å¾—åˆ°çš„ å’Œ å€¼è®¡ç®—å‡ºå„å±‚çš„ å€¼ã€‚ 3.4 Softmax å›å½’ Softmax Regression å¯¹äºå¤šåˆ†ç±»é—®é¢˜ï¼Œç”¨ è¡¨ç¤ºç§ç±»ä¸ªæ•°ï¼Œç¥ç»ç½‘ç»œä¸­è¾“å‡ºå±‚å°±æœ‰ ä¸ªç¥ç»å…ƒï¼Œå³ ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªç¥ç»å…ƒçš„è¾“å‡ºä¾æ¬¡å¯¹åº”å±äºè¯¥ç±»çš„æ¦‚ç‡ï¼Œå³ ã€‚ä¸ºäº†å¤„ç†å¤šåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨Softmaxå›å½’æ¨¡å‹ã€‚Softmaxå›å½’æ¨¡å‹è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š è¾“å‡ºå±‚æ¯ä¸ªç¥ç»å…ƒçš„è¾“å‡º å¯¹åº”å±äºè¯¥ç±»çš„æ¦‚ç‡ï¼Œæ»¡è¶³ ï¼Œæ‰€æœ‰çš„ å³ ï¼Œç»´åº¦ä¸º (C, 1) å®ä¾‹ï¼šè®­ç»ƒä¸€ä¸ª Softmax åˆ†ç±»å™¨ï¼š å‡å¦‚ ï¼Œå®šä¹‰softmax classifierçš„loss functionä¸ºï¼š$L(\\hat{y}, y)=-\\sum_{j=1}^4y_jÂ·log\\hat{y}jï¼Œæ‰€æœ‰ä¸ªæ ·æœ¬çš„ä¸ºJ=\\dfrac{1}{m}\\sum{i=1}^mL(\\hat{y},y)ï¼Œå…¶é¢„æµ‹å‘é‡A^{[L]}å³\\hat{Y}$ çš„ç»´åº¦ä¸º (4, m)ã€‚ åå‘ä¼ æ’­è¿‡ç¨‹ä¾ç„¶ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œï¼Œå¯¹æ‰€æœ‰mä¸ªè®­ç»ƒæ ·æœ¬ 3.5 æ·±åº¦å­¦ä¹ æ¡†æ¶ Caffe/Caffe2 CNTK DL4J Keras Lasagne mxnet PaddlePaddle TensorFlow Theano Torch é€‰æ‹©æ·±åº¦å­¦ä¹ æ¡†æ¶çš„åŸºæœ¬å‡†åˆ™ï¼šæ˜“äºç¼–ç¨‹(å¼€å‘/éƒ¨ç½²)ã€è¿è¡Œé€Ÿåº¦ã€å…·æœ‰è‰¯å¥½æ²»ç†çš„å¼€æº ä¸‰ã€æ„å»ºæœºå™¨å­¦ä¹ é¡¹ç›® 1. æœºå™¨å­¦ä¹ ç­–ç•¥ï¼ˆä¸Šï¼‰ 1.1 æ­£äº¤åŒ– æ­£äº¤åŒ–æ–¹æ³• (Orthogonalization) ï¼šæœ€å¸¸ç”¨çš„è°ƒå‚ç­–ç•¥ã€‚é€šè¿‡æ¯æ¬¡åªè°ƒè¯•ä¸€ä¸ªå‚æ•°ï¼Œä¿æŒå…¶å®ƒå‚æ•°ä¸å˜ï¼Œè€Œå¾—åˆ°çš„æ¨¡å‹æŸä¸€æ€§èƒ½æ”¹å˜ã€‚ æ ¸å¿ƒï¼šæ¯æ¬¡è°ƒè¯•ä¸€ä¸ªå‚æ•°åªä¼šå½±å“æ¨¡å‹çš„æŸä¸€ä¸ªæ€§èƒ½ã€‚å½¼æ­¤ä¹‹é—´æ˜¯äº’ä¸å½±å“çš„ï¼Œæ˜¯æ­£äº¤çš„ã€‚ æœºå™¨å­¦ä¹ ç›‘ç£å¼å­¦ä¹ æ¨¡å‹ä¸­ï¼Œå¯ä»¥å¤§è‡´åˆ†æˆå››ä¸ªç‹¬ç«‹çš„â€œåŠŸèƒ½â€ï¼š åœ¨è®­ç»ƒé›†(train)ä¸Šæœ‰å¥½çš„è¡¨ç°ï¼šä½¿ç”¨æ›´å¤æ‚NNï¼Œä½¿ç”¨Adamç­‰ä¼˜åŒ–ç®—æ³• åœ¨éªŒè¯é›†(dev)ä¸Šæœ‰å¥½çš„è¡¨ç°ï¼šæ­£åˆ™åŒ–ï¼Œé‡‡ç”¨æ›´å¤šè®­ç»ƒæ ·æœ¬ åœ¨æµ‹è¯•é›†(test)ä¸Šæœ‰å¥½çš„è¡¨ç°ï¼šä½¿ç”¨æ›´å¤šçš„éªŒè¯é›†æ ·æœ¬ åœ¨å®é™…åº”ç”¨ä¸Šæœ‰å¥½çš„è¡¨ç°ï¼šæ›´æ¢éªŒè¯é›†ï¼Œä½¿ç”¨æ–°çš„cost function early stoppingåœ¨æ¨¡å‹åŠŸèƒ½è°ƒè¯•ä¸­å¹¶ä¸æ¨èä½¿ç”¨ã€‚å› ä¸ºearly stoppingåœ¨æå‡éªŒè¯é›†æ€§èƒ½çš„åŒæ—¶é™ä½äº†è®­ç»ƒé›†çš„æ€§èƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´early stoppingåŒæ—¶å½±å“ä¸¤ä¸ªâ€œåŠŸèƒ½â€ï¼Œä¸å…·æœ‰ç‹¬ç«‹æ€§ã€æ­£äº¤æ€§ã€‚ 1.2 è¯„ä»·æŒ‡æ ‡ é‡åŒ–çš„å•å€¼è¯„ä»·æŒ‡æ ‡(Single number evaluation metric)ï¼šå¯ä»¥æ ¹æ®è¿™ä¸€æŒ‡æ ‡æ¯”è¾ƒä¸åŒè¶…å‚æ•°å¯¹åº”çš„æ¨¡å‹çš„ä¼˜åŠ£ï¼Œä»è€Œé€‰æ‹©æœ€ä¼˜çš„é‚£ä¸ªæ¨¡å‹ã€‚ exï¼šAå’ŒBä¸¤ä¸ªæ¨¡å‹ï¼Œå‡†ç¡®ç‡ï¼ˆPrecisionï¼‰å’Œå¬å›ç‡ï¼ˆRecallï¼‰åˆ†åˆ«å¦‚ä¸‹ï¼šå¦‚æœåªçœ‹Precisionå’ŒRecallæ— æ³•è¯„ä¼°å“ªä¸ªæ›´å¥½ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å•å€¼è¯„ä»·æŒ‡æ ‡F1 Scoreæ¥è¯„ä»·æ¨¡å‹çš„å¥½åã€‚F1 Scoreç»¼åˆäº†Precisionå’ŒRecallçš„å¤§å°ï¼Œè®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š å³å¯å¾—åˆ°å„è‡ªçš„F1 Scoreï¼š å¯çŸ¥Aæ¨¡å‹æ¯”Bæ¨¡å‹æ›´å¥½ä¸€äº›ã€‚ é™¤äº†F1 Scoreå¤–ï¼Œä¹Ÿå¯ä»¥ç”¨å¹³å‡å€¼ä½œä¸ºå•å€¼è¯„ä»·æŒ‡æ ‡è¿›è¡Œè¯„ä¼°ï¼Œæ¯”å¦‚å¯¹ä¸åŒç±»å‹æ ·æœ¬çš„é”™è¯¯ç‡ï¼Œè®¡ç®—å¹³å‡æ€§èƒ½ï¼Œé€‰æ‹©å¹³å‡é”™è¯¯ç‡æœ€å°çš„æ¨¡å‹ã€‚ æœ‰æ—¶è¦æŠŠæ‰€æœ‰çš„æ€§èƒ½æŒ‡æ ‡éƒ½ç»¼åˆåœ¨ä¸€èµ·ï¼Œæ„æˆå•å€¼è¯„ä»·æŒ‡æ ‡æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œäºæ˜¯å¼•å…¥ä¼˜åŒ–æŒ‡æ ‡(Optimizing metic) å’Œ æ»¡æ„æŒ‡æ ‡(Satisficing metic)ï¼šæŠŠæŸäº›æ€§èƒ½ä½œä¸ºä¼˜åŒ–æŒ‡æ ‡ï¼Œå¯»æ±‚æœ€ä¼˜åŒ–å€¼ï¼›æŸäº›æ€§èƒ½ä½œä¸ºæ»¡æ„æŒ‡æ ‡ï¼Œåªè¦æ»¡è¶³é˜ˆå€¼å°±è¡Œäº†ã€‚ exï¼šå‰è€…Accuracyï¼Œåè€…Running time ç®—æ³•æ¨¡å‹çš„è¯„ä»·æ ‡å‡†æœ‰æ—¶å€™éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼Œç›®çš„æ˜¯è®©ç®—æ³•æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­æœ‰æ›´å¥½çš„æ•ˆæœã€‚æ¦‚æ‹¬æ¥è®²æœºå™¨å­¦ä¹ å¯åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼šå®šä¹‰ä¸€ä¸ªæŒ‡æ ‡æ¥è¿›è¡Œè¯„ä¼°ã€å¦‚ä½•åœ¨è¿™ä¸ªæŒ‡æ ‡ä¸Šåšçš„æ›´å¥½ã€‚ å¦å¤–ä¸€ä¸ªéœ€è¦åŠ¨æ€æ”¹å˜è¯„ä»·æ ‡å‡†çš„æƒ…å†µæ˜¯dev/test setsä¸å®é™…ä½¿ç”¨çš„æ ·æœ¬åˆ†å¸ƒä¸ä¸€è‡´ï¼Œexï¼šçŒ«ç±»è¯†åˆ«ä¸­æ ·æœ¬å›¾åƒåˆ†è¾¨ç‡æœ‰å·®å¼‚ã€‚ 1.3 train/dev/test åˆ’åˆ†/å¤§å° åˆ’åˆ†(distribution)ï¼šåŸåˆ™ä¸Šå°½é‡ä¿è¯dev setså’Œtest setsæ¥æºäºåŒä¸€åˆ†å¸ƒä¸”éƒ½åæ˜ äº†å®é™…æ ·æœ¬çš„æƒ…å†µã€‚å¦‚æœdev setså’Œtest setsä¸æ¥è‡ªåŒä¸€åˆ†å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»dev setsä¸Šé€‰æ‹©çš„â€œæœ€ä½³â€æ¨¡å‹å¾€å¾€ä¸èƒ½å¤Ÿåœ¨test setsä¸Šè¡¨ç°å¾—å¾ˆå¥½ã€‚ å¤§å°(size)ï¼šå½“æ ·æœ¬æ•°é‡ä¸å¤šï¼ˆå°äºä¸€ä¸‡ï¼‰çš„æ—¶å€™ï¼Œé€šå¸¸å°†Train/dev/test setsçš„æ¯”ä¾‹è®¾ä¸º60%/20%/20%ï¼Œåœ¨æ²¡æœ‰dev setsçš„æƒ…å†µä¸‹ï¼ŒTrain/test setsçš„æ¯”ä¾‹è®¾ä¸º70%/30%ã€‚å½“æ ·æœ¬æ•°é‡å¾ˆå¤§ï¼ˆç™¾ä¸‡çº§åˆ«ï¼‰çš„æ—¶å€™ï¼Œé€šå¸¸å°†ç›¸åº”çš„æ¯”ä¾‹è®¾ä¸º98%/1%/1%æˆ–è€…99%/1%ã€‚ dev setsï¼šå‡†åˆ™æ˜¯èƒ½å¤Ÿæ£€æµ‹ä¸åŒç®—æ³•æˆ–æ¨¡å‹çš„åŒºåˆ«ï¼Œä»¥ä¾¿é€‰æ‹©å‡ºæ›´å¥½çš„æ¨¡å‹ã€‚ test setsï¼šå‡†åˆ™æ˜¯èƒ½å¤Ÿåæ˜ å‡ºæ¨¡å‹åœ¨å®é™…ä¸­çš„è¡¨ç°ã€‚ å®é™…åº”ç”¨ä¸­ï¼Œå¯èƒ½åªæœ‰train/dev setsï¼Œè€Œæ²¡æœ‰test setsã€‚è¿™ç§æƒ…å†µä¹Ÿæ˜¯å…è®¸çš„ï¼Œåªè¦ç®—æ³•æ¨¡å‹æ²¡æœ‰å¯¹dev setsè¿‡æ‹Ÿåˆã€‚æ¡ä»¶å…è®¸çš„è¯ï¼Œæœ€å¥½æ˜¯æœ‰test setsï¼Œä»¥å®ç°æ— åä¼°è®¡ã€‚ 1.4 æœºå™¨å­¦ä¹ ä¸äººç±»æ°´å¹³è¡¨ç° æœºå™¨å­¦ä¹ æ¨¡å‹çš„è¡¨ç°é€šå¸¸ä¼šè·Ÿäººç±»æ°´å¹³è¡¨ç°ä½œæ¯”è¾ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ¨¡å‹ç»è¿‡è®­ç»ƒä¼šä¸æ–­æ¥è¿‘human-level performanceç”šè‡³è¶…è¿‡å®ƒã€‚è¶…è¿‡human-level performanceä¹‹åï¼Œå‡†ç¡®æ€§ä¼šä¸Šå‡å¾—æ¯”è¾ƒç¼“æ…¢ï¼Œç†æƒ³çš„æœ€ä¼˜æƒ…å†µï¼Œç§°ä¸ºbayes optimal errorã€‚ç†è®ºä¸Šä»»ä½•æ¨¡å‹éƒ½ä¸èƒ½è¶…è¿‡å®ƒï¼Œbayes optimal errorä»£è¡¨äº†æœ€ä½³è¡¨ç°ã€‚ å¯é¿å…åå·®(avoidable bias)ï¼šå®é™…åº”ç”¨ä¸­ï¼Œè¦çœ‹human-level errorï¼Œtraining errorå’Œdev errorçš„ç›¸å¯¹å€¼ã€‚training errorä¸human-level errorä¹‹é—´çš„å·®å€¼ç§°ä¸ºbiasï¼Œä¹Ÿç§°ä½œavoidable biasï¼›æŠŠdev errorä¸training errorä¹‹é—´çš„å·®å€¼ç§°ä¸ºvarianceã€‚æ ¹æ®biaså’Œvarianceå€¼çš„ç›¸å¯¹å¤§å°ï¼Œå¯ä»¥çŸ¥é“ç®—æ³•æ¨¡å‹æ˜¯å¦å‘ç”Ÿäº†æ¬ æ‹Ÿåˆæˆ–è€…è¿‡æ‹Ÿåˆã€‚ å¯¹äºç‰©ä½“è¯†åˆ«è¿™ç±»CVé—®é¢˜ï¼Œhuman-level erroræ˜¯å¾ˆä½çš„ï¼Œå¾ˆæ¥è¿‘ç†æƒ³æƒ…å†µä¸‹çš„bayes optimal errorã€‚å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨human-level errorä»£è¡¨bayes optimal errorã€‚ human-level performanceå¦‚ä½•å®šä¹‰ï¼šä¸åŒäººç¾¤çš„erroræœ‰æ‰€ä¸åŒï¼Œä¸€èˆ¬å°†è¡¨ç°æœ€å¥½çš„é‚£ä¸€ç»„ä½œä¸ºhuman-level performanceã€‚å®é™…åº”ç”¨ä¸­ï¼Œä¸åŒäººå¯èƒ½é€‰æ‹©çš„human-level performanceåŸºå‡†ä¸åŒï¼Œé€‰æ‹©ä»€ä¹ˆæ ·çš„human-level errorï¼Œæœ‰æ—¶å€™ä¼šå½±å“biaså’Œvarianceå€¼çš„ç›¸å¯¹å˜åŒ–ã€‚ å¯¹äºè‡ªç„¶æ„ŸçŸ¥ç±»é—®é¢˜ï¼Œä¾‹å¦‚è§†è§‰ã€å¬è§‰ç­‰ï¼Œæœºå™¨å­¦ä¹ çš„è¡¨ç°ä¸åŠäººç±»ã€‚ä½†æ˜¯åœ¨å…¶ä»–æ–¹é¢ï¼Œè¶…è¿‡äººç±»çš„è¡¨ç°åŒ…æ‹¬ï¼š åœ¨çº¿å¹¿å‘Š äº§å“æ¨è ç‰©æµï¼ˆé¢„æµ‹è¿è¾“æ—¶é—´ï¼‰ è´·æ¬¾å®¡æ‰¹ åªè¦æä¾›è¶³å¤Ÿå¤šçš„æ ·æœ¬æ•°æ®ï¼Œè®­ç»ƒå¤æ‚çš„ç¥ç»ç½‘ç»œï¼Œæ¨¡å‹é¢„æµ‹å‡†ç¡®æ€§ä¼šå¤§å¤§æé«˜ã€‚ 1.5 æ”¹å–„æ¨¡å‹è¡¨ç° æé«˜æœºå™¨å­¦ä¹ æ¨¡å‹æ€§èƒ½ä¸»è¦è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šavoidable biaså’Œvarianceã€‚training errorä¸human-level errorä¹‹é—´çš„å·®å€¼åæ˜ çš„æ˜¯avoidable biasï¼Œdev errorä¸training errorä¹‹é—´çš„å·®å€¼åæ˜ çš„æ˜¯varianceã€‚ è§£å†³avoidable biasï¼š è®­ç»ƒæ›´å¤§çš„æ¨¡å‹ æ›´å¥½çš„ä¼˜åŒ–ç®—æ³•ï¼šmomentum, RMSprop, Adam NNç»“æ„ / è¶…å‚æ•°æœç´¢ è§£å†³varianceï¼š æ›´å¤šæ•°æ® æ­£åˆ™åŒ–ï¼šL2, dropout, æ•°æ®å¢å¼º NNç»“æ„ / è¶…å‚æ•°æœç´¢ 2. æœºå™¨å­¦ä¹ ç­–ç•¥ï¼ˆä¸‹ï¼‰ 2.1 è¯¯å·®åˆ†æ error analysis å¢å¼ºæ¨¡å‹å¯¹è´Ÿæ ·æœ¬çš„è®­ç»ƒï¼Œä»¥æé«˜å‡†ç¡®ç‡ åŒæ—¶è¯„ä¼°å¤šä¸ªå½±å“æ¨¡å‹æ€§èƒ½çš„å› ç´ ï¼Œé€šè¿‡å„è‡ªåœ¨é”™è¯¯æ ·æœ¬ä¸­æ‰€å çš„æ¯”ä¾‹æ¥åˆ¤æ–­å…¶é‡è¦æ€§ã€‚æ¯”ä¾‹è¶Šå¤§ï¼Œå½±å“è¶Šå¤§ï¼Œæ›´éœ€è¦æé«˜é’ˆå¯¹æ€§ã€‚ exï¼šçŒ«ç±»è¯†åˆ«ä¸­ï¼Œå¯èƒ½çš„å½±å“å› ç´ æœ‰ï¼šä¿®å¤ç‹—è¢«è¯†åˆ«ä¸ºçŒ«çš„å›¾ç‰‡ã€ä¿®å¤å¤§çŒ«ï¼ˆç‹®å­ã€é»‘è±¹ç­‰ï¼‰è¢«é”™è¯¯è¯†åˆ«çš„é—®é¢˜ã€æé«˜æ¨¡ç³Šå›¾åƒçš„æ€§èƒ½ç­‰ 2.2 æ¸…é™¤æ ‡æ³¨é”™è¯¯çš„æ•°æ® ç›‘ç£å¼å­¦ä¹ ä¸­ï¼Œè®­ç»ƒæ ·æœ¬æœ‰æ—¶å€™ä¼šå‡ºç°è¾“å‡ºyæ ‡æ³¨é”™è¯¯çš„æƒ…å†µï¼Œå³incorrectly labeled examplesã€‚å¦‚æœè¿™äº›labelæ ‡é”™çš„æƒ…å†µæ˜¯éšæœºæ€§çš„ï¼ˆrandom errorsï¼‰ï¼ŒDLç®—æ³•å¯¹å…¶åŒ…å®¹æ€§æ˜¯æ¯”è¾ƒå¼ºçš„ï¼Œå³å¥å£®æ€§å¥½ï¼Œä¸€èˆ¬å¯ä»¥ç›´æ¥å¿½ç•¥ï¼Œæ— éœ€ä¿®å¤ã€‚ç„¶è€Œï¼Œå¦‚æœæ˜¯ç³»ç»Ÿé”™è¯¯ï¼ˆsystematic errorsï¼‰ï¼Œè¿™å°†å¯¹DLç®—æ³•é€ æˆå½±å“ï¼Œé™ä½æ¨¡å‹æ€§èƒ½ã€‚ å¦‚æœæ˜¯dev/test setsä¸­å‡ºç°incorrectly labeled dataï¼š åˆ©ç”¨error analysisï¼Œç»Ÿè®¡dev setsä¸­æ‰€æœ‰åˆ†ç±»é”™è¯¯çš„æ ·æœ¬ä¸­incorrectly labeled dataæ‰€å çš„æ¯”ä¾‹ã€‚æ ¹æ®è¯¥æ¯”ä¾‹çš„å¤§å°ï¼Œå†³å®šæ˜¯å¦éœ€è¦ä¿®æ­£æ‰€æœ‰incorrectly labeled dataï¼Œè¿˜æ˜¯å¯ä»¥å¿½ç•¥ã€‚ dev setçš„ä¸»è¦ä½œç”¨æ˜¯åœ¨ä¸åŒç®—æ³•ä¹‹é—´è¿›è¡Œæ¯”è¾ƒï¼Œé€‰æ‹©é”™è¯¯ç‡æœ€å°çš„ç®—æ³•æ¨¡å‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœ‰incorrectly labeled dataçš„å­˜åœ¨ï¼Œå½“ä¸åŒç®—æ³•é”™è¯¯ç‡æ¯”è¾ƒæ¥è¿‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ— æ³•ä»…ä»…æ ¹æ®Overall dev set errorå‡†ç¡®æŒ‡å‡ºå“ªä¸ªç®—æ³•æ¨¡å‹æ›´å¥½ï¼Œå¿…é¡»ä¿®æ­£incorrectly labeled dataã€‚ 2.3 åœ¨ä¸åŒçš„åˆ’åˆ†ä¸Šè¿›è¡Œè®­ç»ƒå’Œæµ‹è¯• å½“train setä¸dev/test setä¸æ¥è‡ªåŒä¸€ä¸ªåˆ†å¸ƒçš„æ—¶å€™ï¼Œåº”è¯¥å¦‚ä½•è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæ„å»ºå‡†ç¡®çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼š exï¼šçŒ«ç±»è¯†åˆ«ï¼Œtrain setæ¥è‡ªäºç½‘ç»œä¸‹è½½webpagesï¼Œå›¾ç‰‡æ¯”è¾ƒæ¸…æ™°ï¼›dev/test setæ¥è‡ªç”¨æˆ·æ‰‹æœºæ‹æ‘„mobile appï¼Œå›¾ç‰‡æ¯”è¾ƒæ¨¡ç³Šã€‚train setçš„å¤§å°ä¸º200000ï¼Œè€Œdev/test setçš„å¤§å°ä¸º10000ï¼Œtrain setè¿œè¿œå¤§äºdev/test setã€‚ è™½ç„¶dev/test setè´¨é‡ä¸é«˜ï¼Œä½†æ˜¯æ¨¡å‹æœ€ç»ˆä¸»è¦åº”ç”¨åœ¨å¯¹è¿™äº›æ¨¡ç³Šçš„ç…§ç‰‡çš„å¤„ç†ä¸Šã€‚é¢å¯¹train setä¸dev/test setåˆ†å¸ƒä¸åŒçš„æƒ…å†µï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š å°†train setå’Œdev/test setå®Œå…¨æ··åˆï¼Œç„¶ååœ¨éšæœºé€‰æ‹©ä¸€éƒ¨åˆ†ä½œä¸ºtrain setï¼Œå¦ä¸€éƒ¨åˆ†ä½œä¸ºdev/test setã€‚ä¼˜ç‚¹æ˜¯å®ç°train setå’Œdev/test setåˆ†å¸ƒä¸€è‡´ï¼Œç¼ºç‚¹æ˜¯dev/test setä¸­webpageså›¾ç‰‡æ‰€å çš„æ¯”é‡æ¯”mobile appå›¾ç‰‡å¤§å¾—å¤šã€‚è¿™æ ·ï¼Œdev setçš„ç®—æ³•æ¨¡å‹å¯¹æ¯”éªŒè¯ï¼Œä»ç„¶ä¸»è¦ç”±webpageså†³å®šï¼Œå®é™…åº”ç”¨çš„mobile appå›¾ç‰‡æ‰€å æ¯”é‡å¾ˆå°ï¼Œè¾¾ä¸åˆ°éªŒè¯æ•ˆæœã€‚ å°†åŸæ¥çš„train setå’Œä¸€éƒ¨åˆ†dev/test setç»„åˆå½“æˆtrain setï¼Œå‰©ä¸‹çš„dev/test setåˆ†åˆ«ä½œä¸ºdev setå’Œtest setã€‚å…¶å…³é”®åœ¨äºdev/test setå…¨éƒ¨æ¥è‡ªäºmobile appã€‚è¿™æ ·ä¿è¯äº†éªŒè¯é›†æœ€æ¥è¿‘å®é™…åº”ç”¨åœºåˆã€‚è¿™ç§æ–¹æ³•è¾ƒä¸ºå¸¸ç”¨ï¼Œè€Œä¸”æ€§èƒ½è¡¨ç°æ¯”è¾ƒå¥½ã€‚ 2.4 ä¸åŒ¹é…æ•°æ®åˆ’åˆ†çš„åå·®å’Œæ–¹å·® ä¹‹å‰ä»‹ç»è¿‡ï¼Œæ ¹æ®human-level errorã€training errorå’Œdev errorçš„ç›¸å¯¹å€¼å¯ä»¥åˆ¤å®šæ˜¯å¦å‡ºç°äº†biasæˆ–è€…varianceã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœtrain setå’Œdev/test setæ¥æºäºä¸åŒåˆ†å¸ƒï¼Œåˆ™æ— æ³•ç›´æ¥æ ¹æ®ç›¸å¯¹å€¼å¤§å°æ¥åˆ¤æ–­ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®šä½æ˜¯å¦å‡ºç°varianceçš„æ–¹æ³•æ˜¯è®¾ç½®train-dev setï¼šä»åŸæ¥çš„train setä¸­åˆ†å‰²å‡ºä¸€éƒ¨åˆ†ä½œä¸ºtrain-dev setï¼Œä¸ä½œä¸ºè®­ç»ƒæ¨¡å‹ä½¿ç”¨ï¼Œä¸dev setä¸€æ ·ç”¨äºéªŒè¯ã€‚ è¿™æ ·ï¼Œtraining errorä¸training-dev errorçš„å·®å€¼åæ˜ äº†varianceï¼›training-dev errorä¸dev errorçš„å·®å€¼åæ˜ äº†data mismatch problemï¼Œå³æ ·æœ¬åˆ†å¸ƒä¸ä¸€è‡´ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œhuman-level errorã€training errorã€training-dev errorã€dev errorä»¥åŠtest errorçš„æ•°å€¼æ˜¯é€’å¢çš„ï¼Œä½†æ˜¯ä¹Ÿä¼šå‡ºç°dev errorå’Œtest errorä¸‹é™çš„æƒ…å†µã€‚è¿™ä¸»è¦å¯èƒ½æ˜¯å› ä¸ºè®­ç»ƒæ ·æœ¬æ¯”éªŒè¯/æµ‹è¯•æ ·æœ¬æ›´åŠ å¤æ‚ï¼Œéš¾ä»¥è®­ç»ƒã€‚ å¦‚ä½•è§£å†³train setä¸dev/test setæ ·æœ¬åˆ†å¸ƒä¸ä¸€è‡´ï¼Ÿä¸¤æ¡å»ºè®®ï¼š è¿›è¡Œæ‰‹åŠ¨é”™è¯¯åˆ†æä»¥å°è¯•äº†è§£è®­ç»ƒå¼€å‘/æµ‹è¯•é›†ä¹‹é—´çš„å·®å¼‚ ä½¿è®­ç»ƒæ•°æ®æ›´åŠ ç›¸ä¼¼ï¼› æˆ–æ”¶é›†æ›´å¤šç±»ä¼¼äºå¼€å‘/æµ‹è¯•é›†çš„æ•°æ® å¯ä»¥ä½¿ç”¨äººå·¥æ•°æ®åˆæˆçš„æ–¹æ³•(artificial data synthesis)ï¼šexï¼šè¯­éŸ³è¯†åˆ«ï¼Œè®­ç»ƒæ ·æœ¬æ²¡æœ‰å™ªå£°ï¼Œå®é™…åº”ç”¨åŒ…å«èƒŒæ™¯å™ªå£°ï¼Œå¯ä»¥åœ¨train setäººå·¥æ·»åŠ å™ªå£°ã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½ç»™æ¯æ®µè¯­éŸ³éƒ½å¢åŠ åŒä¸€æ®µèƒŒæ™¯å™ªå£°ï¼Œè¿™æ ·ä¼šå‡ºç°å¯¹èƒŒæ™¯å™ªéŸ³çš„è¿‡æ‹Ÿåˆï¼Œæ•ˆæœä¸ä½³ã€‚ 2.5 è¿ç§»å­¦ä¹  Transfer learningï¼šå°†å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹çš„ä¸€éƒ¨åˆ†çŸ¥è¯†ï¼ˆç½‘ç»œç»“æ„ï¼‰ç›´æ¥åº”ç”¨åˆ°å¦ä¸€ä¸ªç±»ä¼¼æ¨¡å‹ä¸­å»ã€‚ è¿ç§»å­¦ä¹ æ— éœ€é‡æ–°æ„å»ºæ–°çš„æ¨¡å‹ï¼Œè€Œæ˜¯åˆ©ç”¨ä¹‹å‰çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåªæ”¹å˜æ ·æœ¬è¾“å…¥ã€è¾“å‡ºä»¥åŠè¾“å‡ºå±‚çš„æƒé‡ç³»æ•° ï¼Œå¯¹æ–°çš„æ ·æœ¬é‡æ–°è®­ç»ƒè¾“å‡ºå±‚æƒé‡ç³»æ•°è€Œå…¶å®ƒå±‚æ‰€æœ‰çš„æƒé‡ç³»æ•° ä¿æŒä¸å˜ã€‚ å¦‚æœæ ·æœ¬æ•°é‡è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥åªä¿ç•™ç½‘ç»œç»“æ„ï¼Œé‡æ–°è®­ç»ƒæ‰€æœ‰å±‚çš„æƒé‡ç³»æ•°ã€‚è¿™ç§åšæ³•ä½¿å¾—æ¨¡å‹æ›´åŠ ç²¾ç¡®ï¼Œå› ä¸ºæ¯•ç«Ÿæ ·æœ¬å¯¹æ¨¡å‹çš„å½±å“æœ€å¤§ã€‚é€‰æ‹©å“ªç§æ–¹æ³•é€šå¸¸ç”±æ•°æ®é‡å†³å®šã€‚ pre-trainingï¼šåˆå§‹ ç”±ä¹‹å‰çš„æ¨¡å‹è®­ç»ƒå¾—åˆ° fine-tuningï¼šä¹‹åï¼Œä¸æ–­è°ƒè¯•ã€ä¼˜åŒ– çš„è¿‡ç¨‹ è¿ç§»å­¦ä¹ ä¹‹æ‰€ä»¥èƒ½è¿™ä¹ˆåšçš„åŸå› æ˜¯ï¼Œç¥ç»ç½‘ç»œæµ…å±‚éƒ¨åˆ†èƒ½å¤Ÿæ£€æµ‹å‡ºè®¸å¤šå›¾ç‰‡å›ºæœ‰ç‰¹å¾ï¼Œä¾‹å¦‚å›¾åƒè¾¹ç¼˜ã€æ›²çº¿ç­‰ã€‚ä½¿ç”¨ä¹‹å‰è®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œéƒ¨åˆ†ç»“æœæœ‰åŠ©äºæˆ‘ä»¬æ›´å¿«æ›´å‡†ç¡®åœ°æå–å›¾ç‰‡ç‰¹å¾ã€‚ è¿ç§»å­¦ä¹ å¯ä»¥ä¿ç•™åŸç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œå†æ·»åŠ æ–°çš„ç½‘ç»œå±‚ã€‚å…·ä½“é—®é¢˜ï¼Œå…·ä½“åˆ†æï¼Œå¯ä»¥å»æ‰è¾“å‡ºå±‚åå†å¢åŠ é¢å¤–ä¸€äº›ç¥ç»å±‚ã€‚ è¿ç§»å­¦ä¹ çš„åº”ç”¨åœºæ™¯(A-&gt;B)ï¼š ä»»åŠ¡ A å’Œ B å…·æœ‰ç›¸åŒçš„è¾“å…¥ x ä»»åŠ¡ A çš„æ•°æ®æ¯”ä»»åŠ¡ B å¤šå¾—å¤š æ¥è‡ª A çš„ä½çº§ç‰¹å¾å¯èƒ½æœ‰åŠ©äºå­¦ä¹  B 2.6 å¤šä»»åŠ¡å­¦ä¹  multi-task learningï¼šæ„å»ºç¥ç»ç½‘ç»œåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚è¿™è·ŸäºŒå…ƒåˆ†ç±»æˆ–è€…å¤šå…ƒåˆ†ç±»éƒ½ä¸åŒï¼Œå¤šä»»åŠ¡å­¦ä¹ ç±»ä¼¼å°†å¤šä¸ªç¥ç»ç½‘ç»œèåˆåœ¨ä¸€èµ·ï¼Œç”¨ä¸€ä¸ªç½‘ç»œæ¨¡å‹æ¥å®ç°å¤šç§åˆ†ç±»æ•ˆæœã€‚ exï¼šæ±½è½¦è‡ªåŠ¨é©¾é©¶ä¸­ï¼Œéœ€è¦å®ç°çš„å¤šä»»åŠ¡ä¸ºè¡Œäººã€è½¦è¾†ã€äº¤é€šæ ‡å¿—å’Œä¿¡å·ç¯ã€‚å¦‚æœæ£€æµ‹å‡ºæ±½è½¦å’Œäº¤é€šæ ‡å¿—ï¼Œåˆ™ å¤šä»»åŠ¡å­¦ä¹ æ¨¡å‹çš„cost functionï¼š å…¶ä¸­ j è¡¨ç¤ºä»»åŠ¡ä¸‹æ ‡ï¼Œå…±æœ‰ c ä¸ªä»»åŠ¡ï¼Œå¯¹åº”çš„ loss functionä¸ºï¼š Multi-task learningä¸Softmax regressionçš„åŒºåˆ«åœ¨äºSoftmax regressionæ˜¯single labelçš„ï¼Œå³è¾“å‡ºå‘é‡yåªæœ‰ä¸€ä¸ªå…ƒç´ ä¸º1ï¼›è€ŒMulti-task learningæ˜¯multiple labelsçš„ï¼Œå³è¾“å‡ºå‘é‡yå¯ä»¥æœ‰å¤šä¸ªå…ƒç´ ä¸º1ã€‚ å¤šä»»åŠ¡å­¦ä¹ çš„åº”ç”¨åœºæ™¯ï¼š è®­ç»ƒä¸€ç»„å¯ä»¥ä»å…±äº«ä½çº§ç‰¹å¾ä¸­å—ç›Šçš„ä»»åŠ¡ã€‚ é€šå¸¸ï¼šæ‚¨ä¸ºæ¯ä¸ªä»»åŠ¡æ‹¥æœ‰çš„æ•°æ®é‡éå¸¸ç›¸ä¼¼ å¯ä»¥è®­ç»ƒä¸€ä¸ªè¶³å¤Ÿå¤§çš„ç¥ç»ç½‘ç»œæ¥å®Œæˆæ‰€æœ‰ä»»åŠ¡ 2.7 ç«¯åˆ°ç«¯å­¦ä¹  end-to-endï¼šå°†æ‰€æœ‰ä¸åŒé˜¶æ®µçš„æ•°æ®å¤„ç†ç³»ç»Ÿæˆ–å­¦ä¹ ç³»ç»Ÿæ¨¡å—ç»„åˆåœ¨ä¸€èµ·ï¼Œç”¨ä¸€ä¸ªå•ä¸€çš„ç¥ç»ç½‘ç»œæ¨¡å‹æ¥å®ç°æ‰€æœ‰çš„åŠŸèƒ½ã€‚å®ƒå°†æ‰€æœ‰æ¨¡å—æ··åˆåœ¨ä¸€èµ·ï¼Œåªå…³å¿ƒè¾“å…¥å’Œè¾“å‡ºã€‚ exï¼šè¯­éŸ³è¯†åˆ« å¦‚æœè®­ç»ƒæ ·æœ¬è¶³å¤Ÿå¤§ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹è¶³å¤Ÿå¤æ‚ï¼Œé‚£ä¹ˆend-to-endæ¨¡å‹æ€§èƒ½æ¯”ä¼ ç»Ÿæœºå™¨å­¦ä¹ åˆ†å—æ¨¡å‹æ›´å¥½ã€‚å®é™…ä¸Šï¼Œend-to-endè®©ç¥ç»ç½‘ç»œæ¨¡å‹å†…éƒ¨å»è‡ªæˆ‘è®­ç»ƒæ¨¡å‹ç‰¹å¾ï¼Œè‡ªæˆ‘è°ƒèŠ‚ï¼Œå¢åŠ äº†æ¨¡å‹æ•´ä½“å¥‘åˆåº¦ã€‚ ä¼˜ç‚¹ï¼šè®©æ•°æ®è¯´è¯ã€æ›´å°‘çš„æ‰‹å·¥å­¦ä¹ æ¨¡å— ç¼ºç‚¹ï¼šå¯èƒ½éœ€è¦å¤§é‡æ•°æ®ã€ä¸åŒ…æ‹¬æ½œåœ¨æœ‰ç”¨çš„æ‰‹å·¥å­¦ä¹ æ¨¡å— å››ã€å·ç§¯ç¥ç»ç½‘ç»œ Convolutional Neural Networksï¼ŒCNN 1. CNNåŸºç¡€ 1.1 è®¡ç®—æœºè§†è§‰ ä¸€èˆ¬çš„CVé—®é¢˜åŒ…æ‹¬ä¸‰ç±»ï¼š Image Classification å›¾åƒåˆ†ç±» Object Detection ç›®æ ‡æ£€æµ‹ Neural Style Transfer ç¥ç»é£æ ¼è½¬æ¢ ä½¿ç”¨ä¼ ç»Ÿç¥ç»ç½‘ç»œå¤„ç†æœºå™¨è§†è§‰çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯è¾“å…¥å±‚ç»´åº¦å¾ˆå¤§ï¼Œå¦‚64Ã—64Ã—3çš„å›¾ç‰‡ï¼Œç¥ç»ç½‘ç»œè¾“å…¥å±‚çš„ç»´åº¦ä¸º12288ï¼Œå›¾ç‰‡å°ºå¯¸æ›´å¤§çš„è¯ï¼Œå°±ä¼šä½¿å¾—ç½‘ç»œæƒé‡Wéå¸¸åºå¤§ã€‚è¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ï¼šä¸€æ˜¯ç¥ç»ç½‘ç»œç»“æ„å¤æ‚ï¼Œæ•°æ®é‡ç›¸å¯¹ä¸å¤Ÿï¼Œå®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆï¼›äºŒæ˜¯æ‰€éœ€å†…å­˜ã€è®¡ç®—é‡è¾ƒå¤§ã€‚è§£å†³æ–¹æ³•ä¸ºCNNã€‚ 1.2 è¾¹ç¼˜æ£€æµ‹ Edge detection ç¥ç»ç½‘ç»œç”±æµ…å±‚åˆ°æ·±å±‚ï¼Œåˆ†åˆ«å¯ä»¥æ£€æµ‹å‡ºå›¾ç‰‡çš„è¾¹ç¼˜ç‰¹å¾ ã€å±€éƒ¨ç‰¹å¾(exï¼šçœ¼ç›ã€é¼»å­)ã€æ•´ä½“é¢éƒ¨è½®å»“ã€‚ æœ€å¸¸æ£€æµ‹çš„å›¾ç‰‡è¾¹ç¼˜æœ‰ä¸¤ç±»ï¼šå‚ç›´è¾¹ç¼˜ (vertical edges)ã€æ°´å¹³è¾¹ç¼˜(horizontal edges) å›¾ç‰‡çš„è¾¹ç¼˜æ£€æµ‹å¯ä»¥é€šè¿‡ä¸ç›¸åº”æ»¤æ³¢å™¨è¿›è¡Œå·ç§¯æ¥å®ç°ã€‚ä»¥å‚ç›´è¾¹ç¼˜æ£€æµ‹ä¸ºä¾‹: å‚ç›´è¾¹ç¼˜æ£€æµ‹å’Œæ°´å¹³è¾¹ç¼˜æ£€æµ‹çš„æ»¤æ³¢å™¨ç®—å­å¦‚ä¸‹æ‰€ç¤ºï¼š é™¤äº†è¿™ç§ç®€å•çš„Verticalã€Horizontalæ»¤æ³¢å™¨ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒå¸¸ç”¨çš„filtersï¼Œä¾‹å¦‚Sobel filterå’ŒScharr filterã€‚è¿™ä¸¤ç§æ»¤æ³¢å™¨çš„ç‰¹ç‚¹æ˜¯å¢åŠ å›¾ç‰‡ä¸­å¿ƒåŒºåŸŸçš„æƒé‡ï¼Œä»¥å‚ç›´ç®—å­ä¸ºä¾‹ï¼š åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ£€æµ‹å›¾ç‰‡çš„å„ç§è¾¹ç¼˜ç‰¹å¾ï¼Œè€Œä¸ä»…é™äºå‚ç›´è¾¹ç¼˜å’Œæ°´å¹³è¾¹ç¼˜ï¼Œé‚£ä¹ˆfilterçš„æ•°å€¼ä¸€èˆ¬éœ€è¦é€šè¿‡æ¨¡å‹è®­ç»ƒå¾—åˆ°ï¼Œç±»ä¼¼äºæ ‡å‡†ç¥ç»ç½‘ç»œä¸­çš„æƒé‡Wä¸€æ ·ç”±æ¢¯åº¦ä¸‹é™ç®—æ³•åå¤è¿­ä»£æ±‚å¾—ã€‚CNNçš„ä¸»è¦ç›®çš„å°±æ˜¯è®¡ç®—å‡ºè¿™äº›filterçš„æ•°å€¼ã€‚ 1.3 Padding/Stride å·ç§¯å±‚(Convolution/CONV) ä»¥ä¸‹å‡å‡è®¾åŸå§‹å›¾ç‰‡å°ºå¯¸ä¸º ï¼Œfilterå°ºå¯¸ä¸º ï¼Œpaddingä¸º ï¼Œstrideä¸º Padding å¡«å…… æ²¡æœ‰paddingçš„å·ç§¯ (Valid convolutions)ï¼šï¼Œæ³¨æ„ ä¸€èˆ¬ä¸ºå¥‡æ•°ã€‚è¿™æ ·ä¼šå¸¦æ¥ä¸¤ä¸ªé—®é¢˜ï¼š å·ç§¯è¿ç®—åï¼Œè¾“å‡ºå›¾ç‰‡å°ºå¯¸ç¼©å° åŸå§‹å›¾ç‰‡è¾¹ç¼˜ä¿¡æ¯å¯¹è¾“å‡ºè´¡çŒ®å¾—å°‘**ï¼Œ**è¾“å‡ºå›¾ç‰‡ä¸¢å¤±è¾¹ç¼˜ä¿¡æ¯ ä¸ºäº†è§£å†³å›¾ç‰‡ç¼©å°çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨paddingæ–¹æ³•ï¼Œå³æŠŠåŸå§‹å›¾ç‰‡å°ºå¯¸è¿›è¡Œæ‰©å±•ï¼Œæ‰©å±•åŒºåŸŸè¡¥é›¶ã€‚ ç»è¿‡paddingåçš„å·ç§¯ï¼šï¼Œå¦‚æœè¦ä¿è¯å·ç§¯å‰åå°ºå¯¸ä¸å˜ (Same convolutions)ï¼Œåˆ™ åº”æ»¡è¶³ ã€‚ Stride æ­¥é•¿ Strideè¡¨ç¤ºfilteråœ¨åŸå›¾ç‰‡ä¸­æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘æ¯æ¬¡çš„æ­¥è¿›é•¿åº¦ï¼Œé»˜è®¤ä¸º1ï¼Œå·ç§¯åçš„å›¾ç‰‡å°ºå¯¸ä¸º (å‘ä¸‹å–æ•´)ã€‚ æ•°å­¦æ„ä¹‰ä¸Šï¼Œç›¸å…³ç³»æ•°ï¼ˆcross-correlationsï¼‰ä¸å·ç§¯ï¼ˆconvolutionsï¼‰ä¹‹é—´æ˜¯æœ‰åŒºåˆ«çš„ã€‚å®é™…ä¸Šï¼ŒçœŸæ­£çš„å·ç§¯è¿ç®—ä¼šå…ˆå°†filterç»•å…¶ä¸­å¿ƒæ—‹è½¬180åº¦ï¼Œç„¶åå†å°†æ—‹è½¬åçš„filteråœ¨åŸå§‹å›¾ç‰‡ä¸Šè¿›è¡Œæ»‘åŠ¨è®¡ç®—ã€‚ä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œæˆ‘ä»¬ä¸€èˆ¬æŠŠCNNä¸­çš„è¿™ç§â€œç›¸å…³ç³»æ•°â€å°±ç§°ä½œå·ç§¯è¿ç®—ã€‚ å·ç§¯è¿ç®—æœä»ç»“åˆå¾‹ï¼š$(AB)C=A(BC)$ 1.4 ä¸‰ç»´å·ç§¯ 3é€šé“çš„RGBå›¾ç‰‡ï¼Œå¯¹åº”çš„æ»¤æ³¢å™¨ç®—å­åŒæ ·ä¹Ÿæ˜¯3é€šé“çš„ã€‚ä¾‹å¦‚ä¸€ä¸ªå›¾ç‰‡æ˜¯6 x 6 x 3ï¼Œåˆ†åˆ«è¡¨ç¤ºå›¾ç‰‡çš„é«˜åº¦(height)ã€å®½åº¦(weight)å’Œé€šé“(#channel)ã€‚ 3é€šé“å›¾ç‰‡çš„å·ç§¯è¿ç®—ä¸å•é€šé“å›¾ç‰‡çš„å·ç§¯è¿ç®—åŸºæœ¬ä¸€è‡´ã€‚è¿‡ç¨‹æ˜¯å°†æ¯ä¸ªå•é€šé“(R, G, B)ä¸å¯¹åº”çš„filterè¿›è¡Œå·ç§¯è¿ç®—æ±‚å’Œï¼Œç„¶åå†å°†3é€šé“çš„å’Œç›¸åŠ ï¼Œå¾—åˆ°è¾“å‡ºå›¾ç‰‡çš„ä¸€ä¸ªåƒç´ å€¼ã€‚ ä¸ºäº†è¿›è¡Œå¤šä¸ªå·ç§¯è¿ç®—ï¼Œå®ç°æ›´å¤šè¾¹ç¼˜æ£€æµ‹ï¼Œå¯ä»¥å¢åŠ æ›´å¤šçš„æ»¤æ³¢å™¨ç»„ï¼Œä¸åŒæ»¤æ³¢å™¨ç»„å·ç§¯å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œä¸ªæ•°ç”±æ»¤æ³¢å™¨ç»„å†³å®šã€‚ 1.5 å•å±‚å·ç§¯ç½‘ç»œ exï¼šå·ç§¯ç¥ç»ç½‘ç»œå•å±‚ç»“æ„å¦‚ä¸‹å›¾ è®¡ç®—ä¸€ä¸‹å‚æ•°æ•°ç›®ï¼šæ¯ä¸ªæ»¤æ³¢å™¨æœ‰ 3Ã—3Ã—3=27 ä¸ªå‚æ•°ï¼Œè¿˜æœ‰ä¸€ä¸ªåç§»é‡ bï¼Œæ¯ä¸ªæ»¤æ³¢å™¨ç»„æœ‰ 27+1=28 ä¸ªå‚æ•°ï¼Œä¸¤ä¸ªæ»¤æ³¢å™¨ç»„ä¸€å…± 56 ä¸ªå‚æ•°ï¼Œé€‰å®šæ»¤æ³¢å™¨ç»„åï¼Œå‚æ•°æ•°ç›®ä¸è¾“å…¥å›¾ç‰‡å°ºå¯¸æ— å…³ã€‚æ•…ä¸å­˜åœ¨ç”±äºå›¾ç‰‡å°ºå¯¸è¿‡å¤§ï¼Œé€ æˆå‚æ•°è¿‡å¤šçš„æƒ…å†µã€‚ ç»´åº¦è®¡ç®—ï¼š = filter sizeï¼Œ = paddingï¼Œ = strideï¼Œ = number of filters è¾“å…¥ç»´åº¦ï¼š æ¯ä¸ªæ»¤æ³¢å™¨ç»„ç»´åº¦ï¼š æƒé‡ç»´åº¦ï¼š åç½®ç»´åº¦ï¼š è¾“å‡ºç»´åº¦ï¼š å…¶ä¸­ï¼šï¼Œ åŒç†ã€‚ å¦‚æœmä¸ªæ ·æœ¬ï¼Œè¿›è¡Œå‘é‡åŒ–è¿ç®—ï¼Œè¾“å‡ºç»´åº¦Ã—må³å¯ã€‚ éšç€CNNå±‚æ•°å¢åŠ ï¼Œ å’Œ ä¸€èˆ¬é€æ¸å‡å°ï¼Œè€Œ ä¸€èˆ¬é€æ¸å¢å¤§ã€‚ 1.6 æ± åŒ–å±‚ Pooling Layersï¼šç”¨æ¥å‡å°å°ºå¯¸ï¼Œæé«˜è¿ç®—é€Ÿåº¦ï¼ŒåŒæ ·èƒ½å‡å°noiseå½±å“ï¼Œè®©å„ç‰¹å¾æ›´å…·æœ‰å¥å£®æ€§ã€‚ åšæ³•ï¼šåœ¨æ»¤æ³¢å™¨ç®—å­æ»‘åŠ¨åŒºåŸŸå†…å–æœ€å¤§å€¼ï¼Œå³max poolingï¼Œè¿™æ˜¯æœ€å¸¸ç”¨çš„åšæ³•ã€‚æ³¨æ„ï¼Œè¶…å‚æ•°på¾ˆå°‘åœ¨pooling layersä¸­ä½¿ç”¨ã€‚ Max poolingçš„å¥½å¤„ï¼šæ˜¯åªä¿ç•™åŒºåŸŸå†…çš„æœ€å¤§å€¼(ç‰¹å¾)ï¼Œå¿½ç•¥å…¶å®ƒå€¼ï¼Œé™ä½noiseå½±å“ï¼Œæé«˜æ¨¡å‹å¥å£®æ€§ã€‚è€Œä¸”ï¼Œmax poolingéœ€è¦çš„è¶…å‚æ•°ä»…ä¸ºæ»¤æ³¢å™¨å°ºå¯¸ å’Œæ»¤æ³¢å™¨æ­¥è¿›é•¿åº¦ ï¼Œè®¡ç®—é‡å¾ˆå°ã€‚ è¿˜æœ‰ä¸€ç§åšæ³•ï¼šaverage poolingï¼šåœ¨æ»¤æ³¢å™¨ç®—å­æ»‘åŠ¨åŒºåŸŸè®¡ç®—å¹³å‡å€¼ã€‚å®é™…åº”ç”¨ä¸­ï¼Œmax poolingæ¯”average poolingæ›´ä¸ºå¸¸ç”¨ã€‚ 1.7 ä¸ºä»€ä¹ˆä½¿ç”¨å·ç§¯ ç›¸æ¯”æ ‡å‡†ç¥ç»ç½‘ç»œï¼ŒCNNçš„ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯å‚æ•°æ•°ç›®è¦å°‘å¾—å¤šã€‚å‚æ•°æ•°ç›®å°‘çš„åŸå› æœ‰ä¸¤ä¸ªï¼š æƒå€¼å…±äº«/å‚æ•°å…±äº«ï¼šä¸€ä¸ªç‰¹å¾æ£€æµ‹å™¨ï¼ˆä¾‹å¦‚å‚ç›´è¾¹ç¼˜æ£€æµ‹ï¼‰å¯¹å›¾ç‰‡æŸå—åŒºåŸŸæœ‰ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½ä½œç”¨åœ¨å›¾ç‰‡å…¶å®ƒåŒºåŸŸ ç¨€ç–è¿æ¥ï¼šå› ä¸ºæ»¤æ³¢å™¨ç®—å­å°ºå¯¸é™åˆ¶ï¼Œæ¯ä¸€å±‚çš„æ¯ä¸ªè¾“å‡ºåªä¸è¾“å…¥éƒ¨åˆ†åŒºåŸŸå†…æœ‰å…³ é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºCNNå‚æ•°æ•°ç›®è¾ƒå°ï¼Œæ‰€éœ€çš„è®­ç»ƒæ ·æœ¬å°±ç›¸å¯¹è¾ƒå°‘ï¼Œä»è€Œä¸€å®šç¨‹åº¦ä¸Šä¸å®¹æ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆç°è±¡ã€‚è€Œä¸”ï¼ŒCNNæ¯”è¾ƒæ“…é•¿æ•æ‰åŒºåŸŸä½ç½®åç§»ã€‚ä¹Ÿå°±æ˜¯è¯´CNNè¿›è¡Œç‰©ä½“æ£€æµ‹æ—¶ï¼Œä¸å¤ªå—ç‰©ä½“æ‰€å¤„å›¾ç‰‡ä½ç½®çš„å½±å“ï¼Œå¢åŠ æ£€æµ‹çš„å‡†ç¡®æ€§å’Œç³»ç»Ÿçš„å¥å£®æ€§ã€‚","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"è¸¢çƒè¢«èµ¶ï¼Œé£ç›˜åŠ é‡äº†æˆ‘çš„ç²¾ç¥å†…è€—","slug":"life/é£ç›˜","date":"2022-08-10T14:30:00.000Z","updated":"2022-08-10T16:32:40.950Z","comments":true,"path":"/post/life/é£ç›˜.html","link":"","permalink":"https://maskros.top/post/life/%E9%A3%9E%E7%9B%98.html","excerpt":"å‰è¨€ è¿™æ˜¯æˆ‘ä»¬çš„è¶³çƒä¸»é¢˜å…¬å›­ï¼Œçœä½“è‚²ä¸­å¿ƒæ–¥å·¨èµ„æ‰“é€ çš„å…­ç‰‡äº”äººåˆ¶äººé€ è‰åªçƒåœºã€‚ 14å¹´å¼€å§‹æˆ‘ä»¬åœ¨è¿™é‡Œè¸¢çƒï¼Œå»ºä»–çš„æ—¶å€™çœå†…è¿˜æ²¡æœ‰è¿™ç­‰è§„æ¨¡çš„çƒåœºï¼Œå›½å†…ä¹Ÿè®¸é™¤äº†ç‹—è¿˜æ²¡æœ‰é£ç›˜è¿™é¡¹è¿åŠ¨ã€‚å®ƒä»å»ºæˆåå°±å¹¿å—è¶³çƒçˆ±å¥½è€…çš„æ¬¢è¿ï¼Œå› ä¸ºå…¶åœ°ç†ä½ç½®ä¼˜è¶Šï¼Œçƒåœºè®¾æ–½ä¸“ä¸šï¼Œè¿˜å…è´¹ï¼›æ‰€ä»¥è‡ªä»å®ƒå¼€å§‹è¢«æ›´å¤šçš„äººæ‰€ç†ŸçŸ¥ä¹‹åï¼Œè¿˜æ˜¯å°å­©çš„æˆ‘ä»¬ï¼Œå°±è¦æŒ‘äººæµå°‘çš„æ—¶é—´ï¼Œå³é¡¶ç€å¤ªé˜³çš„å¤§ä¸­åˆå¤´ï¼Œæˆ–æ˜¯ç‰¹æ®Šå¤©æ°”ï¼Œæ‰èƒ½äº«å¾—è¿œç¦»å¤§äººæ¿€çƒˆä¸”é«˜è´¨é‡çš„å¯¹å±€ï¼Œç‹¬è‡ªç»ƒçƒæˆ–æ˜¯æ¥ä¸Šä¸€åœºèœé¸¡äº’å•„ã€‚ åä¸ƒå²çš„æˆ‘ä¸Šäº†å¤§å­¦ï¼Œç¦»å¼€äº†è¿™åº§åŸå¸‚ï¼Œå‡æœŸä¹Ÿå› ä¸ºå¾ˆå°‘èƒ½çº¦åˆ°äººï¼Œå‡ ä¹å†ä¹Ÿæ²¡æ¥è¿‡è¿™é‡Œã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ï¼Œæˆ–è®¸æ˜¯å› ä¸ºç–«æƒ…ï¼Œæœ‰ä¸€å¤©åŒå­¦å‘Šè¯‰æˆ‘ï¼Œä»–å±…ç„¶å¼€å§‹æ”¶è´¹äº†ï¼Œå¹³å¸¸5å—ä¸€å°æ—¶ã€‚ä¸è¿‡ä¹Ÿèƒ½ç†è§£ï¼Œæ¯•ç«Ÿç–«æƒ…æœŸé—´è°éƒ½ä¸å®¹æ˜“ï¼ŒåŠ ä¸Šå¿ƒä¸­çš„è¶³çƒä¹‹é­‚åˆç‡ƒçƒ§èµ·æ¥äº†ï¼Œäºæ˜¯è¿™ä¸ªæš‘å‡æˆ‘ä¾¿åˆæ¥åˆ°è¿™é‡Œè¿›è¡Œæ®‹ç–¾äººçš„åº·å¤è®­ç»ƒï¼›æµå—çš„å¤å¤©æ˜¯å·¨**çƒ­çš„ï¼Œå‚æ™šäººåˆå¤šï¼Œæ‰€ä»¥æˆ‘å’Œçƒå‹è€å¼ çš„è¸¢çƒæ—¶é—´å°±é™å®šä¸ºå·¥ä½œæ—¥ã€ä¸‹åˆä¸¤ä¸‰ç‚¹ã€ä¸­åˆé˜´å¤©æˆ–è€…å°é›¨ã€ä¸‹åˆä»å°†é˜´å¤©/è½¬å¤šäº‘ã€å°é›¨ä¹Ÿè¡Œçš„ç‰¹æ®Šå¤©æ°”ï¼Œè¿™æ˜¯æå…¶é€‚å®œæˆ·å¤–è¿åŠ¨ä¸”ä¸ä¼šçƒ­æˆsbçš„ç»ä½³æ—¶é—´ï¼Œæœºä¸å¯å¤±ï¼Œå°±åœ¨ä»Šå¤©ï¼ ä»¥ä¸‹å¼€å§‹æ­£æ–‡ï¼Œå“ˆå“ˆã€‚","text":"å‰è¨€ è¿™æ˜¯æˆ‘ä»¬çš„è¶³çƒä¸»é¢˜å…¬å›­ï¼Œçœä½“è‚²ä¸­å¿ƒæ–¥å·¨èµ„æ‰“é€ çš„å…­ç‰‡äº”äººåˆ¶äººé€ è‰åªçƒåœºã€‚ 14å¹´å¼€å§‹æˆ‘ä»¬åœ¨è¿™é‡Œè¸¢çƒï¼Œå»ºä»–çš„æ—¶å€™çœå†…è¿˜æ²¡æœ‰è¿™ç­‰è§„æ¨¡çš„çƒåœºï¼Œå›½å†…ä¹Ÿè®¸é™¤äº†ç‹—è¿˜æ²¡æœ‰é£ç›˜è¿™é¡¹è¿åŠ¨ã€‚å®ƒä»å»ºæˆåå°±å¹¿å—è¶³çƒçˆ±å¥½è€…çš„æ¬¢è¿ï¼Œå› ä¸ºå…¶åœ°ç†ä½ç½®ä¼˜è¶Šï¼Œçƒåœºè®¾æ–½ä¸“ä¸šï¼Œè¿˜å…è´¹ï¼›æ‰€ä»¥è‡ªä»å®ƒå¼€å§‹è¢«æ›´å¤šçš„äººæ‰€ç†ŸçŸ¥ä¹‹åï¼Œè¿˜æ˜¯å°å­©çš„æˆ‘ä»¬ï¼Œå°±è¦æŒ‘äººæµå°‘çš„æ—¶é—´ï¼Œå³é¡¶ç€å¤ªé˜³çš„å¤§ä¸­åˆå¤´ï¼Œæˆ–æ˜¯ç‰¹æ®Šå¤©æ°”ï¼Œæ‰èƒ½äº«å¾—è¿œç¦»å¤§äººæ¿€çƒˆä¸”é«˜è´¨é‡çš„å¯¹å±€ï¼Œç‹¬è‡ªç»ƒçƒæˆ–æ˜¯æ¥ä¸Šä¸€åœºèœé¸¡äº’å•„ã€‚ åä¸ƒå²çš„æˆ‘ä¸Šäº†å¤§å­¦ï¼Œç¦»å¼€äº†è¿™åº§åŸå¸‚ï¼Œå‡æœŸä¹Ÿå› ä¸ºå¾ˆå°‘èƒ½çº¦åˆ°äººï¼Œå‡ ä¹å†ä¹Ÿæ²¡æ¥è¿‡è¿™é‡Œã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ï¼Œæˆ–è®¸æ˜¯å› ä¸ºç–«æƒ…ï¼Œæœ‰ä¸€å¤©åŒå­¦å‘Šè¯‰æˆ‘ï¼Œä»–å±…ç„¶å¼€å§‹æ”¶è´¹äº†ï¼Œå¹³å¸¸5å—ä¸€å°æ—¶ã€‚ä¸è¿‡ä¹Ÿèƒ½ç†è§£ï¼Œæ¯•ç«Ÿç–«æƒ…æœŸé—´è°éƒ½ä¸å®¹æ˜“ï¼ŒåŠ ä¸Šå¿ƒä¸­çš„è¶³çƒä¹‹é­‚åˆç‡ƒçƒ§èµ·æ¥äº†ï¼Œäºæ˜¯è¿™ä¸ªæš‘å‡æˆ‘ä¾¿åˆæ¥åˆ°è¿™é‡Œè¿›è¡Œæ®‹ç–¾äººçš„åº·å¤è®­ç»ƒï¼›æµå—çš„å¤å¤©æ˜¯å·¨**çƒ­çš„ï¼Œå‚æ™šäººåˆå¤šï¼Œæ‰€ä»¥æˆ‘å’Œçƒå‹è€å¼ çš„è¸¢çƒæ—¶é—´å°±é™å®šä¸ºå·¥ä½œæ—¥ã€ä¸‹åˆä¸¤ä¸‰ç‚¹ã€ä¸­åˆé˜´å¤©æˆ–è€…å°é›¨ã€ä¸‹åˆä»å°†é˜´å¤©/è½¬å¤šäº‘ã€å°é›¨ä¹Ÿè¡Œçš„ç‰¹æ®Šå¤©æ°”ï¼Œè¿™æ˜¯æå…¶é€‚å®œæˆ·å¤–è¿åŠ¨ä¸”ä¸ä¼šçƒ­æˆsbçš„ç»ä½³æ—¶é—´ï¼Œæœºä¸å¯å¤±ï¼Œå°±åœ¨ä»Šå¤©ï¼ ä»¥ä¸‹å¼€å§‹æ­£æ–‡ï¼Œå“ˆå“ˆã€‚ 2022å¹´8æœˆ10æ—¥ä¸‹åˆ2ç‚¹50åˆ†ï¼Œæµå—ï¼Œå±±ä¸œçœä½“è‚²ä¸­å¿ƒè¶³çƒä¸»é¢˜å…¬å›­ã€‚ ä¸‹äº†è€å¤´ä¹ï¼Œå˜´è¾¹å¼€æºœä¸€é¦–zoodğŸ¶ï¼Œäº¤é’±æ‰«ç è¿›åœºï¼Œæˆ‘æ¥è¾£ï¼ æµå—è¿ç»­ä¸€å‘¨éƒ½åœ¨ä¸‹é›¨ï¼Œè‰åªè¿˜æ˜¯æ¹¿çš„ï¼Œååœ°ä¸Šæ¢å®Œäº†é‹è¢œï¼Œè…šæ¹¿äº†ä¸ªé€ï¼Œä¸è¿‡å¯¹è¶³çƒçš„çƒ­æƒ…ä¾ç„¶ä¸å‡ï¼Œç›´æ¥å¼€è¸¢ã€‚å› ä¸ºåˆ°çš„æ¯”è¾ƒæ—©ï¼Œå…­ç‰‡åœºåœ°åªæœ‰ä¸¤ç‰‡æœ‰ç¨€ç¨€æ‹‰æ‹‰çš„å‡ å¸®äººï¼Œæ¯”èµ›ä¹Ÿè¿˜æ²¡å¼€å§‹ï¼Œéƒ½åœ¨çƒ­èº«éšä¾¿è¸¢è¸¢ï¼›è¿‡äº†ä¸€ä¼šï¼Œäººå°±æ…¢æ…¢åœ°å¤šäº†èµ·æ¥ï¼Œæ¯ç‰‡åœºåœ°æˆ–æœ‰ä¸€ä¸¤ä¸ªè‡ªå·±ç»ƒä¼ å°„çš„ï¼Œæˆ–æ˜¯ä¸€å¸®äººæ—©å·²å¼€èµ›ã€‚å¤©æ°”éå¸¸å‡‰çˆ½ï¼Œå¤§ä¼™è¸¢å¾—ä¹Ÿå¾ˆçˆ½ã€‚åæ¥ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­ä¸€ç‰‡åœºè¾¹å‘ç°äº†è¿™ä¸ªã€‚ æˆ‘è¶…ï¼Œç›˜ï¼ é¦–å…ˆå£°æ˜ä¸€ä¸‹ï¼Œæˆ‘å¯¹é£ç›˜è¿™é¡¹è¿åŠ¨æœ¬èº«æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„æ¶æ„ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºæœ¬èº«è¶³çƒè¿™é¡¹è¿åŠ¨å¯èƒ½å¯¹éƒ¨åˆ†äººç¾¤ä¸æ˜¯ç‰¹åˆ«çš„å‹å¥½ï¼Œå°¤å…¶æ˜¯é‚£äº›ç•æƒ§èº«ä½“å¯¹æŠ—ï¼Œæˆ–æ˜¯èº«ä½“æ¯”è¾ƒè™šå¼±çš„äººï¼Œåˆæˆ–æ˜¯æ¸´æœ›è¿åŠ¨çš„éƒ¨åˆ†å¥³æ€§ç¾¤ä½“ï¼Œé£ç›˜å¯ä»¥è®©ä»–ä»¬å‚ä¸åˆ°è¿åŠ¨ä¸­ã€äº«å—è¿åŠ¨çš„å¿«ä¹ï¼Œæ˜¯ä¸€ç§æ–°å…´çš„è¿åŠ¨æ–¹å¼ï¼Œæœ¬èº«æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåªæ˜¯å¯èƒ½è¢«æŸäº›æ‘†æ‹çš„é€†å¤©ç»™æ±¡ååŒ–äº†ï¼Œå€’ä¹Ÿæ²¡å¿…è¦ä¸Šå‡åˆ°æŠµåˆ¶çš„å¢ƒç•Œã€‚æ‰€ä»¥çœ‹åˆ°è¿™äº›ä¸œè¥¿ä¹Ÿæ›´å¤šçš„æ˜¯ä¸€ç§å¥½å¥‡ï¼Œæ¯•ç«Ÿåªé—»å…¶å£°ä¸è§å…¶é¢ã€‚ä¸æ–™ï¼Œåé¢å‘ç”Ÿçš„äº‹æƒ…ç»™æˆ‘ä»¬æ•´ä¸ä¼šäº†ã€‚ åˆè¸¢äº†ä¸€ä¼šï¼Œè¿›æ¥ä¸€ä¸ªè“è¡£æœè€å¤´ï¼Œå¼€å§‹é©±èµ¶ç€ä¸‰ç‰‡åœºåœ°ä¸Šçš„çƒå®¢ï¼Œè¯´è¿™å‡ ä¸ªåœºåœ°è¢«é¢„çº¦äº†ï¼Œä¸èƒ½åœ¨è¿™è¸¢çƒã€‚æˆ‘ä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ¯•ç«Ÿä¹Ÿè®¸å¯èƒ½æœ‰ä»€ä¹ˆå…¬å¸å•Šè¦åœ¨è¿™é‡ŒåŠæ¯”èµ›ï¼Œæˆ‘ä¹Ÿæ˜¯è§è¿‡çš„ï¼Œå†åŠ ä¸Šäººä¹Ÿä¸å¤šï¼Œè¿˜å‰©ä¸‹ä¸€ç‰‡åœºåœ°ä»æœªå¼€èµ›ï¼Œæˆ‘ä»¬å°±å»äº†é‚£é‡Œã€‚ ä½†æ¸æ¸çš„ï¼Œäººå¼€å§‹å¤šäº†èµ·æ¥ï¼Œæˆ‘ä»¬å‘ç°å°†è¿‘ä¸€ä¸ªå°æ—¶äº†ï¼Œè¿™ä¸‰ç‰‡åœºåœ°ä¹Ÿæ²¡æœ‰æ‰€è°“çš„é›†ä½“æˆ–æ˜¯ç»„ç»‡æ¥ä½¿ç”¨ï¼Œåå€’æ˜¯æ­£åœ¨è¸¢çƒçš„ä¸‰ç‰‡åœºåœ°æ¸æ¸ä¸å¤Ÿç”¨äº†ï¼Œäºæ˜¯åæ¥çš„äººä¹Ÿå°±éƒ½å»äº†è¿™ä¸‰ç‰‡åœºåœ°ï¼Œä¸€æ—¶é£å¹³æµªé™ï¼Œå¤§å®¶å¥½ä¸ç—›å¿«ã€‚ 4ç‚¹15åˆ†ï¼Œç™½è¡£å†›å›¢ç™»åœºäº†ã€‚ è¿™ç¾¤äººæˆåˆ†å¤æ‚ï¼Œä¸å¤šèµ˜è¿°ã€‚å½å½å–³å–³çš„ï¼Œé¢†å¤´çš„äººæ‹¿ç€ä¸ªå°å–‡å­å¼€å§‹æŒ‡æŒ¥åˆ—é˜Ÿï¼Œä»–ä»¬å…¶ä¸­çš„æœ€å¼ºå£®è€…å¼€å§‹é©±èµ¶ç€ä¸‰ç‰‡åœºåœ°çš„äººï¼Œä¸€æ—¶é—´å¥½å¤§çš„æ°”åŠ¿ï¼Œå¤§å®¶ä¸æ˜æ‰€ä»¥ï¼Œå°±æŠŠåœºåœ°è®©äº†å‡ºæ¥ã€‚å…¶ä¸­ä¸€éƒ¨åˆ†äººæ¥åˆ°åœºè¾¹ï¼Œä½†æ˜¯ä»–ä»¬å‘ç°ä¼¼ä¹å‰©ä½™çš„åœºåœ°äººæ•°éƒ½å·²å·®ä¸å¤šè¾¾åˆ°é¥±å’Œï¼Œäºæ˜¯å°±åŸåœ°éšä¾¿ä¼ ä¼ å€’è„šï¼Œä¸€è¾¹ç•™æ„ç€è¿™é‡Œçš„åŠ¨æ€ã€‚ è¿‡äº†å¿«åŠå°æ—¶ï¼Œå¤§å®¶å‘ç°ä»–ä»¬åªåœ¨é‚£ä¸€ç‰‡åœºåœ°çƒ­äº†çƒ­èº«ï¼Œå°è·‘äº†ä¸€åœˆï¼Œå°±å¼€å§‹å¬é¢†å¤´çš„æ‹¿ç€å–‡å­è®²è¯ï¼Œæ—è¾¹è¿˜æœ‰ä¸ªæ‹¿ç€ä¸ªå¤§ç‚®ç­’å·¦æ‹å³æ‹çš„ï¼Œå‡ åæ—©å·²åˆ°äº†å¾ˆä¹…çƒ­èº«å®Œæ¯•çš„å¤§çˆ·å¤§å”ï¼Œè§è¿™å¸®äººå ç€èŒ…å‘ä¸æ‹‰å±ï¼Œå°±åˆå›åˆ°äº†å…¶ä¸­ä¸€ç‰‡åœºåœ°å¼€å§‹è¸¢æ¯”èµ›ã€‚å£®æ±‰åˆå»äº†ï¼Œä½†æ˜¯ä»–çš„æ°”åŠ¿åœ¨è¿™äº›çƒæ²¹å­é¢å‰è¿˜æ˜¯å«©äº†ç‚¹ï¼Œåªè§å¤§çˆ·èˆŒç¿è²èŠ±ï¼Œæ¡ç†æ¸…æ™°ä¹Ÿä¸å¸¦è„å­—ï¼šä»åŸºæœ¬åŸåˆ™é—®é¢˜â€œè¿™æ˜¯è¶³çƒåœºï¼Œè¿™æ˜¯è¸¢è¶³çƒçš„åœ°æ–¹â€ï¼Œåˆ°å¼•ç»æ®å…¸â€œç¯®çƒåœºæ˜¯è€å¤ªå¤ªè·³èˆçš„åœ°æ–¹å—â€ï¼Œå†åˆ°â€œä½ é¢„çº¦æˆ‘ä¹Ÿé¢„çº¦äº†ï¼Œæˆ‘äº¤äº†é’±çš„â€ï¼Œæœ€åâ€œä½ è·Ÿè°é¢„å®šçš„ï¼Œä½ æŠŠçœä½“è‚²å±€çš„æ‰¾æ¥â€ç›´æ¥è®©å£®æ±‰å“‘å£æ— è¨€ã€‚ä¸€æ—çš„ç´«è¡£å¥³å­åˆä¸Šå‰ç†è®ºï¼Œä¸€æ ·æ²¡è®¨åˆ°ä¾¿å®œï¼Œæœ€åæ°”ä¸è¿‡ç›´æ¥äººèº«æ”»å‡»äº†ä¸€å¥ï¼Œè¢«åæ€¼ä¹‹åå£®æ±‰ä¸Šæ¥è‰²å‰å†…èï¼šâ€œè¿™æ˜¯å­•å¦‡ï¼â€ åœ¨ä¸€æ—å¬åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬éƒ½å¿ä¿Šä¸ç¦ï¼Œå…·ä½“ä¸ºä»€ä¹ˆèšŒåŸ ä½äº†æˆ‘ä¸å¤ªæƒ³è¯´ï¼Œå°±æ˜¯æœ‰ç‚¹éš¾èšŒã€‚ ç„¶åå¦‚å›¾æ‰€ç¤ºï¼Œå£®æ±‰å»æ‰¾äººäº†ï¼Œå‰©ä¸‹çš„ç™½è¡£å†›å›¢æ¢ä¸ŠèƒŒå¿ƒå¼€å§‹ç«æŠ€ï¼Œæˆ‘çš„è¯„ä»·æ˜¯ä¸¤ç‰‡åœºåœ°å®Œå…¨ç»°ç»°æœ‰ä½™ã€‚ å£®æ±‰å…ˆæ˜¯æ‰¾æ¥äº†çœ‹åœºå­çš„è“è‰²è€å¤´ï¼Œå°±æ˜¯ä¹‹å‰èµ¶æˆ‘ä»¬çš„é‚£ä½ï¼Œè§ç€å¤§çˆ·ä¸€æ”¹å…ˆå‰å–Šå«èµ¶äººçš„å½¢æ€ï¼Œç¬‘ç€è„¸è¿ä¸Šå»ï¼Œè¯´äº†ä¸¤å¥æ— æœï¼Œæ¶¦äº†ã€‚ ç´«è‰²å¥³å­åˆä¸çŸ¥é“ä»å“ªé‡Œå–Šæ¥å¦ä¸€ä¸ªç©¿ç€è§å…‰ç»¿çš„å¤§æ±‰ï¼Œæ˜¯å…¨åœºç©¿è§å…‰ç»¿è€Œé‡Œé¢ä»€ä¹ˆéƒ½ä¸ç©¿çš„å”¯ä¸€çš„äººï¼Œè„¸é»‘é»‘çš„ã€‚ä»–èº«æå¾ˆé«˜å¤§ï¼Œèº«ä¸Šæ—¶å¸¸å¤¹äº›è‚¥è‚‰çš„è¤¶çš±ï¼›ä¸€ä¸ªä¼¼ä¹åå…‰åˆå¥½åƒä¸åå…‰çš„é»‘æ¡†çœ¼é•œã€‚ä»–å¯¹ç€å¤§çˆ·è¯´è¯ï¼Œæ€»æ˜¯æ»¡å£ä¹‹ä¹è€…ä¹Ÿï¼Œæ•™äººåŠæ‡‚ä¸æ‡‚çš„ï¼Œæ— éæ˜¯é¢„å®šä»€ä¹ˆï¼Œä½“è‚²å±€ä»€ä¹ˆã€‚è¯´äº†å‡ å¥æ— æœï¼Œä»–åˆæ•…æ„çš„é«˜å£°åš·é“ï¼Œâ€œä½ è¿™äº›äººæ€ä¹ˆè¿™ä¹ˆä¸è®²é“ç†ï¼â€â€œä»€ä¹ˆé“ç†ï¼Ÿè¶³çƒåœºå°±æ˜¯è¸¢è¶³çƒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥çš„ï¼Œä½ å¯ä»¥çœ‹ç›‘æ§ã€‚â€å¤§æ±‰ä¾¿æ¶¨çº¢äº†è„¸ï¼Œé¢ä¸Šçš„é’ç­‹æ¡æ¡ç»½å‡ºï¼Œäº‰è¾©é“ï¼Œâ€œçœ‹ç›‘æ§ï¼Ÿå¯ä»¥çœ‹ç›‘æ§ï¼â€æ¥è¿ä¾¿æ˜¯éš¾æ‡‚çš„è¯ï¼Œä»€ä¹ˆâ€œä½“è‚²å±€â€ï¼Œä»€ä¹ˆâ€œè§„å®šâ€ä¹‹ç±»ï¼Œå¼•å¾—ä¼—äººéƒ½å“„ç¬‘èµ·æ¥ï¼šâ€œå»æ‰¾ä½ çš„é¢†å¯¼æ¥ã€‚â€çƒåœºå†…å¤–å……æ»¡äº†å¿«æ´»çš„ç©ºæ°”ï¼Œè¿›æ¥çš„äººæ›´å¤šäº†ï¼Œæ¯”èµ›å¥½ä¸çƒ­é—¹ã€‚ è¿‡äº†ä¸€ä¼šï¼Œåˆæ¥äº†ä¸€ä½ç™½è¡«è€Œè„¸æ›´é»‘çš„å¹´è½»äººï¼Œå¯ä»–çš„é¢ç›¸å´ä¸€ç‚¹ä¸å¹´è½»ï¼Œè¿™ä½æ›´æ˜¯é‡é‡çº§ï¼Œåº”è¯¥æ˜¯ä»€ä¹ˆé¢†å¯¼ä¹‹ç±»çš„ç½¢ã€‚å—“é—¨å¾ˆå¤§ï¼Œç›–è¿‡äº†å¤§çˆ·ä¸€å¤´ï¼Œæ­¤åˆ»ï¼Œä¸–ç•Œèšç„¦äºä»–ã€‚ä»–ä¼¼ä¹åœ¨è¯´ä»€ä¹ˆâ€œä¸Šçº§è§„å®šâ€ï¼Œâ€œé£ç›˜æ­£åœ¨å®£ä¼ â€ä»€ä¹ˆçš„ï¼Œå¦‚æ­¤äº‘äº‘ã€‚æˆ‘å’Œæœ‹å‹å°±ååœ¨ç¦»è¿™ç‰‡åœºäº”ç±³ä¸åˆ°çš„åœ°æ–¹ï¼Œçœ‹çš„æ´¥æ´¥æœ‰å‘³ï¼Œè¿™æ—¶ï¼Œä»æˆ‘ä»¬èº«è¾¹æ€å‡ºä¸€ä¸ªå°ä¼™æœä»–ä»¬èµ°å»ï¼Œæˆ‘ä»¥ä¸ºæ˜¯é¢†å¯¼çš„ä¸‹å±ä¹‹ç±»ï¼Œæ­£ä»¥ä¸ºå¤§æˆ˜å³å°†æ¥ä¸´ã€‚â€œâ€”â€”å®³åŠ ä¸ï¼Ÿâ€ åˆæ²¡ç»·ä½ã€‚ çªç„¶ä¹‹é—´ï¼Œçƒåœºä¸Šçš„å£°éŸ³å˜å°äº†ï¼Œä¸çŸ¥é“ä»–ä»¬è¯´äº†ä»€ä¹ˆï¼Œå¤§çˆ·å¥½åƒå¦¥åäº†ï¼Œå‡ ä½ç¼“ç¼“åœ°ç¦»å¼€äº†åœºåœ°ï¼Œæ²¡æƒ³åˆ°å°±è¿™æ ·è‰è‰æ”¶å°¾äº†ï¼Œæœ‰ç‚¹é—æ†¾ã€‚é™„ä¸€å¼ äº‰è®ºå›¾ã€‚ åˆè¿‡äº†20åˆ†é’Ÿï¼Œæ–°è…¾å‡ºæ¥è¿™ç‰‡åœºåœ°æˆ‘ä»¬åªå‘ç°é›¶é›¶æ˜Ÿæ˜Ÿçš„ä¸‰å››ä¸ªäººæ­£ä¸¢ç€é£ç›˜æˆ–æ˜¯åœ¨å¹²ä»€ä¹ˆï¼Œè€Œè¶³çƒåœºçš„äººè¶Šæ¥è¶Šå¤šï¼Œå°±åƒæ˜¯é”…é‡Œçš„çˆ†ç±³èŠ±å¼€å§‹è†¨èƒ€ã€‚åˆ¹é‚£é—´ï¼Œä»æˆ‘èº«æ—ä¸€å·¦ä¸€å³æ€å‡ºä¸¤ä¸ªCç½—ï¼Œä¸€ä¸ªèº«ç€2021èµ›å­£çš„ä¸»åœºçƒè¡£ï¼Œä¸€ä¸ªèº«ç€2021èµ›å­£çš„å®¢åœºçƒè¡£ï¼Œå½¢æˆåŒé¬¼æ‹é—¨ä¹‹åŠ¿ï¼Œåæœ‰æ²¡ç©¿çƒè¡£çš„ä¸çŸ¥åçƒæ˜Ÿç´§éšå…¶åï¼Œä¸€ä¸ªæ’å¢™é…åˆç›´æ¥æ€å…¥çƒåœºï¼Œå¼€å§‹ç»ƒä¹ å°„é—¨ã€‚æˆ‘æœ¬ä»¥ä¸ºåˆè¦æ€èµ·æ³¢æ¾œï¼Œä¸æ–™å‡ åç™½è¡£æ²¡æœ‰ä»€ä¹ˆååº”ï¼ŒåŒæ–¹å’Œè°å…±å­˜ï¼Œä¼°è®¡ä¹Ÿæ˜¯çŸ¥é“ä¸‰å››ä¸ªäººå ä¸€æ•´åœºä¸å¤ªå¥½ç½¢ã€‚æ”¯æŒCç½—ã€‚ æ”¶æ‹¾çš„æ—¶å€™çœ‹äº†çœ‹ä»–ä»¬æ‰€è°“çš„é£ç›˜ï¼Œç€å®æ˜¯æ²¡æœ‰ä»€ä¹ˆè§‚èµæ€§ï¼Œå¯èƒ½å’Œæˆ‘çš„è¶³çƒæ°´å¹³ä¸€æ ·å¤ªèœäº†ï¼Œé‚æ¶¦ã€‚ç»“æœè¶…äº†ä¸åˆ°ååˆ†é’Ÿå¤šå¾…äº†ä¸€ä¼šï¼Œè¿˜åŠ äº†5å—é’±ï¼Œæˆ‘è¶…ã€‚ æ€»ç»“ å…ˆè¯´æˆ‘çš„çœ‹æ³•ï¼š è¿™ä¸ªäº‹ä»¶æˆ‘ä¸è¯„ä»·ï¼Œè™½ç„¶æˆ‘æ”¯æŒå¤§çˆ·ï¼Œä½†æ˜¯å¤§çˆ·ç¡®å®åœ¨è§„å®šä¸‹ä¸æ˜¯å ç†çš„ä¸€æ–¹ï¼Œä½†æ˜¯æˆ‘åªèƒ½ç”¨ä¸»è§‚æ„Ÿæ€§çš„æ–‡å­—é”®ç›˜æ”¯æŒä¸€ä¸‹ã€‚ æˆ‘æ‰€è®¤å¯çš„æ˜¯ä½ å¯ä»¥ç•™ä¸€ä¸ªåœºç»™é£ç›˜ï¼Œæˆ‘ååˆ†æ”¯æŒï¼Œä¸¤ä¸ªåœºè™½ç„¶æœ‰ç‚¹ä¸é€‚ä½†ä¹Ÿå‹‰å¼ºæ¥å—ï¼Œä½†æ˜¯ä¸‰ä¸ªåœºï¼Œè€Œä¸”ä¸èƒ½ç‰©å°½å…¶ç”¨ï¼Œæˆ‘çš„è¯„ä»·æ˜¯é€†å¤©ã€‚ ä¸ºä»€ä¹ˆè¶³çƒä¸èƒ½é¢„å®šè€ŒåŒ…åœºï¼Œä½†é£ç›˜å¯ä»¥ï¼Œè¿™æ˜¯ä¸å…¬ã€‚ åŒæ ·äº¤é’±ä¸éµå¾ªå…ˆæ¥ååˆ°è€Œè¦é©±èµ¶ï¼Œè¿™æ˜¯æ— ç†ã€‚ æœ‰ç©ºåœºè€Œä¸è®©ç”¨ï¼Œå‹ç¼©äººæ•°ï¼Œè¿™æ˜¯æ²™æ ¾ã€‚ å ç€å…¬å…±èŒ…å‘ä¸æ‹‰å±ï¼Œå¯ä»¥ä½†æ˜¯é€†å¤©ã€‚ éƒ½è¯´äººç”Ÿæœ€é‡è¦çš„ï¼Œä¸æ˜¯èƒ¡ä¸€æŠŠå¥½ç‰Œï¼Œè€Œæ˜¯æ‰“å¥½ä¸€æŠŠçƒ‚ç‰Œã€‚æˆ‘ä¸è®¤å¯ï¼Œä½ ä¸‰ä¸ªåœºåœ°å°±æ˜¯è¸¢ä¸å¼€çƒã€‚ å¦‚ä»Šä¸­å›½è¶³çƒè¿˜åœ¨èµ°ç€è‡ªå·±çš„ç‰¹è‰²é“è·¯ï¼Œè¿™æ¡é•¿é•¿çš„è·¯æœ€ç»ˆä¼šé€šå¾€ä½•å¤„å‘¢ï¼Ÿå“ˆå“ˆ","categories":[{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"}],"tags":[{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"}]},{"title":"Python3 Syntax","slug":"note/python3 syntax","date":"2022-08-04T15:00:00.000Z","updated":"2022-09-05T12:27:03.452Z","comments":true,"path":"/post/note/python3 syntax.html","link":"","permalink":"https://maskros.top/post/note/python3%20syntax.html","excerpt":"0x01 æ•°æ®ç±»å‹ æ ‡å‡†æ•°æ®ç±»å‹ï¼šæ•°å­—(Numbers)ï¼Œå­—ç¬¦ä¸²(String)ï¼Œåˆ—è¡¨(List)ï¼Œå…ƒç»„(Tuple)ï¼Œé›†åˆ(Set)ï¼Œå­—å…¸(Dictionary) ä¸å¯å˜ï¼šNumber, String, Tuple å¯å˜ï¼šList, Dictionary, Set 1. æ•°å­— int (æœ‰ç¬¦å·æ•´å‹) long (é•¿æ•´å‹ï¼Œä¹Ÿå¯å…«/åå…­è¿›åˆ¶)ï¼Œæ— é™å¤§å°çš„æ•´æ•°ï¼Œæœ€åä¸€èˆ¬æ˜¯ä¸€ä¸ªå¤§å†™L float (æµ®ç‚¹å‹) æ•°å­—åé¢åŠ ç‚¹è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œå¦‚x = 1. complex (å¤æ•°)ï¼šcomplex(a, b) è¡¨ç¤º a + bjï¼Œaå’Œbå‡ä¸ºæµ®ç‚¹å‹ del x # åˆ é™¤å¯¹è±¡å¼•ç”¨","text":"0x01 æ•°æ®ç±»å‹ æ ‡å‡†æ•°æ®ç±»å‹ï¼šæ•°å­—(Numbers)ï¼Œå­—ç¬¦ä¸²(String)ï¼Œåˆ—è¡¨(List)ï¼Œå…ƒç»„(Tuple)ï¼Œé›†åˆ(Set)ï¼Œå­—å…¸(Dictionary) ä¸å¯å˜ï¼šNumber, String, Tuple å¯å˜ï¼šList, Dictionary, Set 1. æ•°å­— int (æœ‰ç¬¦å·æ•´å‹) long (é•¿æ•´å‹ï¼Œä¹Ÿå¯å…«/åå…­è¿›åˆ¶)ï¼Œæ— é™å¤§å°çš„æ•´æ•°ï¼Œæœ€åä¸€èˆ¬æ˜¯ä¸€ä¸ªå¤§å†™L float (æµ®ç‚¹å‹) æ•°å­—åé¢åŠ ç‚¹è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œå¦‚x = 1. complex (å¤æ•°)ï¼šcomplex(a, b) è¡¨ç¤º a + bjï¼Œaå’Œbå‡ä¸ºæµ®ç‚¹å‹ del x # åˆ é™¤å¯¹è±¡å¼•ç”¨ mathæ¨¡å—/cmathæ¨¡å—(cmathè¿ç®—å¤æ•°)ï¼š abs(x)/fabs(x) ceil(x)/floor(x)/round(x[,n]) cmp(x, y) # x&lt;y/x==y/x&gt;y è¿”å› -1/0/1 exp(x) log(x[,base]) # baseåº•æ•°é»˜è®¤e max(x1,x2,...)/min() modf(x) # è¿”å›æ•´æ•°ä¸å°æ•°éƒ¨åˆ† pow(x, y) # x**y sqrt(x) hypot(x, y) # æ¬§å‡ é‡Œå¾—èŒƒæ•° sqrt(x*x+y*y) degrees(x) # å¼§åº¦å˜è§’åº¦ radians(x) # è§’åº¦å˜å¼§åº¦ random randint(l, r) # [l, r] choice(seq) # ä»åºåˆ—å…ƒç´ éšæœºæŒ‘ä¸€ä¸ªå…ƒç´  randrange([start,]stop[,step]) shuffle(lst) # åºåˆ—å…ƒç´ éšæœºæ’åº random() # éšæœºä¸€ä¸ªå®æ•°[0, 1) uniform(x, y) # éšæœºç”Ÿæˆä¸€ä¸ªå®æ•°åœ¨[x,y]å†… 2. å­—ç¬¦ä¸² ''' string ''' # é•¿å­—ç¬¦ä¸²ç”¨ä¸‰å¼•å· [idx1:idx2[:step]] # å­ä¸²æˆªå–ï¼Œç´¢å¼•å·¦åˆ°å³0å¼€å§‹ï¼Œå³åˆ°å·¦-1å¼€å§‹ in / not in # åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«ç»™å®šå­—ç¬¦ä¸² r / R # åŸå§‹å­—ç¬¦ä¸²ï¼Œè½¬ä¹‰å­—ç¬¦ä¸å‘æŒ¥ä½œç”¨ # æ ¼å¼åŒ– str.format() # ç”¨{}å’Œ:ä»£æ›¿ä»¥å‰çš„% # ç´¢å¼•å·/ä¹Ÿå¯ç”¨å‘½åç´¢å¼•å–ä»£å·ç  str = \"my name is {1}, my age is {0}\" str.format(age_, name_) # å†…å»ºå‡½æ•° count(str, beg=0, end=len(string)) # è®¡æ•° endswith(suffix, beg=0, end=len(string)) # æ£€æŸ¥åç¼€ find(str, beg, end) # æŸ¥æ‰¾ï¼Œå­˜åœ¨è¿”å›ç´¢å¼•ï¼Œå¦åˆ™-1 isdigit()/isdemical # åªåŒ…å«æ•°å­—/åè¿›åˆ¶å­—ç¬¦ len() # é•¿åº¦ lower()/upper() # å¤§å°å†™ min()/max() # æœ€å¤§æœ€å°çš„å­—æ¯ replace(old, new, [,max]) # æ›¿æ¢ä¸è¶…è¿‡maxæ¬¡ lstrip()# æˆªæ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ # ä»¥stråˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…æˆªå–num+1ä¸ªå­å­—ç¬¦ä¸² split(str=\"\", num=string.count(str)) æ•°å­—æ ¼å¼åŒ– {:.2f} # å°æ•°ç‚¹å2ä½ {:,} # ä»¥é€—å·åˆ†å‰²çš„æ•°å­—å½¢å¼ {:x&lt;10d} # 10ä½æ•°å­—ï¼Œå¹¶å³è¾¹å¡«å……xï¼Œå·¦è¾¹å¡«å……ç”¨&gt; {:&lt;10d} # å·¦å¯¹é½å®½åº¦ä¸º10ï¼Œå³å¯¹é½&gt;ï¼Œå±…ä¸­^ {:.2%} # ç™¾åˆ†æ•°ï¼Œä¿ç•™å°æ•°ç‚¹åä¸¤ä½ {:.2e} # æŒ‡æ•°è®°æ³• {:b/d/o/x} # äºŒ/å/å…«/åå…­è¿›åˆ¶ 3. åˆ—è¡¨ æ ‡è¯†ï¼š[] å¯ç”¨ +, * åšé“¾æ¥å’Œé‡å¤æ“ä½œï¼Œç´¢å¼•æ“ä½œåŒä¸Šå¯åµŒå¥— list = [] append(x) # æ·»åŠ å…ƒç´  insert(idx, x) # åœ¨æŒ‡å®šç´¢å¼•æ’å…¥ remove(x) # åˆ é™¤æŒ‡å®šé¡¹ç›® pop() # åˆ é™¤æŒ‡å®šç´¢å¼•ï¼Œè‹¥æœªæŒ‡å®šåˆ™åˆ æœ€åä¸€é¡¹ del list[idx] # åˆ æŒ‡å®šç´¢å¼• copy() # å¤åˆ¶ extend() # å°†åˆ—è¡¨æ’å…¥å½“å‰åˆ—è¡¨æœ«å°¾ reverse() # é¢ å€’é¡ºåº count() index() # è¿”å›å…·æœ‰æŒ‡å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼• # æ’åº é»˜è®¤å‡åº myFuncä¸ºè‡ªå®šä¹‰å‡½æ•° sort(reverse=True|False, key=myFunc) # æŒ‰å­—ç¬¦ä¸²å¤§å°æ’åºï¼Œé»˜è®¤å‡åº def cmp(x): return len(x) l = [\"1321\", \"35\", \"6\", \"7\", \"106\"] l.sort(key=cmp) print(l) 4. å…ƒç»„ æ ‡è¯†ï¼š() ç±»ä¼¼äºåˆ—è¡¨ï¼Œå…ƒç»„ä¸èƒ½äºŒæ¬¡æ›´æ–°ï¼Œç›¸å½“äºåªè¯»åˆ—è¡¨ã€‚æ›´æ”¹å…ƒç»„è¦å…ˆè½¬æ¢æˆåˆ—è¡¨ã€‚ count() index() 5. å­—å…¸ æ ‡è¯†ï¼š{:} åˆ—è¡¨æ˜¯æœ‰åºçš„å¯¹è±¡é›†åˆï¼Œå­—å…¸æ˜¯æ— åºçš„å¯¹è±¡é›†åˆã€‚å­—å…¸å½“ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡é”®è€Œéåç§»å­˜å–ï¼Œç›¸å½“äºmapã€‚å¯ä»¥åµŒå¥—ã€‚ # è®¿é—®å¯ä»¥ç”¨[key]ï¼Œä¹Ÿå¯get() values() # å€¼ items() # é”®å’Œå€¼ pop() # æ ¹æ®keyåˆ  popitem() # åˆ é™¤æœ€åæ’å…¥çš„é”®å€¼å¯¹ setdefault(key,[,value]) # è¿”å›æŒ‡å®škeyçš„å€¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥æŒ‡å®šå€¼çš„é”® update() # æ›´æ–° 6. é›†åˆ æ ‡è¯†ï¼š{} ï¼Œæˆ– set() åˆ›å»ºï¼Œå»é‡ï¼Œç©ºé›†åˆå¿…é¡»ç”¨ set(), æ— åºæ— ç´¢å¼• add(x) # æ·»åŠ ä¸€ä¸ªé¡¹ç›® update(x1, x2) # æ·»åŠ å¤šä¸ªé¡¹ç›® remove(x) # åˆ é™¤é¡¹ç›®ï¼Œä¸å­˜åœ¨å¼•å‘é”™è¯¯ discard(x) # åˆ é™¤é¡¹ç›®ï¼Œä¸å­˜åœ¨ä¸å¼•å‘é”™è¯¯ pop() # åˆ é™¤æœ€åä¸€é¡¹ä¸”è¿”å›åˆ é™¤é¡¹ç›® x.difference(y) # è¿”å›ä¸€ä¸ªé›†åˆä»…å­˜åœ¨äºxè€Œä¸åœ¨yä¸­ difference_update(y) # åˆ é™¤æ­¤é›†åˆä¸­ä¹ŸåŒ…å«åœ¨å¦ä¸€ä¸ªæŒ‡å®šé›†åˆä¸­çš„é¡¹ç›® intersection() # äº¤é›† intersection_update() isdisjoint() # è¿”å›ä¸¤ä¸ªé›†åˆæ˜¯å¦æœ‰äº¤é›† issubset() # è¿”å›å¦ä¸€ä¸ªé›†åˆæ˜¯å¦åŒ…å«æ­¤é›†åˆ symmetric_difference() # å¯¹ç§°å·® symmetric_difference_update() union() # å¹¶é›† 0. ç±»å‹è½¬æ¢ int(x[,base]) # è½¬æ¢ä¸ºæ•´æ•° long(x[,base]) float(x) complex(real[,imag]) # åˆ›å»ºä¸€ä¸ªå¤æ•°ä¸ºreal+imag*jï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²åˆ™æ— éœ€ç¬¬äºŒä¸ªå‚æ•° str(x) # å­—ç¬¦ä¸² repr(x) # è½¬æ¢ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸² tuple(s) # åºåˆ—sè½¬æ¢ä¸ºå…ƒç»„ list(s) set(s) # è½¬ä¸ºå¯å˜é›†åˆ dict(d) # åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œdå¿…é¡»æ˜¯ä¸€ä¸ªåºåˆ—(key, value)å…ƒç»„ frozenset(s) # ä¸å¯å˜é›†åˆ chr(x) # æ•´æ•°æŒ‰asciiç å˜å­—ç¬¦ unichr(x) # unicodeå­—ç¬¦ ord(x) # å­—ç¬¦å˜æ•´æ•°å€¼ hex(x) # åå…­è¿›åˆ¶ oct(x) # å…«è¿›åˆ¶ # æ¨å¯¼å¼ï¼Œä»¥listä¸ºä¾‹ï¼ŒåŒæ ·é€‚ç”¨äºå…¶ä»–ç»“æ„ä½“ newlist = [out_exp_res for out_exp in input_list if condition] 0x02 è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° * ä¹˜/é‡å¤è‹¥å¹²æ¬¡ ** å¹‚ // æ•´é™¤ï¼Œå‘ä¸‹å–æ•´ ~ æŒ‰ä½å–å and é€»è¾‘è¿ç®—ç¬¦ ä¸ &amp;&amp; or é€»è¾‘æˆ– || not é€»è¾‘é ! in / not in æˆå‘˜è¿ç®—ç¬¦ï¼Œåœ¨åºåˆ—ä¸­åˆ™Trueå¦åˆ™False is / is not èº«ä»½è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦å¼•ç”¨è‡ªä¸€ä¸ªå¯¹è±¡ 0x03 å‡½æ•° é€šç”¨å½¢å¼ï¼šdef func([args]): ... return ... passè¯­å¥ï¼šå ä½ï¼Œä¸çŸ¥é“å†™ä»€ä¹ˆä½†ä¸ºäº†é¿å…ä¸æŠ¥é”™ ä¸å®šé•¿å‚æ•°ï¼šåœ¨å‚æ•°åå‰åŠ *ï¼Œä¼šä»¥å…ƒç»„çš„å½¢å¼å¯¼å…¥ï¼Œå­˜æ”¾æ‰€æœ‰æœªå‘½åçš„å˜é‡å‚æ•° lambdaå‡½æ•°/åŒ¿åå‡½æ•°ï¼šä¸å†ä½¿ç”¨ def è¯­å¥æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¸»ä½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä»£ç å—ã€‚æ‹¥æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œä¸”ä¸èƒ½è®¿é—®è‡ªå·±å‚æ•°åˆ—è¡¨ä¹‹å¤–æˆ–å…¨å±€å‘½åç©ºé—´é‡Œçš„å‚æ•°ã€‚ lambda [arg1 [,arg2,.....argn]]:expression # å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•° x = lambda a, b : a * b print(x(5, 6)) # *ç”¨ä½œå¦ä¸€ä¸ªå‡½æ•°å†…çš„åŒ¿åå‡½æ•° def myfunc(n): return lambda a : a * n mydoubler = myfunc(2) # æ€»æ˜¯ä½¿æ•°å­—åŠ å€ print(mydoubler(11)) mytripler = myfunc(3) # ä¸‰å€ print(mytripler(11)) 0x04 ç±»å’Œå¯¹è±¡ # åˆ›å»ºç±» class Person: # __init__() å‡½æ•°ï¼Œself å‚æ•°æ˜¯å¯¹ç±»çš„å½“å‰å®ä¾‹çš„å¼•ç”¨ def __init__(self, name, age): self.name = name self.age = age # å¯¹è±¡æ–¹æ³• def myfunc(self): print(\"Hello my name is \" + self.name) # åˆ›å»ºå¯¹è±¡ p1 = Person(\"Bill\", 63) p1.myfunc() # ç»§æ‰¿ class Stduent(Person): def __init__(self, name, age): Person.__init__(self, name, age) # ä¹Ÿå¯ç”¨super()ç»§æ‰¿ï¼Œè‡ªåŠ¨ä»å…¶çˆ¶å…ƒç´ ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ super().__init__(name, age) # å¯ä»¥åœ¨å­ç±»é‡Œæ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³• def __init__(self, name, age, birth): super().__init__(name, age) self.birth = birth 0x05 æ–‡ä»¶ open() è¿”å›æ–‡ä»¶å¯¹è±¡ï¼š \"r\" è¯»å–ï¼Œä¸å­˜åœ¨æŠ¥é”™ \"a\"è¿½åŠ ï¼Œä¸å­˜åœ¨åˆ›å»ºï¼Œè¿½åŠ åˆ°æœ«å°¾ \"w\"å†™å…¥ï¼Œä¸å­˜åœ¨åˆ›å»ºï¼Œè¦†ç›–å·²æœ‰ \"x\"åˆ›å»ºï¼Œå­˜åœ¨æŠ¥é”™ å¤„ç†æ¨¡å¼ï¼š\"t\" æ–‡æœ¬ / \"b\" äºŒè¿›åˆ¶(ä¾‹å¦‚å›¾åƒ) f = open(\"file.txt\", \"r\") # è¯» print(f.read()) print(f.read(5)) # å‰5ä¸ªå­—ç¬¦ print(f.readline()) # è¯»ä¸€è¡Œ for x in f: print(x) # é€è¡Œéå† f.close() # å…³é—­ # å†™ f.write(\"xxx\") # åˆ  import os os.remove(\"file.txt\") # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨å†åˆ  if os.path.exists(\"file.txt\"): os.remove(\"file.txt\") else: print(\"The file does not exist\") os.rmdir(\"folder\") # åˆ é™¤æ–‡ä»¶å¤¹, åªèƒ½åˆ ç©ºæ–‡ä»¶å¤¹ 0x06 NumPy NumPy æ˜¯ç”¨äºå¤„ç†æ•°ç»„çš„ python åº“ï¼Œä¸åˆ—è¡¨ä¸åŒï¼ŒNumPy æ•°ç»„å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¸€ä¸ªè¿ç»­ä½ç½®ï¼Œå› æ­¤è¿›ç¨‹å¯ä»¥éå¸¸æœ‰æ•ˆåœ°è®¿é—®å’Œæ“çºµå®ƒä»¬ã€‚ NumPy ä¸­çš„æ•°ç»„å¯¹è±¡ç§°ä¸º ndarrayã€‚ æ•°ç»„ import numpy as np # æ•°ç»„ç»´åº¦ arr = np.array(12) # 0-D æ ‡é‡ arr = np.array([1, 2, 3, 4, 5]) # 1-D arr = np.array([[1, 2, 3], [4, 5, 6]]) # 2-D arr = np.array([[[1, 2, 3], [4, 5, 6]], [[1, 2, 3], [4, 5, 6]]]) # 3-D print(arr.ndim) # æ£€æŸ¥ç»´æ•° # æ›´é«˜ç»´æ•°ç»„ï¼Œndminå®šä¹‰ç»´æ•° arr = np.array([1, 2, 3, 4], ndmin=5) print(arr[0, 1, 2]) # arrä¸º3-Dæ•°ç»„ï¼Œç›¸å½“äºè®¿é—®arr[0][1][2]ï¼Œæ”¯æŒè´Ÿç´¢å¼• æ•°æ®ç±»å‹ dtypeï¼š i - æ•´æ•° / b - å¸ƒå°” / u - æ— ç¬¦å·æ•´æ•° / f - æµ®ç‚¹ / c - å¤åˆæµ®ç‚¹æ•° / m - timedelta / M - datetime / O - å¯¹è±¡ / S - å­—ç¬¦ä¸² / U - unicode å­—ç¬¦ä¸² / V - å›ºå®šçš„å…¶ä»–ç±»å‹çš„å†…å­˜å—(void) arr = np.array([1, 2, 3, 4], dtype='i4') # æ•°æ®ç±»å‹ä¸º4å­—èŠ‚æ•´æ•° newarr = arr.astype('f') # è½¬æ¢æ•°æ®ç±»å‹ å‰¯æœ¬/è§†å›¾ï¼š å‰¯æœ¬æ˜¯æ–°æ•°ç»„ï¼Œè§†å›¾æ˜¯åŸå§‹æ•°ç»„çš„è§†å›¾ï¼Œä¸æ‹¥æœ‰æ•°æ®ä¸”å—åˆ°å¯¹åŸå§‹æ•°ç»„æ›´æ”¹çš„å½±å“ x = arr.copy() # å‰¯æœ¬ x = arr.view() # è§†å›¾ print(x.base) # æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®ï¼Œæ²¡æœ‰è¿”å›None æ•°ç»„æ“ä½œï¼š print(arr.shape) # è·å–æ•°ç»„å½¢çŠ¶ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]) newarr = arr.reshape(4, 3) # æ•°ç»„é‡å¡‘ï¼šæ”¹å˜å½¢çŠ¶ï¼Œè¿”å›è§†å›¾ newarr = arr.reshape(2, 2, -1) # -1è¡¨ç¤ºæœªçŸ¥ç»´åº¦ï¼Œnumpyè‡ªåŠ¨è®¡ç®—ï¼Œæœ€å¤šç”¨ä¸€ä¸ª newarr = arr.reshape(-1) # å±•å¹³ # è¿­ä»£è®¿é—®3-Dæ•°ç»„ for x in arr: for y in x: for z in y: print(z) # nditerè¿­ä»£æ¯ä¸ªæ ‡é‡å…ƒç´  for x in np.nditer(arr): print(x) # è¿­ä»£ä¸åŒæ•°æ®ç±»å‹çš„æ•°ç»„ for x in np.nditer(arr, flags=['buffered'], op_dtypes=['S']): print(x) # ä¸åŒçš„æ­¥é•¿è¿­ä»£ for x in np.nditer(arr[:, ::2]): # æ¯éå†ä¸€ä¸ª2-Dçš„æ ‡é‡å°±è·³è¿‡ä¸€ä¸ª print(x) # æšä¸¾è¿­ä»£ï¼ŒåŒæ—¶æ‰“å°åºå· for idx, x in np.ndenumerate(arr): print(idx, x) # è¿æ¥æ•°ç»„ arr = np.concatenate((arr1, arr2)) # æ²¿ç€è¡Œ(axis=1)è¿æ¥ä¸¤ä¸ª 2-D æ•°ç»„ arr = np.concatenate((arr1, arr2), axis=1) # ä½¿ç”¨å †æ ˆå‡½æ•°è¿æ¥æ•°ç»„ arr = np.stack((arr1, arr2), axis=1) arr = np.hstack((arr1, arr2)) # æ²¿è¡Œå †å  arr = np.vstack((arr1, arr2)) # æ²¿åˆ—å †å  arr = np.dstack((arr1, arr2)) # æ²¿é«˜åº¦(æ·±åº¦)å †å  # æ‹†åˆ†æ•°ç»„ newarr = np.array_split(arr, 3) # æ‹†åˆ†ä¸º3ä¸ªæ•°ç»„ # æ²¿è¡Œåˆ†å‰² newarr = np.array_split(arr, 3, axis=1) newarr = np.hsplit(arr, 3) # æ•°ç»„æœç´¢ x = np.where(arr%2 == 0) # è¿”å›æ‰€æœ‰å¶æ•°çš„ä¸‹æ ‡ç»„æˆçš„å…ƒç»„ # æœç´¢æ’åºï¼Œç”¨äºæ’åºæ•°ç»„ï¼Œè¿”å›å°†åœ¨å…¶ä¸­æ’å…¥æŒ‡å®šå€¼ä»¥ç»´æŒæœç´¢é¡ºåºçš„ç´¢å¼• x = np.searchsorted(arr, 7) # è¿”å›åº”æ’å…¥7çš„ä¸‹æ ‡ï¼Œé»˜è®¤å·¦ä¾§ç´¢å¼• x = np.searchsorted(arr, 7, side='right') # ä»å³ä¾§æœç´¢ x = np.searchsorted(arr, [2, 4, 6]) # å¤šä¸ªå€¼ # æ•°ç»„æ’åºï¼Œè¿”å›å‰¯æœ¬ np.sort(arr) # æ•°ç»„è¿‡æ»¤ï¼šä»ç°æœ‰æ•°ç»„ä¸­å–å‡ºä¸€äº›å…ƒç´ å¹¶ä»ä¸­åˆ›å»ºæ–°æ•°ç»„ # ä½¿ç”¨å¸ƒå°”ç´¢å¼•åˆ—è¡¨æ¥è¿‡æ»¤æ•°ç»„ï¼Œä»…åŒ…å«æœ‰Trueçš„å€¼ arr = np.array([61, 62, 63, 64, 65]) x = [True, False, True, False, True] newarr = arr[x] # ç›´æ¥ä»æ•°ç»„åˆ›å»ºè¿‡æ»¤å™¨ filter_arr = arr &gt; 62 newarr = arr[filter_arr] # éšæœº from numpy import random x = random.randint(100) # 0~100 int x = random.rand() # 0~1 float x=random.randint(100, size=(5)) # 1-Dæ•°ç»„ï¼Œ5ä¸ª0~100 int x = random.randint(100, size=(3, 5)) # 2-D x = random.choice([3, 5, 7, 9]) # ä»æ•°ç»„ç”Ÿæˆéšæœºæ•° x = random.choice([3, 5, 7, 9], size=(3, 5)) å¹¿æ’­(Broadcast)ï¼š å¯¹ä¸åŒå½¢çŠ¶(shape)çš„æ•°ç»„è¿›è¡Œæ•°å€¼è®¡ç®—çš„æ–¹å¼ï¼Œå¦‚æœä¸¤ä¸ªæ•°ç»„ a å’Œ b å½¢çŠ¶ç›¸åŒï¼Œå³æ»¡è¶³ a.shape == b.shapeï¼Œé‚£ä¹ˆ a*b çš„ç»“æœå°±æ˜¯ a ä¸ b æ•°ç»„å¯¹åº”ä½ç›¸ä¹˜ã€‚è¿™è¦æ±‚ç»´æ•°ç›¸åŒï¼Œä¸”å„ç»´åº¦çš„é•¿åº¦ç›¸åŒï¼›å¦‚æœshapeä¸åŒï¼Œåˆ™è‡ªåŠ¨è§¦å‘å¹¿æ’­æœºåˆ¶ã€‚ å½“è¾“å…¥æ•°ç»„çš„æŸä¸ªç»´åº¦çš„é•¿åº¦ä¸º 1 æ—¶ï¼Œæ²¿ç€æ­¤ç»´åº¦è¿ç®—æ—¶éƒ½ç”¨æ­¤ç»´åº¦ä¸Šçš„ç¬¬ä¸€ç»„å€¼ã€‚ ç®—æœ¯/ç»Ÿè®¡å‡½æ•°ï¼š add()/subtract()/multiply()/divide() åŠ å‡ä¹˜é™¤ reciprocal() å€’æ•° / power() å¹‚ / mod() æ¨¡ amin()/amax() è®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ æ²¿æŒ‡å®šè½´çš„æœ€å°/å¤§å€¼ ptp() è®¡ç®—æ•°ç»„ä¸­å…ƒç´ æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·® percentile(a, q, axis) ç™¾åˆ†ä½æ•° median() ä¸­ä½æ•° mean() ç®—æ•°å¹³å‡å€¼ average(a, weights=[...]) åŠ æƒå¹³å‡å€¼ std()/var() æ ‡å‡†å·®/æ–¹å·® çº¿æ€§ä»£æ•°ï¼š dot() # æ•°ç»„ç‚¹ç§¯ vdot() # å‘é‡ç‚¹ç§¯ inner() # æ•°ç»„å†…ç§¯ matmul() # ä¸¤ä¸ªæ•°ç»„çŸ©é˜µç§¯ determinant() # æ•°ç»„è¡Œåˆ—å¼ solve() # æ±‚è§£çº¿æ€§çŸ©é˜µæ–¹ç¨‹ inv() # è®¡ç®—çŸ©é˜µçš„ä¹˜æ³•é€†çŸ©é˜µ 0xff å…¶å®ƒ global å…³é”®å­—ï¼šä½¿å˜é‡æˆä¸ºå…¨å±€å˜é‡ è¦åœ¨å‡½æ•°å†…éƒ¨æ›´æ”¹å…¨å±€å˜é‡çš„å€¼ï¼Œä¹Ÿè¦ç”¨ global å…³é”®å­—å¼•ç”¨è¯¥å˜é‡ æ¨¡å—(module)ï¼šè‡ªå‘½åçš„.pyæ–‡ä»¶ï¼Œå¼•ç”¨ä½¿ç”¨import import util import util2 as ut2 from util3 import animals a = util.person1[\"age\"] print(a) map() å‡½æ•° map() å‡½æ•°ä¼šæ ¹æ®æä¾›çš„å‡½æ•°å¯¹æŒ‡å®šåºåˆ—åšæ˜ å°„ã€‚ ç¬¬ä¸€ä¸ªå‚æ•° function ä»¥å‚æ•°åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ function å‡½æ•°ï¼Œè¿”å›åŒ…å«æ¯æ¬¡ function å‡½æ•°è¿”å›å€¼çš„æ–°åˆ—è¡¨ map(function, iterables) a, b = map(int, input().split()) # è¾“å…¥åˆ†å‰²æˆå¤šä¸ªintå€¼","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"},{"name":"numpy","slug":"numpy","permalink":"https://maskros.top/tags/numpy/"}]},{"title":"bsgs & exbsgs","slug":"algorithm/learn/bsgs","date":"2022-07-20T01:50:00.000Z","updated":"2022-07-23T12:11:50.554Z","comments":true,"path":"/post/algorithm/learn/bsgs.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/bsgs.html","excerpt":"å¤§å°æ­¥ç®—æ³• åŒ—ä¸Šå¹¿æ·±ç®—æ³• è§£å†³é«˜æ¬¡çº¿æ€§åŒä½™æ–¹ç¨‹é—®é¢˜ ç»™å®šæ­£æ•´æ•° ï¼Œ å’Œ äº’è´¨ï¼Œæ±‚æ»¡è¶³ çš„æœ€å°éè´Ÿæ•´æ•° #include &lt;bits/stdc++.h&gt; #define int long long using namespace std; int a, b, p; int bsgs(int a, int b, int p) { if (1 % p == b % p) return 0; int k = sqrt(p) + 1; unordered_map&lt;int, int&gt; mp; for (int i = 0, j = b % p; i &lt; k; i ++) { mp[j] = i; j = j * a % p; } int ak = 1; for (int i = 0; i &lt; k; i ++) ak = ak * a % p; for (int i = 1, j = ak; i &lt;= k; i ++) { if (mp.count(j)) return i * k - mp[j]; j = j * ak % p; } return -1; } signed main() { while (cin &gt;&gt; a &gt;&gt; p &gt;&gt; b, a || b || p) { int res = bsgs(a, b, p); if (res == -1) { cout &lt;&lt; \"No Solution\" &lt;&lt; endl; } else { cout &lt;&lt; res &lt;&lt; endl; } } }","text":"å¤§å°æ­¥ç®—æ³• åŒ—ä¸Šå¹¿æ·±ç®—æ³• è§£å†³é«˜æ¬¡çº¿æ€§åŒä½™æ–¹ç¨‹é—®é¢˜ ç»™å®šæ­£æ•´æ•° ï¼Œ å’Œ äº’è´¨ï¼Œæ±‚æ»¡è¶³ çš„æœ€å°éè´Ÿæ•´æ•° #include &lt;bits/stdc++.h&gt; #define int long long using namespace std; int a, b, p; int bsgs(int a, int b, int p) { if (1 % p == b % p) return 0; int k = sqrt(p) + 1; unordered_map&lt;int, int&gt; mp; for (int i = 0, j = b % p; i &lt; k; i ++) { mp[j] = i; j = j * a % p; } int ak = 1; for (int i = 0; i &lt; k; i ++) ak = ak * a % p; for (int i = 1, j = ak; i &lt;= k; i ++) { if (mp.count(j)) return i * k - mp[j]; j = j * ak % p; } return -1; } signed main() { while (cin &gt;&gt; a &gt;&gt; p &gt;&gt; b, a || b || p) { int res = bsgs(a, b, p); if (res == -1) { cout &lt;&lt; \"No Solution\" &lt;&lt; endl; } else { cout &lt;&lt; res &lt;&lt; endl; } } } ç»™å®šæ­£æ•´æ•° ï¼Œæ±‚æ»¡è¶³ çš„æœ€å°éè´Ÿæ•´æ•° #include &lt;bits/stdc++.h&gt; #define int long long using namespace std; int a, b, p; int exgcd(int a, int b, int&amp; x, int&amp; y) { if (!b) { x = 1, y = 0; return a; } int d = exgcd(b, a % b, y, x); y -= a / b * x; return d; } int bsgs(int a, int b, int p) { if (1 % p == b % p) return 0; int k = sqrt(p) + 1; unordered_map&lt;int, int&gt; mp; for (int i = 0, j = b % p; i &lt; k; i ++) { mp[j] = i; j = j * a % p; } int ak = 1; for (int i = 0; i &lt; k; i ++) ak = ak * a % p; for (int i = 1, j = ak; i &lt;= k; i ++) { if (mp.count(j)) return i * k - mp[j]; j = j * ak % p; } return -1; } int exbsgs(int a, int b, int p) { b = (b % p + p) % p; if (1 % p == b % p) return 0; int x, y; int d = exgcd(a, p, x, y); if (d &gt; 1) { if (b % d) return -2e9; exgcd(a / d, p / d, x, y); return exbsgs(a, b / d * x % (p / d), p / d) + 1; } return bsgs(a, b, p); } signed main() { while (cin &gt;&gt; a &gt;&gt; p &gt;&gt; b, a || b || p) { int res = exbsgs(a, b, p); if (res &lt; 0) { cout &lt;&lt; \"No Solution\" &lt;&lt; endl; } else { cout &lt;&lt; res &lt;&lt; endl; } } }","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"æ·±åº¦å­¦ä¹ ï¼šåº”ç”¨æ•°å­¦åŸºç¡€","slug":"dl/base/æ·±åº¦å­¦ä¹ _åº”ç”¨æ•°å­¦åŸºç¡€","date":"2022-07-14T08:15:00.000Z","updated":"2022-07-22T09:46:10.864Z","comments":true,"path":"/post/dl/base/æ·±åº¦å­¦ä¹ _åº”ç”¨æ•°å­¦åŸºç¡€.html","link":"","permalink":"https://maskros.top/post/dl/base/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_%E5%BA%94%E7%94%A8%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80.html","excerpt":"ref: èŠ±ä¹¦ Chapter02 ~ Chapter04 0x01 çº¿æ€§ä»£æ•° 1. æ ‡é‡/å‘é‡/çŸ©é˜µ/å¼ é‡ æ ‡é‡(scalar)ã€å‘é‡(vector)ã€çŸ©é˜µ(matrix)ã€å¼ é‡(tensor) (åæ ‡è¶…è¿‡ä¸¤ç»´) è½¬ç½®(transpose)ã€çŸ©é˜µç›¸åŠ ã€æ ‡é‡å’ŒçŸ©é˜µç›¸åŠ /ç›¸ä¹˜ æ·±åº¦å­¦ä¹ ä¸­å…è®¸çŸ©é˜µå’Œå‘é‡ç›¸åŠ ï¼šå‘é‡å’ŒçŸ©é˜µçš„æ¯ä¸€è¡Œç›¸åŠ (å¹¿æ’­ï¼Œbroadcasting) 2. çŸ©é˜µå’Œå‘é‡ç›¸ä¹˜ çŸ©é˜µä¹˜ç§¯(product)ï¼šC = ABï¼Œå…¶ä¸­ï¼šA: mÃ—nï¼ŒB: nÃ—pï¼ŒC: mÃ—pï¼Œæœä»åˆ†é…å¾‹ã€ç»“åˆå¾‹ï¼Œä¸æ»¡è¶³äº¤æ¢å¾‹ å…ƒç´ å¯¹åº”ä¹˜ç§¯/Hadamardä¹˜ç§¯ï¼šC = A âŠ™ B, çŸ©é˜µä¸­å¯¹åº”å…ƒç´ çš„ä¹˜ç§¯ å‘é‡ç‚¹ç§¯ï¼šäºŒè€…ç›¸åŒç»´æ•°ï¼Œå¯ä»¥çœ‹åšçŸ©é˜µä¹˜ç§¯ ï¼Œæœä»äº¤æ¢å¾‹ï¼š çŸ©é˜µä¹˜ç§¯è½¬ç½®ï¼š çº¿æ€§æ–¹ç¨‹ç»„ï¼šAx=bï¼Œå…¶ä¸­ï¼šAâˆˆ, bâˆˆ, xâˆˆæ˜¯è¦æ±‚è§£çš„æœªçŸ¥å‘é‡","text":"ref: èŠ±ä¹¦ Chapter02 ~ Chapter04 0x01 çº¿æ€§ä»£æ•° 1. æ ‡é‡/å‘é‡/çŸ©é˜µ/å¼ é‡ æ ‡é‡(scalar)ã€å‘é‡(vector)ã€çŸ©é˜µ(matrix)ã€å¼ é‡(tensor) (åæ ‡è¶…è¿‡ä¸¤ç»´) è½¬ç½®(transpose)ã€çŸ©é˜µç›¸åŠ ã€æ ‡é‡å’ŒçŸ©é˜µç›¸åŠ /ç›¸ä¹˜ æ·±åº¦å­¦ä¹ ä¸­å…è®¸çŸ©é˜µå’Œå‘é‡ç›¸åŠ ï¼šå‘é‡å’ŒçŸ©é˜µçš„æ¯ä¸€è¡Œç›¸åŠ (å¹¿æ’­ï¼Œbroadcasting) 2. çŸ©é˜µå’Œå‘é‡ç›¸ä¹˜ çŸ©é˜µä¹˜ç§¯(product)ï¼šC = ABï¼Œå…¶ä¸­ï¼šA: mÃ—nï¼ŒB: nÃ—pï¼ŒC: mÃ—pï¼Œæœä»åˆ†é…å¾‹ã€ç»“åˆå¾‹ï¼Œä¸æ»¡è¶³äº¤æ¢å¾‹ å…ƒç´ å¯¹åº”ä¹˜ç§¯/Hadamardä¹˜ç§¯ï¼šC = A âŠ™ B, çŸ©é˜µä¸­å¯¹åº”å…ƒç´ çš„ä¹˜ç§¯ å‘é‡ç‚¹ç§¯ï¼šäºŒè€…ç›¸åŒç»´æ•°ï¼Œå¯ä»¥çœ‹åšçŸ©é˜µä¹˜ç§¯ ï¼Œæœä»äº¤æ¢å¾‹ï¼š çŸ©é˜µä¹˜ç§¯è½¬ç½®ï¼š çº¿æ€§æ–¹ç¨‹ç»„ï¼šAx=bï¼Œå…¶ä¸­ï¼šAâˆˆ, bâˆˆ, xâˆˆæ˜¯è¦æ±‚è§£çš„æœªçŸ¥å‘é‡ 3. å•ä½çŸ©é˜µ/é€†çŸ©é˜µ å•ä½çŸ©é˜µï¼š, ï¼Œä¸»å¯¹è§’çº¿å…ƒç´ éƒ½æ˜¯1ï¼Œå…¶ä½™ä¸º0 é€†çŸ©é˜µï¼š å¯åŒ–ä¸º 4. çº¿æ€§ç›¸å…³å’Œç”Ÿæˆå­ç©ºé—´ çº¿æ€§ç»„åˆ(linear combination)ï¼šä¸ºäº†åˆ†æAx=bæœ‰å¤šå°‘è§£ï¼Œå°†Açš„åˆ—å‘é‡çœ‹åšä»åŸç‚¹å‡ºå‘çš„ä¸åŒæ–¹å‘ï¼Œç¡®å®šæœ‰å¤šå°‘ç§æ–¹æ³•å¯ä»¥åˆ°è¾¾å‘é‡bï¼Œå‘é‡xä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºåº”è¯¥æ²¿è¿™äº›æ–¹å‘èµ°å¤šè¿œï¼Œå³ ç”Ÿæˆå­ç©ºé—´(span)ï¼šåŸå§‹å‘é‡çº¿æ€§ç»„åˆåæ‰€èƒ½æŠµè¾¾çš„ç‚¹çš„é›†åˆã€‚ åˆ—ç©ºé—´/å€¼åŸŸ(range)ï¼šç¡®å®šAx=bæ˜¯å¦æœ‰è§£ï¼Œç›¸å½“äºç¡®å®šå‘é‡bæ˜¯å¦åœ¨Aåˆ—å‘é‡çš„ç”Ÿæˆå­ç©ºé—´ä¸­ï¼Œè¯¥spanç§°ä¸ºåˆ—ç©ºé—´/å€¼åŸŸã€‚ çº¿æ€§æ— å…³(independent)ï¼šä¸€ç»„å‘é‡ä¸­çš„ä»»æ„ä¸€ä¸ªå‘é‡éƒ½ä¸èƒ½è¡¨ç¤ºæˆå…¶ä»–å‘é‡çš„çº¿æ€§ç»„åˆã€‚ çŸ©é˜µå¯é€†çš„å‰ææ˜¯å¿…é¡»æ˜¯æ–¹é˜µï¼Œä¸”æ‰€æœ‰åˆ—å‘é‡çº¿æ€§æ— å…³ã€‚ çŸ©é˜µçš„ç§©(rank)ï¼š å®šä¹‰çŸ©é˜µçš„åˆ—ç§©ç­‰äºå…¶çº¿æ€§æ— å…³çš„åˆ—æ•°ï¼Œç”±äºä»»æ„çš„çŸ©é˜µçš„è¡Œç§©å’Œåˆ—ç§©ç›¸ç­‰ï¼Œå¯ä»¥ç›´æ¥ç§°ä¸ºçŸ©é˜µçš„ç§©ã€‚ å¥‡å¼‚(singular)æ–¹é˜µï¼šåˆ—å‘é‡çº¿æ€§ç›¸å…³ã€‚ 5. èŒƒæ•° èŒƒæ•°(norm)ï¼šç”¨äºè¡¡é‡å‘é‡å¤§å°ï¼Œå½¢å¼ä¸ŠèŒƒæ•°å®šä¹‰å¦‚ä¸‹ï¼šï¼Œ å…¶ä¸­: , èŒƒæ•°(åŒ…æ‹¬èŒƒæ•°)æ˜¯å°†å‘é‡æ˜ å°„åˆ°éè´Ÿå€¼çš„å‡½æ•°ï¼Œç›´è§‚ä¸Šå‘é‡xçš„èŒƒæ•°è¡¡é‡ä»åŸç‚¹åˆ°ç‚¹xçš„è·ç¦»ï¼Œä¸¥æ ¼è®²èŒƒæ•°æ˜¯æ»¡è¶³ä¸‹åˆ—æ€§è´¨çš„ä»»æ„å‡½æ•°ï¼š f(x)=0 =&gt; x = 0; f(x + y) â‰¤ f(x) + f(y) ï¼ˆä¸‰è§’ä¸ç­‰å¼(triangle inequality)ï¼‰ âˆ€Î±âˆˆ, f(Î±x)=|Î±|f(x) èŒƒæ•°ï¼šp=2ï¼Œåˆç§°æ¬§å‡ é‡Œå¾—èŒƒæ•°ï¼Œè¡¨ç¤ºåŸç‚¹å‡ºå‘åˆ°å‘é‡xç¡®å®šçš„ç‚¹çš„æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­å¸¸ç®€åŒ–è¡¨ç¤ºä¸º ï¼Œç•¥å»ä¸‹æ ‡2ã€‚ å¹³æ–¹èŒƒæ•°ï¼šä¹Ÿå¸¸ç”¨æ¥è¡¡é‡å‘é‡çš„å¤§å°ï¼Œå¯ä»¥ç®€å•çš„é€šè¿‡ç‚¹ç§¯è®¡ç®—ï¼Œåœ¨æ•°å­¦å’Œè®¡ç®—ä¸Šæ¯”èŒƒæ•°æ–¹ä¾¿ï¼Œä½†åœ¨åŸç‚¹é™„è¿‘å¢é•¿ååˆ†ç¼“æ…¢ã€‚ èŒƒæ•°ï¼šåœ¨å„ä¸ªä½ç½®æ–œç‡ç›¸åŒï¼ŒåŒæ—¶ä¿æŒç®€å•çš„æ•°å­¦å½¢å¼ï¼Œç®€åŒ–å¦‚ä¸‹ï¼š ï¼Œåœ¨MLé—®é¢˜ä¸­é›¶å’Œéé›¶å…ƒç´ ä¹‹é—´çš„å·®å¼‚éå¸¸é‡è¦æ—¶é€šå¸¸ç”¨èŒƒæ•°ã€‚æ¯å½“xä¸­æŸä¸ªå…ƒç´ ä»0å¢åŠ åˆ°aï¼Œå¯¹åº”èŒƒæ•°ä¹Ÿä¼šå¢åŠ aã€‚æœ‰æ—¶ç»Ÿè®¡å‘é‡ä¸­é0å…ƒç´ çš„ä¸ªæ•°æ¥è¡¡é‡å‘é‡å¤§å°æ—¶ï¼Œé˜¿èŒƒæ•°ä¹Ÿé€šå¸¸ä½œä¸ºè¡¨ç¤ºéé›¶å…ƒç´ æ•°ç›®çš„æ›¿ä»£å‡½æ•°ã€‚ (æœ€å¤§èŒƒæ•°)ï¼šè¡¨ç¤ºå‘é‡ä¸­å…·æœ‰æœ€å¤§å¹…å€¼çš„å…ƒç´ çš„ç»å¯¹å€¼ï¼Œ FrobeniusèŒƒæ•°ï¼šè¡¡é‡çŸ©é˜µçš„å¤§å°ï¼Œ$||A||F=\\sqrt{\\sum{i,j}A^2_{i,j}}ç±»ä¼¼äºå‘é‡çš„L^2$èŒƒæ•° ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯å¯ç”¨èŒƒæ•°è¡¨ç¤ºï¼šï¼ŒÎ¸è¡¨ç¤ºxå’Œyçš„å¤¹è§’ 6. ç‰¹æ®Šç±»å‹çš„çŸ©é˜µ/å‘é‡ å¯¹è§’çŸ©é˜µ(diagonal matrix)ï¼šåªåœ¨ä¸»å¯¹è§’çº¿ä¸Šå«æœ‰éé›¶å…ƒç´ çš„çŸ©é˜µã€‚å¯¹è§’çŸ©é˜µçš„ä¹˜æ³•è®¡ç®—éå¸¸é«˜æ•ˆï¼Œè®¡ç®—ä¹˜æ³•diag(v)xï¼Œåªéœ€å°†xä¸­çš„æ¯ä¸ªå…ƒç´ æ”¾å¤§å€ï¼Œå³diag(v)x=vâŠ™xã€‚åŒç†ï¼Œè®¡ç®—å¯¹è§’çŸ©é˜µçš„é€†çŸ©é˜µä¹Ÿå¾ˆé«˜æ•ˆã€‚æ•…å°†ä¸€äº›çŸ©é˜µé™åˆ¶ä¸ºå¯¹è§’çŸ©é˜µå¯ä»¥å¾—åˆ°è®¡ç®—ä»£ä»·è¾ƒä½çš„ç®—æ³•ã€‚ä¹Ÿé€‚ç”¨äºé•¿æ–¹å½¢çš„çŸ©é˜µï¼Œæ¶‰åŠç¼©æ”¾ã€‚ å¯¹ç§°çŸ©é˜µ(symmetric ~)ï¼šè½¬ç½®å’Œè‡ªå·±ç›¸ç­‰çš„çŸ©é˜µï¼Œï¼ŒæŸäº›ä¸ä¾èµ–å‚æ•°é¡ºåºçš„åŒå‚æ•°å‡½æ•°ç”Ÿæˆå…ƒç´ æ—¶å¸¸ä¼šå‡ºç°ï¼Œå¦‚è·ç¦»å‡½æ•°ã€‚ å•ä½å‘é‡(unit vector)ï¼šå…·æœ‰å•ä½èŒƒæ•°çš„å‘é‡ï¼Œ æ­£äº¤(orthogonal)ï¼šï¼Œè‹¥ä¸¤ä¸ªå‘é‡éƒ½æœ‰éé›¶èŒƒæ•°ï¼Œåˆ™å¤¹è§’ä¸º90Â°ã€‚åœ¨ä¸­ï¼Œè‡³å¤šæœ‰nä¸ªèŒƒæ•°éé›¶å‘é‡ç›¸äº’æ­£äº¤ï¼Œè‹¥ä»–ä»¬ä¸ä½†ç›¸äº’æ­£äº¤ä¸”èŒƒæ•°å‡ä¸º1ï¼Œåˆ™ç§°ä¸ºæ ‡å‡†æ­£äº¤(orthonormal)ã€‚ æ­£äº¤çŸ©é˜µ(orthogonal ~)ï¼šè¡Œå‘é‡å’Œåˆ—å‘é‡æ˜¯åˆ†åˆ«æ ‡å‡†æ­£äº¤çš„æ–¹é˜µï¼Œå³ï¼Œæ„å‘³ç€ï¼Œæ±‚é€†è®¡ç®—ä»£ä»·å°ã€‚ 7. ç‰¹å¾åˆ†è§£ ç‰¹å¾åˆ†è§£(eigendecomposition)ï¼šå°†çŸ©é˜µåˆ†è§£æˆä¸€ç»„ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼ã€‚åªå¯¹æ–¹é˜µã€‚ ç‰¹å¾å‘é‡(eigenvector)/ç‰¹å¾å€¼(eigenvalue)ï¼šä¸Aç›¸ä¹˜åç›¸å½“äºå¯¹è¯¥å‘é‡è¿›è¡Œç¼©æ”¾çš„éé›¶å‘é‡vï¼šï¼Œæ ‡é‡ Î» ç§°ä¸ºè¿™ä¸ªç‰¹å¾å‘é‡å¯¹åº”çš„ç‰¹å¾å€¼ã€‚å¦‚æœvæ˜¯Açš„ç‰¹å¾å‘é‡ï¼Œä»»ä½•ç¼©æ”¾åçš„å‘é‡sv(s âˆˆ , s â‰  0)ä¹Ÿæ˜¯Açš„ç‰¹å¾å‘é‡ä¸”ä¸væœ‰ç›¸åŒçš„ç‰¹å¾å€¼ï¼Œé€šå¸¸è€ƒè™‘å•ä½ç‰¹å¾å‘é‡ã€‚å½“ä¸”ä»…å½“å«æœ‰é›¶ç‰¹å¾å€¼æ—¶çŸ©é˜µæ˜¯å¥‡å¼‚çš„ã€‚ Açš„ç‰¹å¾åˆ†è§£ï¼šï¼Œå…¶ä¸­V={, , â€¦ , }ï¼Œä¸ºnä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ï¼ŒÎ»=[, â€¦ , ]ï¼Œåˆ†åˆ«å¯¹åº”æ¯ä¸ªç‰¹å¾å€¼ã€‚ å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾åˆ†è§£ï¼š , å…¶ä¸­Qæ˜¯Açš„ç‰¹å¾å‘é‡ç»„æˆçš„æ­£äº¤çŸ©é˜µï¼ŒÎ›æ˜¯å¯¹è§’çŸ©é˜µï¼Œç‰¹å¾å€¼ å¯¹åº”ç‰¹å¾å‘é‡ä¸ºçŸ©é˜µçš„ç¬¬iåˆ—ã€‚å› ä¸ºQæ˜¯æ­£äº¤çŸ©é˜µï¼Œå¯ä»¥å°†Açœ‹åšæ²¿æ–¹å‘å»¶å±•å€çš„ç©ºé—´ã€‚é€šå¸¸é™åºæ’åˆ—Î›çš„å…ƒç´ ï¼Œä½¿ç‰¹å¾åˆ†è§£å”¯ä¸€å½“ä¸”ä»…å½“æ‰€æœ‰ç‰¹å¾å€¼å”¯ä¸€ã€‚å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾åˆ†è§£å¯ç”¨äºä¼˜åŒ–äºŒæ¬¡æ–¹ç¨‹ï¼Œå…¶ä¸­é™åˆ¶ï¼Œå½“xç­‰äºAçš„æŸä¸ªç‰¹å¾å‘é‡æ—¶ï¼Œfå°†è¿”å›å¯¹åº”ç‰¹å¾å€¼ã€‚fçš„å€¼åŸŸä½äºç‰¹å¾å€¼æœ€å€¼ä¹‹é—´ã€‚ æ­£å®š(positive definite)/åŠæ­£å®š(positive semidefinite)çŸ©é˜µï¼šæ‰€æœ‰ç‰¹å¾å€¼éƒ½æ˜¯æ•´æ•°/éè´Ÿæ•°ï¼ŒåŠæ­£å®šçŸ©é˜µä¿è¯, ï¼Œæ­£å®šçŸ©é˜µä¿è¯ =&gt; ã€‚ 8. å¥‡å¼‚å€¼åˆ†è§£ å¥‡å¼‚å€¼åˆ†è§£(singular value decomposition, SVD)ï¼šå°†çŸ©é˜µåˆ†è§£ä¸ºå¥‡å¼‚å‘é‡(singular vector)å’Œå¥‡å¼‚å€¼(~ value)ã€‚æ¯ä¸€ä¸ªå®æ•°çŸ©é˜µéƒ½æœ‰ä¸€ä¸ªå¥‡å¼‚å€¼åˆ†è§£ï¼Œä½†ä¸ä¸€å®šéƒ½æœ‰ç‰¹å¾åˆ†è§£ã€‚ä¸ä¸€å®šæ˜¯æ–¹é˜µã€‚ Açš„å¥‡å¼‚å€¼åˆ†è§£ï¼šï¼Œå‡è®¾Aä¸ºmÃ—nï¼Œåˆ™Uä¸ºmÃ—mï¼ŒDä¸ºmÃ—nï¼ŒVä¸ºnÃ—nçš„çŸ©é˜µã€‚çŸ©é˜µUå’ŒVå®šä¹‰ä¸ºæ­£äº¤çŸ©é˜µï¼ŒçŸ©é˜µDå®šä¹‰ä¸ºå¯¹è§’çŸ©é˜µï¼Œä¸ä¸€å®šæ˜¯æ–¹é˜µã€‚å¯¹è§’çŸ©é˜µDå¯¹è§’çº¿ä¸Šçš„å…ƒç´ ç§°ä¸ºAçš„å¥‡å¼‚å€¼ï¼ŒUçš„åˆ—å‘é‡ç§°ä¸ºå·¦å¥‡å¼‚å‘é‡ï¼Œæ˜¯çš„ç‰¹å¾å‘é‡ï¼›Vçš„åˆ—å‘é‡ç§°ä¸ºå³å¥‡å¼‚å‘é‡ï¼Œæ˜¯çš„ç‰¹å¾å‘é‡ã€‚Açš„éé›¶å¥‡å¼‚å€¼æ˜¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç‰¹å¾å€¼çš„å¹³æ–¹æ ¹ã€‚ SVDåº”ç”¨ï¼šæ‹“å±•çŸ©é˜µæ±‚é€†åˆ°éæ–¹çŸ©é˜µä¸Šã€‚ 9. Moore-Penroseä¼ªé€† Moore-Penroseä¼ªé€†ï¼šï¼Œåœ¨æ±‚è§£çº¿æ€§æ–¹ç¨‹Ax=yæ—¶ï¼Œä¸€èˆ¬é€šè¿‡Açš„å·¦é€†Bæ¥æ±‚è§£ï¼šx=Byï¼Œå¦‚æœAçš„è¡Œæ•°å¤§äºåˆ—æ•°ï¼Œé‚£ä¹ˆå¯èƒ½æ²¡æœ‰è§£ï¼Œåä¹‹ï¼Œå¯èƒ½æœ‰å¤šä¸ªè§£ã€‚è®¡ç®—ä¼ªé€†ä½¿ç”¨å…¬å¼ï¼šï¼Œå…¶ä¸­U,D,Véƒ½æ˜¯çŸ©é˜µAå¥‡å¼‚å€¼åˆ†è§£å¾—åˆ°çš„çŸ©é˜µï¼Œå¯¹è§’çŸ©é˜µDçš„ä¼ªé€†æ˜¯å…¶éé›¶å…ƒç´ å–å€’æ•°åå†è½¬ç½®å¾—åˆ°ã€‚ å½“Açš„åˆ—æ•°å¤šäºè¡Œæ•°æ—¶ï¼Œä½¿ç”¨ä¼ªé€†æ±‚è§£çº¿æ€§æ–¹ç¨‹æ˜¯ä¼—å¤šè§£æ³•ä¸­çš„ä¸€ç§ï¼Œç‰¹åˆ«åœ°ï¼Œæ˜¯æ–¹ç¨‹æ‰€æœ‰å¯è¡Œè§£ä¸­æœ€å°çš„ä¸€ä¸ªï¼›å½“è¡Œæ•°å¤šäºåˆ—æ•°æ—¶ï¼Œå¯èƒ½æ²¡æœ‰è§£ï¼Œé€šè¿‡ä¼ªé€†å¾—åˆ°çš„xä½¿å¾—Axå’Œyçš„æ¬§å‡ é‡Œå¾—è·ç¦» æœ€å°ã€‚ 10. è¿¹è¿ç®— è¿¹(Trace)è¿ç®—ï¼šè¿”å›å¯¹è§’å…ƒç´ å’Œï¼š ç”¨å¤„ï¼šæè¿°æ¸…æ™°ï¼Œå¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•å’Œè¿¹è¿ç®—ç¬¦å·æè¿°å¾ˆå¤šçŸ©é˜µè¿ç®—è€Œä¸ä½¿ç”¨æ±‚å’Œç¬¦å·ï¼Œexï¼šFrobeniusèŒƒæ•°ï¼š ã€‚ä¸‹åˆ—ä¸€ç³»åˆ—æ€§è´¨ï¼š Tr(A)=Tr(A) Tr(ABC)=Tr(CAB)=Tr(BCA)ï¼Œå¤šä¸ªçŸ©é˜µç›¸ä¹˜å¾—åˆ°æ–¹é˜µçš„Trï¼Œå’Œå°†æœ€åä¸€ä¸ªçŸ©é˜µæŒªåˆ°å‰é¢å¾—åˆ°çš„Trç›¸åŒ Tr(AB)=Tr(BA)ï¼Œå…¶ä¸­Aâˆˆï¼ŒBâˆˆï¼› a=Tr(a)ï¼Œaæ˜¯æ ‡é‡ 11. è¡Œåˆ—å¼ è¡Œåˆ—å¼ï¼šdet(A)ï¼Œæ˜¯å°†æ–¹é˜µAæ˜ å°„åˆ°å®æ•°çš„å‡½æ•°ï¼Œè¡Œåˆ—å¼ç­‰äºçŸ©é˜µç‰¹å¾å€¼çš„ä¹˜ç§¯ã€‚è¡Œåˆ—å¼çš„ç»å¯¹å€¼å¯ç”¨äºè¡¡é‡çŸ©é˜µå‚ä¸çŸ©é˜µä¹˜æ³•åç©ºé—´æ‰©å¤§æˆ–ç¼©å°äº†å¤šå°‘ï¼šè‹¥è¡Œåˆ—å¼æ˜¯0ï¼Œåˆ™ç©ºé—´è‡³å°‘æ²¿æŸä¸€ç»´å®Œå…¨æ”¶ç¼©ï¼Œå¤±å»æ‰€æœ‰çš„ä½“ç§¯ï¼Œå¦‚æœæ˜¯1ï¼Œåˆ™è¯¥è½¬æ¢ä¿æŒç©ºé—´ä½“ç§¯ä¸å˜ã€‚ å®ä¾‹ï¼šä¸»æˆåˆ†åˆ†æ(principal components analysis, PCA)ï¼šç®€å•MLç®—æ³•ï¼Œå¯é€šè¿‡åŸºç¡€çº¿ä»£çŸ¥è¯†æ¨å¯¼ï¼Œæš‚ä¸”ä¸è°ˆ 0x02 æ¦‚ç‡ä¸ä¿¡æ¯è®º é¢‘ç‡æ´¾æ¦‚ç‡(frequentist probability)ï¼šæ¦‚ç‡ç›´æ¥ä¸æ—¶é—´å‘ç”Ÿçš„é¢‘ç‡ç›¸è”ç³»ï¼Œexï¼šæŠ½ç‰Œ è´å¶æ–¯æ¦‚ç‡(Bayesian probability)ï¼šæ¶‰åŠç¡®å®šæ€§æ°´å¹³ï¼Œexï¼šåŒ»ç”Ÿè¯Šç—… 1. éšæœºå˜é‡ éšæœºå˜é‡(random variable)ï¼šå¯ä»¥éšæœºåœ°å–ä¸åŒå€¼çš„å˜é‡ï¼Œä¸€èˆ¬ç”¨æ— æ ¼å¼å­—ä½“(plain typeface)è¡¨ç¤º 2. æ¦‚ç‡åˆ†å¸ƒ æ¦‚ç‡åˆ†å¸ƒ(probability distribution)ï¼šæè¿°éšæœºå˜é‡ æˆ–ä¸€ç°‡éšæœºå˜é‡åœ¨æ¯ä¸€ä¸ªå¯èƒ½å–åˆ°çš„çŠ¶æ€çš„å¯èƒ½æ€§å¤§å°ï¼Œæè¿°æ–¹å¼é€šå¸¸å–å†³äºéšæœºå˜é‡æ˜¯ç¦»æ•£orè¿ç»­çš„ã€‚ ç¦»æ•£å‹ï¼šç”¨æ¦‚ç‡è´¨é‡å‡½æ•°/æ¦‚ç‡åˆ†å¸ƒå¾‹(probability mass function, PMF)æ¥æè¿°ï¼Œç”¨å¤§å†™å­—æ¯Pè¡¨ç¤ºã€‚exï¼šP(a)/P(x=a)ï¼Œx~P(x)ï¼›å¤šä¸ªå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒä¸ºè”åˆæ¦‚ç‡åˆ†å¸ƒ(joint ~)ï¼Œexï¼šP(x=a, y=b)ï¼ŒP(x, y)ã€‚ è‹¥Pæ˜¯éšæœºå˜é‡xçš„PMFï¼Œåˆ™éœ€è¦æ»¡è¶³æ¡ä»¶ï¼š Pçš„å®šä¹‰åŸŸä¸ºxæ‰€æœ‰å¯èƒ½çŠ¶æ€çš„é›†åˆ âˆ€aâˆˆxï¼ŒP(a)âˆˆ[0, 1] å½’ä¸€åŒ–çš„(normalized)ï¼š è¿ç»­å‹ï¼šç”¨æ¦‚ç‡å¯†åº¦å‡½æ•°(probability density function, PDF)æ¥æè¿°ï¼Œç”¨å°å†™å­—æ¯pè¡¨ç¤ºï¼Œç»™å‡ºäº†è½åœ¨é¢ç§¯ä¸ºÎ´xçš„æ— é™å°çš„åŒºåŸŸå†…çš„æ¦‚ç‡ä¸ºp(x)Î´xã€‚péœ€æ»¡è¶³æ¡ä»¶ï¼š pçš„å®šä¹‰åŸŸä¸ºxæ‰€æœ‰å¯èƒ½çŠ¶æ€çš„é›†åˆ âˆ€aâˆˆxï¼Œp(a)â‰¥0ï¼Œå¹¶ä¸è¦æ±‚å°äºç­‰äº1 é€šè¿‡å¯¹æ¦‚ç‡å¯†åº¦å‡½æ•°æ±‚ç§¯åˆ†æ¥è·å¾—ç‚¹é›†çš„çœŸå®æ¦‚ç‡è´¨é‡ã€‚exï¼š é€šå¸¸ç”¨ x~U(a, b) è¡¨ç¤º x åœ¨ [a, b] ä¸Šæ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œ 3. è¾¹ç¼˜æ¦‚ç‡ è¾¹ç¼˜æ¦‚ç‡(mariginal ~)ï¼šå®šä¹‰åœ¨å­é›†ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒï¼šå·²çŸ¥ä¸€ç»„å˜é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œæƒ³è¦çŸ¥é“å…¶ä¸­ä¸€ä¸ªå­é›†çš„æ¦‚ç‡åˆ†å¸ƒã€‚ ç¦»æ•£å‹ï¼šå·²çŸ¥P(x, y)ï¼Œåˆ™ä½¿ç”¨æ±‚å’Œæ³•åˆ™ï¼šâˆ€âˆˆxï¼ŒP(x=)=P(x = , y = ) è¿ç»­å‹ï¼šå·²çŸ¥p(x, y)ï¼Œç”¨ç§¯åˆ†æ›¿ä»£æ±‚å’Œï¼š 4. æ¡ä»¶æ¦‚ç‡ æ¡ä»¶æ¦‚ç‡ï¼šæŸä¸ªäº‹ä»¶åœ¨ç»™å®šå…¶ä»–äº‹ä»¶å‘ç”Ÿæ—¶å‡ºç°çš„æ¦‚ç‡ ï¼Œåªåœ¨ æ—¶æœ‰å®šä¹‰ã€‚ tipsï¼šä¸è¦æŠŠæ¡ä»¶æ¦‚ç‡å’Œè®¡ç®—é‡‡ç”¨æŸä¸ªåŠ¨ä½œä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆç›¸æ··æ·†ï¼Œåè€…è®¡ç®—ä¸€ä¸ªè¡ŒåŠ¨çš„åæœå±äºå¹²é¢„æŸ¥è¯¢ï¼Œåœ¨å› æœæ¨¡å‹çš„èŒƒç•´ã€‚ æ¡ä»¶æ¦‚ç‡çš„é“¾å¼æ³•åˆ™(chain rule)/ä¹˜æ³•æ³•åˆ™(product rule)ï¼šä»»ä½•å¤šç»´éšæœºå˜é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œéƒ½å¯ä»¥åˆ†è§£æˆåªæœ‰ä¸€ä¸ªå˜é‡çš„æ¡ä»¶æ¦‚ç‡ç›¸ä¹˜çš„å½¢å¼ï¼š 5. ç‹¬ç«‹æ€§/æ¡ä»¶ç‹¬ç«‹æ€§ ç‹¬ç«‹æ€§(independent)ï¼šè‹¥ä¸¤ä¸ªéšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒå¯ä»¥è¡¨ç¤ºæˆä¸¤ä¸ªå¼•å­çš„ä¹˜ç§¯å½¢å¼ï¼Œä¸€ä¸ªå› å­åªåŒ…å«xï¼Œå¦ä¸€ä¸ªåªåŒ…å«yï¼Œåˆ™ç§°ä¸ºç›¸äº’ç‹¬ç«‹ï¼š â€‹ âˆ€âˆˆx, âˆˆy, p(x = , y = ) = p(x = )p(y = )ï¼Œè®°ä½œ xâŠ¥yï¼› æ¡ä»¶ç‹¬ç«‹æ€§(conditionally ~)ï¼šè‹¥å…³äºxå’Œyçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå¯¹äºzçš„æ¯ä¸€ä¸ªå€¼éƒ½å¯ä»¥å†™æˆä¹˜ç§¯å½¢å¼ï¼Œåˆ™xå’Œyåœ¨ç»™å®šéšæœºå˜é‡zæ—¶æ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼š â€‹ âˆ€âˆˆx, âˆˆy, âˆˆz, p(x = , y = | z = ) = p(x = | z = )p(y = | z = )ï¼Œè®°ä½œ xâŠ¥y | z 6. æœŸæœ›/æ–¹å·®/åæ–¹å·® æœŸæœ›(expectation)ï¼šå‡½æ•°f(x)å…³äºæŸåˆ†å¸ƒP(x)çš„æœŸæœ›æŒ‡ï¼Œå½“xç”±Päº§ç”Ÿï¼Œfä½œç”¨äºxæ—¶ï¼Œf(x)çš„å¹³å‡å€¼ã€‚ ç¦»æ•£å‹ï¼šæ±‚å’Œå¾—åˆ°ï¼š è¿ç»­å‹ï¼šç§¯åˆ†ï¼š ä¸€èˆ¬å¯ç®€å†™ä¸º æˆ– ã€‚æœŸæœ›æ˜¯çº¿æ€§çš„ï¼Œexï¼šï¼Œå…¶ä¸­Î±å’ŒÎ²ä¸ä¾èµ–äºxã€‚ æ–¹å·®(variance)ï¼šè¡¡é‡å½“æˆ‘ä»¬å¯¹xä¾æ®å…¶æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé‡‡æ ·æ—¶ï¼Œéšæœºå˜é‡xçš„å‡½æ•°å€¼ä¼šå‘ˆç°å¤šå¤§çš„å·®å¼‚ï¼š å½“æ–¹å·®å¾ˆå°æ—¶ï¼Œf(x)çš„å€¼å½¢æˆçš„ç°‡æ¯”è¾ƒæ¥è¿‘å®ƒä»¬çš„æœŸæœ›å€¼ã€‚æ–¹å·®çš„å¹³æ–¹æ ¹ç§°ä¸ºæ ‡å‡†å·®(standard deviation)ã€‚ åæ–¹å·®(covariance)ï¼šåœ¨æŸç§æ„ä¹‰ä¸Šç»™å‡ºäº†ä¸¤ä¸ªå˜é‡çº¿æ€§ç›¸å…³æ€§çš„å¼ºåº¦ä»¥åŠè¿™äº›å˜é‡çš„å°ºåº¦ï¼š â€‹ åæ–¹å·®ç»å¯¹å€¼å¦‚æœå¾ˆå¤§ï¼Œåˆ™å˜é‡å€¼å˜åŒ–å¾ˆå¤§ï¼Œä¸”å®ƒä»¬åŒæ—¶è·ç¦»å„è‡ªçš„å‡å€¼å¾ˆè¿œã€‚è‹¥åæ–¹å·®ä¸ºæ­£ï¼Œåˆ™ä¸¤ä¸ªå˜é‡å€¾å‘äºåŒæ—¶å–å¾—ç›¸å¯¹è¾ƒå¤§å€¼ï¼›è‹¥ä¸ºè´Ÿï¼Œåˆ™å…¶ä¸­ä¸€ä¸ªå˜é‡å€¾å‘äºå–ç›¸å¯¹è¾ƒå¤§å€¼çš„åŒæ—¶ï¼Œå¦ä¸€å˜é‡å–ç›¸å¯¹è¾ƒå°å€¼ã€‚ ç›¸å…³ç³»æ•°(correlation)ï¼šå°†æ¯ä¸ªå˜é‡çš„è´¡çŒ®å½’ä¸€åŒ–ï¼Œä¸ºäº†åªè¡¡é‡å˜é‡çš„ç›¸å…³æ€§è€Œä¸å—å„ä¸ªå˜é‡å°ºåº¦å¤§å°çš„å½±å“ã€‚ åæ–¹å·®å’Œç›¸å…³æ€§ç›¸è”ç³»ï¼šå¦‚æœç›¸äº’ç‹¬ç«‹ï¼Œåˆ™åæ–¹å·®ä¸º0ï¼Œå¦‚æœåæ–¹å·®ä¸ä¸º0åˆ™ä¸€å®šç›¸å…³ã€‚ä¸¤ä¸ªå˜é‡å¦‚æœåæ–¹å·®ä¸º0ï¼Œåˆ™ä»–ä»¬ä¸€å®šæ²¡æœ‰çº¿æ€§å…³ç³»ï¼Œä½†æ˜¯ä»–ä»¬å¯èƒ½ç›¸äº’ä¾èµ–ï¼›è€Œæ¯”0åæ–¹å·®çš„è¦æ±‚æ›´å¼ºï¼Œè¿˜æ’é™¤äº†éçº¿æ€§çš„å…³ç³»ã€‚ åæ–¹å·®çŸ©é˜µ(covariance matrix)ï¼šéšæœºå‘é‡ âˆˆ çš„åæ–¹å·®çŸ©é˜µä¸º nÃ—n çŸ©é˜µï¼Œæ»¡è¶³ ï¼Œåæ–¹å·®çŸ©é˜µçš„å¯¹è§’å…ƒæ˜¯æ–¹å·®ï¼š 7. å¸¸ç”¨æ¦‚ç‡åˆ†å¸ƒ Bernoulliåˆ†å¸ƒï¼šå•ä¸ªäºŒå€¼éšæœºå˜é‡çš„åˆ†å¸ƒã€‚ç”±å•ä¸ªå‚æ•°Ï†âˆˆ[0, 1]æ§åˆ¶ï¼Œç»™å‡ºäº†éšæœºå˜é‡éƒ½ç­‰äº1çš„æ¦‚ç‡ã€‚å…·æœ‰å¦‚ä¸‹æ€§è´¨ï¼š P(x = 1) = Ï†ï¼ŒP(x = 0) = 1-Ï† å¯ç»¼åˆå†™ä¸ºï¼šP(x = ) = Ï†(1-Ï†)ï¼Œ = 0, 1ï¼Œå…¶ä½™æƒ…å†µP=0 E(x) = Ï†ï¼ŒVar(x) = Ï†(1-Ï†) Multinoulliåˆ†å¸ƒ/èŒƒç•´åˆ†å¸ƒ(categorical ~)ï¼šMultinoulliåˆ†å¸ƒæ˜¯æŒ‡åœ¨å…·æœ‰kä¸ªä¸åŒçŠ¶æ€çš„å•ä¸ªç¦»æ•£å‹éšæœºå˜é‡çš„åˆ†å¸ƒï¼Œkæ˜¯ä¸€ä¸ªæœ‰é™å€¼ã€‚Multinoulliåˆ†å¸ƒç”±å‘é‡ âˆˆ[0, 1]å‚æ•°åŒ–ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªåˆ†é‡ è¡¨ç¤ºç¬¬ i ä¸ªçŠ¶æ€çš„æ¦‚ç‡ã€‚æœ€åç¬¬ k ä¸ªçŠ¶æ€çš„æ¦‚ç‡å¯ä»¥é€šè¿‡ 1 - 1 ç»™å‡ºï¼Œå¿…é¡»é™åˆ¶ 1 â‰¤ 1ã€‚é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¯¹è±¡åˆ†ç±»çš„åˆ†å¸ƒã€‚ Bernoulliåˆ†å¸ƒå’ŒMultinoulliåˆ†å¸ƒè¶³å¤Ÿç”¨æ¥æè¿°åœ¨å®ƒä»¬é¢†åŸŸå†…çš„ä»»æ„åˆ†å¸ƒï¼Œå› ä¸ºå®ƒä»¬çš„é¢†åŸŸå¾ˆç®€å•ã€‚å®ƒä»¬å¯ä»¥å¯¹èƒ½å¤Ÿå°†æ‰€æœ‰çŠ¶æ€è¿›è¡Œæšä¸¾çš„ç¦»æ•£å‹éšæœºå˜é‡è¿›è¡Œå»ºæ¨¡ã€‚å½“å¤„ç†è¿ç»­å‹æ—¶ä¼šæœ‰ä¸å¯æ•°çš„çŠ¶æ€ï¼Œæ•…ä»»ä½•é€šè¿‡å°‘é‡å‚æ•°æè¿°çš„æ¦‚ç‡åˆ†å¸ƒéƒ½å¿…é¡»åœ¨åˆ†å¸ƒä¸ŠåŠ ä»¥ä¸¥æ ¼é™åˆ¶ã€‚ æ­£æ€åˆ†å¸ƒ(normal ~)/é«˜æ–¯åˆ†å¸ƒ(Gaussian ~)ï¼šï¼Œæ­£æ€åˆ†å¸ƒå‘ˆç°\"é’Ÿå½¢æ›²çº¿\"å½¢çŠ¶ï¼Œä¸­å¿ƒå³°çš„xåæ ‡ç”±Î¼ç»™å‡ºï¼Œå³°çš„å®½åº¦ç”±Ïƒæ§åˆ¶ï¼Œæ ‡å‡†æ­£æ€åˆ†å¸ƒå– Î¼=0, Ïƒ=1ã€‚ å½“å¯¹æ¦‚ç‡å¯†åº¦å‡½æ•°æ±‚å€¼æ—¶ï¼Œé€šå¸¸å¯¹ Ïƒ æ±‚å¹³æ–¹ä¸”å–å€’æ•°ï¼Œå½“éœ€è¦ç»å¸¸å¯¹ä¸åŒå‚æ•°ä¸‹çš„æ¦‚ç‡å¯†åº¦å‡½æ•°æ±‚å€¼æ—¶ï¼Œæ›´é«˜æ•ˆçš„å‚æ•°åŒ–åˆ†å¸ƒçš„æ–¹å¼æ˜¯ä½¿ç”¨ âˆˆ(0, âˆ) ã€å³æ–¹å·®çš„å€’æ•°æ¥æ§åˆ¶åˆ†å¸ƒçš„ç²¾åº¦(precision)ã€‚ å½“ç¼ºä¹å…³äºæŸä¸ªå®æ•°ä¸Šåˆ†å¸ƒçš„å…ˆéªŒçŸ¥è¯†æ—¶ï¼Œæ­£æ€åˆ†å¸ƒæ˜¯é»˜è®¤è¾ƒå¥½é€‰æ‹©ï¼ŒåŸå› å¦‚ä¸‹ï¼š ä¸­å¿ƒæé™å®šç†(central limit theorem)è¯´æ˜å¾ˆå¤šç‹¬ç«‹éšæœºå˜é‡çš„å’Œè¿‘ä¼¼æœä»æ­£æ€åˆ†å¸ƒã€‚ åœ¨å…·æœ‰ç›¸åŒæ–¹å·®çš„æ‰€æœ‰å¯èƒ½çš„åˆ†å¸ƒä¸­ï¼Œæ­£æ€åˆ†å¸ƒåœ¨å®æ•°ä¸Šå…·æœ‰æœ€å¤§çš„ä¸ç¡®å®šæ€§ï¼Œæˆ‘ä»¬è®¤ä¸ºæ­£æ€åˆ†å¸ƒæ˜¯å¯¹æ¨¡å‹åŠ å…¥çš„å…ˆéªŒçŸ¥è¯†é‡æœ€å°‘çš„åˆ†å¸ƒã€‚ å¤šç»´æ­£æ€åˆ†å¸ƒ(multivariate ~)ï¼šæ­£æ€åˆ†å¸ƒæ¨å¹¿åˆ°ç©ºé—´ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªæ­£å®šå¯¹ç§°çŸ©é˜µ ï¼š â€‹ ï¼Œå…¶ä¸­exp(x)æŒ‡ å…¶ä¸­å‚æ•° ä»è¡¨ç¤ºåˆ†å¸ƒçš„å‡å€¼ï¼Œä¸è¿‡ç°åœ¨æ˜¯å‘é‡å€¼ï¼Œè€Œå‚æ•° ç»™å‡ºäº†åˆ†å¸ƒçš„åæ–¹å·®çŸ©é˜µï¼ŒåŒå•å˜é‡æƒ…å†µï¼Œé€šå¸¸å¯¹ æ±‚é€†ä»¥æ–¹ä¾¿ç²¾åº¦è®¡ç®—ï¼Œå³ä½¿ç”¨ç²¾åº¦çŸ©é˜µ æ¥æ›¿ä»£ã€‚ é€šå¸¸æŠŠåæ–¹å·®çŸ©é˜µå›ºå®šæˆä¸€ä¸ªå¯¹è§’é˜µã€‚ä¸€ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬æ˜¯å„å‘åŒæ€§(isotropic)é«˜æ–¯åˆ†å¸ƒï¼Œåæ–¹å·®çŸ©é˜µæ˜¯ä¸€ä¸ªæ ‡é‡ä¹˜å•ä½é˜µã€‚ æŒ‡æ•°åˆ†å¸ƒ(exponential ~)ï¼šåœ¨DLä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ä¸€ä¸ªåœ¨ x=0 å¤„å–å¾—è¾¹ç•Œç‚¹(shape point) çš„åˆ†å¸ƒï¼Œä¸ºå®ç°è¿™ä¸€ç›®çš„ï¼Œå¯ä»¥ä½¿ç”¨æŒ‡æ•°åˆ†å¸ƒï¼š$p(x;\\lambda)=\\lambda\\pmb{1}{xâ‰¥0}exp(-\\lambda x)ï¼ŒæŒ‡æ•°åˆ†å¸ƒç”¨æŒ‡ç¤ºå‡½æ•°\\pmb{1}{xâ‰¥0}$ (å¦‚æœæ¡ä»¶ä¸ºçœŸä¸º1ï¼Œå¦åˆ™0)æ¥ä½¿å¾—å½“xè´Ÿå€¼æ—¶çš„æ¦‚ç‡ä¸º0ã€‚ Laplace åˆ†å¸ƒï¼šä¸€ä¸ªè”ç³»ç´§å¯†çš„æ¦‚ç‡åˆ†å¸ƒæ˜¯Laplaceåˆ†å¸ƒï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä»»æ„ä¸€ç‚¹ Î¼ å¤„è®¾ç½®æ¦‚ç‡è´¨é‡çš„å³°å€¼ï¼š Diracåˆ†å¸ƒï¼šåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ¦‚ç‡åˆ†å¸ƒçš„æ‰€æœ‰è´¨é‡éƒ½é›†ä¸­åœ¨ä¸€ä¸ªç‚¹ä¸Šã€‚å¯ä»¥é€šè¿‡Dirac deltaå‡½æ•° Î´(x) å®šä¹‰æ¦‚ç‡å¯†åº¦å‡½æ•°å®ç°ï¼šï¼Œå®šä¹‰æˆåœ¨é™¤äº†0ä»¥å¤–çš„æ‰€æœ‰ç‚¹çš„å€¼éƒ½ä¸º0ï¼Œä½†æ˜¯ç§¯åˆ†ä¸º1ã€‚ä¸åƒæ™®é€šå‡½æ•°ä¸€æ ·å¯¹xçš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå®æ•°å€¼çš„è¾“å‡ºï¼Œæ˜¯å¹¿ä¹‰å‡½æ•°(generalized ~)ï¼Œæ˜¯ä¾æ®ç§¯åˆ†æ€§è´¨å®šä¹‰çš„æ•°å­¦å¯¹è±¡ã€‚å¯ä»¥æŠŠDirac deltaå‡½æ•°æƒ³æˆä¸€ç³»åˆ—å‡½æ•°çš„æé™ç‚¹ï¼Œè¿™ä¸€ç³»åˆ—å‡½æ•°æŠŠé™¤0å¤–çš„æ‰€æœ‰ç‚¹çš„æ¦‚ç‡å¯†åº¦è¶Šå˜è¶Šå°ã€‚é€šè¿‡æŠŠp(x)å®šä¹‰æˆ Î´ å‡½æ•°å·¦ç§» -Î¼ ä¸ªå•ä½ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªåœ¨ x=Î¼ å¤„å…·æœ‰æ— é™çª„ä¹Ÿæ— é™é«˜çš„å³°å€¼çš„æ¦‚ç‡è´¨é‡ã€‚ ç»éªŒåˆ†å¸ƒ(empirical ~)ï¼šDiracåˆ†å¸ƒå¸¸ä½œä¸ºç»éªŒåˆ†å¸ƒçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†å‡ºç°ï¼š ã€‚ç»éªŒåˆ†å¸ƒå°†æ¦‚ç‡å¯†åº¦ èµ‹ç»™mä¸ªç‚¹ ä¸­çš„æ¯ä¸€ä¸ªï¼Œè¿™äº›ç‚¹æ˜¯ç»™å®šçš„æ•°æ®é›†æˆ–é‡‡æ ·çš„é›†åˆã€‚åªæœ‰åœ¨å®šä¹‰è¿ç»­å‹éšæœºå˜é‡çš„ç»éªŒåˆ†å¸ƒæ—¶Dirac deltaå‡½æ•°æ‰æ˜¯å¿…è¦ï¼›è€Œå¯¹äºç¦»æ•£å‹ï¼Œç»éªŒåˆ†å¸ƒå¯ä»¥è¢«å®šä¹‰æˆä¸€ä¸ªMultinoulliåˆ†å¸ƒï¼Œå¯¹äºæ¯ä¸€ä¸ªå¯èƒ½çš„è¾“å…¥ï¼Œå…¶æ¦‚ç‡å¯ä»¥ç®€å•çš„è®¾ä¸ºåœ¨è®­ç»ƒé›†ä¸Šé‚£ä¸ªè¾“å…¥å€¼çš„ç»éªŒé¢‘ç‡(empirical frequency)ã€‚ å½“åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒæ¨¡å‹æ—¶ï¼Œå¯ä»¥è®¤ä¸ºä»è®­ç»ƒé›†ä¸Šå¾—åˆ°çš„ç»éªŒåˆ†å¸ƒæŒ‡æ˜äº†æ‰æ‰¬æ¥æºçš„åˆ†å¸ƒã€‚å®ƒæ˜¯è®­ç»ƒæ•°æ®çš„ä¼¼ç„¶æœ€å¤§çš„é‚£ä¸ªæ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚ æ··åˆåˆ†å¸ƒ(mixture ~)ï¼šæ··åˆåˆ†å¸ƒç”±ä¸€äº›ç»„ä»¶(component)åˆ†å¸ƒæ„æˆï¼Œæ¯æ¬¡å®éªŒæ ·æœ¬æ˜¯ç”±å“ªä¸ªç»„ä»¶åˆ†å¸ƒäº§ç”Ÿçš„å–å†³äºä»ä¸€ä¸ªMultinoulliåˆ†å¸ƒä¸­é‡‡æ ·çš„ç»“æœï¼šï¼Œè¿™é‡ŒPÂ©æ˜¯å¯¹ç»„ä»¶çš„ä¸€ä¸ªMultinoulliåˆ†å¸ƒã€‚exï¼šå®å€¼å˜é‡çš„ç»éªŒåˆ†å¸ƒå¯¹äºæ¯ä¸€ä¸ªè®­ç»ƒå®ä¾‹æ¥è¯´ï¼Œå°±æ˜¯ä»¥Diracåˆ†å¸ƒä¸ºç»„ä»¶çš„æ··åˆåˆ†å¸ƒã€‚ æ··åˆæ¨¡å‹æ˜¯ç®€å•ç»„åˆæ¦‚ç‡åˆ†å¸ƒæ¥ç”Ÿæˆæ›´ä¸°å¯Œçš„åˆ†å¸ƒçš„ä¸€ç§ç®€å•ç­–ç•¥ã€‚ æ½œå˜é‡(latent variable)ï¼šæ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥è§‚æµ‹åˆ°çš„éšæœºå˜é‡ï¼Œexï¼šæ··åˆæ¨¡å‹çš„ç»„ä»¶æ ‡è¯†å˜é‡cã€‚æ½œå˜é‡åœ¨è”åˆåˆ†å¸ƒä¸­å¯èƒ½ä¸xæœ‰å…³ï¼ŒPÂ©å’ŒP(x|c)å…±åŒå†³å®šåˆ†å¸ƒP(x)çš„å½¢çŠ¶ï¼Œåç»­å†æ·±å…¥è®¨è®ºã€‚ é«˜æ–¯æ··åˆæ¨¡å‹(Gaussian Mixture Model)ï¼šå¼ºå¤§ä¸”å¸¸è§çš„æ··åˆæ¨¡å‹ï¼Œå®ƒçš„ç»„ä»¶ æ˜¯é«˜æ–¯åˆ†å¸ƒã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰å„è‡ªçš„å‚æ•°ï¼Œå‡å€¼å’Œåæ–¹å·®çŸ©é˜µ ï¼›æœ‰ä¸€äº›æ··åˆå¯ä»¥æœ‰æ›´å¤šçš„é™åˆ¶ï¼Œexï¼šåæ–¹å·®çŸ©é˜µå¯ä»¥é€šè¿‡ çš„å½¢å¼åœ¨ç»„ä»¶ä¹‹é—´å…±äº«å‚æ•°ã€‚å’Œå•ä¸ªé«˜æ–¯åˆ†å¸ƒä¸€æ ·ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹æœ‰æ—¶ä¼šé™åˆ¶å„ç»„ä»¶çš„åæ–¹å·®çŸ©é˜µä¸ºå¯¹è§’çš„æˆ–å„å‘åŒæ€§çš„ã€‚ å…ˆéªŒæ¦‚ç‡(prior probability)ï¼šé™¤å‡å€¼å’Œåæ–¹å·®å¤–ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹çš„å‚æ•°æŒ‡æ˜äº†ç»™æ¯ä¸ªç»„ä»¶ i çš„å…ˆéªŒæ¦‚ç‡ï¼šã€‚â€œå…ˆéªŒâ€ è¡¨æ˜åœ¨è§‚æµ‹åˆ° x ä¹‹å‰ä¼ é€’ç»™æ¨¡å‹å…³äº c çš„ä¿¡å¿µã€‚ä½œä¸ºå¯¹æ¯”ï¼ŒP(c | x) æ˜¯åéªŒæ¦‚ç‡(posterior ~)ï¼Œæ˜¯è§‚æµ‹åˆ° x ä¹‹å å†è¿›è¡Œè®¡ç®—çš„ã€‚é«˜æ–¯æ··åˆæ¨¡å‹æ˜¯æ¦‚ç‡å¯†åº¦çš„ä¸‡èƒ½è¿‘ä¼¼å™¨(universal approximator)ï¼Œåœ¨è¿™ç§æ„ä¹‰ä¸‹ï¼Œä»»ä½•å¹³æ»‘çš„æ¦‚ç‡å¯†åº¦éƒ½å¯ä»¥ç”¨å…·æœ‰è¶³å¤Ÿå¤šç»„ä»¶çš„é«˜æ–¯æ··åˆæ¨¡å‹ä»¥ä»»æ„ç²¾åº¦æ¥é€¼è¿‘ã€‚ 8. å¸¸ç”¨å‡½æ•°çš„æœ‰ç”¨æ€§è´¨ logistic sigmoidå‡½æ•°ï¼šï¼Œå¸¸ç”¨äº§ç”ŸBernoulliåˆ†å¸ƒä¸­çš„å‚æ•°Ï†ï¼ŒèŒƒå›´(0, 1)ï¼Œsigmoidå‡½æ•°åœ¨å˜é‡å–ç»å¯¹å€¼éå¸¸å¤§çš„æ­£/è´Ÿå€¼æ—¶ä¼šå‡ºç°é¥±å’Œ(saturate)ç°è±¡ï¼Œå‡½æ•°ä¼šå¾ˆå¹³ï¼Œå¯¹è¾“å…¥çš„å¾®å°æ”¹å˜ä¸æ•æ„Ÿã€‚ softpluså‡½æ•°ï¼šï¼Œå¯ç”¨æ¥äº§ç”Ÿæ­£æ€åˆ†å¸ƒçš„ å’Œ å‚æ•°ï¼ŒèŒƒå›´(0, âˆ)ï¼Œå¤„ç†åŒ…å«sigmoidå‡½æ•°çš„è¡¨è¾¾å¼æ—¶ä¹Ÿå¸¸å‡ºç°ã€‚æ˜¯æ­£éƒ¨å‡½æ•° å‡½æ•°çš„å¹³æ»‘(è½¯åŒ–)å½¢å¼ã€‚ å¸¸ç”¨æ€§è´¨ï¼šï¼Œï¼Œï¼Œ tipsï¼šå‡½æ•° åœ¨ç»Ÿè®¡å­¦ä¸­ç§°ä¸ºåˆ†å¯¹æ•°(logit)ï¼Œä½†åœ¨MLä¸­å¾ˆå°‘ç”¨ã€‚ 9. è´å¶æ–¯è§„åˆ™ Bayesâ€™ ruleï¼šåœ¨å·²çŸ¥ , æ—¶è®¡ç®— ï¼šï¼Œå…¶ä¸­ é€šå¸¸ä½¿ç”¨ æ¥è®¡ç®—ï¼Œæ‰€ä»¥å¹¶ä¸éœ€è¦äº‹å…ˆçŸ¥é“çš„ä¿¡æ¯ã€‚ 10. è¿ç»­å‹å˜é‡çš„æŠ€æœ¯ç»†èŠ‚ é›¶æµ‹åº¦(measure zero)ï¼šé›¶æµ‹åº¦é›†åœ¨æˆ‘ä»¬çš„åº¦é‡ç©ºé—´ä¸­ä¸å æœ‰ä»»ä½•çš„ä½“ç§¯ã€‚ å‡ ä¹å¤„å¤„(almost everywhere)ï¼šæŸä¸ªæ€§è´¨å¦‚æœæ˜¯å‡ ä¹å¤„å¤„éƒ½æˆç«‹çš„ï¼Œé‚£ä¹ˆå®ƒåœ¨æ•´ä¸ªç©ºé—´ä¸­é™¤äº†ä¸€ä¸ªæµ‹åº¦ä¸ºé›¶çš„é›†åˆä»¥å¤–éƒ½æ˜¯æˆç«‹çš„ã€‚ JacobiançŸ©é˜µï¼šï¼Œåœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œå¾®åˆ†è¿ç®—æ‹“å±•ä¸ºJacobiançŸ©é˜µçš„è¡Œåˆ—å¼ã€‚å¯¹äºå®å€¼å‘é‡xå’Œyï¼š 11. ä¿¡æ¯è®º ä¿¡æ¯è®ºï¼šä¸»è¦ç ”ç©¶å¯¹ä¸€ä¸ªä¿¡å·åŒ…å«ä¿¡æ¯çš„å¤šå°‘è¿›è¡Œé‡åŒ–ã€‚ ä¸‰ä¸ªæ€§è´¨ï¼š éå¸¸å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶ä¿¡æ¯é‡è¦æ¯”è¾ƒå°‘ è¾ƒä¸å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶å…·æœ‰æ›´é«˜çš„ä¿¡æ¯é‡ ç‹¬ç«‹äº‹ä»¶åº”å…·æœ‰å¢é‡çš„ä¿¡æ¯ æ»¡è¶³ä¸‰ä¸ªæ€§è´¨ï¼Œå®šä¹‰ä¸€ä¸ªäº‹ä»¶ x = çš„è‡ªä¿¡æ¯(self-information) ä¸ºï¼šï¼Œå…¶ä¸­ çš„å•ä½ä¸ºå¥ˆç‰¹(nats)ï¼Œæ˜¯ä»¥ çš„æ¦‚ç‡è§‚æµ‹åˆ°ä¸€ä¸ªäº‹ä»¶æ—¶è·å¾—çš„ä¿¡æ¯é‡ï¼›å…¶ä»–çš„ææ–™ä¸­ä½¿ç”¨åº•æ•°ä¸º2çš„å¯¹æ•°ï¼Œå•ä½ä¸ºæ¯”ç‰¹(bit)æˆ–é¦™å†œ(shannons)ï¼›é€šè¿‡bitåº¦é‡çš„ä¿¡æ¯åªæ˜¯é€šè¿‡natsåº¦é‡ä¿¡æ¯çš„å¸¸æ•°å€ã€‚è‡ªä¿¡æ¯åªå¤„ç†å•ä¸ªçš„è¾“å‡ºã€‚ é¦™å†œç†µ(Shannon entropy)ï¼šå¯¹æ•´ä¸ªæ¦‚ç‡åˆ†å¸ƒä¸­çš„ä¸ç¡®å®šæ€§æ€»é‡è¿›è¡Œé‡åŒ–ï¼š$H(x)=\\mathbb{E}{x\\sim P}[I(x)]=-\\mathbb{E}{x\\sim P}[log(P(x))]ï¼Œä¹Ÿè®°ä½œHÂ§$ã€‚å½“xæ˜¯è¿ç»­çš„ï¼Œé¦™å†œç†µä¹Ÿç§°ä¸ºå¾®åˆ†ç†µ(differential ~)ã€‚ KL æ•£åº¦(Kullback-Leibler(KL) divergence)ï¼šä¸€ä¸ªéšæœºå˜é‡xæœ‰ä¸¤ä¸ªå•ç‹¬çš„æ¦‚ç‡åˆ†å¸ƒ P(x) å’Œ Q(x)ï¼ŒKL æ•£åº¦ç”¨ä»¥è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒçš„å·®å¼‚ï¼Œå¸¸è¢«ç”¨ä½œåˆ†å¸ƒé—´çš„æŸç§è·ç¦»ï¼š$D_{KL}(P||Q)=\\mathbb{E}{x\\sim P}[log\\dfrac{P(x)}{Q(x)}]=\\mathbb{E}{x\\sim P}[logP(x)-logQ(x)]$ã€‚åœ¨ç¦»æ•£å‹å˜é‡æƒ…å†µä¸‹ï¼ŒKL æ•£åº¦è¡¡é‡ï¼šå½“æˆ‘ä»¬ä½¿ç”¨ä¸€ç§è¢«è®¾è®¡æˆèƒ½å¤Ÿä½¿å¾—æ¦‚ç‡åˆ†å¸ƒ Q äº§ç”Ÿçš„æ¶ˆæ¯çš„é•¿åº¦æœ€å°çš„ç¼–ç ï¼Œå‘é€åŒ…å«ç”±æ¦‚ç‡åˆ†å¸ƒ P äº§ç”Ÿçš„ç¬¦å·çš„æ¶ˆæ¯æ—¶ï¼Œæ‰€éœ€è¦çš„é¢å¤–ä¿¡æ¯é‡ã€‚ KL æ•£åº¦æ€§è´¨ï¼šéè´Ÿæ€§ï¼ŒKL æ•£åº¦ä¸º0ï¼Œå½“ä¸”ä»…å½“ P å’Œ Q åœ¨ç¦»æ•£å‹å˜é‡çš„æƒ…å†µä¸‹æ˜¯ç›¸åŒçš„åˆ†å¸ƒï¼Œæˆ–è¿ç»­å‹æ˜¯â€å‡ ä¹å¤„å¤„â€ç›¸åŒçš„ï¼›å…·æœ‰ä¸å¯¹ç§°æ€§ï¼šï¼Œæ„å‘³ç€é€‰æ‹©äºŒè€…ä¹‹ä¸€å½±å“å¾ˆå¤§ã€‚ äº¤å‰ç†µ(cross-entropy)ï¼šÂ§ï¼Œé’ˆå¯¹ Q æœ€å°åŒ–äº¤å‰ç†µç­‰ä»·äºæœ€å°åŒ– KL æ•£åº¦ï¼Œå› ä¸º Q å¹¶ä¸å‚ä¸è¢«çœç•¥çš„é‚£ä¸€é¡¹ã€‚ tipsï¼šè®¡ç®—æ—¶å¸¸è§ 0log0ï¼Œåœ¨ä¿¡æ¯è®ºä¸­å¤„ç†ä¸º ã€‚ 12. ç»“æ„åŒ–æ¦‚ç‡æ¨¡å‹ ç»“æ„åŒ–æ¦‚ç‡æ¨¡å‹(structured probabilistic model)/å›¾æ¨¡å‹(graphical model)ï¼šè¡¨ç¤ºæ¦‚ç‡åˆ†å¸ƒçš„åˆ†è§£ã€‚æ˜¯ç”±ä¸€äº›å¯ä»¥é€šè¿‡è¾¹äº’ç›¸è¿æ¥çš„é¡¶ç‚¹çš„é›†åˆæ„æˆçš„å›¾ã€‚æœ‰ä¸¤ç§ä¸»è¦çš„ç»“æ„åŒ–æ¦‚ç‡æ¨¡å‹ï¼šæœ‰å‘/æ— å‘ï¼Œä¸¤ç§å›¾æ¨¡å‹éƒ½ä½¿ç”¨å›¾ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ç€ä¸€ä¸ªéšæœºå˜é‡ã€‚ æœ‰å‘æ¨¡å‹ï¼šä½¿ç”¨å¸¦æœ‰æœ‰å‘è¾¹çš„å›¾ï¼Œå®ƒä»¬ç”¨æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæ¥è¡¨ç¤ºåˆ†è§£ï¼š$p(\\mathrm{x})=\\prod_ip(\\mathrm{x}i|Pa{\\mathcal{G}}(\\mathrm{x}_i))ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªéšæœºå˜é‡\\mathrm{x}iéƒ½æœ‰ä¸€ä¸ªå½±å“å› å­ï¼Œè¿™ä¸ªç»„æˆå…¶æ¡ä»¶æ¦‚ç‡çš„å½±å“å› å­ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œè®°ä¸ºPa{\\mathcal{G}}$ã€‚ æ— å‘æ¨¡å‹ï¼šä½¿ç”¨å¸¦æœ‰æ— å‘è¾¹çš„å›¾ï¼Œå®ƒä»¬å°†åˆ†è§£è¡¨ç¤ºæˆä¸€ç»„å‡½æ•°ï¼šï¼Œ ä¸­ä»»ä½•æ»¡è¶³ä¸¤ä¸¤é—´æœ‰è¾¹è¿æ¥çš„é¡¶ç‚¹çš„é›†åˆè¢«ç§°ä¸ºå›¢ï¼Œæ¯ä¸ªå›¢ ä¼´éšä¸€ä¸ªå› å­ ã€‚å› å­ä»…æ˜¯å‡½æ•°ï¼Œè€Œéæ¦‚ç‡åˆ†å¸ƒï¼Œæ¯ä¸ªå› å­çš„è¾“å‡ºéè´Ÿã€‚éšæœºå˜é‡çš„è”åˆæ¦‚ç‡ä¸è¿™äº›å› å­çš„ä¹˜ç§¯æˆæ¯”ä¾‹(proportional)ï¼Œå› å­å€¼è¶Šå¤§åˆ™å¯èƒ½æ€§è¶Šå¤§ã€‚ç”±äºä¸ä¿è¯ä¹˜ç§¯æ±‚å’Œä¸º1ï¼Œæ‰€ä»¥éœ€è¦é™¤å½’ä¸€åŒ–å¸¸æ•° æ¥å¾—åˆ°å½’ä¸€åŒ–æ¦‚ç‡åˆ†å¸ƒï¼Œè¯¥å¸¸æ•°è¢«å®šä¹‰ä¸º å‡½æ•°ä¹˜ç§¯çš„æ‰€æœ‰çŠ¶æ€æ±‚å’Œæˆ–ç§¯åˆ†ã€‚ ä»»ä½•æ¦‚ç‡åˆ†å¸ƒéƒ½å¯ä»¥ç”¨è¿™ä¸¤ç§æ–¹å¼è¿›è¡Œæè¿°ã€‚ 0x03 æ•°å€¼è®¡ç®— MLç®—æ³•éœ€è¦å¤§é‡æ•°å€¼è®¡ç®—ï¼Œé€šå¸¸æŒ‡è¿­ä»£è¿‡ç¨‹ä¸­æ›´æ–°è§£çš„ä¼°è®¡å€¼æ¥è§£å†³æ•°å­¦é—®é¢˜çš„ç®—æ³• 1. ä¸Šæº¢/ä¸‹æº¢ ä¸‹æº¢(underflow)ï¼šæ¥è¿‘0çš„æ•°è¢«å››èˆäº”å…¥ä¸º0æ—¶å‘ç”Ÿä¸‹æº¢ã€‚è®¸å¤šå‡½æ•°åœ¨å…¶å‚æ•°ä¸ºé›¶ä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œexï¼šé™¤æ•°ä¸ºé›¶ã€å–é›¶çš„å¯¹æ•°ç­‰ã€‚ ä¸Šæº¢(overflow)ï¼šå½“å¤§é‡çº§çš„æ•°è¢«è¿‘ä¼¼ä¸º æˆ– æ—¶å‘ç”Ÿä¸Šæº¢ã€‚è¿›ä¸€æ­¥çš„è¿ç®—é€šå¸¸ä¼šå¯¼è‡´è¿™äº›æ— é™å€¼å˜ä¸ºéæ•°å­—ã€‚ softmax å‡½æ•°ï¼š$softmax(x)i=\\dfrac{exp(x_i)}{\\sum{j=1}^nexp(x_j)}$ ï¼Œå¸¸ç”¨äºé¢„æµ‹ä¸ Multinoulli åˆ†å¸ƒç›¸å…³è”çš„æ¦‚ç‡ï¼Œå¿…é¡»å¯¹ä¸Šæº¢å’Œä¸‹æº¢è¿›è¡Œæ•°å€¼ç¨³å®šã€‚ 2. ç—…æ€æ¡ä»¶ æ¡ä»¶æ•°ï¼šè¡¨å¾å‡½æ•°ç›¸å¯¹äºè¾“å…¥çš„å¾®å°å˜åŒ–è€Œå˜åŒ–çš„å¿«æ…¢ç¨‹åº¦ã€‚è¾“å…¥è¢«è½»å¾®æ‰°åŠ¨è€Œè¿…é€Ÿæ”¹å˜çš„å‡½æ•°å› å…¶è¾“å…¥ä¸­çš„èˆå…¥è¯¯å·®å¯èƒ½å¯¼è‡´è¾“å‡ºçš„å·¨å¤§å˜åŒ–ã€‚ è€ƒè™‘å‡½æ•° ï¼Œå½“ å…·æœ‰ç‰¹å¾å€¼åˆ†è§£æ—¶ï¼Œå…¶æ¡ä»¶æ•°ä¸ºï¼šï¼Œä¸ºæœ€å¤§å’Œæœ€å°ç‰¹å¾å€¼çš„æ¨¡ä¹‹æ¯”ï¼Œå½“è¯¥æ•°å¾ˆå¤§æ—¶ï¼ŒçŸ©é˜µæ±‚é€†å¯¹è¾“å…¥çš„è¯¯å·®ç‰¹åˆ«æ•æ„Ÿã€‚ 3. åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–æ–¹æ³• ä¼˜åŒ–ï¼šæ”¹å˜ ä»¥æœ€å°åŒ–æˆ–æœ€å¤§åŒ–æŸä¸ªå‡½æ•° çš„ä»»åŠ¡ï¼Œé€šå¸¸ä»¥æœ€å°åŒ– æŒ‡ä»£å¤§å¤šæ•°é—®é¢˜ï¼Œæœ€å¤§åŒ–å¯ç»ç”±æœ€å°åŒ–ç®—æ³•æœ€å°åŒ– æ¥å®ç°ã€‚ ç›®æ ‡å‡½æ•°(objective ~)/å‡†åˆ™(criterion)ï¼šæœ€å°åŒ–æˆ–æœ€å¤§åŒ–çš„å‡½æ•°ï¼Œæœ€å°åŒ–æ—¶ç§°ä¸ºä»£ä»·å‡½æ•°(cost ~)/æŸå¤±å‡½æ•°(loss ~)/è¯¯å·®å‡½æ•°(error ~)ï¼Œé€šå¸¸ä½¿ç”¨ä¸Šæ ‡ * è¡¨ç¤ºæœ€å°åŒ–æˆ–æœ€å¤§åŒ–å‡½æ•°çš„ å€¼ï¼š å¯¼æ•°(derivative)ï¼š ä»£è¡¨ åœ¨ç‚¹ å¤„çš„æ–œç‡ï¼Œæ¢è¨€ä¹‹ï¼Œå®ƒè¡¨æ˜å¦‚ä½•ç¼©æ”¾è¾“å…¥çš„å°å˜åŒ–æ‰èƒ½åœ¨è¾“å‡ºè·å¾—ç›¸åº”çš„å˜åŒ–ï¼š æ¢¯åº¦ä¸‹é™(gradient descent)ï¼šå°† å¾€å€’æ•°çš„åæ–¹å‘ç§»åŠ¨ä¸€å°æ­¥æ¥å‡å° ä¸´ç•Œç‚¹(critical ~)/é©»ç‚¹(stationary ~)ï¼š çš„ç‚¹ å±€éƒ¨æå°ç‚¹(local minimum)/å±€éƒ¨æå¤§ç‚¹ï¼šè¿™ä¸ªç‚¹çš„ å°äº/å¤§äºæ‰€æœ‰ä¸´è¿‘ç‚¹ï¼Œä¸å¯èƒ½é€šè¿‡ç§»åŠ¨æ— ç©·å°çš„æ­¥é•¿æ¥å‡å°/å¢å¤§ éç‚¹(saddle ~)ï¼šä¸´ç•Œç‚¹æ—¢ä¸æ˜¯æœ€å°ç‚¹ä¹Ÿä¸æ˜¯æœ€å¤§ç‚¹ å…¨å±€æœ€å°ç‚¹(global ~)ï¼šä½¿ å–å¾—ç»å¯¹çš„æœ€å°å€¼çš„ç‚¹ åå¯¼æ•°(partial ~)ï¼šé’ˆå¯¹å¤šç»´è¾“å…¥çš„å‡½æ•°ï¼Œ è¡¡é‡ç‚¹ å¤„åªæœ‰ å¢åŠ æ—¶ å¦‚ä½•å˜åŒ– æ¢¯åº¦(gradient)ï¼š ç›¸å¯¹ä¸€ä¸ªå‘é‡æ±‚å¯¼çš„å¯¼æ•°ï¼š çš„æ¢¯åº¦æ˜¯åŒ…å«æ‰€æœ‰åå¯¼æ•°çš„å‘é‡ï¼Œè®°ä¸º ï¼Œå¤šç»´æƒ…å†µä¸‹ä¸´ç•Œç‚¹æ˜¯æ¢¯åº¦æ‰€æœ‰å…ƒç´ éƒ½ä¸º0çš„ç‚¹ æ–¹å‘å¯¼æ•°(directional ~)ï¼šåœ¨ (å•ä½å‘é‡) æ–¹å‘çš„æ–¹å‘å¯¼æ•°æ˜¯å‡½æ•° åœ¨ æ–¹å‘çš„æ–œç‡ï¼Œï¼Œä¸ºäº†æœ€å°åŒ– ï¼Œå¸Œæœ›æ‰¾åˆ°ä¸‹é™çš„æœ€å¿«çš„æ–¹å‘ï¼Œè®¡ç®—æ–¹å‘å¯¼æ•°ï¼š ï¼Œå…¶ä¸­ æ˜¯ ä¸æ¢¯åº¦çš„å¤¹è§’ï¼Œï¼Œå¯çŸ¥ ä¸æ¢¯åº¦æ–¹å‘ç›¸åæ—¶å–å¾—æœ€å°ã€‚ æœ€é€Ÿä¸‹é™æ³•(method of steepest descent)/æ¢¯åº¦ä¸‹é™ï¼šåœ¨è´Ÿæ¢¯åº¦æ–¹å‘ä¸Šç§»åŠ¨å¯ä»¥å‡å° ã€‚æœ€é€Ÿä¸‹é™å»ºè®®æ–°çš„ç‚¹ä¸ºï¼šï¼Œå…¶ä¸­ ä¸ºå­¦ä¹ ç‡(learning rate)ï¼Œæ˜¯ç¡®å®šæ­¥é•¿å¤§å°çš„æ­£æ ‡é‡ã€‚ æ¢¯åº¦ä¸‹é™é™åˆ¶åœ¨è¿ç»­ç©ºé—´çš„ä¼˜åŒ–é—®é¢˜ï¼Œä½†å…¶ä¸€èˆ¬æ¦‚å¿µå¯ä»¥æ¨å¹¿åˆ°ç¦»æ•£ç©ºé—´ï¼Œé€’å¢å¸¦æœ‰ç¦»æ•£å‚æ•°çš„ç›®æ ‡å‡½æ•°ç§°ä¸ºçˆ¬å±±(hill climbing)ç®—æ³•ã€‚ 3.1 æ¢¯åº¦ä¹‹ä¸Šï¼šJacobian/HessiançŸ©é˜µ JacobiançŸ©é˜µï¼šè®¡ç®—è¾“å…¥å’Œè¾“å‡ºéƒ½ä¸ºå‘é‡çš„å‡½æ•°çš„æ‰€æœ‰åå¯¼æ•°ã€‚åŒ…å«æ‰€æœ‰è¿™æ ·çš„åå¯¼æ•°çš„çŸ©é˜µè¢«ç§°ä¸ºJacobiançŸ©é˜µã€‚å‡½æ•° $f: &lt;/span&gt;mathbb{R}^m &lt;/span&gt;rightarrow &lt;/span&gt;mathbb{R}^nï¼Œfçš„çŸ©é˜µJ âˆˆ &lt;/span&gt;mathbb{R}^{nÃ—m}è¢«å®šä¹‰ä¸ºJ_{i, j}=\\dfrac{\\partial}{\\partial x_j}f(x)_i$ äºŒé˜¶å¯¼æ•°(second ~)ï¼šå¯¼æ•°çš„å¯¼æ•°ï¼Œè¡¨ç¤ºä¸€é˜¶å¯¼æ•°å¦‚ä½•éšè¾“å…¥å˜åŒ–è€Œå˜åŒ–ï¼Œ çš„ä¸€é˜¶å¯¼æ•°(å…³äº ) å…³äº çš„å¯¼æ•°è®°ä¸º HessiançŸ©é˜µï¼šäºŒé˜¶å¯¼æ•°çš„çŸ©é˜µï¼ŒHessiançŸ©é˜µ è¢«å®šä¹‰ä¸ºï¼šï¼Œç­‰ä»·äºæ¢¯åº¦çš„ Jacobian çŸ©é˜µã€‚HessiançŸ©é˜µæ˜¯å®å¯¹ç§°çš„ã€‚å½“æˆ‘ä»¬è¦æœ€å°åŒ–çš„å‡½æ•°èƒ½ç”¨äºŒæ¬¡å‡½æ•°å¾ˆå¥½åœ°è¿‘ä¼¼çš„æƒ…å†µä¸‹ï¼ŒHessian çš„ç‰¹å¾å€¼å†³å®šäº†å­¦ä¹ ç‡çš„é‡çº§ã€‚ äºŒé˜¶å¯¼æ•°æµ‹è¯•ï¼šå½“ ä¸” æ—¶ï¼Œ æ˜¯ä¸€ä¸ªå±€éƒ¨æå°ç‚¹ï¼›åŒç† æ—¶ï¼Œ æ˜¯å±€éƒ¨æå¤§ç‚¹ã€‚ä½† æ—¶æµ‹è¯•ä¸ç¡®å®šï¼Œ å¯ä»¥æ˜¯ä¸€ä¸ªéç‚¹æˆ–å¹³å¦åŒºåŸŸçš„ä¸€éƒ¨åˆ†ã€‚ å¤šç»´æƒ…å†µä¸‹ï¼Œéœ€è¦æ£€æµ‹å‡½æ•°çš„æ‰€æœ‰äºŒé˜¶å¯¼æ•°ã€‚åˆ©ç”¨ Hessian çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£ï¼Œå¯ä»¥å°†äºŒé˜¶å¯¼æ•°æµ‹è¯•æ‰©å±•åˆ°å¤šç»´æƒ…å†µï¼Œåœ¨ä¸´ç•Œç‚¹å¤„ï¼Œé€šè¿‡æ£€æµ‹ç‰¹å¾å€¼æ¥åˆ¤æ–­ï¼šå½“Hessianæ˜¯æ­£å®šçš„ï¼Œåˆ™æ˜¯å±€éƒ¨æå°ç‚¹ï¼›è´Ÿå®šåˆ™ä¸ºå±€éƒ¨æå¤§ç‚¹ï¼›å¦‚æœç‰¹å¾å€¼è‡³å°‘ä¸€æ­£ä¸€è´Ÿï¼Œåˆ™ æ˜¯ æŸä¸ªæ¨ªæˆªé¢çš„å±€éƒ¨æå¤§ç‚¹ï¼Œå´æ˜¯å¦ä¸€ä¸ªæ¨ªæˆªé¢çš„å±€éƒ¨æå°ç‚¹ã€‚ ç‰›é¡¿æ³•(Newtonâ€™s method)ï¼šå½“Hessiançš„æ¡ä»¶æ•°å¾ˆå·®æ—¶ï¼Œæ¢¯åº¦ä¸‹é™ä¼šè¡¨ç°çš„å¾ˆå·®ï¼Œç—…æ€æ¡ä»¶ä¹Ÿå¯¼è‡´å¾ˆéš¾é€‰æ‹©åˆé€‚æ­¥é•¿ï¼Œæ•…å¯ä»¥ä½¿ç”¨ Hessian çŸ©é˜µçš„ä¿¡æ¯æ¥æŒ‡å¯¼æœç´¢ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç‰›é¡¿æ³•ï¼ŒåŸºäºä¸€ä¸ªäºŒé˜¶æ³°å‹’å±•å¼€æ¥è¿‘ä¼¼ é™„è¿‘çš„ ï¼š æ¥ç€é€šè¿‡è®¡ç®—å¯å¾—åˆ°å‡½æ•°çš„ä¸´ç•Œç‚¹ï¼š å¦‚æœ æ˜¯ä¸€ä¸ªæ­£å®šäºŒæ¬¡å‡½æ•°ï¼Œåˆ™ç›´æ¥å¼•ç”¨ä¸€æ¬¡å¼2å°±èƒ½ç›´æ¥è·³åˆ°å‡½æ•°æœ€å°ç‚¹ï¼Œå¦‚æœ éçœŸæ­£äºŒæ¬¡ä½†èƒ½å±€éƒ¨è¿‘ä¼¼ä¸ºæ­£å®šäºŒæ¬¡ï¼Œåˆ™éœ€å¤šæ¬¡è¿­ä»£åº”ç”¨å¼2ï¼Œè¿­ä»£åœ°æ›´æ–°è¿‘ä¼¼å‡½æ•°å’Œè·³åˆ°è¿‘ä¼¼å‡½æ•°çš„æœ€å°ç‚¹å¯ä»¥æ¯”æ¢¯åº¦ä¸‹é™æ›´å¿«åœ°åˆ°è¾¾ä¸´ç•Œç‚¹ã€‚ç‰›é¡¿æ³•åœ¨æ¥è¿‘å±€éƒ¨æå°ç‚¹(Hessianæ‰€æœ‰ç‰¹å¾å€¼ä¸ºæ­£)æœ‰ç”¨ï¼Œåœ¨éç‚¹é™„è¿‘æœ‰å®³ã€‚è€Œæ¢¯åº¦ä¸‹é™ä¸ä¼šè¢«å¸å¼•åˆ°éç‚¹ã€‚ ä¸€é˜¶ä¼˜åŒ–ç®—æ³•(first-order optimization ~)ï¼šä»…ä½¿ç”¨æ¢¯åº¦ä¿¡æ¯çš„ä¼˜åŒ–ç®—æ³•ï¼Œexï¼šæ¢¯åº¦ä¸‹é™ äºŒé˜¶ä¼˜åŒ–ç®—æ³•ï¼šä½¿ç”¨ Hessian çŸ©é˜µçš„ä¼˜åŒ–ç®—æ³•ï¼Œexï¼šç‰›é¡¿æ³• Lipschitz è¿ç»­(~ continuous)ï¼šä¼˜åŒ–çš„ä¸»è¦æ–¹æ³•æ˜¯ä¸ºæœ‰é™çš„å‡½æ•°æ—è®¾è®¡ä¼˜åŒ–ç®—æ³•ï¼Œåœ¨DLèƒŒæ™¯ä¸‹ï¼Œé™åˆ¶å‡½æ•°æˆ–å…¶å¯¼æ•°æ»¡è¶³ Lipschitz è¿ç»­å¯ä»¥è·å¾—ä¸€äº›ä¿è¯ã€‚ï¼Œå‡½æ•°çš„å˜åŒ–é€Ÿåº¦ä»¥ Lipschitz å¸¸æ•°(constrant) ä¸ºç•Œ å‡¸ä¼˜åŒ–(Convex optimization)ï¼šæˆ–è®¸æ˜¯æœ€æˆåŠŸçš„ç‰¹å®šä¼˜åŒ–é¢†åŸŸï¼Œé€šè¿‡æ›´å¼ºçš„é™åˆ¶æä¾›æ›´å¤šçš„ä¿è¯ã€‚å‡¸ä¼˜åŒ–ç®—æ³•åªå¯¹å‡¸å‡½æ•°é€‚ç”¨ï¼Œåœ¨æ·±åº¦å­¦ä¹ ä¸­åº”ç”¨å¾ˆå°‘ 4. çº¦æŸä¼˜åŒ– çº¦æŸä¼˜åŒ–(constrained ~)ï¼šåœ¨ çš„æŸäº›é›†åˆ ä¸­æ‰¾ çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ã€‚é›†åˆå†…çš„ç‚¹ ç§°ä¸ºå¯è¡Œ(feasible)ç‚¹ã€‚ Karush-Kuhn-Tucker(KKT) æ–¹æ³•ï¼šé’ˆå¯¹çº¦æŸä¼˜åŒ–éå¸¸é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ Lagrange ä¹˜å­æ³•(åªå…è®¸ç­‰å¼çº¦æŸ) çš„æ¨å¹¿ã€‚ å¹¿ä¹‰ Lagrangian(generalized ~)/å¹¿ä¹‰ Lagrange å‡½æ•°ï¼š é¦–å…ˆé€šè¿‡ç­‰å¼å’Œä¸ç­‰å¼çš„å½¢å¼æè¿° ï¼Œè¡¨ç¤ºä¸ºï¼šï¼Œå…¶ä¸­æ¶‰åŠ çš„ç­‰å¼ç§°ä¸ºç­‰å¼çº¦æŸ(equality ~)ï¼Œæ¶‰åŠ çš„ä¸ç­‰å¼ä¸ºä¸ç­‰å¼çº¦æŸï¼› éšåä¸ºæ¯ä¸ªçº¦æŸå¼•å…¥æ–°çš„å˜é‡ å’Œ ï¼Œè¿™äº›æ–°å˜é‡ä¸º KKT ä¹˜å­ï¼Œå¹¿ä¹‰ Largrangian å¯ä»¥å®šä¹‰ä¸ºï¼š KKT æ¡ä»¶ï¼šæ˜¯æè¿°ä¼˜åŒ–é—®é¢˜çš„æœ€ä¼˜ç‚¹çš„ä¸€ç»„ç®€å•æ€§è´¨ï¼Œæ˜¯ç¡®å®šä¸€ä¸ªç‚¹æ˜¯æœ€ä¼˜ç‚¹çš„å¿…è¦æ¡ä»¶ï¼Œä½†ä¸ä¸€å®šå……åˆ†ï¼š å¹¿ä¹‰ Lagrangian çš„æ¢¯åº¦ä¸º0 æ‰€æœ‰å…³äº å’Œ KKT ä¹˜å­çš„çº¦æŸéƒ½æ»¡è¶³ ä¸ç­‰å¼çº¦æŸæ˜¾ç¤ºçš„â€äº’è¡¥æ¾å¼›æ€§â€ï¼š å®ä¾‹ï¼šçº¿æ€§æœ€å°äºŒä¹˜ï¼šæ‰¾åˆ°æœ€å°åŒ–å³å¼çš„ å€¼ï¼š end.","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"}]},{"title":"2022ä¿ç ”å¤ä»¤è¥éšç¬”","slug":"life/å¤ä»¤è¥","date":"2022-07-07T12:00:00.000Z","updated":"2022-07-22T09:51:12.433Z","comments":true,"path":"/post/life/å¤ä»¤è¥.html","link":"","permalink":"https://maskros.top/post/life/%E5%A4%8F%E4%BB%A4%E8%90%A5.html","excerpt":"","text":"å­¦æ ¡ æ–¹å‘ æ˜¯å¦å…¥è¥ é¢è¯•æ—¶é—´ æ˜¯å¦ä¼˜è¥ å¤‡æ³¨ å¤æ—¦å¤§å­¦FDU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - æŠ•ç€å›¾ä¸€ä¹ ä¸­å—å¤§å­¦CSU è®¡ç®—æœºå­¦ç¡• âœ… 6/30 âœ…(å…ˆæŠ¥å…ˆå½•ğŸ˜…) åƒåœ¾ç³»ç»Ÿ é¢è¯•è‹±æ–‡è‡ªæˆ‘ä»‹ç»ï¼Œæ²¡å‡†å¤‡ï¼Œå¯„ =&gt; è¿™ä¹Ÿè¿‡äº†ï¼Œä»€ä¹ˆæµ·ç‹ åä¸œå¸ˆèŒƒå¤§å­¦ECNU è½¯å·¥ä¸“ç¡•/è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - - æ­¦æ±‰å¤§å­¦WHU é¥æ„Ÿå›½é‡ CVå­¦ç¡• âœ… 7/7 âœ… xmWHU, æœ€ç»ˆå»å‘ ä¸­å›½ç§‘å­¦é™¢ä¸Šæµ·é«˜ç ”é™¢UCAS ï¼Ÿ âœ… 7/14(é¸½) - ä¸Šç½‘å†²æµªæ—¶æ„Ÿè§‰è¯„ä»·ä¸€èˆ¬ï¼Œå¸ˆèµ„ä¸€èˆ¬ï¼Œä¸”ä¸æ‡‚æä»€ä¹ˆçš„ï¼Œé¸½ å¦é—¨å¤§å­¦XMU äººå·¥æ™ºèƒ½ä¸“ç¡• âœ–ï¸ - - - ä¸Šæµ·ç§‘æŠ€å¤§å­¦STU ç”Ÿç‰©åŒ»å­¦å·¥ç¨‹BME âœ… 7/22(é¸½) - æ…•åè€ŒæŠ•ï¼Œä½†å› äº†è§£ä¸å¤šï¼Œä¸”7/7åé€‰æ‹©èººå¹³å¼€æ‘†ï¼Œé¸½ ä¸­å±±å¤§å­¦SYSU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - - å±±ä¸œå¤§å­¦SDU è®¡ç®—æœºå­¦ç¡• âœ–ï¸ - - å“ˆå“ˆ è¥¿å®‰äº¤é€šå¤§å­¦XJTU è½¯å·¥å­¦ç¡• âœ… 6/28 âœ… æµ·ç‹è¥ åä¸­ç§‘æŠ€å¤§å­¦HUST äººå·¥æ™ºèƒ½(x)è‡ªåŠ¨åŒ–(âˆš)å­¦ç¡• âœ… 7/7(é¸½) - æŠ¥æˆæ§åˆ¶ç§‘å­¦ä¸å·¥ç¨‹äº†ï¼Œæˆ‘ä»¥ä¸ºæ˜¯cvï¼ŒåŸæ¥æ˜¯æ¢çš®è‡ªåŠ¨åŒ–ï¼Œç»·ä¸ä½äº†ï¼Œé‚é¸½ å±±ä¸œå¤§å­¦iLearnå®éªŒå®¤ å¤šåª’ä½“ä¿¡æ¯å¤„ç† âœ…(å®éªŒå®¤é¢) 7/7 âœ…(åé¢) ä¸‰ä¸ªå­¦é•¿è½®æµé—®ï¼Œæ¦‚ç‡é¢˜æ•´ä¸ªå¯„çƒ‚ï¼Œä½†æ˜¯å°è±¡ä¸é”™ï¼Œé‰´å®šä¸ºä¼˜ç§€","categories":[{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"}],"tags":[{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"}]},{"title":"ã€Šé¢è¯•åœ£ç»ã€‹","slug":"note/é¢è¯•åœ£ç»","date":"2022-07-03T16:00:00.000Z","updated":"2022-09-25T16:48:19.119Z","comments":true,"path":"/post/note/é¢è¯•åœ£ç».html","link":"","permalink":"https://maskros.top/post/note/%E9%9D%A2%E8%AF%95%E5%9C%A3%E7%BB%8F.html","excerpt":"","text":"author: Maskros æ•°å­¦ çº¿æ€§ä»£æ•° çº¿æ€§ç›¸å…³/æ— å…³ï¼š å¯¹äºä¸€ç»„å‘é‡ï¼Œå¦‚æœå­˜åœ¨ä¸€ç»„ä¸å…¨ä¸º0çš„æ•´æ•°ï¼Œä½¿å¾—ï¼Œé‚£ä¹ˆè¿™ç»„å‘é‡æ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œåä¹‹ä¸ºçº¿æ€§æ— å…³çš„ã€‚ çŸ©é˜µçš„ç§©ï¼šr(A) çŸ©é˜µçš„æ‰€æœ‰è¡Œå‘é‡ä¸­æå¤§çº¿æ€§æ— å…³ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚ ä»»ä½•çŸ©é˜µçš„è¡Œç©ºé—´çš„ç»´æ•°ç­‰äºçŸ©é˜µçš„åˆ—ç©ºé—´çš„ç»´æ•°ç­‰äºçŸ©é˜µçš„ç§©ã€‚ ç‰¹å¾å€¼/ç‰¹å¾å‘é‡ï¼š xåœ¨Açš„ä½œç”¨ä¸‹ï¼Œä¿æŒæ–¹å‘ä¸å˜è¿›è¡Œæ¯”ä¾‹ä¸º çš„ä¼¸ç¼© ç‰¹å¾å‘é‡å…¶å®ååº”çš„æ˜¯çŸ©é˜µAæœ¬èº«å›ºæœ‰çš„ä¸€äº›ç‰¹å¾ çŸ©é˜µæ‰€æœ‰çš„ç‰¹å¾å‘é‡ç»„æˆäº†è¿™ä¸ªå‘é‡ç©ºé—´çš„ä¸€ç»„åŸºåº•ã€‚è€ŒçŸ©é˜µä½œä¸ºå˜æ¢çš„æœ¬è´¨å…¶å®ä¸å°±æŠŠä¸€ä¸ªåŸºåº•ä¸‹çš„ä¸œè¥¿å˜æ¢åˆ°å¦ä¸€ä¸ªåŸºåº•è¡¨ç¤ºçš„ç©ºé—´ä¸­ çŸ©é˜µçš„è¿¹ï¼šå¯¹è§’çº¿å…ƒç´ å’Œ çŸ©é˜µçš„é€†ï¼šçŸ©é˜µAä¸çŸ©é˜µBå·¦ä¹˜æˆ–è€…å³ä¹˜å¾—åˆ°çš„ç»“æœéƒ½ä¸ºå•ä½çŸ©é˜µï¼Œåˆ™ABäº’ç›¸ä¸ºé€† çŸ©é˜µçš„é€†çš„æœ€é‡è¦çš„å‡ ä½•æ„ä¹‰ ï¼š å¯¹ä¸€ä¸ªç©ºé—´ç‚¹æ¥è¯´ï¼Œä¹˜ä¸Šä¸€ä¸ªçŸ©é˜µï¼Œè¿™ä¸ªç©ºé—´ç‚¹å°±ä½œäº†ç›¸å¯¹åº”çš„å‡ ä½•å˜æ¢ï¼›å¦‚æœæƒ³è¦æ’¤é”€è¿™ä¸ªå˜æ¢ï¼Œå°±éœ€è¦ä¹˜ä¸Šè¿™ä¸ªçŸ©é˜µçš„é€†ã€‚ ç›¸ä¼¼çŸ©é˜µï¼šä¸€ä¸ªçŸ©é˜µå¯ä»¥ç»è¿‡ç»è¿‡åˆç­‰è¡Œåˆ—å˜æ¢åå˜æˆå¦ä¸€ä¸ªçŸ©é˜µï¼Œå¯é€†çŸ©é˜µä½¿ , Aå’ŒBç›¸ä¼¼ã€‚ æ­£äº¤çŸ©é˜µï¼šæ­£äº¤çŸ©é˜µæ˜¯æŒ‡çŸ©é˜µçš„è½¬ç½®ç­‰äºçŸ©é˜µçš„é€†çš„çŸ©é˜µã€‚ çŸ©é˜µçš„è½¬ç½®å’ŒçŸ©é˜µçš„ä¹˜ç§¯=å•ä½çŸ©é˜µï¼Œé‚£ä¹ˆè¿™ä¸ªçŸ©é˜µå°±æ˜¯æ­£äº¤çŸ©é˜µï¼Œå®ƒçš„åˆ—å‘é‡ç»„ä¸€å®šæ˜¯æ ‡å‡†æ­£äº¤å‘é‡ç»„ã€‚ åˆåŒçŸ©é˜µï¼šA, B ä¸¤ä¸ªné˜¶æ–¹é˜µï¼Œå¯é€†çŸ©é˜µ ä½¿ , ç§°ä¸º A ä¸ B åˆåŒï¼Œè®°ä½œ äºŒæ¬¡å‹ï¼šnä¸ªå˜é‡çš„äºŒæ¬¡å¤šé¡¹å¼ç§°ä¸ºäºŒæ¬¡å‹ï¼Œå³åœ¨ä¸€ä¸ªå¤šé¡¹å¼ä¸­ï¼ŒæœªçŸ¥æ•°çš„ä¸ªæ•°ä¸ºä»»æ„å¤šä¸ªï¼Œä½†æ¯ä¸€é¡¹çš„æ¬¡æ•°éƒ½ä¸º2çš„å¤šé¡¹å¼ æ­£å®šçŸ©é˜µ/åŠæ­£å®šçŸ©é˜µï¼Ÿ(ç‰¹å¾å€¼å…¨å¤§äº0çš„çŸ©é˜µå°±æ˜¯æ­£å®šçŸ©é˜µ) å¯¹nÃ—nçš„å®å¯¹ç§°çŸ©é˜µAï¼Œä»»æ„é•¿åº¦ä¸ºçš„éé›¶å‘é‡ , / æ’æˆç«‹ æ–¹ç¨‹ç»„è§£çš„åˆ¤æ–­ï¼š å‘é‡çš„åŸºä¸ç»´æ•°ï¼š æ–½å¯†ç‰¹æ­£äº¤åŒ–ï¼š(PCAé™ç»´) ä½™å­å¼/ä»£æ•°ä½™å­å¼ ä¼´éšçŸ©é˜µï¼š ç—…æ€æ–¹ç¨‹ç»„æ±‚è§£ï¼š ç—…æ€çº¿æ€§æ–¹ç¨‹ç»„ï¼Œå³å¯¹äºçº¿æ€§æ–¹ç¨‹ç»„ y=Axï¼Œç³»æ•°çŸ©é˜µ A çš„æ¡ä»¶æ•°å¾ˆå¤§ï¼Œy å’Œ A çš„è½»å¾®å˜åŒ–ä¹Ÿä¼šå¯¼è‡´è§£ x æœ‰æå¤§å˜åŒ–ã€‚å¸¸ç”¨SVDæ–¹æ³•ã€‚ æ¦‚ç‡ç»Ÿè®¡ è´å¶æ–¯æ¦‚ç‡ï¼šå…¨æ¦‚ç‡å…¬å¼åè¿‡æ¥ å½“å·²çŸ¥ç»“æœï¼Œé—®å¯¼è‡´è¿™ä¸ªç»“æœçš„ç¬¬iåŸå› çš„å¯èƒ½æ€§æ˜¯å¤šå°‘ï¼Ÿ å…ˆéªŒæ¦‚ç‡ åéªŒæ¦‚ç‡ å¤§æ•°å®šå¾‹(è¾›é’¦ã€ä¼¯åŠªåˆ©ã€åˆ‡æ¯”é›ªå¤«)ï¼šå¤§æ•°å®šå¾‹è¯æ˜äº†åœ¨å¤§æ ·æœ¬æ¡ä»¶ä¸‹, æ ·æœ¬å¹³å‡å€¼å¯ä»¥çœ‹ä½œæ˜¯æ€»ä½“å¹³å‡å€¼(æ•°å­¦æœŸæœ›)ï¼Œ(ä¾æ¦‚ç‡æ”¶æ•›ä¸ºæœŸæœ›) æ‰€ä»¥åœ¨ç»Ÿè®¡æ¨æ–­ä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ ·æœ¬å¹³å‡æ•°ä¼°è®¡æ€»ä½“å¹³å‡æ•°çš„å€¼ã€‚ å¤§æ•°å®šå¾‹å‘Šè¯‰æˆ‘ä»¬èƒ½ç”¨é¢‘ç‡è¿‘ä¼¼ä»£æ›¿æ¦‚ç‡ï¼›èƒ½ç”¨æ ·æœ¬å‡å€¼è¿‘ä¼¼ä»£æ›¿æ€»ä½“å‡å€¼ã€‚ ä¸­å¿ƒæé™å®šç†ï¼šä¸­å¿ƒæé™å®šç†æŒ‡çš„æ˜¯ç»™å®šä¸€ä¸ªä»»æ„åˆ†å¸ƒçš„æ€»ä½“ã€‚æˆ‘æ¯æ¬¡ä»è¿™äº›æ€»ä½“ä¸­éšæœºæŠ½å– n ä¸ªæŠ½æ ·ï¼Œä¸€å…±æŠ½ m æ¬¡ã€‚ ç„¶åæŠŠè¿™ m ç»„æŠ½æ ·åˆ†åˆ«æ±‚å‡ºå¹³å‡å€¼ã€‚ è¿™äº›å¹³å‡å€¼çš„åˆ†å¸ƒæ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚ ä»€ä¹ˆæ˜¯è¾¹ç¼˜æ¦‚ç‡å¯†åº¦ï¼š äºŒç»´åˆ†å¸ƒå‡½æ•° f(x, y) ä¸Šå›¾ä¸ºè¾¹ç¼˜åˆ†å¸ƒå‡½æ•°ï¼šä¸€æ®µåŒºé—´çš„æ¦‚ç‡å’Œ ä¸‹å›¾ä¸ºè¾¹ç¼˜å¯†åº¦å‡½æ•°(xå¯¹yç§¯ï¼Œyå¯¹xç§¯)ï¼šç‚¹çš„æ¦‚ç‡ æå¤§ä¼¼ç„¶ä¼°è®¡ï¼šæœ€å¤§ä¼¼ç„¶ä¼°è®¡å°±æ˜¯å¯»æ‰¾æœ€ä¼˜å‚æ•°(ä»¥æ­£æ€åˆ†å¸ƒä¸ºä¾‹ï¼Œå¾…æ±‚å‚æ•°ä¸ºå‡å€¼ å’Œæ–¹å·® ï¼Œä½¿è§‚æµ‹æ•°æ®å‘ç”Ÿçš„æ¦‚ç‡æœ€å¤§ã€ç»Ÿè®¡æ¨¡å‹ä¸çœŸå®æ•°æ®æœ€ç›¸è¿‘ã€‚ æ–¹æ³•ï¼š å†™å‡ºæ€»ä½“åˆ†å¸ƒæ¦‚ç‡å¯†åº¦å‡½æ•° å†™å‡ºä¼¼ç„¶å‡½æ•° P( x | Î¸ ) (xå·²çŸ¥ï¼ŒÎ¸æ˜¯å˜é‡) å–å¯¹æ•° æ±‚å¯¼ï¼Œä»¤å…¶ç­‰äº0æ±‚è§£ä¼°è®¡çš„å‚æ•° è®¡ç®—Ï€çš„æ–¹æ³•ï¼šè’™ç‰¹å¡æ´›æ–¹æ³• é«˜æ•° å‡½æ•°çš„é˜¶ï¼šå®ƒçš„né˜¶å¯¼æ˜¯å¸¸æ•°å°±ä»£è¡¨å®ƒæ˜¯né˜¶å‡½æ•°ã€‚ ä¸­å€¼å®šç†ï¼šæ‹‰æ ¼æœ—æ—¥ä¸­å€¼å®šç†æ˜¯ç½—å°”ä¸­å€¼å®šç†çš„æ¨å¹¿ã€æŸ¯è¥¿ä¸­å€¼å®šç†æ˜¯æ‹‰æ ¼å°”æœ—æ—¥ä¸­å€¼å®šç†çš„æ¨å¹¿ï¼šæŸ¯è¥¿(ä¸¤ä¸ªå‡½æ•°) &gt; æ‹‰æ ¼æœ—æ—¥ &gt; ç½—å°” æ³°å‹’å…¬å¼ï¼šå¤šé¡¹å¼å‡½æ•°æ¥é€¼è¿‘çœŸå®å‡½æ•°ï¼Œå½“ä¸”åœ¨x=x0çš„é‚»åŸŸæœ‰n+1é˜¶å¯¼æ•° æ‹‰æ ¼æœ—æ—¥ä½™é¡¹ï¼šn+1é¡¹ç³»æ•°æ¢æˆ å¯èµ›kesai çš®äºšè¯ºä½™é¡¹ï¼šé«˜é˜¶æ— ç©·å° æ¢¯åº¦/æ–¹å‘å¯¼æ•°/æ¢¯åº¦ä¸‹é™ï¼š æ–¹å‘å¯¼æ•°ï¼šæ–¹å‘å¯¼æ•°æ˜¯å„ä¸ªæ–¹å‘ä¸Šçš„å¯¼æ•° æ¢¯åº¦ï¼šåå¯¼æ•°è¿ç»­æ‰æœ‰æ¢¯åº¦å­˜åœ¨ã€‚æ–¹å‘å¯¼æ•°ä¸­å–åˆ°æœ€å¤§å€¼çš„æ–¹å‘ã€‚ æ¢¯åº¦ä¸‹é™ï¼šæŸå¤±å‡½æ•°å°±æ˜¯ä¸€ä¸ªè‡ªå˜é‡ä¸ºç®—æ³•çš„å‚æ•°ï¼Œå‡½æ•°å€¼ä¸ºè¯¯å·®å€¼çš„å‡½æ•°ã€‚æ¢¯åº¦ä¸‹é™å°±æ˜¯æ‰¾è®©è¯¯å·®å€¼æœ€å°æ—¶å€™ç®—æ³•å–çš„å‚æ•°ã€‚ æé™çš„å®šä¹‰ï¼š Ï€å€¼çš„è®¡ç®—ï¼š è’™ç‰¹å¡ç½—æ–¹æ³•ï¼šä¸€ä¸ªæ­£æ–¹å½¢çš„å†…åˆ‡åœ†ï¼Œç”¨éšæœºæ•°ç”Ÿæˆå¤§äºé›¶å°äº1çš„ç‚¹ï¼Œè½åœ¨åœ†å†…çš„æ¦‚ç‡æ˜¯åœ†é¢ç§¯ä¸æ­£æ–¹å½¢é¢ç§¯çš„æ¯”ï¼ˆè¿‘ä¼¼ï¼‰p=Ï€/4,ç”±äºå½“è®¡ç®—æ¬¡æ•°è¶Šå¤§ï¼Œå®éªŒæ¦‚ç‡è¶Šæ¥è¿‘ç†è®ºæ¦‚ç‡ acos(-1.0) å‰²åœ†æ³• è®¡ç®—æœºç½‘ç»œ TCP 3æ¬¡æ¡æ‰‹/4æ¬¡æŒ¥æ‰‹ è¿æ¥å»ºç«‹ï¼Œåˆ†ä¸º3æ­¥ (ABA) é‡Šæ”¾è¿æ¥ï¼Œåˆ†ä¸º4æ­¥ (ABBA) TCP/UDPåŒºåˆ«ï¼š UDP æ— è¿æ¥çš„éå¯é ä¼ è¾“å±‚åè®® å‘ä¸Šæä¾›ä¸€æ¡ä¸å¯é çš„é€»è¾‘ä¿¡é“ é¢å‘æŠ¥æ–‡æµ TCP é¢å‘è¿æ¥çš„ä¼ è¾“æ§åˆ¶åè®® å‘ä¸Šæä¾›ä¸€æ¡å…¨åŒå·¥çš„å¯é é€»è¾‘ä¿¡é“ é¢å‘å­—èŠ‚æµ æ‹¥å¡é¿å… æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ æµè§ˆå™¨è¾“å…¥URLåçš„è¿‡ç¨‹ï¼š â‘  åŸŸåè§£ææŠŠåŸŸåè§£ææˆIPåœ°å€ DNSåŸŸåè§£æç³»ç»Ÿ â‘¡ æŠŠIPå‘é€åˆ°ç½‘ç»œä¾›åº”ç«¯ï¼Œå»æ‰¾ç›¸å¯¹åº”çš„ä¸»æœºæœåŠ¡å™¨ â‘¢ TCPçš„ä¸‰æ¬¡æ¡æ‰‹ å»ºç«‹è¿æ¥ ï¼ˆTCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œåç»­ä¼šä¸Šä¼ ï¼‰ â‘£ å¼€å§‹å‘é€è¯·æ±‚ å–å›å…¥å£æ–‡ä»¶ â‘¤ å¼€å§‹è§£æå…¥å£æ–‡ä»¶ï¼Œå¹¶å–å›éœ€è¦çš„èµ„æº â‘¥ è¿›è¡Œåç»­æ“ä½œ Socketï¼šå¥—æ¥å­—=(ä¸»æœºIPï¼Œç«¯å£å·) Socketæ˜¯ä¸€ç»„ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ã€‚ä»‹äºä¼ è¾“å±‚å’Œåº”ç”¨å±‚ï¼Œå‘åº”ç”¨å±‚æä¾›ç»Ÿä¸€çš„ç¼–ç¨‹æ¥å£ã€‚åº”ç”¨å±‚ä¸å¿…äº†è§£TCP/IPåè®®ç»†èŠ‚ã€‚ç›´æ¥é€šè¿‡å¯¹Socketæ¥å£å‡½æ•°çš„è°ƒç”¨å®Œæˆæ•°æ®åœ¨IPç½‘ç»œçš„ä¼ è¾“ã€‚ HTTP/HTTPSï¼š HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³• HTTPSæ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTPåè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPSä½¿ç”¨äº†SSL/TLSåè®®è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚ httpå’Œhttpsä½¿ç”¨è¿æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œhttpæ˜¯80ï¼Œhttpsæ˜¯443ã€‚ æ“ä½œç³»ç»Ÿ è¿›ç¨‹/çº¿ç¨‹ï¼š è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºè°ƒåº¦å’Œåˆ†é…çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ çº¿ç¨‹æ˜¯è¿›ç¨‹çš„å®ä½“ï¼Œæ˜¯CPUè°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œå®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œæ²¡æœ‰èµ„æº ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹ä¹Ÿå¯ä»¥å¹¶å‘æ‰§è¡Œ è¿›ç¨‹æ˜¯ç”±ç¨‹åº+PCB+æ•°æ®æ„æˆ æ­»é”ï¼š åœ¨ä¸¤ä¸ªæˆ–è€…å¤šä¸ªå¹¶å‘è¿›ç¨‹ä¸­ï¼Œå¦‚æœæ¯ä¸ªè¿›ç¨‹æŒæœ‰æŸç§èµ„æºè€Œåˆç­‰å¾…å…¶å®ƒè¿›ç¨‹é‡Šæ”¾å®ƒæˆ–å®ƒä»¬ç°åœ¨ä¿æŒç€çš„èµ„æºï¼Œåœ¨æœªæ”¹å˜è¿™ç§çŠ¶æ€ä¹‹å‰éƒ½ä¸èƒ½å‘å‰æ¨è¿›ï¼Œç§°è¿™ä¸€ç»„è¿›ç¨‹äº§ç”Ÿäº†æ­»é”ã€‚é€šä¿—çš„è®²å°±æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹æ— é™æœŸçš„é˜»å¡ã€ç›¸äº’ç­‰å¾…çš„ä¸€ç§çŠ¶æ€ã€‚ äº§ç”Ÿçš„å››ä¸ªæ¡ä»¶ äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—èµ„æºä¿æŒä¸æ”¾ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹è·å¾—çš„èµ„æºï¼Œåœ¨æœªå®Œå…¨ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„ç¯å½¢ç­‰å¾…èµ„æºå…³ç³» åˆ†é¡µ/åˆ†æ®µï¼š æ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå®ƒæ˜¯æ ¹æ®ç”¨æˆ·çš„éœ€è¦åˆ’åˆ†çš„ï¼Œå› æ­¤æ®µå¯¹ç”¨æˆ·æ˜¯å¯è§çš„ ï¼›é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œæ˜¯ä¸ºäº†ç®¡ç†ä¸»å­˜çš„æ–¹ä¾¿è€Œåˆ’åˆ†çš„ï¼Œå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ã€‚ æ®µçš„å¤§å°ä¸å›ºå®šï¼Œæœ‰å®ƒæ‰€å®Œæˆçš„åŠŸèƒ½å†³å®šï¼›é¡µå¤§å¤§å°å›ºå®šï¼Œç”±ç³»ç»Ÿå†³å®š æ®µå‘ç”¨æˆ·æä¾›äºŒç»´åœ°å€ç©ºé—´ï¼›é¡µå‘ç”¨æˆ·æä¾›çš„æ˜¯ä¸€ç»´åœ°å€ç©ºé—´ æ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œä¾¿äºå­˜å‚¨ä¿æŠ¤å’Œä¿¡æ¯çš„å…±äº«ï¼Œé¡µçš„ä¿æŠ¤å’Œå…±äº«å—åˆ°é™åˆ¶ã€‚ æ®µé¡µå¼ å…ˆåˆ†æ®µã€å†åˆ†é¡µ æ•°æ®ç»“æ„ topké—®é¢˜çš„ä¸‰ç§è§£æ³•ï¼šå†’æ³¡(O(kn))ï¼Œå †ä¼˜åŒ–(O(Nlogk), å°é¡¶å †)ï¼Œå¿«æ’(O(N), åˆ†æ²», é€’å½’, partition è¿”å›æ¥çš„æ˜¯kåœæ­¢)ï¼Œä¸»å¸­æ ‘(ä¸»å¸­æ ‘ç»´æŠ¤æ¡¶æ±‚é™æ€åŒºé—´ç¬¬kå¤§) https://www.jianshu.com/p/a716d82f8b2f å…ˆç”¨å‰kä¸ªå…ƒç´ ç”Ÿæˆä¸€ä¸ªå°é¡¶å †ï¼Œè¿™ä¸ªå°é¡¶å †ç”¨äºå­˜å‚¨ï¼Œå½“å‰æœ€å¤§çš„kä¸ªå…ƒç´ ã€‚æ¥ç€ï¼Œä»ç¬¬k+1ä¸ªå…ƒç´ å¼€å§‹æ‰«æï¼Œå’Œå †é¡¶ï¼ˆå †ä¸­æœ€å°çš„å…ƒç´ ï¼‰æ¯”è¾ƒï¼Œå¦‚æœè¢«æ‰«æçš„å…ƒç´ å¤§äºå †é¡¶ï¼Œåˆ™æ›¿æ¢å †é¡¶çš„å…ƒç´ ï¼Œå¹¶è°ƒæ•´å †ï¼Œä»¥ä¿è¯å †å†…çš„kä¸ªå…ƒç´ ï¼Œæ€»æ˜¯å½“å‰æœ€å¤§çš„kä¸ªå…ƒç´ ã€‚ç›´åˆ°ï¼Œæ‰«æå®Œæ‰€æœ‰n-kä¸ªå…ƒç´ ï¼Œæœ€ç»ˆå †ä¸­çš„kä¸ªå…ƒç´ ï¼Œå°±æ˜¯çŒ¥çæ±‚çš„TopKã€‚ æˆ–è€…å¿«é€Ÿæ’åºï¼Œå½“æ¢çº½æ‰€å¤„çš„ä½ç½®æ˜¯Kçš„æ—¶å€™ï¼Œå‰é¢çš„å…ƒç´ å°±æ˜¯TopKã€‚ å“ˆå¸Œä½œç”¨ï¼šå°±æ˜¯ä»¥è¾ƒçŸ­çš„ä¿¡æ¯æ¥ä¿è¯æ–‡ä»¶çš„å”¯ä¸€æ€§çš„æ ‡å¿—ï¼Œæ–‡ä»¶çš„æŒ‡çº¹ï¼Œå¯ä»¥åˆ›å»ºç´¢å¼• å“ˆå¸Œå†²çªçš„è§£å†³åŠæ³•ï¼š å¼€æ”¾å®šå€æ³•ï¼š çº¿æ€§æ¢æµ‹ï¼šåœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸Šå¾€ååŠ ä¸€ä¸ªå•ä½ï¼Œç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚ å†å¹³æ–¹æ¢æµ‹ï¼šåœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸Šå…ˆåŠ 1çš„å¹³æ–¹ä¸ªå•ä½ï¼Œè‹¥ä»ç„¶å­˜åœ¨åˆ™å‡1çš„å¹³æ–¹ä¸ªå•ä½ã€‚éšä¹‹æ˜¯2çš„å¹³æ–¹ï¼Œ3çš„å¹³æ–¹ç­‰ç­‰ã€‚ç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚ ä¼ªéšæœºæ¢æµ‹ï¼šé€šè¿‡éšæœºå‡½æ•°éšæœºç”Ÿæˆä¸€ä¸ªæ•°ï¼Œåœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸ŠåŠ ä¸Šéšæœºæ•°ï¼Œç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚ å†å“ˆå¸Œæ³•ï¼šå¯¹äºå†²çªçš„å“ˆå¸Œå€¼å†æ¬¡è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œç›´è‡³æ²¡æœ‰å“ˆå¸Œå†²çªã€‚ é“¾åœ°å€æ³•(HashMapè§£å†³æ–¹æ³•)ï¼šå¯¹äºç›¸åŒçš„å€¼ï¼Œä½¿ç”¨é“¾è¡¨è¿›è¡Œè¿æ¥ã€‚ä½¿ç”¨æ•°ç»„å­˜å‚¨æ¯ä¸€ä¸ªé“¾è¡¨ã€‚(æŒ‡é’ˆå ç”¨è¾ƒå¤§ç©ºé—´æ—¶ï¼Œä¼šé€ æˆç©ºé—´æµªè´¹) å»ºç«‹å…¬å…±æº¢å‡ºåŒºï¼šå­˜å‚¨æ‰€æœ‰å“ˆå¸Œå†²çªçš„æ•°æ® KMPï¼šæš´åŠ›ç®—æ³•æ¯æ¬¡å¤±é…åå­ä¸²æŒ‡é’ˆå°±è¦å›åˆ°å¼€å¤´ã€‚KMæ ¸å¿ƒæ€æƒ³å°±æ˜¯å¤±é…ä»¥åä¸å›é€€åˆ°å¼€å¤´ã€‚é¦–å…ˆæ±‚å‡ºnextæ•°ç»„ï¼Œnext[i]è¡¨ç¤ºä»¥iç»“å°¾çš„åç¼€ä¸å‰ç¼€æ‰€èƒ½åŒ¹é…çš„æœ€å¤§é•¿åº¦ã€‚è¿™æ ·å¦‚æœå‘ç°å¤±é…ï¼Œå­ä¸²æŒ‡é’ˆå¯ä»¥ç›´æ¥è·³åˆ°å­ä¸²çš„ç¬¬next[i]ä½ç½®ã€‚æ€»ä½“å¤æ‚åº¦ä¸ºO(N + M) æ¯”è¾ƒæ’åºç®—æ³•æœ‰å“ªäº›ï¼Ÿä¸ºä»€ä¹ˆæé™æ˜¯nlogn? 1ã€å†’æ³¡æ’åº å®ƒé‡å¤åœ°éå†è¿‡è¦æ’åºçš„å…ƒç´ ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬è°ƒæ¢è¿‡æ¥ï¼Œç›´åˆ°æ²¡æœ‰å…ƒç´ å†éœ€è¦äº¤æ¢ï¼Œæ’åºå®Œæˆã€‚è¶Šå°(æˆ–è¶Šå¤§)çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ 2ã€é€‰æ‹©æ’åº åˆå§‹æ—¶åœ¨åºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°åºåˆ—çš„èµ·å§‹ä½ç½®ä½œä¸ºå·²æ’åºåºåˆ—ï¼›ç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ 3ã€æ’å…¥æ’åº å°†ä¸€ç»„æ•°æ®åˆ†ä¸ºæœ‰åºåºåˆ—å’Œæ— åºåºåˆ—ï¼Œä¸€èˆ¬å°†å·¦è¾¹å®šä¸ºæœ‰åºåºåˆ—ï¼Œå³è¾¹ä¸ºæ— åºåºåˆ—ã€‚å¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ å¯¹äºnä¸ªå¾…æ’åºå…ƒç´ ï¼Œåœ¨æœªæ¯”è¾ƒæ—¶ï¼Œå¯èƒ½çš„æ­£ç¡®ç»“æœæœ‰n!ç§ã€‚ åœ¨ç»è¿‡ä¸€æ¬¡æ¯”è¾ƒåï¼Œå…¶ä¸­ä¸¤ä¸ªå…ƒç´ çš„é¡ºåºè¢«ç¡®å®šï¼Œæ‰€ä»¥å¯èƒ½çš„æ­£ç¡®ç»“æœå‰©ä½™n!/2ç§ï¼ˆç¡®å®šä¹‹å‰ä¸¤ä¸ªå…ƒç´ çš„å‰åä½ç½®çš„æƒ…å†µæ˜¯ç›¸åŒï¼Œç¡®å®šä¹‹åç›¸å½“äºå°‘äº†ä¸€åŠçš„å¯èƒ½æ€§ï¼‰ã€‚ ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°ç»è¿‡mæ¬¡æ¯”è¾ƒï¼Œå‰©ä½™å¯èƒ½æ€§n!/(2^m)ç§ã€‚ ç›´åˆ°n!/(2^m)&lt;=1æ—¶ï¼Œç»“æœåªå‰©ä½™ä¸€ç§ã€‚æ ¹æ®æ–¯ç‰¹çµå…¬å¼ï¼Œæ­¤æ—¶çš„æ¯”è¾ƒæ¬¡æ•°mä¸ºo(nlogn)æ¬¡ã€‚ æ‰€ä»¥åŸºäºæ’åºçš„æ¯”è¾ƒç®—æ³•ï¼Œæœ€ä¼˜æƒ…å†µä¸‹ï¼Œå¤æ‚åº¦æ˜¯o(nlogn)çš„ã€‚ æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯ä»€ä¹ˆï¼Ÿ å…ˆæœä¸€ä¸ªåˆ†æ”¯å†å›æº¯ã€‚ å“ˆå¤«æ›¼ç¼–ç ï¼Ÿå‡ºç°é¢‘ç‡æœ€å¤šçš„ç å­—å°½å¯èƒ½çŸ­ã€‚ä»å¶å­åˆ°æ ¹é€†å‘æ±‚ å¦‚ä½•å±‚åºéå†äºŒå‰æ ‘ï¼šé˜Ÿåˆ—BFS äºŒå‰æ ‘å…ˆåºä¸­åºååºï¼šæ ¹èŠ‚ç‚¹ å¹³è¡¡äºŒå‰æ ‘AVLï¼šå®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ å®Œå…¨äºŒå‰æ ‘ï¼šç»“ç‚¹ç¼–å·å’Œæ»¡äºŒå‰æ ‘ä¸€æ · å¿«é€Ÿæ’åºçš„å¤æ‚åº¦åœ¨å„ç§æƒ…å†µä¸‹æ˜¯å¤šå°‘ï¼Ÿæœ€åæƒ…å†µå’Œæœ€å¥½æƒ…å†µåˆ†åˆ«å¦‚ä½•è¾¾åˆ°ï¼Ÿ æœ€å¥½ï¼šnlognï¼Œæ¯ä¸€æ¬¡çš„flagåˆšå¥½éƒ½å¯ä»¥å¹³åˆ†æ•´ä¸ªæ•°ç»„ æœ€åï¼šn2ï¼Œæ¯ä¸€æ¬¡çš„flagåˆšå¥½éƒ½æ˜¯æœ€å¤§æˆ–è€…æœ€å°çš„æ•° æ’åºï¼š ç¨³å®šæ€§ï¼šä¸¤ä¸ªç›¸åŒçš„æ•°Aå’ŒBï¼Œåœ¨æ’åºä¹‹å‰Aåœ¨Bçš„å‰é¢ï¼Œè€Œç»è¿‡æ’åºä¹‹åï¼ŒBè·‘åˆ°äº†Açš„å‰é¢ åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼šå¿«æ…¢æŒ‡é’ˆæ³• è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ï¼› å¦‚æœå¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œé‚£ä¹ˆé“¾è¡¨å«æœ‰ç¯ï¼› å¦‚æœå¿«æŒ‡é’ˆåˆ°è¾¾äº†é“¾è¡¨å°¾éƒ¨ä¸”æ²¡æœ‰ä¸æ…¢æŒ‡é’ˆç›¸é‡ï¼Œé‚£ä¹ˆé“¾è¡¨ä¸å«æœ‰ç¯ æ±‚è§£å…¥å£Bï¼šå†è®¾ä¸€æ…¢æŒ‡é’ˆslow2ä»Aç‚¹å‡ºå‘ï¼Œå’ŒåŸæ…¢æŒ‡é’ˆslowä»¥ç›¸åŒæ­¥é•¿ç§»åŠ¨ï¼ŒåŸæ¥çš„æ…¢æŒ‡é’ˆslowç»§ç»­ä»ç›¸é‡ç‚¹Cå¾€å‰èµ°ï¼Œslow2ç»è¿‡Næ­¥ä¹‹ååˆ°è¾¾C(A-&gt;B-&gt;C)ï¼Œslowç»è¿‡Næ­¥ä¹‹åä¹Ÿåˆ°è¾¾C(C-&gt;B-&gt;C)ï¼Œä¸­é—´å¿…å®šåœ¨Bç‚¹ç›¸é‡è¿‡ã€‚ æœ€çŸ­è·¯ï¼š floyd n3ï¼šdp dijkstra n2ï¼šè´ªå¿ƒï¼Œæ‰¾æœªç”¨è¿‡çš„æœ€çŸ­é‚»æ¥ç‚¹ï¼Œä»¥æ­¤ä¸ºä¸­è½¬ä¿®æ­£å…¶ä½™ç‚¹ï¼Œç›´åˆ°å…¨éƒ¨å®Œæˆ bellman-ford neï¼šå¯ä»¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯å›è·¯ spfa ke(k &lt;&lt; v)ï¼šåœ¨æœ€å¥½æƒ…å½¢ä¸‹ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åªå…¥é˜Ÿä¸€æ¬¡ï¼Œåˆ™ç®—æ³•å®é™…ä¸Šå˜ä¸ºå¹¿åº¦ä¼˜å…ˆéå†ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä»…ä¸ºO(E)ã€‚å¦ä¸€æ–¹é¢ï¼Œå­˜åœ¨è¿™æ ·çš„ä¾‹å­ï¼Œä½¿å¾—æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¢«å…¥é˜Ÿ(V-1)æ¬¡ï¼Œæ­¤æ—¶ç®—æ³•é€€åŒ–ä¸ºBellman-fordç®—æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(VE)ã€‚ æœ€å°ç”Ÿæˆæ ‘ï¼šprimç®—æ³•é€‚åˆç¨ å¯†å›¾ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸è¾¹å¾—æ•°ç›®æ— å…³ï¼Œè€Œkruskalç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(eloge)è·Ÿè¾¹çš„æ•°ç›®æœ‰å…³ï¼Œé€‚åˆç¨€ç–å›¾ã€‚ æ·±åº¦å­¦ä¹  CNNï¼š ç›®æ ‡æ£€æµ‹ç›¸å…³(é¡¹ç›®)ï¼š RCNN: ï¼Œå®ƒå¯¹å›¾åƒé€‰å–è‹¥å¹²æè®®åŒºåŸŸï¼Œä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œå¯¹æ¯ä¸ªæè®®åŒºåŸŸæ‰§è¡Œå‰å‘ä¼ æ’­ä»¥æŠ½å–å…¶ç‰¹å¾ï¼Œç„¶åå†ç”¨è¿™äº›ç‰¹å¾æ¥é¢„æµ‹æè®®åŒºåŸŸçš„ç±»åˆ«å’Œè¾¹æ¡† SSDï¼šä¸ Faster R-CNN ä¸€æ ·ï¼Œä½œè€…å›å½’åˆ°é»˜è®¤è¾¹ç•Œæ¡† (d) çš„ä¸­å¿ƒ (cx, cy) åŠå…¶å®½åº¦ (w) å’Œé«˜åº¦ (h) çš„åç§»é‡ å®šä½æŸå¤±æ˜¯ L1 å¹³æ»‘æŸå¤±ï¼Œè€Œåˆ†ç±»æŸå¤±æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„äº¤å‰ç†µæŸå¤±ã€‚ äº¤å‰ç†µæŸå¤±(Cross Entropy Error)ï¼šè¡¡é‡ç½‘ç»œçš„ä¼˜åŠ£ï¼Œ1å‡å»Softmaxè¾“å‡ºçš„æ¦‚ç‡ï¼Œå†æ±‚å¯¹æ•°çš„è´Ÿæ•°ï¼Œè¶Šæ¥è¿‘äº0ï¼Œè¯´æ˜ç»“æœè¶Šå‡†ç¡® çœŸå®æ¡†ä¸å…·æœ‰æœ€é«˜ Jaccard é‡å çš„å…ˆéªŒæ¡†è¿›è¡ŒåŒ¹é…;å¤§å¤šæ•°å…ˆéªŒ/é»˜è®¤æ¡†ç”¨ä½œè´Ÿæ ·æœ¬ã€‚ç„¶è€Œï¼Œä¸ºäº†é¿å…æ­£è´Ÿæ ·æœ¬ä¹‹é—´çš„ä¸å¹³è¡¡ï¼Œæˆ‘ä»¬æœ€å¤šä¿æŒ 3:1 çš„æ¯”ä¾‹ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´å¿«åœ°ä¼˜åŒ–å’Œç¨³å®šå­¦ä¹  å¤§ç‰¹å¾å›¾æ£€æµ‹è¾ƒå°çš„ç›®æ ‡ï¼Œå°ç‰¹å¾å›¾æ£€æµ‹å¤§ç›®æ ‡ã€‚ SSDæ˜¯å¦‚ä½•æå‡å°ç‰©ä½“çš„æ£€æµ‹å‡†ç¡®ç‡çš„ï¼šé€šè¿‡æ•°æ®æ‰©å…… yolo vs ssd: yolo å°ç›®æ ‡æ£€æµ‹ä¸å¥½ï¼Œssdå¤šå°ºåº¦ï¼ŒSSDç”¨çš„æ˜¯VGG16ï¼ˆä½†å»æ‰äº†fcå±‚åŠ é€Ÿï¼‰è€ŒYOLOæ™®é€šç‰ˆæœ‰24ä¸ªå·ç§¯å±‚ã€‚ssdå…¨é å·ç§¯å®Œæˆï¼Œè€Œyoloé‡Œè¿˜æœ‰å…¨è¿æ¥ï¼Œç”¨ä¸Šgpuçš„è¯è‚¯å®šæ˜¯ssdå¿«ã€‚ å…±åŒæ€§ï¼šæ— è®ºæ˜¯yoloè¿˜æ˜¯SSDéƒ½æ˜¯è¾“å‡ºç›®æ ‡çš„ç±»åˆ«ç½®ä¿¡åº¦ä»¥åŠBBoxçš„ä½ç½®ã€‚ æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ çš„å·®åˆ«è”ç³»ï¼š æœºå™¨å­¦ä¹ èƒ½å¤Ÿé€‚åº”å„ç§æ•°æ®é‡ï¼Œç‰¹åˆ«æ˜¯æ•°æ®é‡è¾ƒå°çš„åœºæ™¯ã€‚åœ¨å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ•°æ®é‡è¿…é€Ÿå¢åŠ ï¼Œé‚£ä¹ˆæ·±åº¦å­¦ä¹ çš„æ•ˆæœå°†æ›´ä¸ºçªå‡ºã€‚ æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿è¿­ä»£æ³•çš„ç®—æ³•è¿‡ç¨‹ æ•°æ®åº“ ä¸‰è¦ç´ ï¼šæ•°æ®æ“ä½œï¼Œæ•°æ®ç»“æ„ï¼Œå®Œæ•´æ€§çº¦æŸ äº‹ç‰©ACIDç‰¹æ€§ ç´¢å¼•çš„ä½œç”¨å’Œä¼˜ç¼ºç‚¹: ç´¢å¼•ï¼šç´¢å¼•æ˜¯ä¸€ç§å¿«é€ŸæŸ¥è¯¢è¡¨ä¸­å†…å®¹çš„æœºåˆ¶ã€‚è¿ç”¨åœ¨è¡¨ä¸­çš„æŸäº›ä¸ªå­—æ®µä¸Šï¼Œä½†å­˜å‚¨æ—¶ï¼Œç‹¬ç«‹äºè¡¨ä¹‹å¤–ã€‚åˆ†ç±»ï¼šå”¯ä¸€ç´¢å¼•(åˆ—ä¸­å…¨éƒ¨æ•°æ®å”¯ä¸€)ï¼Œå¤åˆç´¢å¼•(ä¸¤ä¸ªåˆ—/å¤šä¸ªåˆ—) ä¼˜ç‚¹ï¼šç´¢å¼•åŠ å¿«æ•°æ®åº“çš„æ£€ç´¢é€Ÿåº¦ï¼›è¡¨çš„è¿æ¥ã€‚ ç¼ºç‚¹ï¼šé™ä½äº†æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹ç­‰ç»´æŠ¤ä»»åŠ¡çš„é€Ÿåº¦ï¼›ç´¢å¼•éœ€è¦å ç‰©ç†å’Œæ•°æ®ç©ºé—´ï¼› å…¶ä»– é¢å‘å¯¹è±¡ä¸‰ä¸ªç‰¹å¾ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"}]},{"title":"Cannyè¾¹ç¼˜æ£€æµ‹ï¼šæ•°å­—å›¾åƒå¤„ç†å…¸ä¸­å…¸","slug":"note/Canny","date":"2022-05-24T08:30:00.000Z","updated":"2022-07-13T08:59:59.402Z","comments":true,"path":"/post/note/Canny.html","link":"","permalink":"https://maskros.top/post/note/Canny.html","excerpt":"Cannyè¾¹ç¼˜æ£€æµ‹ï¼šæ•°å­—å›¾åƒå¤„ç†å…¸ä¸­å…¸ ã€Šç®—æ³•è®¾è®¡ä¸åˆ†æã€‹ æ±‡æŠ¥æŠ¥å‘Š å¼•è¨€ æå–å›¾ç‰‡çš„è¾¹ç¼˜ä¿¡æ¯æ˜¯åº•å±‚æ•°å­—å›¾åƒå¤„ç†çš„åŸºæœ¬ä»»åŠ¡ä¹‹ä¸€ã€‚ å›¾åƒè¾¹ç¼˜ä¿¡æ¯ä¸»è¦é›†ä¸­åœ¨é«˜é¢‘æ®µï¼Œé€šå¸¸è¯´å›¾åƒé”åŒ–æˆ–æ£€æµ‹è¾¹ç¼˜ï¼Œå®è´¨å°±æ˜¯é«˜é¢‘æ»¤æ³¢ã€‚ä½•ä¸ºè¾¹ç¼˜ï¼Ÿå›¾è±¡å±€éƒ¨åŒºåŸŸäº®åº¦å˜åŒ–æ˜¾è‘—çš„éƒ¨åˆ†ï¼Œå¯¹äºç°åº¦å›¾åƒæ¥è¯´ï¼Œä¹Ÿå°±æ˜¯ç°åº¦å€¼æœ‰ä¸€ä¸ªæ˜æ˜¾å˜åŒ–ï¼Œæ—¢ä»ä¸€ä¸ªç°åº¦å€¼åœ¨å¾ˆå°çš„ç¼“å†²åŒºåŸŸå†…æ€¥å‰§å˜åŒ–åˆ°å¦ä¸€ä¸ªç°åº¦ç›¸å·®è¾ƒå¤§çš„ç°åº¦å€¼ã€‚åœ¨æé«˜å¯¹æ™¯ç‰©è¾¹ç¼˜çš„æ•æ„Ÿæ€§çš„åŒæ—¶ï¼Œå¯ä»¥æŠ‘åˆ¶å™ªå£°çš„æ–¹æ³•æ‰æ˜¯å¥½çš„è¾¹ç¼˜æå–æ–¹æ³•ã€‚ Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•æ˜¯æ¾³æ´²è®¡ç®—æœºç§‘å­¦å®¶çº¦ç¿°Â·åå°¼ï¼ˆJohn F. Cannyï¼‰äº1986å¹´å¼€å‘å‡ºæ¥çš„ä¸€ä¸ªå¤šçº§è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œå…¶ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„è¾¹ç¼˜ï¼Œåœ¨ä¼ ç»Ÿçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ä¸­è¾ƒä¸ºå‡ºè‰²ï¼Œæˆªæ­¢2014å¹´8æœˆ, Cannyå‘è¡¨çš„è¯¥ç¯‡è®ºæ–‡ï¼Œå·²è¢«å¼•ç”¨19000ä½™æ¬¡ã€‚éšç€æ—¶ä»£çš„å‘å±•ï¼Œç¥ç»ç½‘ç»œæ‰€å…·æœ‰çš„è‡ªå­¦ä¹ ã€è‡ªé€‚åº”å’Œå¾ˆå¼ºçš„ä¿¡æ¯ç»¼åˆèƒ½åŠ›ï¼Œä½¿å®ƒæˆä¸ºäº†æ›´æœ‰æ•ˆçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œå¯ä»¥å®Œæˆæ™®é€šçš„è¾¹ç¼˜ç®—å­éš¾ä»¥å®Œæˆçš„è¾¹ç¼˜æ£€æµ‹ã€‚ä½†æ˜¯Cannyç®—å­ã€åŒ…æ‹¬å…¶æ”¹è¿›ç‰ˆä»æ—§åœ¨å¾ˆå¤šé¢†åŸŸæœ‰å¹¿æ³›çš„åº”ç”¨ã€‚åœ¨è¿™é‡Œæˆ‘å°†è‡´æ•¬ç»å…¸ï¼Œæ¢å¯»ä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°ã€‚","text":"Cannyè¾¹ç¼˜æ£€æµ‹ï¼šæ•°å­—å›¾åƒå¤„ç†å…¸ä¸­å…¸ ã€Šç®—æ³•è®¾è®¡ä¸åˆ†æã€‹ æ±‡æŠ¥æŠ¥å‘Š å¼•è¨€ æå–å›¾ç‰‡çš„è¾¹ç¼˜ä¿¡æ¯æ˜¯åº•å±‚æ•°å­—å›¾åƒå¤„ç†çš„åŸºæœ¬ä»»åŠ¡ä¹‹ä¸€ã€‚ å›¾åƒè¾¹ç¼˜ä¿¡æ¯ä¸»è¦é›†ä¸­åœ¨é«˜é¢‘æ®µï¼Œé€šå¸¸è¯´å›¾åƒé”åŒ–æˆ–æ£€æµ‹è¾¹ç¼˜ï¼Œå®è´¨å°±æ˜¯é«˜é¢‘æ»¤æ³¢ã€‚ä½•ä¸ºè¾¹ç¼˜ï¼Ÿå›¾è±¡å±€éƒ¨åŒºåŸŸäº®åº¦å˜åŒ–æ˜¾è‘—çš„éƒ¨åˆ†ï¼Œå¯¹äºç°åº¦å›¾åƒæ¥è¯´ï¼Œä¹Ÿå°±æ˜¯ç°åº¦å€¼æœ‰ä¸€ä¸ªæ˜æ˜¾å˜åŒ–ï¼Œæ—¢ä»ä¸€ä¸ªç°åº¦å€¼åœ¨å¾ˆå°çš„ç¼“å†²åŒºåŸŸå†…æ€¥å‰§å˜åŒ–åˆ°å¦ä¸€ä¸ªç°åº¦ç›¸å·®è¾ƒå¤§çš„ç°åº¦å€¼ã€‚åœ¨æé«˜å¯¹æ™¯ç‰©è¾¹ç¼˜çš„æ•æ„Ÿæ€§çš„åŒæ—¶ï¼Œå¯ä»¥æŠ‘åˆ¶å™ªå£°çš„æ–¹æ³•æ‰æ˜¯å¥½çš„è¾¹ç¼˜æå–æ–¹æ³•ã€‚ Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•æ˜¯æ¾³æ´²è®¡ç®—æœºç§‘å­¦å®¶çº¦ç¿°Â·åå°¼ï¼ˆJohn F. Cannyï¼‰äº1986å¹´å¼€å‘å‡ºæ¥çš„ä¸€ä¸ªå¤šçº§è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œå…¶ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„è¾¹ç¼˜ï¼Œåœ¨ä¼ ç»Ÿçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ä¸­è¾ƒä¸ºå‡ºè‰²ï¼Œæˆªæ­¢2014å¹´8æœˆ, Cannyå‘è¡¨çš„è¯¥ç¯‡è®ºæ–‡ï¼Œå·²è¢«å¼•ç”¨19000ä½™æ¬¡ã€‚éšç€æ—¶ä»£çš„å‘å±•ï¼Œç¥ç»ç½‘ç»œæ‰€å…·æœ‰çš„è‡ªå­¦ä¹ ã€è‡ªé€‚åº”å’Œå¾ˆå¼ºçš„ä¿¡æ¯ç»¼åˆèƒ½åŠ›ï¼Œä½¿å®ƒæˆä¸ºäº†æ›´æœ‰æ•ˆçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œå¯ä»¥å®Œæˆæ™®é€šçš„è¾¹ç¼˜ç®—å­éš¾ä»¥å®Œæˆçš„è¾¹ç¼˜æ£€æµ‹ã€‚ä½†æ˜¯Cannyç®—å­ã€åŒ…æ‹¬å…¶æ”¹è¿›ç‰ˆä»æ—§åœ¨å¾ˆå¤šé¢†åŸŸæœ‰å¹¿æ³›çš„åº”ç”¨ã€‚åœ¨è¿™é‡Œæˆ‘å°†è‡´æ•¬ç»å…¸ï¼Œæ¢å¯»ä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°ã€‚ æ­¥éª¤ Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•ä¸»è¦åŒ…å«ä»¥ä¸‹äº”ä¸ªæ­¥éª¤ï¼š å›¾åƒç°åº¦åŒ–(é™ç»´å¤„ç†) å°†ä¸‰ä¸ªé€šé“çš„åƒç´ å€¼è½¬æ¢ä¸ºå•é€šé“æ•°æ®ï¼Œå‡å°‘è®¡ç®—é‡ã€‚ é«˜æ–¯æ»¤æ³¢(å¹³æ»‘å’Œé™å™ª) ç”±äºè¾¹ç¼˜æ£€æµ‹å¯¹å›¾åƒå™ªå£°å¾ˆæ•æ„Ÿï¼Œæ‰€ä»¥éœ€è¦å¹³æ»‘å›¾åƒã€‚ å¼•å…¥é«˜æ–¯æ»¤æ³¢å‡½æ•°ä¸ºï¼š è¯¥å‡½æ•°å„å‘åŒæ€§ï¼Œå…¶æ›²çº¿æ˜¯è‰å¸½çŠ¶çš„å¯¹ç§°å›¾ï¼Œè¯¥æ›²çº¿å¯¹æ•´ä¸ªè¦†ç›–é¢ç§¯æ±‚ç§¯åˆ†ä¸º1ã€‚é«˜æ–¯æ»¤æ³¢çš„æ€è·¯å°±æ˜¯ï¼šå¯¹é«˜æ–¯å‡½æ•°è¿›è¡Œç¦»æ•£åŒ–ï¼Œä»¥ç¦»æ•£ç‚¹ä¸Šçš„é«˜æ–¯å‡½æ•°å€¼ä¸ºæƒå€¼ï¼Œå¯¹æˆ‘ä»¬é‡‡é›†åˆ°çš„ç°åº¦çŸ©é˜µçš„æ¯ä¸ªåƒç´ ç‚¹åšä¸€å®šèŒƒå›´é‚»åŸŸå†…çš„åŠ æƒå¹³å‡ï¼Œå³å¯æœ‰æ•ˆæ¶ˆé™¤é«˜æ–¯å™ªå£°ã€‚ å¯¹äºç¦»æ•£çš„é«˜æ–¯å·ç§¯æ ¸H: (2k+1)Ã—(2k+1) ç»´ï¼Œå…¶å…ƒç´ è®¡ç®—æ–¹æ³•ä¸ºï¼š åœ¨è¿™é‡Œä½¿ç”¨ 3Ã—3 çš„å·ç§¯æ ¸ï¼Œæœ€åå°†å¾—åˆ°çš„æƒå€¼è¿›è¡Œå½’ä¸€åŒ–ï¼Œå°†æƒå€¼çš„èŒƒå›´çº¦æŸåœ¨[0,1]ä¹‹é—´ï¼Œå¹¶ä¸”æ‰€æœ‰çš„å€¼çš„æ€»å’Œä¸º1ï¼Œå¾—åˆ°é«˜æ–¯æ ¸å·ç§¯æ¨¡æ¿ã€‚ é«˜æ–¯æ»¤æ³¢æ—¶å°†æ¨¡æ¿ä¸é«˜æ–¯æ ¸å·ç§¯å³å¯ã€‚å³ç”¨ä¸€ä¸ªé«˜æ–¯çŸ©é˜µä¹˜ä»¥æ¯ä¸€ä¸ªåƒç´ ç‚¹åŠå…¶é‚»åŸŸï¼Œå–å…¶å¸¦æƒé‡çš„å¹³å‡å€¼ä½œä¸ºæœ€åçš„ç°åº¦å€¼ã€‚ è®¡ç®—å›¾åƒæ¢¯åº¦å€¼å’Œæ–¹å‘ è¾¹ç¼˜å°±æ˜¯ç°åº¦å€¼å˜åŒ–è¾ƒå¤§çš„çš„åƒç´ ç‚¹çš„é›†åˆï¼Œåœ¨å›¾åƒä¸­ï¼Œç”¨æ¢¯åº¦æ¥è¡¨ç¤ºç°åº¦å€¼çš„å˜åŒ–ç¨‹åº¦å’Œæ–¹å‘ã€‚ åœ¨è¿™é‡Œé€šè¿‡ç‚¹ä¹˜Sobelç®—å­ï¼Œå¯ä»¥å¾—åˆ°å›¾åƒæ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘çš„æ¢¯åº¦å€¼ï¼Œ Aè¡¨ç¤ºåŸå§‹å›¾åƒï¼ŒGx, Gy è¡¨ç¤ºç»æ¨ªå‘åŠçºµå‘è¾¹ç¼˜æ£€æµ‹çš„å›¾åƒã€‚ éšåç”±ä»¥ä¸‹å…¬å¼æ±‚å‡ºæ¢¯åº¦å€¼çš„å¤§å°å’Œæ–¹å‘ã€‚ åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶NMS éæå¤§å€¼æŠ‘åˆ¶ç®—æ³• (Non-maximum suppression, NMS)ï¼Œå¯»æ‰¾åƒç´ ç‚¹å±€éƒ¨æœ€å¤§å€¼ï¼Œå°†éæå¤§å€¼ç‚¹æ‰€å¯¹åº”çš„ç°åº¦å€¼ç½®ä¸º0ï¼Œè¿™æ ·å¯ä»¥å‰”é™¤æ‰ä¸€å¤§éƒ¨åˆ†éè¾¹ç¼˜çš„ç‚¹ï¼Œä»è€Œå¾—åˆ°ä¸€å¼ äºŒå€¼å›¾åƒã€‚å…·ä½“æ–¹æ³•ä¸ºï¼šåœ¨ä¸Šä¸€æ­¥åˆ©ç”¨Sobelç®—å­è®¡ç®—å¾—åˆ°æ¯ä¸ªåƒç´ çš„æ¢¯åº¦å¤§å°å’Œæ–¹å‘åï¼Œæˆ‘ä»¬éå†æ¯ä¸ªåƒç´ ï¼Œåˆ¤æ–­è¯¥åƒç´ çš„æ¢¯åº¦å¤§å°åœ¨è¯¥åƒç´ æ¢¯åº¦æ–¹å‘ä¸Šæ˜¯å¦æ˜¯å…¶é‚»åŸŸä¸­çš„å±€éƒ¨æœ€å¤§å€¼ã€‚æ ¹æ®æ¢¯åº¦æ–¹å‘è¿›è¡Œåˆ†ç±»è®¨è®ºã€‚ å¦‚å›¾æ‰€ç¤ºï¼Œç‚¹Aåœ¨è¾¹ç¼˜ä¸Šï¼ŒAçš„æ¢¯åº¦æ–¹å‘å‚ç›´äºè¾¹ç¼˜ï¼ŒBå’ŒCåœ¨Açš„æ¢¯åº¦æ–¹å‘ä¸Šï¼Œå› æ­¤Aå’ŒBã€Cæ¯”è¾ƒæ¥ç¡®å®šAçš„æ¢¯åº¦æ˜¯å¦ä¸ºå±€éƒ¨æœ€å¤§å€¼ã€‚å¦‚æœAçš„æ¢¯åº¦ä¸ºå±€éƒ¨æœ€å¤§å€¼ï¼Œåˆ™Aè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦åˆ™åˆ¤æ–­Aä¸æ˜¯è¾¹ç¼˜ï¼ŒAè¢«æŠ‘åˆ¶ï¼ˆç½®ä¸º0ï¼‰ã€‚ åŒé˜ˆå€¼æ£€æµ‹ç¡®å®šè¾¹ç•Œ(æ»åé˜ˆå€¼æ³•) è¿™ä¸€æ­¥æˆ‘ä»¬è®¾ç½®ä¸¤ä¸ªé˜ˆå€¼ å’Œ ã€‚éå†æ‰€æœ‰åƒç´ ï¼Œæ¢¯åº¦å¤§å°å¤§äº çš„åƒç´ ç‚¹è¢«å½’ä¸ºâ€œç¡®å®šè¾¹ç¼˜â€åƒç´ ï¼Œè¢«ä¿ç•™ï¼›æ¢¯åº¦å¤§å°å°äº çš„åƒç´ ç‚¹è¢«è®¤ä¸ºä¸€å®šä¸å±äºè¾¹ç¼˜ï¼Œè¢«ä¸¢å¼ƒã€‚å¯¹äºé‚£äº›æ¢¯åº¦å¤§å°ä»‹äº å’Œ ä¹‹é—´çš„åƒç´ ç‚¹ï¼Œå¦‚æœå®ƒä»¬è¿æ¥åˆ°â€œç¡®å®šè¾¹ç¼˜â€åƒç´ ï¼Œåˆ™å®ƒä»¬è¢«è§†ä¸ºè¾¹ç¼˜çš„ä¸€éƒ¨åˆ†ã€‚å¦åˆ™ï¼Œå®ƒä»¬ä¹Ÿä¼šè¢«ä¸¢å¼ƒã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š A åœ¨ ä¹‹ä¸Šï¼Œå› æ­¤è¢«è®¤ä¸ºæ˜¯â€œç¡®å®šè¾¹ç¼˜â€ã€‚è™½ç„¶ C ä½äº ï¼Œä½†å®ƒè¿æ¥åˆ°è¾¹Aï¼Œæ‰€ä»¥Cä¹Ÿè¢«è®¤ä¸ºæ˜¯è¾¹ç¼˜ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å®Œæ•´çš„æ›²çº¿ã€‚Bè™½ç„¶åœ¨æœ€å°å€¼ä»¥ä¸Šï¼Œä¸”ä¸Cè¾¹åœ¨åŒä¸€åŒºåŸŸå†…ï¼Œä½†å®ƒæ²¡æœ‰è¿æ¥åˆ°ä»»ä½•â€œç¡®å®šè¾¹ç¼˜â€ï¼Œå› æ­¤è¢«ä¸¢å¼ƒã€‚å› æ­¤ï¼Œä¸ºäº†å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œæˆ‘ä»¬å¿…é¡»ç›¸åº”åœ°é€‰æ‹©åˆé€‚çš„ ã€‚ å®ç°è¿‡ç¨‹ ç°åº¦åŒ– Mat RGB_Gray(Mat img) { Mat ret = Mat::zeros(img.size(), CV_8UC1); for (int i = 0; i &lt; img.rows; i++) { for (int j = 0; j &lt; img.cols; j++) { // B, G, R ret.at&lt;uchar&gt;(i, j) = saturate_cast&lt;uchar&gt;( 0.114 * img.at&lt;Vec3b&gt;(i, j)[0] + 0.587 * img.at&lt;Vec3b&gt;(i, j)[1] + 0.299 * img.at&lt;Vec3b&gt;(i, j)[2]); } } return ret; } é«˜æ–¯æ»¤æ³¢ è·å–é«˜æ–¯æ ¸ void GetGaussianKernel(double **KernalModel, int Kernalsize, double sigma) { // åˆå§‹åŒ–é«˜æ–¯æ ¸, é«˜æ–¯æ ¸æ–¹å·®, é«˜æ–¯æ ¸å¤§å° const double PI = acos(-1.0); int center = Kernalsize / 2; //ä¸­å¿ƒ double sum = 0; //é«˜æ–¯æ¨¡æ¿æ€»å’Œ for (int i = 0; i &lt; Kernalsize; i++) { //é«˜æ–¯æ¨¡æ¿è®¡ç®— for (int j = 0; j &lt; Kernalsize; j++) { KernalModel[i][j] = (1 / (2 * PI * sigma * sigma)) * exp(-((i - center) * (i - center) + (j - center) * (j - center)) / (2 * sigma * sigma)); sum += KernalModel[i][j]; } } cout &lt;&lt; \"\\nNormalized Gaussian: \" &lt;&lt; \"\\n\"; for (int m = 0; m &lt; Kernalsize; m++) { // å½’ä¸€åŒ– for (int n = 0; n &lt; Kernalsize; n++) { KernalModel[m][n] /= sum; cout &lt;&lt; KernalModel[m][n] &lt;&lt; \", \"; } cout &lt;&lt; '\\n'; } } â€‹ é«˜æ–¯æ»¤æ³¢ Mat GaussFilter(Mat img, double sigma, int Kernalsize) { // é«˜æ–¯æ ¸æ–¹å·®, é«˜æ–¯æ ¸å¤§å°ï¼ˆå¥‡æ•°ï¼‰ Mat ret = img.clone(); int height = img.rows, width = img.cols; // é«˜æ–¯æ ¸ double **KernalModel = new double *[Kernalsize]; //å·ç§¯æ ¸æ•°ç»„ for (int i = 0; i &lt; Kernalsize; i++) { KernalModel[i] = new double[Kernalsize]; } GetGaussianKernel(KernalModel, Kernalsize, sigma); //è·å–é«˜æ–¯+æ ¸ int diff = Kernalsize / 2; // è¾¹ç•Œ double tmp; for (int i = diff; i &lt; height - diff; i++) { //é«˜æ–¯æ»¤æ³¢, è¾¹ç•Œç›´æ¥ç”¨åŸæ¥çš„å€¼ for (int j = diff; j &lt; width - diff; j++) { tmp = 0; for (int m = 0; m &lt; Kernalsize; m++) { for (int n = 0; n &lt; Kernalsize; n++) { tmp = tmp + KernalModel[m][n] * img.at&lt;uchar&gt;(i - diff + m, j - diff + n); } } ret.at&lt;uchar&gt;(i, j) = uchar(tmp); } } return ret; } è®¡ç®—å›¾åƒæ¢¯åº¦å€¼å’Œæ–¹å‘ void SobelGrade(Mat img, Mat Gx, Mat Gy, Mat Arg, Mat Grad) { // Gx,Gy: x,yæ–¹å‘æ¢¯åº¦å›¾, Arg:æ¢¯åº¦è§’åº¦å›¾ï¼ŒGrad:æ¢¯åº¦æ¨¡å€¼å›¾ double KernalModel1[3][3] = {{-1, 0, 1}, {-2, 0, 2}, {-1, 0, 1}}; double KernalModel2[3][3] = {{1, 2, 1}, {0, 0, 0}, {-1, -2, -1}}; int height = img.rows, width = img.cols; int KernalSize = 3; //å®šä¹‰å·ç§¯æ ¸å¤§å° int diff = KernalSize / 2; // è¾¹ç•Œ double tmp1, tmp2; for (int i = diff; i &lt; height - diff; i++) { for (int j = diff; j &lt; width - diff; j++) { tmp1 = 0, tmp2 = 0; for (int m = 0; m &lt; KernalSize; m++) { // æ¨¡æ¿å·ç§¯æ“ä½œ for (int n = 0; n &lt; KernalSize; n++) { tmp1 = tmp1 + KernalModel1[m][n] * img.at&lt;uchar&gt;(i - diff + m, j - diff + n); tmp2 = tmp2 + KernalModel2[m][n] * img.at&lt;uchar&gt;(i - diff + m, j - diff + n); } } Gx.at&lt;uchar&gt;(i, j) = ((abs(tmp1)) != 0) ? abs(tmp1) : 0.0000001; //xæ–¹å‘, éœ€è¦é˜²æ­¢åˆ†æ¯ä¸º0 Gy.at&lt;uchar&gt;(i, j) = abs(tmp2); //yæ–¹å‘ Grad.at&lt;uchar&gt;(i, j) = sqrt(tmp1 * tmp1 + tmp2 * tmp2); //æ¢¯åº¦æ¨¡å€¼ Arg.at&lt;uchar&gt;(i, j) = atan(tmp1 / tmp2) * 57.3; // æ¢¯åº¦è§’åº¦ } } } åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶NMS æ ¹æ®æ¢¯åº¦è§’åº¦å®šä¹‰æ¢¯åº¦æ–¹å‘ int GetDir(double num) { // num: æ¢¯åº¦è§’åº¦ if (num &lt; -67.5) return 1; // -90 else if (num &gt;= -67.5 &amp;&amp; num &lt; -22.5) return 2; // -45 else if (num &gt;= -22.5 &amp;&amp; num &lt; 22.5) return 3; // 0 else if (num &gt;= 22.5 &amp;&amp; num &lt; 67.5) return 4; // 45 else return 1; // 90 } â€‹ éæå¤§å€¼æŠ‘åˆ¶NMSï¼šæ²¿ç€æ¢¯åº¦æ–¹å‘ åˆ¤æ–­è¯¥ç‚¹çš„æ¢¯åº¦æ˜¯å¦ä¸ºæœ€å¤§ Mat GetNMS(Mat Arg, Mat Grad, int diff) { // Arg:æ¢¯åº¦è§’åº¦å›¾, Grad:æ¢¯åº¦æ¨¡å€¼, diff:æ²¿ç€æ¢¯åº¦æ–¹å‘åˆ¤æ–­çš„ä¸ªæ•° Mat ret = Grad.clone(); int height = Grad.rows, width = Grad.cols; for (int i = diff; i &lt; height - diff; i++) { for (int j = diff; j &lt; width - diff; j++) { int dir = GetDir(Arg.at&lt;uchar&gt;(i, j)); if (dir == 1) { // -90 90 for (int index = 0; index &lt; diff; index++) { //åˆ¤æ–­æ˜¯å¦ä¸ºæå¤§å€¼ if ((Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i - diff + index, j)) || (Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i + diff - index, j))) { ret.at&lt;uchar&gt;(i, j) = 0; break; } } } else if (dir == 2) { // -45 for (int index = 0; index &lt; diff; index++) { if ((Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i - diff + index, j - diff + index)) || (Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i + diff - index, j + diff - index))) { ret.at&lt;uchar&gt;(i, j) = 0; break; } } } else if (dir == 3) { // 0 for (int index = 0; index &lt; diff; index++) { if ((Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i, j - diff + index)) || (Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i, j + diff - index))) { ret.at&lt;uchar&gt;(i, j) = 0; break; } } } else if (dir == 4) { // 45 for (int index = 0; index &lt; diff; index++) { if ((Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i - diff + index, j + diff - index)) || (Grad.at&lt;uchar&gt;(i, j) &lt; Grad.at&lt;uchar&gt;(i + diff - index, j - diff + index))) { ret.at&lt;uchar&gt;(i, j) = 0; break; } } } } } return ret; } åŒé˜ˆå€¼æ£€æµ‹ç¡®å®šè¾¹ç•Œ Mat GetDouThre(Mat img, Mat LThImg, Mat HThImg, double lowThreshold, double highThreshold, int size) { // LThImg, HThImg: ä½ã€é«˜é˜ˆå€¼å›¾, lowThreshold, highThreshold: ä½ã€é«˜é˜ˆå€¼, int height = img.rows, width = img.cols; for (int i = 0; i &lt; height; i++) { // é«˜ä½é˜ˆå€¼å¤„ç† for (int j = 0; j &lt; width; j++) { if (img.at&lt;uchar&gt;(i, j) &gt; lowThreshold) { //ä½é˜ˆå€¼å¤„ç† LThImg.at&lt;uchar&gt;(i, j) = 255; } else { LThImg.at&lt;uchar&gt;(i, j) = 0; } if (img.at&lt;uchar&gt;(i, j) &gt; highThreshold) { //é«˜é˜ˆå€¼å¤„ç† HThImg.at&lt;uchar&gt;(i, j) = 255; } else { HThImg.at&lt;uchar&gt;(i, j) = 0; } } } Mat ret = HThImg.clone(); for (int i = 0; i &lt; height; i++) { //åŒé˜ˆå€¼æ£€æµ‹è¾¹ç¼˜ for (int j = 0; j &lt; width; j++) { if ((HThImg.at&lt;uchar&gt;(i, j) == 0) &amp;&amp; (LThImg.at&lt;uchar&gt;(i, j) == 255)) { for (int m = i - size; m &lt; i + size; m++) { // åˆ¤æ–­size * size æ˜¯å¦å­˜åœ¨é«˜é˜ˆå€¼ç‚¹ å¦‚æœå½“å‰ç‚¹ä¹Ÿæ˜¯è¾¹ç¼˜ for (int n = j - size; n &lt; j + size; n++) { if (ret.at&lt;uchar&gt;(m, n) == 255) { ret.at&lt;uchar&gt;(i, j) = 255; break; } } } } } } return ret; } main(): int main() { Mat src = imread(\"..\\\\lina.png\"); if (!src.data) { cout &lt;&lt; \"Can not load the image!\" &lt;&lt; endl; return -1; } imshow(\"source\", src); // 1. ç°åº¦åŒ– Mat grayimg = RGB_Gray(src); // 2. é«˜æ–¯æ»¤æ³¢ Mat GaussFilterimg = GaussFilter(grayimg, 1, 3); // 3. è®¡ç®—æ¢¯åº¦å€¼å’Œæ–¹å‘ Mat Gx = GaussFilterimg.clone(), Gy = GaussFilterimg.clone(), Arg = GaussFilterimg.clone(), Grad = GaussFilterimg.clone(); SobelGrade(GaussFilterimg, Gx, Gy, Arg, Grad); // 4. éæå¤§å€¼æŠ‘åˆ¶NMS Mat NMSimg = GetNMS(Arg, Grad, 3); // 5. åŒé˜ˆå€¼æ£€æµ‹ Mat LThimg = NMSimg.clone(), HThimg = NMSimg.clone(); double lowThreshold = 50, highThreshold = 100; int Dousize = 7; Mat Douimg = GetDouThre(NMSimg, LThimg, HThimg, lowThreshold, highThreshold, Dousize); imshow(\"Canny\", Douimg); waitKey(); return 0; } æ•ˆæœ åŸå›¾/ç°åº¦å›¾/é«˜æ–¯æ»¤æ³¢/æ¢¯åº¦å€¼ æ¢¯åº¦è§’åº¦/éæå¤§å€¼æŠ‘åˆ¶NMS/åŒé˜ˆå€¼ç»“æœ åŸå›¾/ç»“æœå›¾ æ€»ç»“ä¸å±•æœ› åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼Œæˆ‘çš„äº†è§£è¿˜åªæ˜¯ç®€å•çš„åŸºç¡€å±‚é¢ï¼Œç”±äºæœ€å¼€å§‹æ¥è§¦OpenCVæ—¶è·Ÿç€éšä¾¿åšäº†ä¸€ä¸ªå°ç©æ„ï¼Œå…¶ä¸­å°±ç”¨åˆ°äº†Cannyè¾¹ç¼˜æ£€æµ‹ï¼Œä½†æ˜¯åªæ˜¯é€šè¿‡è°ƒåŒ…å®Œæˆçš„ï¼Œè·Ÿç€æŠ„äº†å‡ è¡Œå°±è·‘å®Œäº†ï¼Œæ­£å¥½å€ŸåŠ©è¿™æ¬¡æœºä¼šå°±æ¢ç´¢äº†ä¸€ä¸‹å®ƒçš„åŸç†ï¼Œé€šè¿‡C++å’ŒOpenCVå¤ç°äº†ä¸€ä¸‹å®ƒçš„å®ç°è¿‡ç¨‹ï¼Œå®ç°èµ·æ¥è¿˜æ˜¯æœ‰ä¸€ç‚¹å°éº»çƒ¦çš„ã€‚ç”±äºåœ¨Cannyç®—æ³•ä¸­ï¼Œéƒ¨åˆ†å‚æ•°éƒ½æ˜¯éœ€è¦æ‰‹åŠ¨å»è®¾ç½®çš„ï¼Œæ¯”å¦‚é«˜æ–¯å·ç§¯æ ¸çš„å¤§å°ï¼Œ çš„å–å€¼ï¼ŒåŒé˜ˆå€¼æ£€æµ‹ä¸­ çš„é¢„è®¾ï¼Œéƒ½ä¼šå½±å“åˆ°ç»“æœã€‚æˆ‘åœ¨è¿™é‡Œç”±äºå¯¹ç›¸åº”çš„å‚æ•°ç†è§£è¿˜ä¸å¤Ÿæ·±åˆ»ï¼Œæ‰€ä»¥æ‰¾å¯»äº†ä¸€ä¸‹å¸¸è§çš„å‚æ•°ç›´æ¥ä»£å…¥ï¼Œå› æ­¤ç»“æœè¿˜æ˜¯æœ‰å¾…ä¼˜åŒ–ã€‚ Cannyç®—å­ä¸å®¹æ˜“å—å™ªå£°å¹²æ‰°ï¼Œå¾—åˆ°çš„è¾¹ç¼˜ç²¾ç»†ä¸”å‡†ç¡®ï¼Œç¼ºç‚¹å°±æ˜¯è¿ç®—ä»£ä»·è¾ƒé«˜ï¼ŒåŒæ—¶è¿è¡Œäºå®æ—¶å›¾åƒå¤„ç†è¾ƒå›°éš¾ï¼Œé€‚ç”¨äºé«˜ç²¾åº¦è¦æ±‚çš„åº”ç”¨ã€‚åœ¨å®éªŒè¿‡ç¨‹ä¸­ï¼Œæˆ‘å°è¯•è¿è¡Œäº†ä¸€äº›è¾ƒå¤§çš„å›¾ç‰‡ï¼Œå¾ˆéš¾å¾—åˆ°ç»“æœï¼Œæƒ³å¿…åœ¨OpenCVåº“ä¸­å°è£…å¥½çš„å‡½æ•°ä¸€å®šåšå‡ºäº†æ›´å¥½çš„ä¼˜åŒ–ã€‚ ç°å¦‚ä»Šï¼Œç¥ç»ç½‘ç»œæ‰€å…·æœ‰çš„è‡ªå­¦ä¹ ã€è‡ªé€‚åº”å’Œå¾ˆå¼ºçš„ä¿¡æ¯ç»¼åˆèƒ½åŠ›ï¼Œä½¿å®ƒæˆä¸ºäº†æ›´æœ‰æ•ˆçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œå®ƒå¯ä»¥æµ·é‡å­¦ä¹ æ•°æ®é›†ï¼Œæå–ç‰¹å¾ï¼Œä»è€Œå®Œæˆä¸€äº›ä¼ ç»Ÿç®—æ³•æ‰€åšä¸åˆ°çš„äº‹æƒ…ï¼Œå®Œæˆæ™®é€šçš„è¾¹ç¼˜ç®—å­éš¾ä»¥å®Œæˆçš„è¾¹ç¼˜æ£€æµ‹ï¼Œåœ¨è¿™é‡Œå°šä¸”ä¸è°ˆã€‚Cannyç®—å­åœ¨ä¼ ç»Ÿè¾¹ç¼˜æ£€æµ‹ç®—æ³•ä¸­å·²ç»å±äºæ€§èƒ½è¾ƒå¥½çš„ï¼Œæˆ‘åœ¨ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³è®ºæ–‡ï¼Œå‘ç°ä¸å°‘å­¦è€…éƒ½å·²ç»å¯¹Cannyç®—æ³•åšå‡ºäº†éƒ¨åˆ†ä¼˜åŒ–ï¼Œå¹¶ä¸”æ•ˆæœæ˜¾è‘—ã€‚è®©æˆ‘ä¸ç¦æ„Ÿæ…¨æ—¶ä»£åœ¨ä¸æ–­è¿›æ­¥ï¼Œæƒ³è¦åœ¨ç›¸å…³é¢†åŸŸä¸æ–­å‘å±•ï¼Œå°±è¦æ—¶åˆ»å…³æ³¨å‰æ²¿çš„æœ€æ–°æ¶ˆæ¯ã€‚ æ€»ä½“æ¥è¯´ï¼Œè¾¹ç¼˜æ£€æµ‹ç®—æ³•åº”ç”¨é¢éå¸¸å¹¿ï¼ŒéåŠå¾ˆå¤šé¢†åŸŸï¼Œæ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„å¸¸ç”¨ç®—æ³•ï¼Œäº†è§£å…¶ä¸­çš„åŸç†å’Œæ€æƒ³è®©æˆ‘å—ç›ŠåŒªæµ…ï¼Œä¹Ÿå¯¹å›¾åƒçš„æ€§è´¨å’Œå¯¹å…¶çš„æ“ä½œæ›´åŠ çš„äº†è§£ã€‚ä¸å†æˆä¸ºè°ƒåŒ…å°å­ï¼Œç†è§£åŸç†æ‰èƒ½æ›´å¥½çš„è°ƒåŒ…ã€‚","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"OpenCV","slug":"OpenCV","permalink":"https://maskros.top/tags/OpenCV/"},{"name":"è§†è§‰","slug":"è§†è§‰","permalink":"https://maskros.top/tags/%E8%A7%86%E8%A7%89/"}]},{"title":"æ ‘ çŠ¶ æ•° ç»„","slug":"algorithm/learn/æ ‘çŠ¶æ•°ç»„","date":"2022-05-13T03:55:50.000Z","updated":"2022-07-13T09:05:10.988Z","comments":true,"path":"/post/algorithm/learn/æ ‘çŠ¶æ•°ç»„.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84.html","excerpt":"æ ‘çŠ¶æ•°ç»„ Binary Indexed Tree äºŒè¿›åˆ¶ä¸‹æ ‡æ ‘ å¼•å…¥ åŸºæœ¬æ“ä½œï¼š çš„å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ æ ¸å¿ƒï¼šå·§å¦™åˆ©ç”¨äºŒè¿›åˆ¶ï¼Œå¦‚æœæˆ‘ä»¬è¦æ±‚å‰11é¡¹å’Œï¼Œå¯ä»¥åˆ†åˆ«æŸ¥è¯¢, , çš„å’Œå†ç›¸åŠ ï¼Œå³ä¸æ–­å»æ‰äºŒè¿›åˆ¶æ•°æœ€å³è¾¹çš„ä¸€ä¸ª1çš„è¿‡ç¨‹ã€‚å¦‚æœåŒºé—´æ±‚å’Œï¼Œä½¿ç”¨å‰ç¼€å’Œçš„æ€æƒ³åšå·®å³å¯ã€‚","text":"æ ‘çŠ¶æ•°ç»„ Binary Indexed Tree äºŒè¿›åˆ¶ä¸‹æ ‡æ ‘ å¼•å…¥ åŸºæœ¬æ“ä½œï¼š çš„å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ æ ¸å¿ƒï¼šå·§å¦™åˆ©ç”¨äºŒè¿›åˆ¶ï¼Œå¦‚æœæˆ‘ä»¬è¦æ±‚å‰11é¡¹å’Œï¼Œå¯ä»¥åˆ†åˆ«æŸ¥è¯¢, , çš„å’Œå†ç›¸åŠ ï¼Œå³ä¸æ–­å»æ‰äºŒè¿›åˆ¶æ•°æœ€å³è¾¹çš„ä¸€ä¸ª1çš„è¿‡ç¨‹ã€‚å¦‚æœåŒºé—´æ±‚å’Œï¼Œä½¿ç”¨å‰ç¼€å’Œçš„æ€æƒ³åšå·®å³å¯ã€‚ æ ¸å¿ƒå®ç°ï¼šæ±‚äºŒè¿›åˆ¶æœ€ä½ä½çš„1ï¼šMisplaced &lowbit(x) = x&amp;(-x) Code 0x01 å•ç‚¹ä¿®æ”¹ &amp; åŒºé—´æŸ¥è¯¢ #define maxn 100005 #define lowbit(x) x &amp; (-x) int tr[maxn]; // å•ç‚¹ä¿®æ”¹ init void update(int i, int x) { for (int pos = i; pos &lt; maxn; pos += lowbit(pos)) { tr[pos] += x; } } // å‰ç¼€å’Œ int query(int n) { int ans = 0; for (int pos = n; pos; pos -= lowbit(pos)) { ans += tr[pos]; } return ans; } // åŒºé—´æŸ¥è¯¢ int query(int l, int r) { return query(r) - query(l - 1); } 0x02 åŒºé—´ä¿®æ”¹ &amp; å•ç‚¹æŸ¥è¯¢ æ ‘çŠ¶æ•°ç»„é‡‡ç”¨å·®åˆ†å»ºç«‹ï¼Œå•ç‚¹æŸ¥è¯¢å³é‡‡ç”¨åŸæ•°ç»„çš„åŒºé—´æŸ¥è¯¢å³å¯ // åŒºé—´ä¿®æ”¹ void update(int l, int r, int x) { update(l, x); update(r + 1, -x); } // å•ç‚¹æŸ¥è¯¢ å³åšå‰ç¼€å’Œ int query(int n) { int ans = 0; for (int pos = n; pos; pos -= lowbit(pos)) { ans += tr[pos]; } return ans; } *0x03 åŒºé—´ä¿®æ”¹ &amp; åŒºé—´æŸ¥è¯¢ pf: ç”±å·®åˆ†å½¢å¼å¯çŸ¥ï¼Œç¬¬ ä¸ªæ•°åˆ°ç¬¬ ä¸ªæ•°å¯è¡¨ç¤ºä¸º: â€‹ ç»“è®ºï¼š â€‹ å¯ç”¨åŒºé—´ä¿®æ”¹å’ŒæŸ¥è¯¢æ¥ç»´æŠ¤ï¼Œè€Œâ€‹ ç”¨å¦ä¸€ä¸ªupdateæ¥å­˜å³å¯ å®Œæ•´æ¿å­: #define maxn 100005 #define lowbit(x) x &amp; (-x) #define rep(i, x, y) for (int i = x; i &lt; y; i++) int tr[maxn], tr2[maxn]; // å•ç‚¹ä¿®æ”¹ init void update(int i, int x) { for (int pos = i; pos &lt; maxn; pos += lowbit(pos)) { tr[pos] += x; } } void update2(int i, int x) { for (int pos = i; pos &lt; maxn; pos += lowbit(pos)) { tr2[pos] += x * (i - 1); } } // åŒºé—´ä¿®æ”¹ void update(int l, int r, int x) { update(l, x); update(r + 1, -x); update2(l, x); update2(r + 1, -x); } // å‰ç¼€å’Œ å•ç‚¹æŸ¥è¯¢ int query(int n) { int ans = 0; for (int pos = n; pos; pos -= lowbit(pos)) { ans += tr[pos]; } return ans; } int query2(int n) { int ans = 0; for (int pos = n; pos; pos -= lowbit(pos)) { ans += tr2[pos]; } return ans; } // åŒºé—´æŸ¥è¯¢ int query(int l, int r) { return (r * query(r) - query2(r)) - ((l - 1) * query(l - 1) - query2(l - 1)); } åº”ç”¨ï¼šé€†åºå¯¹ Def: é€†åºå¯¹ï¼š &amp;&amp; ï¼Œå¯ç”¨å½’å¹¶æ’åºå®ç°ï¼Œæ­¤å¤„ç”¨æ ‘çŠ¶æ•°ç»„æ±‚è§£ï¼Œå…¶å®æ±‚è§£çš„ æ ¸å¿ƒï¼šç¦»æ•£åŒ–+æ ‘çŠ¶æ•°ç»„æ±‚é¡ºåºå¯¹ Step1: ç¦»æ•£åŒ–ï¼šå¦å¼€ä¸€ä¸ªæ•°ç»„dï¼Œd[i]ç”¨æ¥å­˜æ”¾ç¬¬iå¤§çš„æ•°åœ¨åŸåºåˆ—çš„ä»€ä¹ˆä½ç½®ï¼Œex: a={3, 8, 5, 4, 6} ==&gt; d={2, 3, 5, 4, 1} int a[maxn], d[maxn], tr[maxn]; bool cmp(int x, int y) { if (a[x] == a[y]) return x &gt; y; // é¿å…å…ƒç´ ç›¸åŒã€é‡è¦ return a[x] &gt; a[y]; // æŒ‰åŸåºåˆ—ç¬¬å‡ å¤§æ’åˆ— } signed main() { cin &gt;&gt; n; rep(i, 1, n + 1) cin &gt;&gt; a[i], d[i] = i; // åˆå§‹åŒ– sort(d + 1, d + 1 + n, cmp); // ç¦»æ•£åŒ– } ç»ç®€æ˜“è¯æ˜å¯çŸ¥ï¼Œdæ•°ç»„çš„é¡ºåºå¯¹ä¸ªæ•°ç­‰äºaæ•°ç»„çš„é€†åºå¯¹ä¸ªæ•°ï¼Œæ•…å¯ä½¿ç”¨æ ‘çŠ¶æ•°ç»„è¿›è¡Œæ±‚è§£ã€‚ Step2: æ±‚é¡ºåºå¯¹ï¼šæ¯æ¬¡æŠŠæ–°çš„xæ”¾è¿›å»åï¼Œquery(x-1)æŸ¥æ‰¾å°äºxçš„æ•°çš„ä¸ªæ•°ï¼Œç»Ÿè®¡ç­”æ¡ˆ void update(int i, int x) { for (int pos = i; pos &lt; maxn; pos += lowbit(pos)) { tr[pos] += x; } } int query(int n) { // æŸ¥è¯¢1-næœ‰å‡ ä¸ªæ•°å­˜åœ¨ int ret = 0; for (int pos = n; pos; pos -= lowbit(pos)) { ret += tr[pos]; } return ret; } signed main() { cin &gt;&gt; n; rep(i, 1, n + 1) cin &gt;&gt; a[i], d[i] = i; // åˆå§‹åŒ– sort(d + 1, d + 1 + n, cmp); // ç¦»æ•£åŒ– int ans = 0; rep(i, 1, n + 1) { update(d[i], 1); ans += query(d[i] - 1); // è®¡æ•° } cout &lt;&lt; ans; } end.","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"https://maskros.top/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"}]},{"title":"Deep Learning åŸºç¡€æ‚è®°","slug":"dl/base/DeepLearning","date":"2022-04-30T18:37:28.000Z","updated":"2022-07-16T08:27:52.927Z","comments":true,"path":"/post/dl/base/DeepLearning.html","link":"","permalink":"https://maskros.top/post/dl/base/DeepLearning.html","excerpt":"Deep Learning åŸºç¡€æ‚è®° çº¸ä¸Šè°ˆå…µ Concepts Frameworks CNN VGG R-CNN YOLO SSD Reference Concepts è¡¨ç¤ºå­¦ä¹ (representation learning)ï¼šæœºå™¨å­¦ä¹ æ—¨åœ¨è‡ªåŠ¨åœ°å­¦åˆ°ä»æ•°æ®çš„è¡¨ç¤ºï¼ˆrepresentationï¼‰åˆ°æ•°æ®çš„æ ‡è®°ï¼ˆlabelï¼‰çš„æ˜ å°„ã€‚è¡¨ç¤ºå­¦ä¹ å¸Œæœ›èƒ½ä»æ•°æ®ä¸­è‡ªåŠ¨åœ°å­¦åˆ°æ˜ å°„ï¼Œå¤ªç†æƒ³ã€‚ æ·±åº¦å­¦ä¹ (deep learning, DL)ï¼šæŠŠè¡¨ç¤ºå­¦ä¹ çš„ä»»åŠ¡åˆ’åˆ†æˆå‡ ä¸ªå°ç›®æ ‡ï¼Œå…ˆä»æ•°æ®çš„åŸå§‹å½¢å¼ä¸­å…ˆå­¦ä¹ æ¯”è¾ƒä½çº§çš„è¡¨ç¤ºï¼Œå†ä»ä½çº§è¡¨ç¤ºå­¦å¾—æ¯”è¾ƒé«˜çº§çš„è¡¨ç¤ºã€‚ç±»ä¼¼åˆ†æ²»æ€æƒ³ã€‚","text":"Deep Learning åŸºç¡€æ‚è®° çº¸ä¸Šè°ˆå…µ Concepts Frameworks CNN VGG R-CNN YOLO SSD Reference Concepts è¡¨ç¤ºå­¦ä¹ (representation learning)ï¼šæœºå™¨å­¦ä¹ æ—¨åœ¨è‡ªåŠ¨åœ°å­¦åˆ°ä»æ•°æ®çš„è¡¨ç¤ºï¼ˆrepresentationï¼‰åˆ°æ•°æ®çš„æ ‡è®°ï¼ˆlabelï¼‰çš„æ˜ å°„ã€‚è¡¨ç¤ºå­¦ä¹ å¸Œæœ›èƒ½ä»æ•°æ®ä¸­è‡ªåŠ¨åœ°å­¦åˆ°æ˜ å°„ï¼Œå¤ªç†æƒ³ã€‚ æ·±åº¦å­¦ä¹ (deep learning, DL)ï¼šæŠŠè¡¨ç¤ºå­¦ä¹ çš„ä»»åŠ¡åˆ’åˆ†æˆå‡ ä¸ªå°ç›®æ ‡ï¼Œå…ˆä»æ•°æ®çš„åŸå§‹å½¢å¼ä¸­å…ˆå­¦ä¹ æ¯”è¾ƒä½çº§çš„è¡¨ç¤ºï¼Œå†ä»ä½çº§è¡¨ç¤ºå­¦å¾—æ¯”è¾ƒé«˜çº§çš„è¡¨ç¤ºã€‚ç±»ä¼¼åˆ†æ²»æ€æƒ³ã€‚ æ·±åº¦ç¥ç»ç½‘ç»œ(deep neural networks, DNN)ï¼šå®ç°å½¢å¼ï¼Œå¾ˆæ·±ã€‚åˆ©ç”¨ç½‘ç»œä¸­é€å±‚å¯¹ç‰¹å¾è¿›è¡ŒåŠ å·¥çš„ç‰¹æ€§ï¼Œé€æ¸ä»ä½çº§ç‰¹å¾æå–é«˜çº§ç‰¹å¾ã€‚ä¸‰å¤§å› ç´ ï¼šå¤§æ•°æ®ï¼Œè®¡ç®—èƒ½åŠ›ï¼Œç®—æ³•åˆ›æ–°ã€‚ å¤šå±‚æ„ŸçŸ¥æœº(multi-layer perceptrons, MLP)ï¼š å¤šå±‚ç”±å…¨è¿æ¥å±‚ç»„æˆçš„æ·±åº¦ç¥ç»ç½‘ç»œã€‚å¤šå±‚æ„ŸçŸ¥æœºçš„æœ€åä¸€å±‚å…¨è¿æ¥å±‚å®è´¨ä¸Šæ˜¯ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œè€Œå…¶ä»–éƒ¨åˆ†åˆ™æ˜¯ä¸ºè¿™ä¸ªçº¿æ€§åˆ†ç±»å™¨å­¦ä¹ ä¸€ä¸ªåˆé€‚çš„æ•°æ®è¡¨ç¤ºï¼Œä½¿å€’æ•°ç¬¬äºŒå±‚çš„ç‰¹å¾çº¿æ€§å¯åˆ†ã€‚ æ¿€æ´»å‡½æ•°(activation function)ï¼šå¥½çš„æ€§è´¨ï¼šä¸é¥±å’Œï¼Œé›¶å‡å€¼ï¼Œæ˜“è®¡ç®— è¿ç§»å­¦ä¹ (transfer learning)ï¼šåˆ©ç”¨æºä»»åŠ¡æ•°æ®è¾…åŠ©ç›®æ ‡ä»»åŠ¡æ•°æ®ä¸‹çš„å­¦ä¹ ã€‚è¿ç§»å­¦ä¹ é€‚ç”¨äºæºä»»åŠ¡æ•°æ®æ¯”ç›®æ ‡ä»»åŠ¡æ•°æ®å¤šï¼Œå¹¶ä¸”æºä»»åŠ¡ä¸­å­¦ä¹ å¾—åˆ°çš„ä½å±‚ç‰¹å¾å¯ä»¥å¸®åŠ©ç›®æ ‡ä»»åŠ¡çš„å­¦ä¹ çš„æƒ…å½¢ã€‚åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼Œæœ€å¸¸ç”¨çš„æºä»»åŠ¡æ•°æ®æ˜¯ImageNetã€‚å¯¹ImageNeté¢„è®­ç»ƒæ¨¡å‹çš„åˆ©ç”¨é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼ï¼š1. å›ºå®šç‰¹å¾æå–å™¨ã€‚ç”¨ImageNeté¢„è®­ç»ƒæ¨¡å‹æå–ç›®æ ‡ä»»åŠ¡æ•°æ®çš„é«˜å±‚ç‰¹å¾ã€‚2. å¾®è°ƒï¼ˆfine-tuningï¼‰ã€‚ä»¥ImageNeté¢„è®­ç»ƒæ¨¡å‹ä½œä¸ºç›®æ ‡ä»»åŠ¡æ¨¡å‹çš„åˆå§‹åŒ–æƒå€¼ï¼Œä¹‹ååœ¨ç›®æ ‡ä»»åŠ¡æ•°æ®ä¸Šè¿›è¡Œå¾®è°ƒã€‚ å¤šä»»åŠ¡å­¦ä¹ (multi-task learning)ï¼šè®­ç»ƒä¸€ä¸ªå¤§ç½‘ç»œä»¥åŒæ—¶å®Œæˆå…¨éƒ¨ä»»åŠ¡ã€‚è¿™äº›ä»»åŠ¡ä¸­ç”¨äºæå–ä½å±‚ç‰¹å¾çš„å±‚æ˜¯å…±äº«çš„ï¼Œä¹‹åäº§ç”Ÿåˆ†æ”¯ï¼Œå„ä»»åŠ¡æ‹¥æœ‰å„è‡ªçš„è‹¥å¹²å±‚ç”¨äºå®Œæˆå…¶ä»»åŠ¡ã€‚é€‚ç”¨äºå¤šä¸ªä»»åŠ¡å…±äº«ä½å±‚ç‰¹å¾ï¼Œå¹¶ä¸”å„ä¸ªä»»åŠ¡çš„æ•°æ®ç›¸ä¼¼ã€‚ ç«¯åˆ°ç«¯å­¦ä¹ (end-to-end learning)ï¼šé€šè¿‡ä¸€ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œç›´æ¥å­¦ä¹ ä»æ•°æ®çš„åŸå§‹å½¢å¼åˆ°æ•°æ®çš„æ ‡è®°çš„æ˜ å°„ã€‚ ä¼˜åŒ–ç®—æ³•ï¼š æ¢¯åº¦ä¸‹é™(gradient descent, GD)ç®—æ³•ï¼šåŸºæœ¬æ€æƒ³ï¼šå…ˆè¯•æ¢åœ¨å½“å‰ä½ç½®å¾€å“ªä¸ªæ–¹å‘èµ°ä¸‹é™æœ€å¿«ï¼ˆå³æ¢¯åº¦æ–¹å‘ï¼‰ï¼Œå†æœç€è¿™ä¸ªæ–¹å‘èµ°ä¸€å°æ­¥ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°ä½ åˆ°è¾¾è°·åº•ã€‚æ€§èƒ½å–å†³äºä¸‰ä¸ªå› ç´ ï¼šåˆå§‹ä½ç½®ï¼Œå±±è°·åœ°å½¢ï¼Œæ­¥é•¿ã€‚ è¯¯å·®åå‘ä¼ æ’­(error Back-Propagation, BP)ç®—æ³•ï¼šè¯¯å·®errorï¼Œè®­ç»ƒç›®çš„ä½¿errorå°½é‡å°ï¼Œç»“åˆå¾®ç§¯åˆ†ä¸­é“¾å¼æ³•åˆ™å’Œç®—æ³•è®¾è®¡ä¸­åŠ¨æ€è§„åˆ’æ€æƒ³ç”¨äºè®¡ç®—æ¢¯åº¦ã€‚ æ»‘åŠ¨å¹³å‡(moving average)ï¼šè¦å‰è¿›çš„æ–¹å‘ä¸å†ç”±å½“å‰æ¢¯åº¦æ–¹å‘å®Œå…¨å†³å®šï¼Œè€Œæ˜¯æœ€è¿‘å‡ æ¬¡æ¢¯åº¦æ–¹å‘çš„æ»‘åŠ¨å¹³å‡ã€‚åº”ç”¨ï¼šå¸¦åŠ¨é‡(momenturn)çš„SGD(éšæœºæ¢¯åº¦ä¸‹é™)ã€NesterovåŠ¨é‡ã€Adam(ADAptive Momentum estimation) ç­‰ã€‚ è‡ªé€‚åº”æ­¥é•¿: è‡ªé€‚åº”åœ°ç¡®å®šæƒå€¼æ¯ä¸€ç»´çš„æ­¥é•¿ã€‚æŒç»­éœ‡è¡æ—¶ï¼Œæ­¥é•¿å°ä¸€äº›ï¼›ä¸€ç›´æ²¿ç€ç›¸åŒæ–¹å‘å‰è¿›ï¼Œæ­¥é•¿å¤§ä¸€äº›ã€‚åº”ç”¨ï¼šAdaGradã€RMSPropã€Adamç­‰ã€‚ å­¦ä¹ ç‡è¡°å‡ï¼šå¼€å§‹è®­ç»ƒæ—¶ï¼Œè¾ƒå¤§çš„å­¦ä¹ ç‡å¯ä»¥ä½¿ä½ åœ¨å‚æ•°ç©ºé—´æœ‰æ›´å¤§èŒƒå›´çš„æ¢ç´¢ï¼›å½“ä¼˜åŒ–æ¥è¿‘æ”¶æ•›æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°ä¸€äº›çš„å­¦ä¹ ç‡ä½¿æƒå€¼æ›´æ¥è¿‘å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚ å½’ä¸€åŒ–/åˆå§‹åŒ–(Normalization)ï¼š åŸºæœ¬æ€æƒ³ï¼šæ–¹å·®ä¸å˜ï¼Œå³è®¾æ³•å¯¹æƒå€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œä½¿å¾—å„å±‚ç¥ç»å…ƒçš„æ–¹å·®ä¿æŒä¸å˜ Xavierï¼šä»é«˜æ–¯åˆ†å¸ƒæˆ–å‡åŒ€åˆ†å¸ƒä¸­å¯¹æƒå€¼è¿›è¡Œé‡‡æ ·ï¼Œä½¿å¾—æƒå€¼çš„æ–¹å·®æ˜¯1/nï¼Œå…¶ä¸­næ˜¯è¾“å…¥ç¥ç»å…ƒçš„ä¸ªæ•°ã€‚è¯¥æ¨å¯¼å‡è®¾æ¿€æ´»å‡½æ•°æ˜¯çº¿æ€§çš„ã€‚ He/MSRAï¼šä»é«˜æ–¯åˆ†å¸ƒæˆ–å‡åŒ€åˆ†å¸ƒä¸­å¯¹æƒå€¼è¿›è¡Œé‡‡æ ·ï¼Œä½¿å¾—æƒå€¼çš„æ–¹å·®æ˜¯2/nã€‚è¯¥æ¨å¯¼å‡è®¾æ¿€æ´»å‡½æ•°æ˜¯ReLUã€‚å› ä¸ºReLUä¼šå°†å°äº0çš„ç¥ç»å…ƒç½®é›¶ï¼Œå¤§è‡´ä¸Šä¼šä½¿ä¸€åŠçš„ç¥ç»å…ƒç½®é›¶ï¼Œæ‰€ä»¥ä¸ºäº†å¼¥è¡¥ä¸¢å¤±çš„è¿™éƒ¨åˆ†ä¿¡æ¯ï¼Œæ–¹å·®è¦ä¹˜ä»¥2ã€‚ æ‰¹é‡å½’ä¸€åŒ–(batch-normalizationï¼ŒBN)ï¼šæ¯å±‚æ˜¾å¼åœ°å¯¹ç¥ç»å…ƒçš„æ¿€æ´»å€¼åšå½’ä¸€åŒ–ï¼Œä½¿å…¶å…·æœ‰é›¶å‡å€¼å’Œå•ä½æ–¹å·®ã€‚BNä½¿æ¿€æ´»å€¼çš„åˆ†å¸ƒå›ºå®šä¸‹æ¥ï¼Œè¿™æ ·å¯ä»¥ä½¿å„å±‚æ›´åŠ ç‹¬ç«‹åœ°è¿›è¡Œå­¦ä¹ ï¼Œå¯ä»¥ä½¿å¾—ç½‘ç»œå¯¹åˆå§‹åŒ–å’Œå­¦ä¹ ç‡ä¸å¤ªæ•æ„Ÿã€‚åŠ å¿«æ¨¡å‹è®­ç»ƒæ—¶çš„æ”¶æ•›é€Ÿåº¦ï¼Œä½¿å¾—æ¨¡å‹è®­ç»ƒè¿‡ç¨‹æ›´åŠ ç¨³å®šï¼Œé¿å…æ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±ã€‚åŒæ—¶èµ·åˆ°ä¸€å®šçš„æ­£åˆ™åŒ–ä½œç”¨ã€‚ åå·®(bias)ï¼šåå·®åº¦é‡äº†ç½‘ç»œçš„è®­ç»ƒé›†è¯¯å·®å’Œè´å¶æ–¯è¯¯å·® (å³èƒ½è¾¾åˆ°çš„æœ€ä¼˜è¯¯å·®) çš„å·®è·ã€‚é«˜åå·®çš„ç½‘ç»œæœ‰å¾ˆé«˜çš„è®­ç»ƒé›†è¯¯å·®ï¼Œè¯´æ˜ç½‘ç»œå¯¹æ•°æ®ä¸­éšå«çš„ä¸€èˆ¬è§„å¾‹è¿˜æ²¡æœ‰å­¦å¥½ã€‚é«˜åå·®è§£å†³æ–¹æ¡ˆï¼šè®­ç»ƒæ›´å¤§çš„ç½‘ç»œï¼Œæ›´å¤šçš„è®­ç»ƒè½®æ•°ï¼Œæ”¹å˜ç½‘ç»œç»“æ„ã€‚ æ–¹å·®(variance)ï¼šæ–¹å·®åº¦é‡äº†ç½‘ç»œçš„éªŒè¯é›†è¯¯å·®å’Œè®­ç»ƒé›†è¯¯å·®çš„å·®è·ã€‚é«˜æ–¹å·®çš„ç½‘ç»œå­¦ä¹ èƒ½åŠ›å¤ªå¼ºï¼ŒæŠŠè®­ç»ƒé›†ä¸­è‡ªèº«ç‹¬æœ‰çš„ä¸€äº›ç‰¹ç‚¹ä¹Ÿå½“ä½œä¸€èˆ¬è§„å¾‹å­¦ä¹ ï¼Œä½¿ç½‘ç»œä¸èƒ½å¾ˆå¥½çš„æ³›åŒ–(generalize)åˆ°éªŒè¯é›†ã€‚é«˜æ–¹å·®è§£å†³æ–¹æ¡ˆï¼šæ›´å¤šçš„æ•°æ®ï¼Œæ­£åˆ™åŒ–ï¼Œæ”¹å˜ç½‘ç»œç»“æ„ã€‚ æ­£åˆ™åŒ–(Regularization)ï¼š åŸºæœ¬æ€æƒ³ï¼šä½¿ç½‘ç»œçš„æœ‰æ•ˆå¤§å°å˜å°ã€‚ç½‘ç»œå˜å°ä¹‹åï¼Œç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›éšä¹‹é™ä½ï¼Œè¿™ä¼šä½¿ç½‘ç»œä¸å®¹æ˜“è¿‡æ‹Ÿåˆåˆ°è®­ç»ƒé›†ã€‚ L2æ­£åˆ™åŒ–ï¼šå€¾å‘äºä½¿ç½‘ç»œçš„æƒå€¼æ¥è¿‘0ã€‚è¿™ä¼šä½¿å‰ä¸€å±‚ç¥ç»å…ƒå¯¹åä¸€å±‚ç¥ç»å…ƒçš„å½±å“é™ä½ï¼Œä½¿ç½‘ç»œå˜å¾—ç®€å•ï¼Œé™ä½ç½‘ç»œçš„æœ‰æ•ˆå¤§å°ï¼Œé™ä½ç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›ã€‚å®è´¨ä¸Šæ˜¯å¯¹æƒå€¼åšçº¿æ€§è¡°å‡ï¼Œæ‰€ä»¥L2æ­£åˆ™åŒ–ä¹Ÿè¢«ç§°ä¸ºæƒå€¼è¡°å‡(weight decay)ã€‚ éšæœºå¤±æ´»(Dropout)ï¼šéšæœºé€‰æ‹©ä¸€éƒ¨åˆ†ç¥ç»å…ƒï¼Œä½¿å…¶ç½®é›¶ï¼Œä¸å‚ä¸æœ¬æ¬¡ä¼˜åŒ–è¿­ä»£ã€‚éšæœºå¤±æ´»å‡å°‘äº†æ¯æ¬¡å‚ä¸ä¼˜åŒ–è¿­ä»£çš„ç¥ç»å…ƒæ•°ç›®ï¼Œä½¿ç½‘ç»œçš„æœ‰æ•ˆå¤§å°å˜å°ã€‚ä½œç”¨ï¼šé™ä½ç¥ç»å…ƒä¹‹é—´è€¦åˆï¼Œç½‘ç»œé›†æˆã€‚ æ•°æ®æ‰©å……ï¼šæˆ‘ä»¬ä»ç°æœ‰æ•°æ®ä¸­æ‰©å……ç”Ÿæˆæ›´å¤šæ•°æ®ï¼Œç”¨ç”Ÿæˆçš„â€œä¼ªé€ â€æ•°æ®å½“ä½œæ›´å¤šçš„çœŸå®æ•°æ®è¿›è¡Œè®­ç»ƒã€‚ æ—©åœï¼šå‘ç°éªŒè¯é›†è¯¯å·®ä¸å†å˜åŒ–æˆ–è€…å¼€å§‹ä¸Šå‡æ—¶ï¼Œæå‰åœæ­¢è®­ç»ƒã€‚ è°ƒå‚æŠ€å·§ï¼š éšæœºæœç´¢ï¼šäº‹å…ˆå¹¶ä¸çŸ¥é“å“ªäº›è¶…å‚æ•°å¯¹ä½ çš„é—®é¢˜æ›´é‡è¦ï¼Œé€šå¸¸æ˜¯æ¯”ç½‘æ ¼æœç´¢(grid search)æ›´æœ‰æ•ˆçš„è°ƒå‚ç­–ç•¥ã€‚ å¯¹æ•°ç©ºé—´æœç´¢ï¼šå¯¹äºéšå±‚ç¥ç»å…ƒæ•°ç›®å’Œå±‚æ•°ï¼Œå¯ä»¥ç›´æ¥ä»å‡åŒ€åˆ†å¸ƒé‡‡æ ·è¿›è¡Œæœç´¢ã€‚è€Œå¯¹äºå­¦ä¹ ç‡ã€L2æ­£åˆ™åŒ–ç³»æ•°ã€å’ŒåŠ¨é‡ï¼Œåœ¨å¯¹æ•°ç©ºé—´æœç´¢æ›´åŠ æœ‰æ•ˆã€‚ å®ç°æŠ€å·§ï¼šå›¾å½¢å¤„ç†å•å…ƒ(GPU)ï¼Œå‘é‡åŒ–(vectorization) æ— ç›‘ç£é¢„è®­ç»ƒ(Unsupervised pre-training)ï¼šé¢„è®­ç»ƒé˜¶æ®µçš„æ ·æœ¬ä¸éœ€è¦äººå·¥æ ‡æ³¨æ•°æ® æœ‰ç›‘ç£é¢„è®­ç»ƒ(Supervised pre-training)ï¼šä¸€ç§è¿ç§»å­¦ä¹ ï¼Œå·²ç»åœ¨ä¸€ç±»é—®é¢˜è®­ç»ƒå¥½äº†ä¸€ç»„æ¨¡å‹å‚æ•°çš„æ—¶å€™ï¼Œæƒ³å°†è¯¥æ¨¡å‹åº”ç”¨åˆ°ç±»ä¼¼ä½†ä¸åŒçš„å…¶å®ƒé—®é¢˜ä¸Šï¼Œä¸å¿…ä»å¤´å¼€å§‹è®­ç»ƒç½‘ç»œï¼Œè€Œæ˜¯å°†ä¸Šè¿°æ¨¡å‹å‚æ•°ä½œä¸ºç½‘ç»œåˆå§‹å€¼ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­è®­ç»ƒ è¾“å…¥å±‚ï¼š çŸ©é˜µï¼Œç»´åº¦ä¸è¾“å…¥é‡çš„ç‰¹å¾ç›¸å…³ éšè—å±‚ï¼šè¿›è¡Œçº¿æ€§çŸ©é˜µè¿ç®—ï¼š $H=XW_1+b_1Y=HW_2+b_2$ æ¿€æ´»å±‚ï¼šåœ¨éšè—å±‚ä¸­åŠ å…¥ï¼Œä¸ºçŸ©é˜µè¿ç®—ç»“æœæ·»åŠ éçº¿æ€§ï¼Œå¸¸è§ï¼šé˜¶è·ƒã€Sigmoidã€ReLU(ä¿®æ­£çº¿æ€§å•å…ƒ)ã€Tanhã€Leaky ReLUç­‰ Softmaxå±‚ï¼›è®¡ç®—å…¬å¼åšè¾“å‡ºç»“æœæ­£è§„åŒ–å¤„ç† æ­£è§„åŒ–ï¼šå°†æœ€ç»ˆè¾“å‡ºè½¬åŒ–ä¸ºæ¦‚ç‡ï¼Œï¼Œå’Œä¸º1 äº¤å‰ç†µæŸå¤±(Cross Entropy Error)ï¼šè¡¡é‡ç½‘ç»œçš„ä¼˜åŠ£ï¼Œ1å‡å»Softmaxè¾“å‡ºçš„æ¦‚ç‡ï¼Œå†æ±‚å¯¹æ•°çš„è´Ÿæ•°ï¼Œè¶Šæ¥è¿‘äº0ï¼Œè¯´æ˜ç»“æœè¶Šå‡†ç¡® è¿­ä»£ï¼šå³è¿­ä»£ï¼Œç¥ç»ç½‘ç»œéœ€è¦åå¤è¿­ä»£ç›´åˆ°æŸå¤±å€¼å˜å°åˆ°æ»¡æ„ä¸ºæ­¢ é“¾å¼æ³•åˆ™ï¼šå¦‚æœæŸä¸ªå‡½æ•°ç”±å¤åˆå‡½æ•°è¡¨ç¤ºï¼Œåˆ™è¯¥å¤åˆå‡½æ•°çš„å¯¼æ•°å¯ä»¥ç”¨æ„æˆå¤åˆå‡½æ•°çš„å„ä¸ªå‡½æ•°çš„å¯¼æ•°çš„ä¹˜ç§¯è¡¨ç¤º åå‘ä¼ æ’­(backward)ï¼šå‚æ•°ä¼˜åŒ–çš„è¿‡ç¨‹ï¼Œä¼˜åŒ–å¯¹è±¡ï¼š, åŠ æ³•ç»“ç‚¹ï¼šåŸå°ä¸åŠ¨ ä¹˜æ³•ç»“ç‚¹ï¼šè¾“å…¥çš„å€¼äº¤å‰ç›¸ä¹˜ ä»¿å°„å˜æ¢ï¼š, å¯¹æ±‚å¯¼å°±æ˜¯ï¼Œå¯¹æ±‚å¯¼ä¸ºï¼Œå¯¹æ±‚å¯¼ä¸º1ï¼ŒåŸå°ä¸åŠ¨å³å¯ ReLU: x &gt; 0, y = x, æ±‚å¯¼ä¸º1, åŸå°ä¸åŠ¨ï¼›x &lt;= 0, y = 0, ä¼ é€’å€¼ä¸º0 Softmax-with-loss: ä»å‰é¢çš„å±‚è¾“å…¥çš„æ˜¯(a1, a2, a3)ï¼Œsoftmaxå±‚è¾“å‡º(y1, y2, y3)ã€‚æ­¤å¤–ï¼Œæ•™å¸ˆæ ‡ç­¾æ˜¯(t1, t2, t3)ï¼ŒCross Entropy Errorå±‚è¾“å‡ºæŸå¤±L,æ•™å¸ˆæ ‡ç­¾ï¼Œå°±æ˜¯è¡¨ç¤ºæ˜¯å¦åˆ†ç±»æ­£ç¡®çš„æ ‡ç­¾(0/1)ã€‚åå‘ä¼ æ’­ç»“æœï¼š(y1 âˆ’ t1, y2 âˆ’ t2, y3 âˆ’ t3) åå‘ä¼ æ’­å‚æ•°æ›´æ–°ï¼š æ­£åˆ™åŒ–æƒ©ç½šé¡¹regï¼šé¿å…æœ€åæ±‚å‡ºçš„Wè¿‡äºé›†ä¸­ï¼Œä¿®æ­£ å­¦ä¹ ç‡epsilon: ç›´æ¥åå‘ä¼ æ’­å›æ¥çš„é‡å€¼å¯èƒ½ä¼šæ¯”è¾ƒå¤§ï¼Œåœ¨å¯»æ‰¾æœ€ä¼˜è§£çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç›´æ¥å°†æœ€ä¼˜è§£è¶Šè¿‡å»ï¼Œå­¦ä¹ ç‡é€šå¸¸å¾ˆå°ï¼Œå¦‚0.0001ï¼Œä¿®æ­£ä¸º è¿‡æ‹Ÿåˆï¼šä¸€ä¸ªå‡è®¾åœ¨è®­ç»ƒæ•°æ®ä¸Šèƒ½å¤Ÿè·å¾—æ¯”å…¶ä»–å‡è®¾æ›´å¥½çš„æ‹Ÿåˆï¼Œä½†æ˜¯åœ¨è®­ç»ƒæ•°æ®å¤–çš„æ•°æ®é›†ä¸Šå´ä¸èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ® æ¢¯åº¦çˆ†ç‚¸/æ¢¯åº¦æ¶ˆå¤±ï¼šç”±äºé“¾å¼å‡†åˆ™ï¼Œå½“å±‚æ•°è¶Šæ·±çš„æ—¶å€™ï¼Œæ¢¯åº¦å°†ä»¥æŒ‡æ•°å½¢å¼ä¼ æ’­ï¼Œä¸€èˆ¬éšç€ç½‘ç»œå±‚æ•°çš„å¢åŠ ä¼šå˜å¾—è¶Šæ¥è¶Šæ˜æ˜¾ã€‚åœ¨æ ¹æ®æŸå¤±å‡½æ•°è®¡ç®—çš„è¯¯å·®é€šè¿‡æ¢¯åº¦åå‘ä¼ æ’­çš„æ–¹å¼å¯¹æ·±åº¦ç½‘ç»œæƒå€¼è¿›è¡Œæ›´æ–°æ—¶ï¼Œå¾—åˆ°çš„æ¢¯åº¦å€¼æ¥è¿‘0æˆ–ç‰¹åˆ«å¤§ï¼Œå³ä¸ºæ¶ˆå¤±/çˆ†ç‚¸ã€‚ é²æ£’æ€§(Robustness)ï¼šå¥å£®æ€§ï¼Œæ¨¡å‹å…·æœ‰è¾ƒé«˜çš„ç²¾åº¦æˆ–æœ‰æ•ˆæ€§ï¼›å¯¹äºæ¨¡å‹å‡è®¾å‡ºç°çš„è¾ƒå°åå·®(å™ªå£°)ï¼Œåªèƒ½å¯¹ç®—æ³•æ€§èƒ½äº§ç”Ÿè¾ƒå°çš„å½±å“ï¼›æ¨¡å‹å‡è®¾å‡ºç°çš„è¾ƒå¤§åå·®(ç¦»ç¾¤ç‚¹)ï¼Œä¸å¯å¯¹ç®—æ³•æ€§èƒ½äº§ç”Ÿâ€œç¾éš¾æ€§â€çš„å½±å“ backboneï¼šä¸»å¹²ç½‘ç»œ headï¼šè·å–ç½‘ç»œè¾“å‡ºå†…å®¹çš„ç½‘ç»œï¼Œåˆ©ç”¨ä¹‹å‰æå–çš„ç‰¹å¾åšå‡ºé¢„æµ‹ neckï¼šbackboneå’Œhaedä¹‹é—´ï¼Œä¸ºäº†æ›´å¥½åœ°åˆ©ç”¨backboneçš„ç‰¹å¾ epochï¼šå½“ä¸€ä¸ªå®Œæ•´çš„æ•°æ®é›†é€šè¿‡ç¥ç»ç½‘ç»œä¸€æ¬¡å¹¶ä¸”è¿”å›ä¸€æ¬¡çš„è¿‡ç¨‹ç§°ä¸ºä¸€ä¸ªepochï¼Œå½“ä¸€ä¸ªepochå¯¹äºè®¡ç®—æœºå¤ªè¿‡åºå¤§æ—¶ï¼Œå°±éœ€è¦æŠŠå®ƒåˆ†æˆå¤šä¸ªå°å— batchï¼šåœ¨ä¸èƒ½å°†æ•°æ®ä¸€æ¬¡æ€§é€šè¿‡ç¥ç»ç½‘ç»œçš„é€‚åˆï¼Œå°±éœ€è¦å°†æ•°æ®é›†åˆ†æˆå‡ ä¸ªbatch batch_sizeï¼šä¸€ä¸ªbatchä¸­çš„æ ·æœ¬æ€»æ•°(ä¸€æ¬¡è®­ç»ƒæ‰€é€‰å–çš„æ ·æœ¬æ•°)ï¼Œå¤§å°å½±å“æ¨¡å‹çš„ä¼˜åŒ–ç¨‹åº¦å’Œé€Ÿåº¦ã€‚ç›´æ¥å½±å“åˆ°GPUå†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚ mAP(Mean Average Precision)ï¼šå‡å€¼å¹³å‡ç²¾åº¦ï¼Œä½œä¸ºobject detection ä¸­è¡¡é‡æ£€æµ‹ç²¾åº¦çš„æŒ‡æ ‡ï¼ŒmAP = æ‰€æœ‰ç±»åˆ«çš„å¹³å‡ç²¾åº¦æ±‚å’Œé™¤ä»¥æ‰€æœ‰ç±»åˆ«ã€‚ Frameworks PyTorchï¼šMLæ¡†æ¶ï¼Œå…·æœ‰å¼ºå¤§çš„GPUåŠ é€Ÿçš„å¼ é‡(tensor)è®¡ç®—ï¼ŒåŒ…å«è‡ªåŠ¨æ±‚å¯¼ç³»ç»Ÿçš„DNNï¼ŒåŠ¨æ€å›¾æœºåˆ¶(å¯ä¿®æ”¹)ï¼Œç®€å•æ˜“ä¸Šæ‰‹ TensorFlowï¼šMLæ¡†æ¶ï¼Œå¼ é‡å®šä¹‰æ•°æ®ç±»å‹ï¼ŒæŠŠæ•°æ®æ¨¡å‹å’Œæ“ä½œå®šä¹‰åœ¨è®¡ç®—å›¾ä¸­ï¼Œä½¿ç”¨ä¼šè¯è¿›è¡Œè®¡ç®—ï¼ŒæŠŠè®¡ç®—å®šä¹‰åœ¨å›¾ä¸Šã€‚é™æ€å›¾æœºåˆ¶ï¼Œ2.0å¼•å…¥åŠ¨æ€å›¾æœºåˆ¶Eageræ¨¡å¼ï¼Œä½†æ˜¯APIå¤ªå¤šï¼Œä¸å¦‚Pytorchç®€æ´ CNN å·ç§¯ç¥ç»ç½‘ç»œ(Convolution Neural Network, CNN): å¸¸ç”¨æ¥å¤„ç†å›¾ç‰‡æ•°æ®ï¼Œè¾“å…¥å±‚ï¼Œå·ç§¯å±‚(CONV)ï¼Œæ¿€åŠ±å±‚(RELU)ï¼Œæ± åŒ–å±‚(POOL)ï¼Œå…¨è¿æ¥å±‚(Fc) è¾“å…¥å±‚ï¼šå›¾åƒå¤„ç† å‡å€¼åŒ–ï¼šæŠŠè¾“å…¥æ•°æ®å„ä¸ªç»´åº¦éƒ½ä¸­å¿ƒåŒ–åˆ°0ï¼Œæ‰€æœ‰æ ·æœ¬æ±‚å’Œæ±‚å¹³å‡ï¼Œç„¶åç”¨æ‰€æœ‰çš„æ ·æœ¬å‡å»è¿™ä¸ªå‡å€¼æ ·æœ¬å°±æ˜¯å»å‡å€¼ã€‚ å½’ä¸€åŒ–ï¼šæ•°æ®å¹…åº¦å½’ä¸€åŒ–åˆ°åŒæ ·çš„èŒƒå›´ï¼Œå¯¹äºæ¯ä¸ªç‰¹å¾è€Œè¨€ï¼ŒèŒƒå›´æœ€å¥½æ˜¯[-1,1] PCA/ç™½åŒ–ï¼šç”¨PCA(ä¸»æˆåˆ†åˆ†æç®—æ³•)é™ç»´ï¼Œè®©æ¯ä¸ªç»´åº¦çš„ç›¸å…³åº¦å–æ¶ˆï¼Œç‰¹å¾å’Œç‰¹å¾ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ç™½åŒ–æ˜¯å¯¹æ•°æ®æ¯ä¸ªç‰¹å¾è½´ä¸Šçš„å¹…åº¦å½’ä¸€åŒ– å·ç§¯å±‚ï¼šå±€éƒ¨è¿æ¥ã€‚é€‰æ‹©n*nå¤§å°çš„å±€éƒ¨åŒºåŸŸ(filter)ï¼Œæ‰«ææ•´å¼ å›¾ç‰‡ï¼Œæ¯ä¸€æ¬¡å¯¹åº”åœˆèµ·æ¥n*nä¸ªï¼Œè¿æ¥åˆ°ä¸‹ä¸€å±‚çš„ç¥ç»å…ƒï¼Œç„¶åäº§ç”Ÿn*nä¸ªæƒé‡ï¼Œæ„æˆçš„çŸ©é˜µå«åšå·ç§¯æ ¸ å·ç§¯ï¼šè®¡ç®—è¿‡ç¨‹ä¸ºå·ç§¯æ ¸å’Œå¯¹åº”åŒºåŸŸç›¸ä¹˜æ±‚å’Œï¼Œäº§ç”Ÿæ–°å€¼ã€‚è®¾filteræ»‘åŠ¨æ¬¡æ•°ä¸ºmï¼Œåˆ™äº§ç”Ÿmä¸ªå€¼ï¼Œå³ä¸‹ä¸€å±‚æœ‰mä¸ªç¥ç»å…ƒï¼Œæ„æˆçŸ©é˜µä¸ºç‰¹å¾å›¾(feature map) å·ç§¯è¿‡ç¨‹ä¸­ï¼š æ·±åº¦depth(é€šé“)ï¼šç”±ä¸Šä¸€å±‚æ»¤æ³¢å™¨çš„ä¸ªæ•°å†³å®š æ­¥é•¿strideï¼šæ¯æ¬¡æ»‘åŠ¨å‡ æ­¥ å¡«å……å€¼zero-paddingï¼šè®¾ç½®äº†strideï¼Œå¾ˆæœ‰å¯èƒ½æŸäº›ä½ç½®æ»‘ä¸åˆ°ï¼Œé¿å…äº†è¾¹ç¼˜ä¿¡æ¯è¢«ä¸€æ­¥æ­¥èˆå¼ƒçš„é—®é¢˜ã€‚åŒæ—¶æ§åˆ¶feature mapçš„è¾“å‡ºå°ºå¯¸ feature map= (inputsize + 2 * paddingsize - filtersize) / stride + 1 è®¡ç®—å¼ï¼š è¾“å…¥å°ºå¯¸ï¼š å·ç§¯å±‚å‚æ•°ï¼šfiltersä¸ªæ•°Kï¼Œfilterå°ºå¯¸Fï¼Œstrideä¸ºSï¼Œzero paddingä¸ºP è¾“å‡ºå°ºå¯¸ï¼š æƒé‡ä¸ªæ•°ï¼šæƒé‡å…±äº«åæ¯ä¸ªfilteræœ‰, ä¸€å…±æœ‰ä¸ªæƒé‡å’Œä¸ªåç§» å¸¸è§„è®¾ç½®: æ¿€åŠ±å±‚ï¼šé€šè¿‡æ¿€æ´»å‡½æ•°ï¼ŒæŠŠå·ç§¯å±‚çš„ç»“æœåšéçº¿æ€§æ˜ å°„ æ± åŒ–å±‚ï¼šé™ä½å„ä¸ªç‰¹å¾å›¾çš„ç»´åº¦ï¼Œä½†å¯ä»¥ä¿æŒå¤§éƒ¨åˆ†é‡è¦ä¿¡æ¯ï¼Œæ’é™¤å†—ä½™ä¿¡æ¯ã€‚ã€‚æ± åŒ–å±‚å¤¹åœ¨è¿ç»­çš„å·ç§¯å±‚ä¸­é—´ï¼Œä¸éœ€è¦å‚æ•°æ§åˆ¶ï¼Œè´Ÿè´£å‹ç¼©æ•°æ®å’Œå‚æ•°çš„é‡ï¼Œå‡å°è¿‡æ‹Ÿåˆã€‚å¸¸ç”¨æ–¹å¼ï¼š Max pooling: æœ€å¤§æ± åŒ–ï¼Œå®šä¹‰ä¸€ä¸ªç©ºé—´é‚»åŸŸ(n*nçª—å£)ï¼Œå¹¶ä»çª—å£å†…çš„ä¿®æ­£ç‰¹å¾å›¾ä¸­å–å‡ºæœ€å¤§çš„å…ƒç´ ï¼Œæœ€å¤§æ± åŒ–è¢«è¯æ˜æ•ˆæœæ›´å¥½ã€‚ Average pooling: å¹³å‡æ± åŒ–ï¼Œå®šä¹‰ä¸€ä¸ªç©ºé—´é‚»åŸŸ(n*nçª—å£)ï¼Œå¹¶ä»çª—å£å†…çš„ä¿®æ­£ç‰¹å¾å›¾ç®—å‡ºå¹³å‡å€¼ å…¨è¿æ¥å±‚ï¼šé€šå¸¸åœ¨CNNå°¾éƒ¨ï¼Œå…¨è¿æ¥å±‚ä¸­æ‰€æœ‰ç¥ç»å…ƒéƒ½æœ‰æƒé‡è¿æ¥ã€‚é€šå¸¸å·ç§¯ç½‘ç»œçš„æœ€åä¼šå°†æœ«ç«¯å¾—åˆ°çš„é•¿æ–¹ä½“å¹³æ‘Šæˆä¸€ä¸ªé•¿é•¿çš„å‘é‡ï¼Œå¹¶é€å…¥å…¨è¿æ¥å±‚é…åˆè¾“å‡ºå±‚è¿›è¡Œåˆ†ç±» è®­ç»ƒä¸ä¼˜åŒ–ï¼šè®­ç»ƒå·ç§¯æ ¸(filter) è¯¯å·®åå‘ä¼ æ’­(error Back-Propagation, BP)ç®—æ³•ï¼šè¯¯å·®errorï¼Œè®­ç»ƒç›®çš„ä½¿errorå°½é‡å°ï¼Œç»“åˆå¾®ç§¯åˆ†ä¸­é“¾å¼æ³•åˆ™å’Œç®—æ³•è®¾è®¡ä¸­åŠ¨æ€è§„åˆ’æ€æƒ³ç”¨äºè®¡ç®—æ¢¯åº¦ã€‚ æ¢¯åº¦ä¸‹é™(gradient descent, GD)ç®—æ³•ï¼šåŸºæœ¬æ€æƒ³ï¼šå…ˆè¯•æ¢åœ¨å½“å‰ä½ç½®å¾€å“ªä¸ªæ–¹å‘èµ°ä¸‹é™æœ€å¿«ï¼ˆå³æ¢¯åº¦æ–¹å‘ï¼‰ï¼Œå†æœç€è¿™ä¸ªæ–¹å‘èµ°ä¸€å°æ­¥ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°ä½ åˆ°è¾¾è°·åº•ã€‚æ€§èƒ½å–å†³äºä¸‰ä¸ªå› ç´ ï¼šåˆå§‹ä½ç½®ï¼Œå±±è°·åœ°å½¢ï¼Œæ­¥é•¿ã€‚ VGG VGG vs AlexNetï¼šé‡‡ç”¨è¿ç»­çš„å‡ ä¸ª3Ã—3å·ç§¯æ ¸æ›¿ä»£AlexNetä¸­çš„è¾ƒå¤§å·ç§¯æ ¸(11Ã—11, 7Ã—7, 5Ã—5)ï¼Œå·ç§¯æ ¸çº§è”å åŠ æ¥ä»£æ›¿ã€‚æ·±åº¦æ›´æ·±ï¼Œå‚æ•°æ›´å¤šï¼Œæ•ˆæœå’Œå¯ç§»æ¤æ€§æ›´å¥½ï¼Œè®¡ç®—é‡æ¯”è¾ƒå¤§ã€‚å¸¸ç”¨äºå›¾ç‰‡åˆ†ç±»ã€‚ VGG-16ï¼š13conv(2+2+3+3+3) + 3fcï¼Œå·ç§¯æ ¸å°ºå¯¸3Ã—3ï¼Œæœ€å¤§æ± åŒ–å°ºå¯¸2Ã—2ï¼Œæ± åŒ–å±‚éƒ½ä½¿ç‰¹å¾å›¾ç¼©å‡ä¸€åŠï¼Œè¾ƒå°çš„filter size/kernal size å·ç§¯ä¸è€ƒè™‘æ­£åˆ™ï¼Œå…¨è¿æ¥è€ƒè™‘æ­£åˆ™ï¼šå·ç§¯å±‚wä¸ªæ•°ç›¸å¯¹å°‘ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œè€Œå…¨è¿æ¥å±‚è®¡ç®—çš„wå‚æ•°å¤šï¼Œæ•…éœ€è¦è€ƒè™‘æ­£åˆ™é˜²æ­¢è¿‡æ‹Ÿåˆã€‚ è¿ç§»å­¦ä¹ ï¼šå½“æ•°æ®é›†æ²¡æœ‰å¤§åˆ°è¶³ä»¥è®­ç»ƒæ•´ä¸ªCNNç½‘ç»œæ—¶ï¼Œå¯ä»¥å¯¹é¢„è®­ç»ƒå¥½çš„ImageNetç½‘ç»œ(VGG16, Inception-v3ç­‰)è¿›è¡Œè°ƒæ•´ä»¥é€‚åº”æ–°ä»»åŠ¡ã€‚ä¸¤ç§ç±»å‹ï¼š ç‰¹å¾æå–ï¼šå°†é¢„è®­ç»ƒçš„ç½‘ç»œè§†ä¸ºä¸€ä¸ªä»»æ„ç‰¹å¾æå–å™¨ï¼Œå›¾ç‰‡ç»è¿‡è¾“å…¥å±‚ï¼Œç„¶åå‰å‘ä¼ æ’­ï¼Œæœ€åå†æŒ‡å®šå±‚åœæ­¢ï¼Œæå–è¾“å‡ºç»“æœä½œä¸ºè¾“å…¥å›¾ç‰‡çš„ç‰¹å¾ã€‚ å¾®è°ƒ(fine-tuning)ï¼šæ›´æ”¹é¢„è®­ç»ƒæ¨¡å‹çš„ç»“æ„ï¼Œç§»é™¤å…¨è¿æ¥å±‚ï¼Œæ·»åŠ ä¸€ç»„è‡ªå®šä¹‰çš„å…¨è¿æ¥å±‚è¿›è¡Œæ–°çš„åˆ†ç±»ã€‚ R-CNN ç›®æ ‡æ£€æµ‹ç®—æ³•åˆ†ç±»ï¼š two-stage(ä¸¤é˜¶æ®µ)ç®—æ³•ï¼šå¦‚R-CNN, å…¶ä¸»è¦æ€è·¯æ˜¯å…ˆé€šè¿‡å¯å‘å¼æ–¹æ³•ï¼ˆselective searchï¼‰æˆ–è€…CNNç½‘ç»œï¼ˆRPN)äº§ç”Ÿä¸€ç³»åˆ—ç¨€ç–çš„å€™é€‰æ¡†ï¼Œç„¶åå¯¹è¿™äº›å€™é€‰æ¡†è¿›è¡Œåˆ†ç±»ä¸å›å½’ï¼Œtwo-stageæ–¹æ³•çš„ä¼˜åŠ¿æ˜¯å‡†ç¡®åº¦é«˜ï¼› one-stage(å•é˜¶æ®µ)ç®—æ³•ï¼šå¦‚Yoloå’ŒSSDï¼Œå…¶ä¸»è¦æ€è·¯æ˜¯å‡åŒ€åœ°åœ¨å›¾ç‰‡çš„ä¸åŒä½ç½®è¿›è¡Œå¯†é›†æŠ½æ ·ï¼ŒæŠ½æ ·æ—¶å¯ä»¥é‡‡ç”¨ä¸åŒå°ºåº¦å’Œé•¿å®½æ¯”ï¼Œç„¶ååˆ©ç”¨CNNæå–ç‰¹å¾åç›´æ¥è¿›è¡Œåˆ†ç±»ä¸å›å½’ï¼Œæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¸€æ­¥ï¼Œæ‰€ä»¥å…¶ä¼˜åŠ¿æ˜¯é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å‡åŒ€çš„å¯†é›†é‡‡æ ·çš„ä¸€ä¸ªé‡è¦ç¼ºç‚¹æ˜¯è®­ç»ƒæ¯”è¾ƒå›°éš¾ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºæ­£è´Ÿæ ·æœ¬æå…¶ä¸å‡è¡¡ï¼Œå¯¼è‡´æ¨¡å‹å‡†ç¡®åº¦ç¨ä½ã€‚ R-CNNï¼š(Regions with CNN features)ï¼Œç”¨äºç›®æ ‡æ£€æµ‹çš„ç»å…¸ç®—æ³•ã€‚å°†CNNæ–¹æ³•å¼•å…¥ç›®æ ‡æ£€æµ‹é¢†åŸŸã€‚è®ºæ–‡ï¼šRich feature hierarchies for accurate object detection and semantic segmentation åŸºæœ¬æµç¨‹ï¼š å€™é€‰åŒºåŸŸç”Ÿæˆï¼š ä¸€å¼ å›¾åƒç”Ÿæˆ1K~2Kä¸ªå€™é€‰åŒºåŸŸ ï¼ˆé‡‡ç”¨é€‰æ‹©æ€§æœç´¢(Selective Search) æ–¹æ³•ï¼‰ ç‰¹å¾æå–ï¼š å¯¹æ¯ä¸ªå€™é€‰åŒºåŸŸï¼Œä½¿ç”¨ CNN æå–ç‰¹å¾ ç±»åˆ«åˆ¤æ–­ï¼š ç‰¹å¾é€å…¥æ¯ä¸€ç±»çš„ SVM åˆ†ç±»å™¨ï¼Œåˆ¤åˆ«æ˜¯å¦å±äºè¯¥ç±» ä½ç½®ç²¾ä¿®ï¼š ä½¿ç”¨å›å½’å™¨ç²¾ç»†ä¿®æ­£å€™é€‰æ¡†ä½ç½® é€‰æ‹©æ€§æœç´¢(selective search)ï¼šâ‘  ä½¿ç”¨ä¸€ç§è¿‡åˆ†å‰²æ‰‹æ®µï¼Œå°†å›¾åƒåˆ†å‰²æˆå°åŒºåŸŸ (1k~2k ä¸ª) ã€‚ â‘¡ æŸ¥çœ‹ç°æœ‰å°åŒºåŸŸï¼ŒæŒ‰ç…§åˆå¹¶è§„åˆ™åˆå¹¶å¯èƒ½æ€§æœ€é«˜çš„ç›¸é‚»ä¸¤ä¸ªåŒºåŸŸã€‚é‡å¤ç›´åˆ°æ•´å¼ å›¾åƒåˆå¹¶æˆä¸€ä¸ªåŒºåŸŸä½ç½®ã€‚ â‘¢ è¾“å‡ºæ‰€æœ‰æ›¾ç»å­˜åœ¨è¿‡çš„åŒºåŸŸï¼Œæ‰€è°“å€™é€‰åŒºåŸŸã€‚ åˆå¹¶è§„åˆ™ï¼šå››ç§ç›¸ä¼¼æ€§åº¦é‡ï¼šâ‘ é¢œè‰²ç›¸ä¼¼æ€§(é¢œè‰²ç›´æ–¹å›¾)ï¼›â‘¡çº¹ç†ç›¸ä¼¼æ€§(æ¢¯åº¦ç›´æ–¹å›¾)ï¼›â‘¢sizeç›¸ä¼¼æ€§(å°åŒºåŸŸä¹‹é—´ä¼˜å…ˆåˆå¹¶)ï¼›â‘£shapeç›¸ä¼¼æ€§(åˆå¹¶åªèƒ½åœ¨ç´§é‚»çš„ä¸¤ä¸ªåŒºåŸŸé—´è¿›è¡Œï¼Œè¿œç¦»çš„ä¸¤ä¸ªåŒºåŸŸä¸èƒ½åˆå¹¶)ã€‚æœ€ç»ˆç›¸ä¼¼æ€§åº¦é‡ä¸ºä»¥ä¸Šå››ç§çš„ç»„åˆã€‚ é‡å åº¦(IOU)ï¼šç‰©ä½“æ£€æµ‹éœ€è¦å®šä½å‡ºç‰©ä½“çš„bounding boxï¼Œå®šä½ç²¾åº¦è¯„ä¼°å…¬å¼ï¼šå®šä¹‰äº†ä¸¤ä¸ªbounding boxçš„é‡å åº¦ï¼Œå³çŸ©å½¢æ¡†Aã€Bçš„é‡å é¢ç§¯å Aã€Bå¹¶é›†çš„é¢ç§¯æ¯”ä¾‹ï¼š éæå¤§å€¼æŠ‘åˆ¶(NMS)ï¼š æŠ‘åˆ¶ä¸æ˜¯æå¤§å€¼çš„å…ƒç´ ï¼Œæœç´¢å±€éƒ¨çš„æå¤§å€¼ã€‚å±€éƒ¨ä»£è¡¨çš„æ˜¯ä¸€ä¸ªé‚»åŸŸï¼Œé‚»åŸŸæœ‰ä¸¤ä¸ªå‚æ•°å¯å˜ï¼Œä¸€æ˜¯é‚»åŸŸçš„ç»´æ•°ï¼ŒäºŒæ˜¯é‚»åŸŸçš„å¤§å°ã€‚é€‰å–é‚£äº›é‚»åŸŸé‡Œåˆ†æ•°æœ€é«˜(æ¦‚ç‡æœ€å¤§)ï¼Œå¹¶ä¸”æŠ‘åˆ¶é‚£äº›åˆ†æ•°ä½çš„çª—å£ã€‚å…·ä½“æ–¹æ³•ï¼š â€‹ â‘  å¯¹çŸ©é˜µä¸­æ¯åˆ—æŒ‰ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼› â€‹ â‘¡ ä»æ¯åˆ—æœ€å¤§çš„å¾—åˆ†å»ºè®®æ¡†å¼€å§‹ï¼Œåˆ†åˆ«ä¸è¯¥åˆ—åé¢çš„å¾—åˆ†å»ºè®®æ¡†è¿›è¡ŒIoUè®¡ç®—ï¼Œè‹¥IoU&gt;é˜ˆå€¼ï¼Œåˆ™å‰”é™¤å¾—åˆ†è¾ƒå°çš„å»ºè®®æ¡†ï¼Œå¦åˆ™è®¤ä¸ºå›¾åƒä¸­å­˜åœ¨å¤šä¸ªåŒä¸€ç±»ç‰©ä½“ï¼› â€‹ â‘¢ ä»æ¯åˆ—æ¬¡å¤§çš„å¾—åˆ†å»ºè®®æ¡†å¼€å§‹ï¼Œé‡å¤æ­¥éª¤â‘¡ï¼› â€‹ â‘£ é‡å¤æ­¥éª¤â‘¢ç›´åˆ°éå†å®Œè¯¥åˆ—æ‰€æœ‰å»ºè®®æ¡†ï¼› â€‹ â‘¤ éå†å®ŒçŸ©é˜µæ‰€æœ‰åˆ—ï¼Œå³æ‰€æœ‰ç‰©ä½“ç§ç±»éƒ½åšä¸€ééæå¤§å€¼æŠ‘åˆ¶ï¼› â€‹ â‘¥ æœ€åå‰”é™¤å„ä¸ªç±»åˆ«ä¸­å‰©ä½™å»ºè®®æ¡†å¾—åˆ†å°‘äºè¯¥ç±»åˆ«é˜ˆå€¼çš„å»ºè®®æ¡†ã€‚ VOC(Visual Object Class)æ•°æ®é›†ï¼šæ£€æµ‹å’Œè¯†åˆ«æ ‡å‡†åŒ–çš„æ•°æ®é›†ã€‚æ¯”èµ›æ®‹ç•™ï¼Œ2007å’Œ2012ç‰ˆæœ¬æ¯”è¾ƒå—æ¬¢è¿ã€‚ å€™é€‰æ¡†æœç´¢é˜¶æ®µï¼šæœå‡ºçš„å€™é€‰æ¡†æ˜¯çŸ©å½¢çš„ï¼Œè€Œä¸”æ˜¯å¤§å°å„ä¸ç›¸åŒã€‚ç„¶è€ŒCNNå¯¹è¾“å…¥å›¾ç‰‡çš„å¤§å°æ˜¯æœ‰å›ºå®šçš„ï¼Œå¯¹äºæ¯ä¸ªè¾“å…¥çš„å€™é€‰æ¡†éƒ½éœ€è¦ç¼©æ”¾åˆ°å›ºå®šçš„å¤§å°ã€‚å‡è®¾ä¸‹ä¸€é˜¶æ®µCNNæ‰€éœ€è¦çš„è¾“å…¥å›¾ç‰‡å¤§å°æ˜¯ä¸ªæ­£æ–¹å½¢å›¾ç‰‡227*227ï¼š å„å‘å¼‚æ€§ç¼©æ”¾ï¼šä¸ç®¡å›¾ç‰‡çš„é•¿å®½æ¯”ä¾‹ã€æ˜¯å¦æ‰­æ›²ï¼Œè¿›è¡Œç¼©æ”¾ å„å‘åŒæ€§ç¼©æ”¾ï¼šA. å…ˆæ‰©å……åè£å‰ªï¼š ç›´æ¥åœ¨åŸå§‹å›¾ç‰‡ä¸­ï¼ŒæŠŠboxçš„è¾¹ç•Œè¿›è¡Œæ‰©å±•å»¶ä¼¸æˆæ­£æ–¹å½¢ï¼Œç„¶åå†è¿›è¡Œè£å‰ªï¼›å¦‚æœå·²ç»å»¶ä¼¸åˆ°äº†åŸå§‹å›¾ç‰‡çš„å¤–è¾¹ç•Œï¼Œé‚£ä¹ˆå°±ç”¨boxä¸­çš„é¢œè‰²å‡å€¼å¡«å……ï¼›B. å…ˆè£å‰ªåæ‰©å……ï¼šå…ˆæŠŠboxå›¾ç‰‡è£å‰ªå‡ºæ¥ï¼Œç„¶åç”¨å›ºå®šçš„èƒŒæ™¯é¢œè‰²å¡«å……æˆæ­£æ–¹å½¢å›¾ç‰‡(èƒŒæ™¯é¢œè‰²ä¹Ÿæ˜¯é‡‡ç”¨boxçš„åƒç´ é¢œè‰²å‡å€¼)ï¼› ç»è¿‡æœ€åçš„è¯•éªŒï¼Œä½œè€…å‘ç°é‡‡ç”¨å„å‘å¼‚æ€§ç¼©æ”¾ã€padding=16çš„ç²¾åº¦æœ€é«˜ã€‚ CNNç‰¹å¾æå–é˜¶æ®µï¼š ç½‘ç»œç»“æ„è®¾è®¡ï¼šå¯é€‰AlexNetå’ŒVGG16ï¼ŒVGGç²¾åº¦é«˜ä½†è®¡ç®—é‡æ˜¯AlexNetçš„7å€ã€‚ ç½‘ç»œæœ‰ç›‘ç£é¢„è®­ç»ƒï¼š(å›¾ç‰‡æ•°æ®åº“ï¼šImageNet ILSVC) ç›´æ¥é‡‡ç”¨å¦‚AlexNetçš„ç½‘ç»œï¼Œå‚æ•°ä¸å˜ï¼Œå†fine-tuningè®­ç»ƒï¼Œç½‘ç»œä¼˜åŒ–æ—¶é‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™(SGD)æ³•ï¼Œå­¦ä¹ ç‡0.001 fine-tuningé˜¶æ®µï¼š(å›¾ç‰‡æ•°æ®åº“ï¼šPASCAL VOC) æˆ‘ä»¬æ¥ç€é‡‡ç”¨ selective search æœç´¢å‡ºæ¥çš„å€™é€‰æ¡† (PASCAL VOC æ•°æ®åº“ä¸­çš„å›¾ç‰‡)ç»§ç»­å¯¹ä¸Šé¢é¢„è®­ç»ƒçš„CNNæ¨¡å‹è¿›è¡Œfine-tuningè®­ç»ƒã€‚å‡è®¾è¦æ£€æµ‹çš„ç‰©ä½“ç±»åˆ«æœ‰Nç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æŠŠä¸Šé¢é¢„è®­ç»ƒé˜¶æ®µçš„CNNæ¨¡å‹çš„æœ€åä¸€å±‚ç»™æ›¿æ¢æ‰ï¼Œæ›¿æ¢æˆN+1ä¸ªè¾“å‡ºçš„ç¥ç»å…ƒ(åŠ 1ï¼Œè¡¨ç¤ºè¿˜æœ‰ä¸€ä¸ªèƒŒæ™¯) (20 + 1bg = 21)ï¼Œç„¶åè¿™ä¸€å±‚ç›´æ¥é‡‡ç”¨å‚æ•°éšæœºåˆå§‹åŒ–çš„æ–¹æ³•ï¼Œå…¶å®ƒç½‘ç»œå±‚çš„å‚æ•°ä¸å˜ï¼›å¼€å§‹çš„æ—¶å€™ï¼ŒSGDå­¦ä¹ ç‡é€‰æ‹©0.001ï¼Œåœ¨æ¯æ¬¡è®­ç»ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬batch sizeå¤§å°é€‰æ‹©128ï¼Œå…¶ä¸­32ä¸ªæ­£æ ·æœ¬ã€96ä¸ªè´Ÿæ ·æœ¬ã€‚ æ­£è´Ÿæ ·æœ¬ï¼šCNNé˜¶æ®µæˆ‘ä»¬éœ€è¦ç”¨IOUä¸º2000ä¸ªbounding boxæ‰“æ ‡ç­¾ã€‚å¦‚æœç”¨selective searchæŒ‘é€‰å‡ºæ¥çš„å€™é€‰æ¡†ä¸ç‰©ä½“çš„äººå·¥æ ‡æ³¨çŸ©å½¢æ¡†(PASCAL VOCçš„å›¾ç‰‡éƒ½æœ‰äººå·¥æ ‡æ³¨)çš„é‡å åŒºåŸŸIoUå¤§äº0.5ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªå€™é€‰æ¡†æ ‡æ³¨æˆç‰©ä½“ç±»åˆ«ï¼ˆæ­£æ ·æœ¬ï¼‰ï¼Œå¦åˆ™å½“åšèƒŒæ™¯ç±»åˆ«ï¼ˆè´Ÿæ ·æœ¬ï¼‰ã€‚ SVMè®­ç»ƒã€æµ‹è¯•é˜¶æ®µï¼š è®­ç»ƒé˜¶æ®µï¼šè¿™æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œè®ºæ–‡ä½œè€…æœ€åé€šè¿‡è®­ç»ƒå‘ç°ï¼Œå¦‚æœé€‰æ‹©IOUé˜ˆå€¼ä¸º0.3æ•ˆæœæœ€å¥½ï¼Œå°äº0.3ä¸ºè´Ÿæ ·æœ¬ï¼Œä¸€æ—¦CNN fc7å±‚ç‰¹å¾è¢«æå–å‡ºæ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªç‰©ä½“ç±»è®­ç»ƒä¸€ä¸ªsvmåˆ†ç±»å™¨ã€‚å½“æˆ‘ä»¬ç”¨CNNæå–2000ä¸ªå€™é€‰æ¡†ï¼Œå¯ä»¥å¾—åˆ°2000Ã—4096è¿™æ ·çš„ç‰¹å¾å‘é‡çŸ©é˜µï¼Œç„¶åæˆ‘ä»¬åªéœ€è¦æŠŠè¿™æ ·çš„ä¸€ä¸ªçŸ©é˜µä¸svmæƒå€¼çŸ©é˜µ4096Ã—Nç‚¹ä¹˜(Nä¸ºåˆ†ç±»ç±»åˆ«æ•°ç›®ï¼Œå› ä¸ºæˆ‘ä»¬è®­ç»ƒçš„Nä¸ªsvmï¼Œæ¯ä¸ªsvmåŒ…å«äº†4096ä¸ªæƒå€¼w)ï¼Œå°±å¯ä»¥å¾—åˆ°ç»“æœäº†ã€‚å°†å¾—åˆ°çš„ç‰¹å¾è¾“å…¥åˆ°SVMè¿›è¡Œåˆ†ç±»çœ‹çœ‹è¿™ä¸ªfeature vectoræ‰€å¯¹åº”çš„region proposalæ˜¯éœ€è¦çš„ç‰©ä½“è¿˜æ˜¯æ— å…³çš„å®ç‰©(background) ã€‚ æ’åºï¼Œcannyè¾¹ç•Œæ£€æµ‹ä¹‹åå°±å¾—åˆ°äº†æˆ‘ä»¬éœ€è¦çš„bounding-boxã€‚ æµ‹è¯•é˜¶æ®µï¼šä½¿ç”¨selective searchçš„æ–¹æ³•åœ¨æµ‹è¯•å›¾ç‰‡ä¸Šæå–2000ä¸ªregion propasals ï¼Œå°†æ¯ä¸ªregion proposalså½’ä¸€åŒ–åˆ°227x227ï¼Œç„¶åå†CNNä¸­æ­£å‘ä¼ æ’­ï¼Œå°†æœ€åä¸€å±‚å¾—åˆ°çš„ç‰¹å¾æå–å‡ºæ¥ã€‚ç„¶åå¯¹äºæ¯ä¸€ä¸ªç±»åˆ«ï¼Œä½¿ç”¨ä¸ºè¿™ä¸€ç±»è®­ç»ƒçš„SVMåˆ†ç±»å™¨å¯¹æå–çš„ç‰¹å¾å‘é‡è¿›è¡Œæ‰“åˆ†ï¼Œå¾—åˆ°æµ‹è¯•å›¾ç‰‡ä¸­å¯¹äºæ‰€æœ‰region proposalsçš„å¯¹äºè¿™ä¸€ç±»çš„åˆ†æ•°ï¼Œå†ä½¿ç”¨è´ªå¿ƒçš„éæå¤§å€¼æŠ‘åˆ¶(NMS)å»é™¤ç›¸äº¤çš„å¤šä½™çš„æ¡†ã€‚å†å¯¹è¿™äº›æ¡†è¿›è¡Œcannyè¾¹ç¼˜æ£€æµ‹ï¼Œå°±å¯ä»¥å¾—åˆ°bounding-boxã€‚ YOLO YOLO(You Only Look Once)ï¼šone-stageæ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå•ç‹¬çš„CNNæ¨¡å‹å®ç°end-to-endçš„ç›®æ ‡æ£€æµ‹ã€‚é¦–å…ˆå°†è¾“å…¥å›¾ç‰‡resizeæˆnÃ—nï¼Œç„¶åé€å…¥CNNç½‘ç»œï¼Œæœ€åå¤„ç†ç½‘ç»œé¢„æµ‹ç»“æœå¾—åˆ°æ£€æµ‹çš„ç›®æ ‡ è®¾è®¡ç†å¿µï¼šå°†è¾“å…¥çš„å›¾ç‰‡åˆ†å‰²æˆ ç½‘æ ¼ï¼Œç„¶åæ¯ä¸ªå•å…ƒæ ¼è´Ÿè´£å»æ£€æµ‹é‚£äº›ä¸­å¿ƒç‚¹è½åœ¨è¯¥æ ¼å­å†…çš„ç›®æ ‡ï¼Œæ‰“ä¸Šlabelæ ‡ç­¾ï¼Œå¦‚ä¸‹å›¾çº¢è‰²cellå°±è´Ÿè´£é¢„æµ‹ç‹—ã€‚è®©æ¯ä¸ªæ¡†éƒ½é¢„æµ‹Bä¸ªè¾¹ç•Œæ¡†(bounding box)ï¼Œæ¯ä¸ªbounding boxæœ‰äº”ä¸ªé‡ï¼šä¸­å¿ƒä½ç½®(x, y)ï¼Œé«˜hï¼Œå®½wï¼Œä»¥åŠè¿™æ¬¡é¢„æµ‹çš„ç½®ä¿¡åº¦cã€‚éœ€æ³¨æ„çš„æ˜¯ï¼šä¸­å¿ƒåæ ‡çš„é¢„æµ‹å€¼ (x, y) æ˜¯ç›¸å¯¹äºæ¯ä¸ªå•å…ƒæ ¼å·¦ä¸Šè§’åæ ‡ç‚¹çš„åç§»å€¼ï¼Œå•ä½ç›¸å½“äºå•å…ƒæ ¼å¤§å°ï¼Œwå’Œhæ˜¯ç›¸å¯¹äºæ•´ä¸ªå›¾ç‰‡çš„å®½å’Œé«˜çš„æ¯”ä¾‹ï¼Œå®Œæˆäº†å½’ä¸€åŒ–ï¼Œéƒ½å±äº èŒƒå›´ã€‚ å½’ä¸€åŒ–åŸå› ï¼šé€šå¸¸åšå›å½’é—®é¢˜çš„æ—¶å€™éƒ½ä¼šå°†è¾“å‡ºè¿›è¡Œå½’ä¸€åŒ–ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å„ä¸ªè¾“å‡ºç»´åº¦çš„å–å€¼èŒƒå›´å·®åˆ«å¾ˆå¤§ï¼Œè¿›è€Œå¯¼è‡´è®­ç»ƒçš„æ—¶å€™ï¼Œç½‘ç»œæ›´å…³æ³¨æ•°å€¼å¤§çš„ç»´åº¦ã€‚å› ä¸ºæ•°å€¼å¤§çš„ç»´åº¦ï¼Œç®—lossç›¸åº”ä¼šæ¯”è¾ƒå¤§ï¼Œä¸ºäº†è®©è¿™ä¸ªlosså‡å°ï¼Œé‚£ä¹ˆç½‘ç»œå°±ä¼šå°½é‡å­¦ä¹ è®©è¿™ä¸ªç»´åº¦losså˜å°ï¼Œæœ€ç»ˆå¯¼è‡´åŒºåˆ«å¯¹å¾…ã€‚ åç§»è®¡ç®—ï¼šå‡è®¾gridçš„sizeä¸ºSÃ—Sï¼ŒåŸå§‹å›¾ç‰‡çš„å®½é«˜ä¸ºwidth, heightï¼ŒæŸç‰©ä½“ä¸­å¿ƒåæ ‡ä¸º(x, y)ï¼Œå…¶æ‰€åœ¨çš„cellå·¦ä¸Šè§’åæ ‡ä¸º(x1, y1)ï¼Œåˆ™åæ ‡çš„åç§»å€¼å¯è®¡ç®—ä¸º ç½®ä¿¡åº¦(confidence)ï¼šä¸¤ä¸ªæ–¹é¢ï¼šè¿™ä¸ªè¾¹ç•Œæ¡†å«æœ‰ç›®æ ‡çš„å¯èƒ½æ€§å¤§å° Pr(object) (é0å³1) å’Œ è¾¹ç•Œæ¡†çš„å‡†ç¡®åº¦ IoUã€‚å®šä¹‰ç½®ä¿¡åº¦ åˆ†ç±»é—®é¢˜ï¼šå¯¹æ¯ä¸€ä¸ªå•å…ƒæ ¼è¦ç»™å‡ºé¢„æµ‹å‡ºçš„Cä¸ªç±»åˆ«æ¦‚ç‡å€¼ï¼Œè¡¨å¾ç”±è¯¥å•å…ƒæ ¼è´Ÿè´£é¢„æµ‹çš„è¾¹ç•Œæ¡†å…¶ç›®æ ‡å±äºå„ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œä¸ºå„ä¸ªè¾¹ç•Œæ¡†ç½®ä¿¡åº¦ä¸‹çš„æ¡ä»¶æ¦‚ç‡ï¼Œå³ã€‚ä¸ç®¡ä¸€ä¸ªå•å…ƒæ ¼é¢„æµ‹å¤šå°‘ä¸ªè¾¹ç•Œæ¡†ï¼Œå…¶åªé¢„æµ‹ä¸€ç»„ç±»åˆ«æ¦‚ç‡å€¼ï¼Œè¿™æ˜¯Yoloç®—æ³•çš„ä¸€ä¸ªç¼ºç‚¹ï¼Œåœ¨åæ¥çš„æ”¹è¿›ç‰ˆæœ¬ä¸­ï¼ŒYolo9000æ˜¯æŠŠç±»åˆ«æ¦‚ç‡é¢„æµ‹å€¼ä¸è¾¹ç•Œæ¡†æ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºå„ä¸ªè¾¹ç•Œæ¡†ç±»åˆ«ç½®ä¿¡åº¦(class-specific confidence scores): $Pr(class_i|object)\\times Pr(object)\\times IOU^{truth}{pred}=Pr(class_i)\\times IOU^{truth}{pred}$ï¼Œè¡¨å¾çš„æ˜¯è¯¥è¾¹ç•Œæ¡†ä¸­ç›®æ ‡å±äºå„ä¸ªç±»åˆ«çš„å¯èƒ½æ€§å¤§å°ä»¥åŠè¾¹ç•Œæ¡†åŒ¹é…ç›®æ ‡çš„å¥½åã€‚ æ€»ç»“ï¼šæ¯ä¸ªå•å…ƒæ ¼éœ€è¦é¢„æµ‹ ä¸ªå€¼ï¼Œå³æœ€ç»ˆé¢„æµ‹å€¼ä¸º å¤§å°çš„å¼ é‡ï¼Œå¯¹äºPASCAL VOCæ•°æ®ï¼Œå…¶å…±æœ‰20ä¸ªç±»åˆ«ï¼Œå¦‚æœä½¿ç”¨S=7ï¼ŒB=2ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„é¢„æµ‹ç»“æœå°±æ˜¯ 7Ã—7Ã—30 å¤§å°çš„å¼ é‡ã€‚ä¸‹å›¾ä¸ºæ¨¡å‹é¢„æµ‹å€¼ç»“æ„ã€‚ ç½‘ç»œç»“æ„ï¼šYoloé‡‡ç”¨å·ç§¯ç½‘ç»œæ¥æå–ç‰¹å¾ï¼Œç„¶åä½¿ç”¨å…¨è¿æ¥å±‚æ¥å¾—åˆ°é¢„æµ‹å€¼ã€‚ç½‘ç»œç»“æ„å‚è€ƒGooLeNetæ¨¡å‹ï¼ŒåŒ…å«24ä¸ªå·ç§¯å±‚å’Œ2ä¸ªå…¨è¿æ¥å±‚ï¼Œå¯¹äºå·ç§¯å±‚ï¼Œä¸»è¦ä½¿ç”¨1x1å·ç§¯æ¥åšchannle reduction(é€šé“ç¼©å‡)ï¼Œç„¶åç´§è·Ÿ3x3å·ç§¯ã€‚å¯¹äºå·ç§¯å±‚å’Œå…¨è¿æ¥å±‚ï¼Œé‡‡ç”¨Leaky ReLUæ¿€æ´»å‡½æ•°ã€‚ä½†æ˜¯æœ€åä¸€å±‚å´é‡‡ç”¨çº¿æ€§æ¿€æ´»å‡½æ•°ã€‚æœ€åè¾“å‡ºä¸º 7Ã—7Ã—30 å¤§å°çš„å¼ é‡ã€‚å¯¹äºæ¯ä¸€ä¸ªå•å…ƒæ ¼ï¼Œå‰20ä¸ªå…ƒç´ æ˜¯ç±»åˆ«æ¦‚ç‡å€¼ï¼Œç„¶å2ä¸ªå…ƒç´ æ˜¯è¾¹ç•Œæ¡†ç½®ä¿¡åº¦ï¼Œä¸¤è€…ç›¸ä¹˜å¯ä»¥å¾—åˆ°ç±»åˆ«ç½®ä¿¡åº¦ï¼Œæœ€å8ä¸ªå…ƒç´ æ˜¯è¾¹ç•Œæ¡†çš„(x, y, w, h)ã€‚ ç½‘ç»œè®­ç»ƒï¼šåœ¨è®­ç»ƒä¹‹å‰ï¼Œå…ˆåœ¨ImageNetä¸Šè¿›è¡Œäº†é¢„è®­ç»ƒï¼Œå…¶é¢„è®­ç»ƒçš„åˆ†ç±»æ¨¡å‹é‡‡ç”¨ä¸Šå›¾ä¸­å‰20ä¸ªå·ç§¯å±‚ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªaverage-poolå±‚å’Œå…¨è¿æ¥å±‚ã€‚é¢„è®­ç»ƒä¹‹åï¼Œåœ¨é¢„è®­ç»ƒå¾—åˆ°çš„20å±‚å·ç§¯å±‚ä¹‹ä¸ŠåŠ ä¸Šéšæœºåˆå§‹åŒ–çš„4ä¸ªå·ç§¯å±‚å’Œ2ä¸ªå…¨è¿æ¥å±‚ã€‚ç”±äºæ£€æµ‹ä»»åŠ¡ä¸€èˆ¬éœ€è¦æ›´é«˜æ¸…çš„å›¾ç‰‡ï¼Œæ‰€ä»¥å°†ç½‘ç»œçš„è¾“å…¥ä»224x224å¢åŠ åˆ°äº†448x448ã€‚æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æŸå¤±å‡½æ•°ï¼šYoloç®—æ³•å°†ç›®æ ‡æ£€æµ‹çœ‹æˆå›å½’é—®é¢˜ï¼Œæ‰€ä»¥é‡‡ç”¨çš„æ˜¯å‡æ–¹å·®æŸå¤±å‡½æ•°(MSE, Mean Squared Error)ã€‚ä½†æ˜¯å¯¹ä¸åŒçš„éƒ¨åˆ†é‡‡ç”¨äº†ä¸åŒçš„æƒé‡å€¼ã€‚é¦–å…ˆåŒºåˆ†å®šä½è¯¯å·®å’Œåˆ†ç±»è¯¯å·®ã€‚å¯¹äºå®šä½è¯¯å·®ï¼Œå³è¾¹ç•Œæ¡†åæ ‡é¢„æµ‹è¯¯å·®ï¼Œé‡‡ç”¨è¾ƒå¤§çš„æƒé‡ ã€‚ç„¶ååŒºåˆ†ä¸åŒ…å«ç›®æ ‡çš„è¾¹ç•Œæ¡†ä¸å«æœ‰ç›®æ ‡çš„è¾¹ç•Œæ¡†çš„ç½®ä¿¡åº¦ï¼Œå¯¹äºå‰è€…ï¼Œé‡‡ç”¨è¾ƒå°çš„æƒé‡å€¼ ã€‚å…¶å®ƒæƒé‡å€¼å‡è®¾ä¸º1ã€‚ç„¶åé‡‡ç”¨å‡æ–¹è¯¯å·®ï¼Œå…¶åŒç­‰å¯¹å¾…å¤§å°ä¸åŒçš„è¾¹ç•Œæ¡†ï¼Œä½†æ˜¯å®é™…ä¸Šè¾ƒå°çš„è¾¹ç•Œæ¡†çš„åæ ‡è¯¯å·®åº”è¯¥è¦æ¯”è¾ƒå¤§çš„è¾¹ç•Œæ¡†è¦æ›´æ•æ„Ÿã€‚ä¸ºäº†ä¿è¯è¿™ä¸€ç‚¹ï¼Œå°†ç½‘ç»œçš„è¾¹ç•Œæ¡†çš„å®½ä¸é«˜é¢„æµ‹æ”¹ä¸ºå¯¹å…¶å¹³æ–¹æ ¹çš„é¢„æµ‹ï¼Œå³é¢„æµ‹å€¼å˜ä¸º ã€‚ ç”±äºæ¯ä¸ªå•å…ƒæ ¼é¢„æµ‹å¤šä¸ªè¾¹ç•Œæ¡†ã€‚ä½†æ˜¯å…¶å¯¹åº”ç±»åˆ«åªæœ‰ä¸€ä¸ªã€‚é‚£ä¹ˆåœ¨è®­ç»ƒæ—¶ï¼Œå¦‚æœè¯¥å•å…ƒæ ¼å†…ç¡®å®å­˜åœ¨ç›®æ ‡ï¼Œé‚£ä¹ˆåªé€‰æ‹©ä¸ground truthçš„IOUæœ€å¤§çš„é‚£ä¸ªè¾¹ç•Œæ¡†æ¥è´Ÿè´£é¢„æµ‹è¯¥ç›®æ ‡ï¼Œè€Œå…¶å®ƒè¾¹ç•Œæ¡†è®¤ä¸ºä¸å­˜åœ¨ç›®æ ‡ã€‚è¿™æ ·è®¾ç½®çš„ä¸€ä¸ªç»“æœå°†ä¼šä½¿ä¸€ä¸ªå•å…ƒæ ¼å¯¹åº”çš„è¾¹ç•Œæ¡†æ›´åŠ ä¸“ä¸šåŒ–ï¼Œå…¶å¯ä»¥åˆ†åˆ«é€‚ç”¨ä¸åŒå¤§å°ï¼Œä¸åŒé«˜å®½æ¯”çš„ç›®æ ‡ï¼Œä»è€Œæå‡æ¨¡å‹æ€§èƒ½ã€‚å¯¹äºä¸å­˜åœ¨å¯¹åº”ç›®æ ‡çš„è¾¹ç•Œæ¡†ï¼Œå…¶è¯¯å·®é¡¹å°±æ˜¯åªæœ‰ç½®ä¿¡åº¦ï¼Œåæ ‡é¡¹è¯¯å·®æ˜¯æ²¡æ³•è®¡ç®—çš„ã€‚è€Œåªæœ‰å½“ä¸€ä¸ªå•å…ƒæ ¼å†…ç¡®å®å­˜åœ¨ç›®æ ‡æ—¶ï¼Œæ‰è®¡ç®—åˆ†ç±»è¯¯å·®é¡¹ï¼Œå¦åˆ™è¯¥é¡¹ä¹Ÿæ˜¯æ— æ³•è®¡ç®—çš„ã€‚ æœ€ç»ˆçš„æŸå¤±å‡½æ•°è®¡ç®—å¦‚ä¸‹ï¼š ç¬¬ä¸€é¡¹æ˜¯è¾¹ç•Œæ¡†ä¸­å¿ƒåæ ‡çš„è¯¯å·®é¡¹ï¼Œ æŒ‡çš„æ˜¯ç¬¬ ä¸ªå•å…ƒæ ¼å­˜åœ¨ç›®æ ‡ï¼Œä¸”è¯¥å•å…ƒæ ¼ä¸­çš„ç¬¬ ä¸ªè¾¹ç•Œæ¡†è´Ÿè´£é¢„æµ‹è¯¥ç›®æ ‡ã€‚ç¬¬äºŒé¡¹æ˜¯è¾¹ç•Œæ¡†çš„é«˜ä¸å®½çš„è¯¯å·®é¡¹ã€‚ç¬¬ä¸‰é¡¹æ˜¯åŒ…å«ç›®æ ‡çš„è¾¹ç•Œæ¡†çš„ç½®ä¿¡åº¦è¯¯å·®é¡¹ã€‚ç¬¬å››é¡¹æ˜¯ä¸åŒ…å«ç›®æ ‡çš„è¾¹ç•Œæ¡†çš„ç½®ä¿¡åº¦è¯¯å·®é¡¹ã€‚æœ€åä¸€é¡¹æ˜¯åŒ…å«ç›®æ ‡çš„å•å…ƒæ ¼çš„åˆ†ç±»è¯¯å·®é¡¹ï¼Œ æŒ‡çš„æ˜¯ç¬¬ ä¸ªå•å…ƒæ ¼å­˜åœ¨ç›®æ ‡ã€‚ ç½®ä¿¡åº¦çš„targetå€¼ ï¼šå¦‚æœä¸å­˜åœ¨ç›®æ ‡ï¼Œï¼Œ ã€‚å¦‚æœå­˜åœ¨ç›®æ ‡ï¼Œ ï¼Œæ­¤æ—¶éœ€è¦ç¡®å®š ï¼Œå½“ç„¶ä½ å¸Œæœ›æœ€å¥½çš„è¯ï¼Œå¯ä»¥å°†IOUå–1ï¼Œå³ ï¼Œåœ¨YOLOå®ç°ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªæ§åˆ¶å‚æ•°rescore(é»˜è®¤ä¸º1)ï¼Œå½“å…¶ä¸º1æ—¶ï¼ŒIOUä¸æ˜¯è®¾ç½®ä¸º1ï¼Œè€Œæ˜¯è®¡ç®—truthå’Œpredä¹‹é—´çš„çœŸå®IOUã€‚ä¸è¿‡å¾ˆå¤šå¤ç°YOLOçš„é¡¹ç›®è¿˜æ˜¯å– ï¼Œè¿™ä¸ªå·®å¼‚ä¸ä¼šå¤ªå½±å“ç»“æœã€‚ ç½‘ç»œé¢„æµ‹ï¼šä¸è€ƒè™‘batchï¼Œè®¤ä¸ºåªæ˜¯é¢„æµ‹ä¸€å¼ è¾“å…¥å›¾ç‰‡ã€‚æœ€ç»ˆçš„ç½‘ç»œè¾“å‡ºæ˜¯ 7Ã—7Ã—30 ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†å‰²æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šç±»åˆ«æ¦‚ç‡éƒ¨åˆ†ä¸º 7Ã—7Ã—20 ï¼Œç½®ä¿¡åº¦éƒ¨åˆ†ä¸º 7Ã—7Ã—2,ï¼Œè€Œè¾¹ç•Œæ¡†éƒ¨åˆ†ä¸º 7Ã—7Ã—2Ã—4 (å¯¹äºè¿™éƒ¨åˆ†ä¸è¦å¿˜è®°æ ¹æ®åŸå§‹å›¾ç‰‡è®¡ç®—å‡ºå…¶çœŸå®å€¼)ã€‚ç„¶åå°†å‰ä¸¤é¡¹ç›¸ä¹˜ï¼ˆ çŸ©é˜µ ä¹˜ å¯ä»¥å„è¡¥ä¸€ä¸ªç»´åº¦æ¥å®Œæˆï¼Œå¯ä»¥å¾—åˆ°ç±»åˆ«ç½®ä¿¡åº¦å€¼ä¸º ï¼Œè¿™é‡Œæ€»å…±é¢„æµ‹äº†7Ã—7Ã—2=98 ä¸ªè¾¹ç•Œæ¡†ã€‚ é¢„æµ‹è¿‡ç¨‹ï¼šå…ˆå¯¹é¢„æµ‹æ¡†ä½¿ç”¨NMSï¼Œç„¶åå†ç¡®å®šå„ä¸ªboxçš„ç±»åˆ«ã€‚å¯¹äº98ä¸ªboxesï¼Œé¦–å…ˆå°†å°äºç½®ä¿¡åº¦é˜ˆå€¼çš„å€¼å½’0ï¼Œç„¶ååˆ†ç±»åˆ«åœ°å¯¹ç½®ä¿¡åº¦å€¼é‡‡ç”¨NMSï¼Œè¿™é‡ŒNMSå¤„ç†ç»“æœä¸æ˜¯å‰”é™¤ï¼Œè€Œæ˜¯å°†å…¶ç½®ä¿¡åº¦å€¼å½’ä¸º0ã€‚æœ€åæ‰æ˜¯ç¡®å®šå„ä¸ªboxçš„ç±»åˆ«ï¼Œå½“å…¶ç½®ä¿¡åº¦å€¼ä¸ä¸º0æ—¶æ‰åšå‡ºæ£€æµ‹ç»“æœè¾“å‡ºã€‚ ä¼˜ç‚¹ï¼šä¸€ä¸ªCNNç½‘ç»œæ¥å®ç°æ£€æµ‹ï¼Œè®­ç»ƒä¸é¢„æµ‹éƒ½æ˜¯end-to-endï¼Œè¾ƒç®€æ´ä¸”é€Ÿåº¦å¿«ï¼›å¯¹æ•´å¼ å›¾ç‰‡åšå·ç§¯ï¼Œæ£€æµ‹ç›®æ ‡æœ‰æ›´å¤§çš„è§†é‡ï¼Œä¸å®¹æ˜“å¯¹èƒŒæ™¯è¯¯åˆ¤ï¼›æ³›åŒ–èƒ½åŠ›å¼ºï¼Œåœ¨åšè¿ç§»æ—¶ï¼Œæ¨¡å‹é²æ£’æ€§é«˜ã€‚ ç¼ºç‚¹ï¼šå„ä¸ªå•å…ƒæ ¼ä»…ä»…é¢„æµ‹ä¸¤ä¸ªè¾¹ç•Œæ¡†ï¼Œè€Œä¸”å±äºä¸€ä¸ªç±»åˆ«ã€‚å¯¹äºå°ç‰©ä½“ï¼Œè¡¨ç°ä¼šä¸å¦‚äººæ„ã€‚è¿™æ–¹é¢çš„æ”¹è¿›å¯ä»¥çœ‹SSDï¼Œå…¶é‡‡ç”¨å¤šå°ºåº¦å•å…ƒæ ¼ã€‚ä¹Ÿå¯ä»¥çœ‹Faster R-CNNï¼Œå…¶é‡‡ç”¨äº†anchor boxesã€‚Yoloå¯¹äºåœ¨ç‰©ä½“çš„å®½é«˜æ¯”æ–¹é¢æ³›åŒ–ç‡ä½(æ— æ³•å®šä½ä¸å¯»å¸¸æ¯”ä¾‹çš„ç‰©ä½“)ã€‚å½“ç„¶Yoloçš„å®šä½ä¸å‡†ç¡®ä¹Ÿæ˜¯å¾ˆå¤§çš„é—®é¢˜ã€‚ SSD SSD(Single Shot MultiBox Detector)ï¼šSingle shotæŒ‡æ˜äº†SSDç®—æ³•å±äºone-stageæ–¹æ³•ï¼ŒMultiBoxæŒ‡æ˜äº†SSDæ˜¯å¤šæ¡†é¢„æµ‹ï¼Œæ”¯æŒ300ï¼Œ512çš„è¾“å…¥ æ ¸å¿ƒï¼šé‡‡ç”¨å¤šå°ºåº¦ç‰¹å¾å›¾ç”¨äºæ£€æµ‹ï¼Œé‡‡ç”¨å·ç§¯è¿›è¡Œæ£€æµ‹ï¼Œè®¾ç½®å…ˆéªŒæ¡† é”šæ¡†(anchor box)/å…ˆéªŒæ¡†(prior bounding box)ï¼šéå†è¾“å…¥å›¾åƒä¸Šæ‰€æœ‰å¯èƒ½çš„åƒç´ æ¡†ï¼Œç„¶åé€‰å‡ºæ­£ç¡®çš„ç›®æ ‡æ¡†ï¼Œå¹¶å¯¹ä½ç½®å’Œå¤§å°è¿›è¡Œè°ƒæ•´å°±å¯ä»¥å®Œæˆç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚è¿™äº›è¿›è¡Œé¢„æµ‹çš„åƒç´ æ¡†å³ä¸ºå…ˆéªŒæ¡†ã€‚ å¤šå°ºåº¦ç‰¹å¾å›¾ï¼šé‡‡ç”¨å¤§å°ä¸åŒçš„ç‰¹å¾å›¾ã€‚CNNç½‘ç»œä¸€èˆ¬å‰é¢çš„ç‰¹å¾å›¾æ¯”è¾ƒå¤§ï¼Œåé¢ä¼šé€æ¸é‡‡ç”¨stride=2çš„å·ç§¯æˆ–è€…poolæ¥é™ä½ç‰¹å¾å›¾å¤§å°ã€‚å¤§ç‰¹å¾å›¾å’Œå°ç‰¹å¾å›¾éƒ½ç”¨æ¥åšæ£€æµ‹ï¼Œå¤§ç‰¹å¾å›¾æ£€æµ‹è¾ƒå°çš„ç›®æ ‡ï¼Œå°ç‰¹å¾å›¾æ£€æµ‹å¤§ç›®æ ‡ã€‚ç‰¹å¾å›¾çš„æ„Ÿå—é‡å¤§äºç›®æ ‡å¤§å°æ—¶æ‰èƒ½æ­£ç¡®æ£€æµ‹ã€‚ é‡‡ç”¨å·ç§¯è¿›è¡Œæ£€æµ‹ï¼šä¸Yoloæœ€åé‡‡ç”¨å…¨è¿æ¥å±‚ä¸åŒï¼ŒSSDç›´æ¥é‡‡ç”¨å·ç§¯å¯¹ä¸åŒçš„ç‰¹å¾å›¾æ¥è¿›è¡Œæå–æ£€æµ‹ç»“æœã€‚å¯¹äºå½¢çŠ¶ä¸ºçš„ç‰¹å¾å›¾ï¼Œåªéœ€è¦é‡‡ç”¨ è¿™æ ·æ¯”è¾ƒå°çš„å·ç§¯æ ¸å¾—åˆ°æ£€æµ‹å€¼ã€‚ è®¾ç½®å…ˆéªŒæ¡†ï¼šSSDå€Ÿé‰´äº†Faster R-CNNä¸­anchor boxçš„ç†å¿µï¼Œå°† feature map åˆ‡åˆ†ä¸ºä¸€ä¸ªä¸ªæ ¼å­feature map cellï¼Œå¯¹äºæ¯ä¸€ä¸ªæ ¼å­ï¼Œè®¾ç½®çš„ä¸€ç³»åˆ—å›ºå®šå¤§å°çš„ default box(å…ˆéªŒæ¡†) ï¼Œé¢„æµ‹çš„bounding boxesï¼ˆè¾¹ç•Œæ¡†ï¼‰æ˜¯ä»¥è¿™äº›å…ˆéªŒæ¡†ä¸ºåŸºå‡†çš„ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çº¦äº†æ—¶é—´ã€‚ æ£€æµ‹å€¼ï¼šå¯¹äºæ¯ä¸ªå•å…ƒçš„æ¯ä¸ªå…ˆéªŒæ¡†ï¼Œå…¶éƒ½è¾“å‡ºä¸€å¥—ç‹¬ç«‹çš„æ£€æµ‹å€¼ï¼Œå¯¹åº”ä¸€ä¸ªè¾¹ç•Œæ¡†ã€‚ ç¬¬ä¸€éƒ¨åˆ†æ˜¯å„ä¸ªç±»åˆ«çš„ç½®ä¿¡åº¦æˆ–è€…è¯„åˆ†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯SSDå°†èƒŒæ™¯ä¹Ÿå½“åšäº†ä¸€ä¸ªç‰¹æ®Šçš„ç±»åˆ«ï¼Œå¦‚æœæ£€æµ‹ç›®æ ‡å…±æœ‰cä¸ªç±»åˆ«ï¼ŒSSDå…¶å®éœ€è¦é¢„æµ‹ c + 1 ä¸ªç½®ä¿¡åº¦å€¼ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªç½®ä¿¡åº¦æŒ‡çš„æ˜¯ä¸å«ç›®æ ‡æˆ–è€…å±äºèƒŒæ™¯çš„è¯„åˆ†ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯è¾¹ç•Œæ¡†çš„locationï¼ŒåŒ…å«ï¼Œè¡¨ç¤ºä¸­å¿ƒåæ ‡å’Œå®½é«˜ï¼ŒçœŸå®é¢„æµ‹å€¼å…¶å®åªæ˜¯è¾¹ç•Œæ¡†ç›¸å¯¹äºå…ˆéªŒæ¡†çš„æ”¶ç¼©é‡(offset)ã€‚å…ˆéªŒæ¡†ä½ç½®ç”¨ è¡¨ç¤ºï¼Œå¯¹åº”è¾¹ç•Œæ¡†ç”¨ æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆè¾¹ç•Œæ¡†çš„é¢„æµ‹å€¼ ä¸ºï¼š è¿™ä¸ªè¿‡ç¨‹ä¸ºè¾¹ç•Œæ¡†çš„ç¼–ç (encode)ï¼Œé¢„æµ‹æ—¶éœ€è¿›è¡Œè§£ç (decode)ï¼Œä»é¢„æµ‹å€¼ l ä¸­å¾—åˆ°è¾¹ç•Œæ¡†çš„çœŸå®ä½ç½® bã€‚æœ‰æ—¶ä¼šè®¾ç½®varianceè¶…å‚æ•°æ¥è°ƒæ•´æ£€æµ‹å€¼ï¼Œå³åœ¨ l å‰ä¹˜ä¸Šä¸€ä¸ª variance[0]~[3] ã€‚ å¯¹äºä¸€ä¸ªå¤§å° çš„ç‰¹å¾å›¾ï¼Œæ¯ä¸ªå•å…ƒè®¾ç½®çš„å…ˆéªŒæ¡†æ•°ç›®è®°ä¸º ï¼Œé‚£ä¹ˆæ¯ä¸ªå•å…ƒéœ€è¦ ä¸ªé¢„æµ‹å€¼ï¼Œç”±äºSSDé‡‡ç”¨å·ç§¯åšæ£€æµ‹ï¼Œæ‰€ä»¥éœ€è¦ ä¸ªå·ç§¯æ ¸ï¼Œåš æ¬¡å·ç§¯ã€‚ ç¬¬ä¸‰éƒ¨åˆ†æ˜¯default boxçš„ scale (å¤§å°ï¼Œå½’ä¸€åŒ–è¾“å…¥å°ºåº¦çš„é¢ç§¯)å’Œ aspect (æ¨ªçºµæ¯”)ã€‚ scaleï¼šï¼Œsminæ˜¯0.2ï¼Œè¡¨ç¤ºæœ€åº•å±‚çš„scaleæ˜¯0.2ï¼Œsmaxæ˜¯0.9ï¼Œè¡¨ç¤ºæœ€é«˜å±‚çš„scaleæ˜¯0.9ï¼Œè¿™å°±ä¿è¯skä¸€å®šåœ¨0.2-0.9èŒƒå›´å†…ã€‚ aspect ratioï¼šäº”ç§ {1, 2, 3, 1/2, 1/3} defaultå®½/é«˜è®¡ç®—å…¬å¼ï¼š, ï¼ŒäºŒè€…ä¹˜ç§¯ä¸ºscaleå¹³æ–¹ã€‚ æ­£è´Ÿæ ·æœ¬ï¼šå°† prior box å’Œ grount truth box æŒ‰ç…§IOU(æœ¬è®ºæ–‡å«åšJaccardOverlap)è¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸåˆ™æ­£æ ·æœ¬ï¼Œæ˜¾ç„¶è¿™æ ·äº§ç”Ÿçš„è´Ÿæ ·æœ¬çš„æ•°é‡è¦è¿œè¿œå¤šäºæ­£æ ·æœ¬ã€‚åšäº†éš¾ä¾‹æŒ–æ˜hard nevigating miningï¼šå°†æ‰€æœ‰çš„åŒ¹é…ä¸ä¸Šçš„ è´Ÿæ ·æœ¬ æŒ‰ç…§åˆ†ç±» loss è¿›è¡Œæ’åºï¼Œé€‰æ‹©æœ€é«˜çš„ num_sel ä¸ª prior box åºå·é›†åˆä½œä¸ºæœ€ç»ˆçš„è´Ÿæ ·æœ¬é›†ã€‚è¿™é‡Œå°±å¯ä»¥åˆ©ç”¨ num_sel æ¥æ§åˆ¶æœ€åæ­£ã€è´Ÿæ ·æœ¬çš„æ¯”ä¾‹åœ¨ 1ï¼š3 å·¦å³ã€‚ ç½‘ç»œç»“æ„ï¼šSSDé‡‡ç”¨VGG16ä½œä¸ºåŸºç¡€æ¨¡å‹ï¼Œç„¶ååœ¨VGG16çš„åŸºç¡€ä¸Šæ–°å¢äº†å·ç§¯å±‚æ¥è·å¾—æ›´å¤šçš„ç‰¹å¾å›¾ä»¥ç”¨äºå¤šå°ºåº¦æ£€æµ‹çš„ã€‚å…¶ä¸­VGG16ä¸­çš„Conv4_3å±‚å°†ä½œä¸ºç”¨äºæ£€æµ‹çš„ç¬¬ä¸€ä¸ªç‰¹å¾å›¾ï¼ŒConv4_3 å¾—åˆ°çš„ feature mapå¤§å°ä¸º38*38ï¼š38*38*4 = 5776ï¼Œç”¨å®ƒä½œä¸ºç”¨äºæ£€æµ‹çš„ç¬¬ä¸€ä¸ªç‰¹å¾å›¾ï¼Œä»åé¢æ–°å¢çš„å·ç§¯å±‚ä¸­æå–Conv7ï¼ŒConv8_2ï¼ŒConv9_2ï¼ŒConv10_2ï¼ŒConv11_2ä½œä¸ºæ£€æµ‹æ‰€ç”¨çš„ç‰¹å¾å›¾ï¼ŒåŠ ä¸ŠConv4_3å±‚ï¼Œå…±æå–äº†6ä¸ªç‰¹å¾å›¾ï¼Œå…¶å¤§å°åˆ†åˆ«æ˜¯ 38ã€19ã€10ã€5ã€3ã€1ï¼Œè¶Šæ¥è¶Šå°ã€‚ä¸åŒç‰¹å¾å›¾å•å…ƒcellè®¾ç½®çš„å…ˆéªŒæ¡†æ•°ç›®ä¸åŒï¼Œå¯¹äºå…ˆéªŒæ¡†çš„å°ºåº¦ï¼Œå…¶éµå®ˆä¸€ä¸ªçº¿æ€§é€’å¢è§„åˆ™ï¼šéšç€ç‰¹å¾å›¾å¤§å°é™ä½ï¼Œå…ˆéªŒæ¡†å°ºåº¦çº¿æ€§å¢åŠ ã€‚ æœ€åå¾—åˆ°8731ä¸ªprior boxè¾¹ç•Œæ¡†(å¯ä»¥è®¤ä¸º default box æ˜¯æŠ½è±¡ç±»ï¼Œè€Œ prior box æ˜¯å…·ä½“å®ä¾‹ï¼Œè¿™é‡Œç”¨åˆ°çš„ default box å’Œ Faster RCNNä¸­çš„ Anchor å¾ˆåƒ)ï¼Œé‡‡æ ·é‡æ¯”è¾ƒå¤§ï¼Œå¯†é›†é‡‡ç”¨ï¼Œå› æ­¤åœ¨mAPä¸Šç›´æ¥ç§’æ€yoloï¼Œå½“ç„¶è€—æ—¶ä¹Ÿè¶Šå¤§ã€‚prior box ä¸ ground truth box åŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸçš„å°†ä¼šä½œä¸ºæ­£æ ·æœ¬å‚ä¸åˆ†ç±»å’Œå›å½’è®­ç»ƒï¼Œè€Œæœªèƒ½åŒ¹é…çš„åˆ™åªä¼šå‚åŠ åˆ†ç±»(è´Ÿæ ·æœ¬)è®­ç»ƒã€‚ Atrous Algorithm (Dilation Convolution ç©ºæ´å·ç§¯/è†¨èƒ€å·ç§¯)ï¼šatrous algorithmå¯ä»¥åœ¨å‡å°å·ç§¯æ­¥é•¿çš„åŒæ—¶æŒ‡æ•°çº§æ‰©å¤§feature mapçš„å¤§å°ï¼Œå³åŒç­‰æƒ…å†µä¸‹ï¼Œé€šè¿‡è¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªæ›´å¤§çš„feature mapï¼Œè€Œå®éªŒè¡¨æ˜ï¼Œå¤§çš„feature mapä¼šæå‡æ£€æµ‹çš„æ€§èƒ½ã€‚yolov3ä¹Ÿä½¿ç”¨äº†ã€‚ä½¿ç”¨æ‰©å¼  ç‡(dilation rate)å‚æ•°ï¼Œæ¥è¡¨ç¤ºæ‰©å¼ çš„å¤§å°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ(a)æ˜¯æ™®é€šçš„ 3Ã—3 å·ç§¯ï¼Œå…¶è§†é‡ä¸º 3Ã—3ï¼Œ(b)æ˜¯æ‰©å¼ ç‡ä¸º2ï¼Œæ­¤æ—¶è§†é‡å˜æˆ 7Ã—7ï¼ŒÂ©æ‰©å¼ ç‡ä¸º4æ—¶ï¼Œè§†é‡æ‰©å¤§ä¸º 15Ã—15 ï¼Œä½†æ˜¯è§†é‡çš„ç‰¹å¾æ›´ç¨€ç–äº†ã€‚ æŸå¤±å‡½æ•°ï¼šç”±åˆ†ç±»å’Œå›å½’ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå›å½’éƒ¨åˆ†çš„lossæ˜¯å¸Œæœ›é¢„æµ‹çš„boxå’Œprior boxçš„å·®è·å°½å¯èƒ½è·Ÿground truthå’Œprior boxçš„å·®è·æ¥è¿‘ï¼Œè¿™æ ·é¢„æµ‹çš„boxå°±èƒ½å°½é‡å’Œground truthä¸€æ ·ã€‚æ€»æŸå¤±æ˜¯ç½®ä¿¡åº¦æŸå¤±å’Œä½ç½®æŸå¤±çš„åŠ æƒå’Œã€‚ æ€»è¯¯å·®ï¼š ä½ç½®æŸå¤±ï¼šé‡‡ç”¨Smooth L1 lossï¼Œä¸‹é¢å››ä¸ªå¼å­æ˜¯decodeå…¬å¼ï¼š ç½®ä¿¡åº¦è¯¯å·®ï¼šé‡‡ç”¨softmax lossï¼š æ•°æ®æ‰©å¢ï¼šä¸ºäº†ä½¿æ¨¡å‹å¯¹å„ç§è¾“å…¥ç›®æ ‡å¤§å°å’Œå½¢çŠ¶æ›´é²æ£’ï¼Œæ¯å¼ è®­ç»ƒå›¾åƒéƒ½æ˜¯é€šè¿‡ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€è¿›è¡Œéšæœºé‡‡æ ·ï¼š ç›´æ¥ä½¿ç”¨æ•´ä¸ªåŸå§‹è¾“å…¥å›¾åƒã€‚ é‡‡æ ·ä¸€ä¸ªpatchï¼ˆå°±æ˜¯feature map ä¸Šè£ä¸‹æ¥ä¸€éƒ¨åˆ†ï¼Œä½¿å¾—ä¸ç›®æ ‡ä¹‹é—´çš„æœ€å°Jaccard overlapé‡å ä¸º0.1ï¼Œ0.3ï¼Œ0.5ï¼Œ0.7æˆ–0.9ã€‚ æ°´å¹³ç¿»è½¬ï¼šä»¥0.5çš„æ¦‚ç‡è¿›è¡Œæ°´å¹³ç¿»è½¬ å…‰åº¦å¤±çœŸï¼š Some improvements on deep convolutional neural network based image classificationä¸­æå‡ºçš„ é¢„æµ‹è¿‡ç¨‹ï¼šå¯¹äºæ¯ä¸ªé¢„æµ‹æ¡†ï¼Œé¦–å…ˆæ ¹æ®ç±»åˆ«ç½®ä¿¡åº¦ç¡®å®šå…¶ç±»åˆ«(ç½®ä¿¡åº¦æœ€å¤§çš„)ä¸ç½®ä¿¡åº¦å€¼ï¼Œå¹¶è¿‡æ»¤æ‰å±äºèƒŒæ™¯çš„é¢„æµ‹æ¡†ã€‚ç„¶åæ ¹æ®ç½®ä¿¡åº¦é˜ˆå€¼è¿‡æ»¤æ‰é˜ˆå€¼è¾ƒä½çš„é¢„æµ‹æ¡†ã€‚å¯¹äºç•™ä¸‹çš„é¢„æµ‹æ¡†è¿›è¡Œè§£ç ï¼Œæ ¹æ®å…ˆéªŒæ¡†å¾—åˆ°å…¶çœŸå®çš„ä½ç½®å‚æ•° (è§£ç åä¸€èˆ¬è¿˜éœ€è¦åšclipï¼Œé˜²æ­¢é¢„æµ‹æ¡†ä½ç½®è¶…å‡ºå›¾ç‰‡)ã€‚è§£ç ä¹‹åï¼Œä¸€èˆ¬éœ€è¦æ ¹æ®ç½®ä¿¡åº¦è¿›è¡Œé™åºæ’åˆ—ï¼Œç„¶åä»…ä¿ç•™top-k (å¦‚400) ä¸ªé¢„æµ‹æ¡†ã€‚æœ€åå°±æ˜¯è¿›è¡ŒNMSï¼Œè¿‡æ»¤æ‰é‡å åº¦è¾ƒå¤§çš„é¢„æµ‹æ¡†ã€‚å‰©ä½™çš„å°±æ˜¯æ£€æµ‹ç»“æœã€‚ Reference [1] https://zhuanlan.zhihu.com/p/363345545 [2] https://zhuanlan.zhihu.com/p/27908027 [3] https://zhuanlan.zhihu.com/p/65472471 [4] https://zhuanlan.zhihu.com/p/66534632 [5] https://zhuanlan.zhihu.com/p/31561570 [6] https://zhuanlan.zhihu.com/p/41423739 [7] https://zhuanlan.zhihu.com/p/23006190 [8] https://zhuanlan.zhihu.com/p/33544892 [9] https://zhuanlan.zhihu.com/p/37850811 [10] https://zhuanlan.zhihu.com/p/32525231 [11] https://www.jianshu.com/p/7c6796e65b08","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"SpringBootå­¦ä¹ æ‚è®°","slug":"note/springboot","date":"2022-04-14T18:37:28.000Z","updated":"2022-07-13T09:06:11.740Z","comments":true,"path":"/post/note/springboot.html","link":"","permalink":"https://maskros.top/post/note/springboot.html","excerpt":"SBæ‚è®° æ¢³ç† javaSE: OOP mysql: æŒä¹…åŒ– html + css + js + jquery + æ¡†æ¶: è§†å›¾ javaweb: MVCä¸‰å±‚æ¶æ„ï¼ŒåŸå§‹ ssm: æ¡†æ¶ï¼šç®€åŒ–äº†æˆ‘ä»¬çš„å¼€å‘æµç¨‹ï¼Œé…ç½®è¾ƒä¸ºå¤æ‚ warï¼štomcatè¿è¡Œ springå†ç®€åŒ–ï¼šSpringBoot-jar: å†…åµŒtomcat å¾®æœåŠ¡æ¶æ„ æœåŠ¡è¶Šæ¥è¶Šå¤šï¼šSpringCloud","text":"SBæ‚è®° æ¢³ç† javaSE: OOP mysql: æŒä¹…åŒ– html + css + js + jquery + æ¡†æ¶: è§†å›¾ javaweb: MVCä¸‰å±‚æ¶æ„ï¼ŒåŸå§‹ ssm: æ¡†æ¶ï¼šç®€åŒ–äº†æˆ‘ä»¬çš„å¼€å‘æµç¨‹ï¼Œé…ç½®è¾ƒä¸ºå¤æ‚ warï¼štomcatè¿è¡Œ springå†ç®€åŒ–ï¼šSpringBoot-jar: å†…åµŒtomcat å¾®æœåŠ¡æ¶æ„ æœåŠ¡è¶Šæ¥è¶Šå¤šï¼šSpringCloud SpringBootï¼š æ˜¯ä»€ä¹ˆ é…ç½®å¦‚ä½•ç¼–å†™ yaml *è‡ªåŠ¨è£…é…åŸç†ï¼šé‡è¦ï¼šè°ˆèµ„ é›†æˆwebå¼€å‘ï¼šä¸šåŠ¡æ ¸å¿ƒ é›†æˆ æ•°æ®åº“ Druid åˆ†å¸ƒå¼å¼€å‘ï¼šDubbo (RPC) + zookeeper swaggerï¼šæ¥å£æ–‡æ¡£ ä»»åŠ¡è°ƒåº¦ SpringSecurityï¼šShiro SpringCloudï¼š å¾®æœåŠ¡ springcloudå…¥é—¨ Restful Eureka Ribbon Feign HyStrix Zuul è·¯ç”±ç½‘å…³ SpringCloud configï¼šgit Spring &amp; SpringBoot Spring Springå¦‚ä½•ç®€åŒ–Javaå¼€å‘ï¼Ÿ 1ã€åŸºäºPOJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯beanï¼› 2ã€é€šè¿‡IOCï¼Œä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆï¼› 3ã€åŸºäºåˆ‡é¢ï¼ˆAOPï¼‰å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹ï¼› 4ã€é€šè¿‡åˆ‡é¢å’Œæ¨¡ç‰ˆå‡å°‘æ ·å¼ä»£ç ï¼ŒRedisTemplateï¼ŒxxxTemplateï¼› SpringBoot æ ¸å¿ƒæ€æƒ³ï¼šçº¦å®šå¤§äºé…ç½® ä¼˜ç‚¹ï¼š ä¸ºæ‰€æœ‰Springå¼€å‘è€…æ›´å¿«çš„å…¥é—¨ å¼€ç®±å³ç”¨ï¼Œæä¾›å„ç§é»˜è®¤é…ç½®æ¥ç®€åŒ–é¡¹ç›®é…ç½® å†…åµŒå¼å®¹å™¨ç®€åŒ–Webé¡¹ç›® æ²¡æœ‰å†—ä½™ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®çš„è¦æ±‚ å¾®æœåŠ¡ å¾®æœåŠ¡æ˜¯ä¸€ç§æ¶æ„é£æ ¼ é«˜å†…èš ä½è€¦åˆ æ¶æ„ï¼šMVC MVVM å¾®æœåŠ¡æ¶æ„ (æœåŠ¡åˆ†å±‚) ä¸šåŠ¡ï¼š service : userservice ===&gt; æ¨¡å— springmvc, controller ==&gt; æ¥å£ SpringBoot é…ç½® é¡¹ç›®åˆ›å»º ä½¿ç”¨ IDEA ç›´æ¥åˆ›å»ºé¡¹ç›®ï¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œé€‰æ‹©spring initalizrï¼Œé»˜è®¤å°±æ˜¯å»å®˜ç½‘çš„å¿«é€Ÿæ„å»ºå·¥å…·é‚£é‡Œå®ç°ï¼Œéšåé€‰æ‹©åˆå§‹åŒ–çš„ç»„ä»¶ï¼ˆåˆå­¦å‹¾é€‰ Web å³å¯ï¼‰ åœ¨ApplicationåŒçº§ç›®å½•ä¸‹å†™é¡¹ç›®åŒ…ï¼šController Pojo Dao Serviceâ€¦ å°†é¡¹ç›®æ‰“åŒ…æˆjarï¼šç‚¹å‡»mavençš„package å½©è›‹ï¼šæ›´æ”¹å¯åŠ¨æ—¶æ˜¾ç¤ºçš„å­—ç¬¦æ‹¼æˆçš„å­—æ¯(bannerå›¾æ¡ˆ)ï¼Œåˆ°é¡¹ç›®ä¸‹çš„ resources ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªbanner.txt å³å¯ï¼Œå›¾æ¡ˆå¯åˆ° https://www.bootschool.net/ascii ç”Ÿæˆã€‚ è¿è¡ŒåŸç† ç”±äºä¸ºå¿«é¤å­¦ä¹ ï¼Œæ•…åŸç†å¹¶ä¸æ·±ç©¶ JavaConfig @Configuration @Bean é…ç½®å’Œç»„ä»¶ å…³äºSpringBootï¼Œè°ˆè°ˆä½ çš„ç†è§£ï¼š è‡ªåŠ¨è£…é… (å…¨é¢æ¥ç®¡SpringMVCçš„é…ç½®) SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼ å°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥å®¹å™¨ ï¼Œ è‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆ ï¼Œ å¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼› æ•´ä¸ªJ2EEçš„æ•´ä½“è§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨springboot-autoconfigureçš„jaråŒ…ä¸­ï¼› å®ƒä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±» ï¼ˆxxxAutoConfigurationï¼‰, å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ ï¼Œ å¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ ï¼› æœ‰äº†è‡ªåŠ¨é…ç½®ç±» ï¼Œ å…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œï¼› run() æ–¹æ³• 1ã€æ¨æ–­åº”ç”¨çš„ç±»å‹æ˜¯æ™®é€šçš„é¡¹ç›®è¿˜æ˜¯Webé¡¹ç›® 2ã€æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨åˆå§‹åŒ–å™¨ ï¼Œ è®¾ç½®åˆ°initializerså±æ€§ä¸­ 3ã€æ‰¾å‡ºæ‰€æœ‰çš„åº”ç”¨ç¨‹åºç›‘å¬å™¨ï¼Œè®¾ç½®åˆ°listenerså±æ€§ä¸­ 4ã€æ¨æ–­å¹¶è®¾ç½®mainæ–¹æ³•çš„å®šä¹‰ç±»ï¼Œæ‰¾åˆ°è¿è¡Œçš„ä¸»ç±» yamlé…ç½®æ³¨å…¥ é…ç½®æ–‡ä»¶ï¼šSpringBootä½¿ç”¨å…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œåç§°å›ºå®š application.propertiesï¼š è¯­æ³•ï¼škey=value application.ymlï¼šè¯­æ³•ï¼škey: ç©ºæ ¼ value ä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ ä»¥æ•°æ®ä½œä¸ºä¸­å¿ƒï¼Œè€Œéä»¥æ ‡è®°è¯­è¨€ä¸ºé‡ç‚¹ xml vs yaml &lt;server&gt; &lt;port&gt;8081&lt;port&gt; &lt;/server&gt; serverï¼š port: 8080 è¯­æ³• # å­—é¢é‡ å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸Šå¼•å· # åŒå¼•å·ä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œçš„ç‰¹æ®Šå­—ç¬¦ å•å¼•å·ä¼šè½¬ä¹‰ key: value # å¯¹è±¡ã€Map(é”®å€¼å¯¹) k: v1: v2: # è¡Œå†…å†™æ³• student: {name: sb,age: 3} # æ•°ç»„(List, set) ç”¨ - å€¼è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´  pets: - cat - dog - pig pets: [cat,dog,pig] # ä¿®æ”¹é»˜è®¤ç«¯å£å· server: port: 8082 # å ä½ç¬¦è¡¨è¾¾å¼ name: fuck${random.int} age: ${person.hello:hello} yamlæ–‡ä»¶æ›´å¼ºå¤§çš„åœ°æ–¹åœ¨äºï¼Œå¯ä»¥ç»™å®ä½“ç±»ç›´æ¥æ³¨å…¥åŒ¹é…å€¼ï¼š åœ¨resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ application.yml ç¼–å†™å®ä½“ç±»(åœ¨pojoä¸‹) @Component //æ³¨å†Œbeanåˆ°å®¹å™¨ä¸­ï¼Œå¯ä»¥è¢«springæ¥æ”¶åˆ° public class Person { private String name; private Integer age; private Boolean happy; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; //æœ‰å‚æ— å‚æ„é€ ã€getã€setæ–¹æ³•ã€toString()æ–¹æ³• } ä½¿ç”¨yamlé…ç½®çš„æ–¹å¼è¿›è¡Œæ³¨å…¥ person: name: qinjiang age: 3 happy: false birth: 2000/01/01 maps: {k1: v1,k2: v2} lists: - code - girl - music dog: name: æ—ºè´¢ age: 1 # å¦‚æœä¸ä½¿ç”¨yaml åˆ™åœ¨å®ä½“ç±»çš„å±æ€§ä¸Šæ–¹å†™ @Value(\"xxx\")è¿›è¡Œèµ‹å€¼ å°†personå¯¹è±¡çš„æ‰€æœ‰å€¼æ³¨å…¥ç±»ä¸­ @Component //æ³¨å†Œbean @ConfigurationProperties(prefix = \"person\") public class Person {...} éšåå¯ä»¥é€šè¿‡ApplicationTestsæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•ï¼Œå¼•ç”¨ç±»æ—¶ä½¿ç”¨@AutowIredå¯ä»¥è‡ªåŠ¨æ³¨å…¥ åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶æ–¹æ³•ï¼š **@PropertySource ï¼š**åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼› @configurationPropertiesï¼šé»˜è®¤ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼ï¼› ex: @PropertySource(value = â€œclasspath: person.propertiesâ€) æ¾æ•£ç»‘å®š JSR303æ•°æ®æ ¡éªŒ éœ€è¦åœ¨pom.xmlä¸­å¼•å…¥ä¾èµ–spring-boot-starter-validation &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;/dependency&gt; åœ¨å®ä½“ç±»å‰æ ‡æ³¨@Validated è¿›è¡Œæ•°æ®æ ¡éªŒ å¯¹éœ€è¦æ ¡éªŒçš„å±æ€§åˆ†åˆ«è¿›è¡Œæ£€æŸ¥ @NotNull(message=\"åå­—ä¸èƒ½ä¸ºç©º\") private String userName; @Max(value=120,message=\"å¹´é¾„æœ€å¤§ä¸èƒ½æŸ¥è¿‡120\") private int age; @Email(message=\"é‚®ç®±æ ¼å¼é”™è¯¯\") private String email; ç©ºæ£€æŸ¥ @Null éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ºnull @NotNull éªŒè¯å¯¹è±¡æ˜¯å¦ä¸ä¸ºnull, æ— æ³•æŸ¥æ£€é•¿åº¦ä¸º0çš„å­—ç¬¦ä¸² @NotBlank æ£€æŸ¥çº¦æŸå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯Nullè¿˜æœ‰è¢«Trimçš„é•¿åº¦æ˜¯å¦å¤§äº0,åªå¯¹å­—ç¬¦ä¸²,ä¸”ä¼šå»æ‰å‰åç©ºæ ¼. @NotEmpty æ£€æŸ¥çº¦æŸå…ƒç´ æ˜¯å¦ä¸ºNULLæˆ–è€…æ˜¯EMPTY. Booelanæ£€æŸ¥ @AssertTrue éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º true @AssertFalse éªŒè¯ Boolean å¯¹è±¡æ˜¯å¦ä¸º false é•¿åº¦æ£€æŸ¥ @Size(min=, max=) éªŒè¯å¯¹è±¡ï¼ˆArray,Collection,Map,Stringï¼‰é•¿åº¦æ˜¯å¦åœ¨ç»™å®šçš„èŒƒå›´ä¹‹å†… @Length(min=, max=) string is between min and max included. æ—¥æœŸæ£€æŸ¥ @Past éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å‰ @Future éªŒè¯ Date å’Œ Calendar å¯¹è±¡æ˜¯å¦åœ¨å½“å‰æ—¶é—´ä¹‹å @Pattern éªŒè¯ String å¯¹è±¡æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ å¤šç¯å¢ƒåˆ‡æ¢ å¯ä»¥é€šè¿‡æ¿€æ´»ä¸åŒçš„ç¯å¢ƒç‰ˆæœ¬ï¼Œå®ç°å¿«é€Ÿåˆ‡æ¢ç¯å¢ƒï¼› ç›®å‰æš‚æ—¶ç”¨ä¸åˆ°ï¼Œæ•…ç•¥å­¦ é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®ï¼š ä¼˜å…ˆçº§1ï¼šé¡¹ç›®è·¯å¾„ä¸‹çš„configæ–‡ä»¶å¤¹é…ç½®æ–‡ä»¶ flie:./config/ ä¼˜å…ˆçº§2ï¼šé¡¹ç›®è·¯å¾„ä¸‹é…ç½®æ–‡ä»¶ file:./ ä¼˜å…ˆçº§3ï¼šèµ„æºè·¯å¾„ä¸‹çš„configæ–‡ä»¶å¤¹é…ç½®æ–‡ä»¶ classpath:/config/ ä¼˜å…ˆçº§4ï¼šèµ„æºè·¯å¾„ä¸‹é…ç½®æ–‡ä»¶ classpath:/ è‡ªåŠ¨è£…é…åŸç† æš‚ç•¥ 1ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±» 2ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰åœ¨SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»å½“ä¸­ï¼› 3ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶å­˜åœ¨åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ‰‹åŠ¨é…ç½®äº†ï¼‰ 4ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»propertiesç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼å³å¯ï¼› **xxxxAutoConfigurartionï¼šè‡ªåŠ¨é…ç½®ç±»ï¼›**ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ xxxxProperties: å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ï¼› SpringBoot Webå¼€å‘ è¦è§£å†³çš„é—®é¢˜ï¼š å¯¼å…¥é™æ€èµ„æº é¦–é¡µ jspï¼Œæ¨¡æ¿å¼•æ“Thymeleaf è£…é…æ‰©å±•SpringMVC å¢åˆ æ”¹æŸ¥ æ‹¦æˆªå™¨ å›½é™…åŒ–(zh-cn/eng) é™æ€èµ„æºå¯¼å…¥ ä»¥ä¸‹å››ä¸ªç›®å½•å­˜æ”¾çš„é™æ€èµ„æºå¯ä»¥è¢«æˆ‘ä»¬è¯†åˆ«ï¼š \"classpath:/META-INF/resources/\" \"classpath:/resources/\" \"classpath:/static/\" (é»˜è®¤) \"classpath:/public/\" è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„ï¼šå¯ä»¥åœ¨application.propertiesä¸­é…ç½® spring.resources.static-locations=classpath:/coding/,classpath:/kuang/ ä¸€æ—¦è‡ªå·±å®šä¹‰äº†é™æ€æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ŒåŸæ¥çš„è‡ªåŠ¨é…ç½®å°±éƒ½ä¼šå¤±æ•ˆ é¦–é¡µå®šåˆ¶ï¼šå¯ä»¥åœ¨/public/æˆ–è€…/static/ç›®å½•ä¸‹æ”¾ç½®favicon.icoï¼Œå³ä¸ºç½‘ç«™é¦–é¡µå›¾æ ‡ Thymeleafæ¨¡æ¿å¼•æ“ åœ¨pom.xmlä¸­å¼•å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; æŠŠhtmlé¡µé¢æ”¾åœ¨ç±»è·¯å¾„ä¸‹çš„templatesä¸‹ï¼Œthymeleafå°±å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨æ¸²æŸ“ åœ¨templatesä¸‹é¢çš„é¡µé¢åªèƒ½é€šè¿‡Controlleræ¥è·³è½¬,ä¸èƒ½ä½¿ç”¨@RestControlleræ³¨è§£ è¿™é‡Œæˆ‘åœ¨è¿è¡Œçš„æ—¶å€™å‡ºç°äº†500é”™è¯¯ï¼Œè°ƒäº†åŠå¤©æ¢äº†Mavenç‰ˆæœ¬ä¸º3.8.2åæ‰æˆåŠŸè¿è¡Œï¼Œeeï¼Œæˆ–è€…cleanä¸€ä¸‹mavenç¼“å­˜ Thymeleafè¯­æ³• æŸ¥æ–‡æ¡£ https://www.thymeleaf.org/ // test @RequestMapping(\"/t2\") public String test2(Map&lt;String,Object&gt; map){ //å­˜å…¥æ•°æ® map.put(\"msg\",\"&lt;h1&gt;Hello&lt;/h1&gt;\"); map.put(\"users\", Arrays.asList(\"qinjiang\",\"kuangshen\")); //classpath:/templates/test.html return \"test\"; } &lt;!DOCTYPE html&gt; &lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;æµ‹è¯•é¡µé¢&lt;/h1&gt; &lt;div th:text=\"${msg}\"&gt;&lt;/div&gt; &lt;!--ä¸è½¬ä¹‰--&gt; &lt;div th:utext=\"${msg}\"&gt;&lt;/div&gt; &lt;!--éå†æ•°æ®--&gt; &lt;!--th:eachæ¯æ¬¡éå†éƒ½ä¼šç”Ÿæˆå½“å‰è¿™ä¸ªæ ‡ç­¾ï¼šå®˜ç½‘#9--&gt; &lt;h4 th:each=\"user :${users}\" th:text=\"${user}\"&gt;&lt;/h4&gt; &lt;h4&gt; &lt;!--è¡Œå†…å†™æ³•ï¼šå®˜ç½‘#12--&gt; &lt;span th:each=\"user:${users}\"&gt;[[${user}]]&lt;/span&gt; &lt;/h4&gt; &lt;/body&gt; &lt;/html&gt; SpringMVCé…ç½® MVCé…ç½®åŸç† æ‰©å±•SpringMVC æ•´åˆJDBC æ•°æ®æºcom.zaxxer.hikari.HikariDataSource æ–¹æ³•éƒ½åœ¨JdbcTemplateä¸­ // yml spring: datasource: username: root password: 123456 url: jdbc:mysql://localhost:3306/sqlcourse?useUnicode=true&amp;characterEncoding=utf-8 driver-class-name: com.mysql.cj.jdbc.Driver å¯ä»¥ç”¨æµ‹è¯•ç±»æµ‹è¯•æ•°æ®æºï¼š @Autowired DataSource dataSource; @Test void contextLoads() throws SQLException { System.out.println(dataSource.getClass()); Connection connection = dataSource.getConnection(); System.out.println(connection); connection.close(); } @RestController public class JDBCController { @Autowired JdbcTemplate jdbcTemplate; // æŸ¥è¯¢æ•°æ®åº“çš„æ‰€æœ‰ä¿¡æ¯ // æ²¡æœ‰å®ä½“ç±» æ•°æ®åº“ä¸­çš„ä¸œè¥¿æ€ä¹ˆè·å–ï¼Ÿ Map @GetMapping(\"/stulist\") public List&lt;Map&lt;String, Object&gt;&gt; studentList() { String sql = \"select * from student\"; List&lt;Map&lt;String, Object&gt;&gt; list_maps = jdbcTemplate.queryForList(sql); return list_maps; } } æ•´åˆDruid Druid æ˜¯é˜¿é‡Œå·´å·´å¼€æºå¹³å°ä¸Šä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± å®ç°ï¼Œç»“åˆäº† C3P0ã€DBCP ç­‰ DB æ± çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åŠ å…¥äº†æ—¥å¿—ç›‘æ§ æ·»åŠ ä¾èµ– &lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.2.8&lt;/version&gt; &lt;/dependency&gt; åˆ‡æ¢æ•°æ®æº(yml) spring: datasource: username: root password: 123456 url: jdbc:mysql://localhost:3306/sqlcourse?useUnicode=true&amp;characterEncoding=utf-8 driver-class-name: com.mysql.cj.jdbc.Driver type: com.alibaba.druid.pool.DruidDataSource # è‡ªå®šä¹‰æ•°æ®æº åˆ‡æ¢æˆåŠŸï¼Œå°±å¯ä»¥è®¾ç½®æ•°æ®æºè¿æ¥åˆå§‹åŒ–å¤§å°ã€æœ€å¤§è¿æ¥æ•°ã€ç­‰å¾…æ—¶é—´ã€æœ€å°è¿æ¥æ•° ç­‰è®¾ç½®é¡¹ spring: datasource: username: root password: 123456 url: jdbc:mysql://localhost:3306/sqlcourse?useUnicode=true&amp;characterEncoding=utf-8 driver-class-name: com.mysql.cj.jdbc.Driver type: com.alibaba.druid.pool.DruidDataSource # è‡ªå®šä¹‰æ•°æ®æº #Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š #druid æ•°æ®æºä¸“æœ‰é…ç½® initialSize: 5 minIdle: 5 maxActive: 20 maxWait: 60000 timeBetweenEvictionRunsMillis: 60000 minEvictableIdleTimeMillis: 300000 validationQuery: SELECT 1 FROM DUAL testWhileIdle: true testOnBorrow: false testOnReturn: false poolPreparedStatements: true #é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥ #å¦‚æœå…è®¸æ—¶æŠ¥é”™ java.lang.ClassNotFoundException: org.apache.log4j.Priority #åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯ï¼ŒMaven åœ°å€ï¼šhttps://mvnrepository.com/artifact/log4j/log4j filters: stat,wall,log4j maxPoolPreparedStatementPerConnectionSize: 20 useGlobalDataSourceStat: true connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500 å¯¼å…¥log4jçš„ä¾èµ– &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; ç°åœ¨éœ€è¦ç¨‹åºå‘˜è‡ªå·±ä¸º DruidDataSource ç»‘å®šå…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œå†æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œè€Œä¸å†ä½¿ç”¨ Spring Boot çš„è‡ªåŠ¨ç”Ÿæˆäº†ï¼›æˆ‘ä»¬éœ€è¦ è‡ªå·±æ·»åŠ  DruidDataSource ç»„ä»¶åˆ°å®¹å™¨ä¸­ï¼Œå¹¶ç»‘å®šå±æ€§ï¼› \\config\\DruidConfig.java ç»‘å®šã€é…ç½®Druidæ•°æ®æºç›‘æ§ã€é…ç½® web ç›‘æ§ filterè¿‡æ»¤å™¨ package com.example.demo.config; import com.alibaba.druid.pool.DruidDataSource; import com.alibaba.druid.support.http.StatViewServlet; import com.alibaba.druid.support.http.WebStatFilter; import org.springframework.boot.context.properties.ConfigurationProperties; import org.springframework.boot.web.servlet.FilterRegistrationBean; import org.springframework.boot.web.servlet.ServletRegistrationBean; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import javax.sql.DataSource; import java.util.Arrays; import java.util.HashMap; import java.util.Map; @Configuration public class DruidConfig { @ConfigurationProperties(prefix = \"spring.datasource\") @Bean public DataSource druidDataSource() { return new DruidDataSource(); } // åå°ç›‘æ§ï¼šweb.xml, ServletRegistrationBean // å› ä¸º SpringBoot å†…ç½®äº† servletå®¹å™¨ï¼Œæ‰€ä»¥å¦¹æœ‰web.xml, æ›¿ä»£æ–¹æ³•ï¼šServletRegistrationBean @Bean public ServletRegistrationBean statViewServlet() { ServletRegistrationBean&lt;StatViewServlet&gt; bean = new ServletRegistrationBean&lt;&gt;(new StatViewServlet(), \"/druid/*\"); // åå°éœ€è¦æœ‰äººç™»å½•ï¼Œè´¦å·å¯†ç é…ç½® HashMap&lt;String, String&gt; initParameters = new HashMap&lt;&gt;(); // å¢åŠ é…ç½® initParameters.put(\"loginUsername\", \"admin\"); // ç™»å½•key æ˜¯å›ºå®šçš„ loginUsername loginPassword initParameters.put(\"loginPassword\", \"123456\"); // å…è®¸è°å¯ä»¥è®¿é—® initParameters.put(\"allow\", \"\"); // ç¦æ­¢è°èƒ½è®¿é—® // initParameters.put(\"sb\", \"192.168.11.123\"); bean.setInitParameters(initParameters); // è®¾ç½®åˆå§‹åŒ–å‚æ•° return bean; } // filter @Bean public FilterRegistrationBean webStatFilter() { FilterRegistrationBean bean = new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); //exclusionsï¼šè®¾ç½®å“ªäº›è¯·æ±‚è¿›è¡Œè¿‡æ»¤æ’é™¤æ‰ï¼Œä»è€Œä¸è¿›è¡Œç»Ÿè®¡ Map&lt;String, String&gt; initParams = new HashMap&lt;&gt;(); initParams.put(\"exclusions\", \"*.js,*.css,/druid/*,/jdbc/*\"); bean.setInitParameters(initParams); //\"/*\" è¡¨ç¤ºè¿‡æ»¤æ‰€æœ‰è¯·æ±‚ bean.setUrlPatterns(Arrays.asList(\"/*\")); return bean; } } æ•´åˆMybatis å¯¼å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.1.1&lt;/version&gt; &lt;/dependency&gt; åˆ›å»ºmapperç›®å½•ä»¥åŠå¯¹åº”çš„Mapperæ¥å£ @Mapper @Repository public interface ScMapper { List&lt;Sc&gt; queryAllSc(); Sc querySc(int Sno, int Cno); int addSc(Sc sc); int updateSc(Sc sc); int deleteSc(int Sno, int Cno); } åœ¨resourceç›®å½•ä¸‹æ–°å»º /mybatis/mapper/ScMapper.xml &lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt; &lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt; &lt;mapper namespace=\"com.maskros.sql_course_sc.mapper.ScMapper\"&gt; &lt;select id=\"queryAllSc\" resultType=\"Sc\"&gt; select * from sc; &lt;/select&gt; &lt;select id=\"querySc\" resultType=\"Sc\" parameterType=\"int\"&gt; select * from sc where Cno = #{Cno} and Sno = #{Sno} ; &lt;/select&gt; &lt;insert id=\"addSc\" parameterType=\"Sc\"&gt; insert into sc values(#{Sno}, #{Cno}, #{Grade}); &lt;/insert&gt; &lt;update id=\"updateSc\" parameterType=\"Sc\"&gt; update sc set Cno = #{Cno}, Sno = #{Sno}, Grade = #{Grade} where Sno = #{Sno} and Cno = #{Cno}; &lt;/update&gt; &lt;delete id=\"deleteSc\" parameterType=\"int\"&gt; delete from sc where Cno = #{Cno} and Sno = #{Sno}; &lt;/delete&gt; &lt;/mapper&gt; æš‚æ—¶å¯„äº†ï¼ŒTBCâ€¦","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"java","slug":"java","permalink":"https://maskros.top/tags/java/"},{"name":"springBoot","slug":"springBoot","permalink":"https://maskros.top/tags/springBoot/"}]},{"title":"å­—ç¬¦ä¸²Hash ç»™æˆ‘ç‹ ç‹ çš„å“ˆå¸Œï¼","slug":"algorithm/learn/å­—ç¬¦ä¸²Hash","date":"2022-04-13T10:55:00.000Z","updated":"2022-07-13T09:05:43.682Z","comments":true,"path":"/post/algorithm/learn/å­—ç¬¦ä¸²Hash.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/%E5%AD%97%E7%AC%A6%E4%B8%B2Hash.html","excerpt":"å­—ç¬¦ä¸²Hash æœ¬è´¨ï¼šæŠŠæ¯ä¸ªä¸åŒçš„å­—ç¬¦ä¸²è½¬åŒ–æˆä¸åŒçš„æ•´æ•° éš¾ç‚¹ï¼šå¦‚ä½•æ„é€ ä¸€ä¸ªåˆé€‚çš„Hashå‡½æ•° æ€§è´¨ï¼šHashå€¼ä¸ä¸€æ ·çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šä¸ä¸€æ ·ï¼Œä½†Hashå€¼ä¸€æ ·çš„å­—ç¬¦ä¸²ä¸ä¸€å®šä¸ä¸€æ · (ä½†å¤§æ¦‚ç‡ä¸€æ ·) å•Hash å·æ‡’ä¹Ÿå¯ä»¥ unsigned long long è‡ªç„¶æº¢å‡ºä¸ç”¨å–modï¼Œä¸è¿‡å¯èƒ½ä¼šè¢«å¡ è¦æ±‚ï¼š å’Œ å‡ä¸ºè´¨æ•°ï¼Œï¼Œ å–å°½é‡å¤§ å¯ä»»å–131,233â€¦","text":"å­—ç¬¦ä¸²Hash æœ¬è´¨ï¼šæŠŠæ¯ä¸ªä¸åŒçš„å­—ç¬¦ä¸²è½¬åŒ–æˆä¸åŒçš„æ•´æ•° éš¾ç‚¹ï¼šå¦‚ä½•æ„é€ ä¸€ä¸ªåˆé€‚çš„Hashå‡½æ•° æ€§è´¨ï¼šHashå€¼ä¸ä¸€æ ·çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šä¸ä¸€æ ·ï¼Œä½†Hashå€¼ä¸€æ ·çš„å­—ç¬¦ä¸²ä¸ä¸€å®šä¸ä¸€æ · (ä½†å¤§æ¦‚ç‡ä¸€æ ·) å•Hash å·æ‡’ä¹Ÿå¯ä»¥ unsigned long long è‡ªç„¶æº¢å‡ºä¸ç”¨å–modï¼Œä¸è¿‡å¯èƒ½ä¼šè¢«å¡ è¦æ±‚ï¼š å’Œ å‡ä¸ºè´¨æ•°ï¼Œï¼Œ å–å°½é‡å¤§ å¯ä»»å–131,233â€¦ åŒHash â€»å­ä¸²Hash è‹¥å·²çŸ¥ çš„å­—ç¬¦ä¸²çš„Hashå€¼ï¼Œ, å­ä¸² çš„Hashå€¼å°±å¯ä»¥ O(1) æ±‚è§£ï¼š å¦‚æœéœ€è¦åå¤æ±‚è§£å­ä¸²Hashå€¼ï¼Œé¢„å¤„ç† æ•ˆæœæ›´ä½³ ç´ æ•°é€‰æ‹© ä¸Šç•Œå’Œä¸‹ç•ŒæŒ‡çš„æ˜¯ç¦»ç´ æ•°æœ€è¿‘çš„ çš„å€¼ã€‚ lwr uBr % err prime 2^5 2^6 10.416667 53 2^6 2^7 1.041667 97 2^7 2^8 0.520833 193 2^8 2^9 1.302083 389 2^9 2^10 0.130208 769 2^10 2^11 0.455729 1543 2^11 2^12 0.227865 3079 2^12 2^13 0.113932 6151 2^13 2^14 0.008138 12289 2^14 2^15 0.069173 24593 2^15 2^16 0.010173 49157 2^16 2^17 0.013224 98317 2^17 2^18 0.002543 196613 2^18 2^19 0.006358 393241 2^19 2^20 0.000127 786433 2^20 2^21 0.000318 1572869 2^21 2^22 0.000350 3145739 2^22 2^23 0.000207 6291469 2^23 2^24 0.000040 12582917 2^24 2^25 0.000075 25165843 2^25 2^26 0.000010 50331653 2^26 2^27 0.000023 100663319 2^27 2^28 0.000009 201326611 2^28 2^29 0.000001 402653189 2^29 2^30 0.000011 805306457 2^30 2^31 0.000000 1610612741 é¢˜å• 0x00 P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ æ¨¡æ¿ 0x01 P2957 è°·ä»“é‡Œçš„å›å£° åŒä¸Š 0x02 P1381 å•è¯èƒŒè¯µ å°ºå– å°ºå–(åŒæŒ‡é’ˆ)ï¼š å¯¹ç»™å®šçš„ä¸€ä¸ªåºåˆ—ï¼Œåœ¨åºåˆ—ä¸­å¯»æ‰¾åŒ…å«å…¨éƒ¨éœ€æ±‚çš„ï¼Œé•¿åº¦æœ€å°çš„ä¸€æ®µå­åºåˆ— O(n) åˆå§‹åŒ–å·¦å³ä¸‹æ ‡ l, r åˆ°é€‚å½“ä½ç½® ä¸åœå‘å³ç§»åŠ¨rï¼Œç›´åˆ° r å‡ºç•Œæˆ–è€…[l, r] è‡ªåŒºé—´å·²ç»æ»¡è¶³è¦æ±‚ ans = min(ans, r - l + 1) ç§»åŠ¨ l åˆ°é€‚å½“ä½ç½®ï¼Œé‡å¤ç¬¬ä¸€ä¸ªè¿‡ç¨‹ #include&lt;bits/stdc++.h&gt; using namespace std; #define ll long long #define int ll #define p 233 #define mod 1610612741 #define maxn 1000005 int Hash1[1000005], Hash2[1000005], Hashtmp[1000005]; int b[1000005]; void add(int Hash[], string s) { Hash[0] = 0; for (int i = 0; i &lt; s.size(); i++) { Hash[i + 1] = (Hash[i] * p + (s[i] - 'a')) % mod; } } void init() { b[0] = 1; for (int i = 1; i &lt;= 1e6; i++) { b[i] = b[i - 1] * p % mod; } } int getHash(int Hash[], int l, int r) { return ((Hash[r] - Hash[l - 1] * b[r - l + 1]) % mod + mod) % mod; } map&lt;ll, int&gt; words; map&lt;ll, bool&gt; vis; string ss[maxn]; int cnt[maxn]; signed main() { init(); int n; cin &gt;&gt; n; while (n--) { string s; cin &gt;&gt; s; add(Hash1, s); words[Hash1[s.size()]]++; } int m; cin &gt;&gt; m; int tot = 0; for (int i = 1; i &lt;= m; i++) { cin &gt;&gt; ss[i]; add(Hashtmp, ss[i]); Hash2[i] = Hashtmp[ss[i].size()]; if (words[Hash2[i]] &amp;&amp; !vis[Hash2[i]]) { vis[Hash2[i]] = 1; tot++; cnt[i] = tot; } else if (words[Hash2[i]]) { cnt[i] = tot; } else { cnt[i] = 0; } } cout &lt;&lt; tot &lt;&lt; '\\n'; if (!tot) cout &lt;&lt; 0; else { int l = 1, r = 1; map&lt;ll, int&gt; haved; int ans = maxn; int tmp = 0; for (int l = 1, r = 1; r &lt;= m; r++) { if (words[Hash2[r]]) { if (haved[Hash2[r]] == 0) { tmp++; } haved[Hash2[r]]++; } if (tmp &lt; tot) continue; while (haved[Hash2[l]] &gt; 1 || !words[Hash2[l]]) { if (haved[Hash2[l]] &gt; 1) haved[Hash2[l]]--; l++; } ans = min(ans, r - l + 1); } cout &lt;&lt; ans; } } 0x03 EOJ 3486 æœ€å¤§çš„å­ä¸² äºŒåˆ† + Hash æ±‚åç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€ 0x04 [JSOI2016]æ‰­åŠ¨çš„å›æ–‡ä¸²","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"hash","slug":"hash","permalink":"https://maskros.top/tags/hash/"}]},{"title":"Java Syntax in ç®—æ³•ç«èµ›","slug":"note/java syntax","date":"2022-04-06T17:07:28.000Z","updated":"2022-07-13T09:06:28.873Z","comments":true,"path":"/post/note/java syntax.html","link":"","permalink":"https://maskros.top/post/note/java%20syntax.html","excerpt":"Java Syntax for ACM ä¸´é˜µç£¨æª 0x00 Header import java.util.*; import java.math.*; import java.io.*; public class Main&#123; public static void main(String[] args)&#123; // hot key : main &#125; &#125; 0x01 I/O Scanner cin = new Scanner(System.in); Scanner cin = new Scanner(new BufferedInputStream(System.in)); // more fast // most fast // main å‡½æ•°è¦ throw IOException æ¯æ¬¡è¾“å…¥å‰ cin.nextToken() // æ•°å­—è¾“å…¥cin.nval å­—ç¬¦ä¸²cin.sval static StreamTokenizer cin = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in))); // æ³¨æ„ sval å¦‚æœå­—ç¬¦ä¸²çº¯æ•°å­—ä¼šè¿”å›ä¸ºnull åº”æå‰è½¬ä¹‰ cin.ordinaryChars('0', '9') ; cin.wordChars('0', '9'); int n = cin.nextInt(); String s = cin.next(); double t = cin.nextDouble(); String s = cin.nextLine(); // è¯»ä¸€æ•´è¡Œ char[] c = cin.next().toCharArray(); // å¤šè¡Œè¾“å…¥ while (cin.hasNextInt()) while (cin.hasNext()) while (cin.nextToken() != StreamTokenizer.TT_EOF) // æ–‡ä»¶æœ«å°¾ // è¯»å…¥ä¸€è¡Œï¼Œåˆ†å‰²å­—ç¬¦ä¸² String s = cin.nextLine(); String[] split = s.split(\" \"); PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out)); // more fast out.printf(); out.flush(); // åœ¨ä»£ç çš„æœ€åout.flush() System.out.println(); //sout System.out.printf();","text":"Java Syntax for ACM ä¸´é˜µç£¨æª 0x00 Header import java.util.*; import java.math.*; import java.io.*; public class Main&#123; public static void main(String[] args)&#123; // hot key : main &#125; &#125; 0x01 I/O Scanner cin = new Scanner(System.in); Scanner cin = new Scanner(new BufferedInputStream(System.in)); // more fast // most fast // main å‡½æ•°è¦ throw IOException æ¯æ¬¡è¾“å…¥å‰ cin.nextToken() // æ•°å­—è¾“å…¥cin.nval å­—ç¬¦ä¸²cin.sval static StreamTokenizer cin = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in))); // æ³¨æ„ sval å¦‚æœå­—ç¬¦ä¸²çº¯æ•°å­—ä¼šè¿”å›ä¸ºnull åº”æå‰è½¬ä¹‰ cin.ordinaryChars('0', '9') ; cin.wordChars('0', '9'); int n = cin.nextInt(); String s = cin.next(); double t = cin.nextDouble(); String s = cin.nextLine(); // è¯»ä¸€æ•´è¡Œ char[] c = cin.next().toCharArray(); // å¤šè¡Œè¾“å…¥ while (cin.hasNextInt()) while (cin.hasNext()) while (cin.nextToken() != StreamTokenizer.TT_EOF) // æ–‡ä»¶æœ«å°¾ // è¯»å…¥ä¸€è¡Œï¼Œåˆ†å‰²å­—ç¬¦ä¸² String s = cin.nextLine(); String[] split = s.split(\" \"); PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out)); // more fast out.printf(); out.flush(); // åœ¨ä»£ç çš„æœ€åout.flush() System.out.println(); //sout System.out.printf(); 0x02 Common API vs STL ä¸‰çº§æ ‡é¢˜æ‹¬å·å†…å®¹å³å¯¹åº”c++ STLå†…å®¹ 0. è¿›åˆ¶è½¬æ¢ String s = Integer.toString(a, x); //æŠŠintå‹æ•°æ®è½¬æ¢ä¹˜Xè¿›åˆ¶æ•°å¹¶è½¬æ¢æˆstringå‹ x âˆˆ [2, 36] int b = Integer.parseInt(s, x); //æŠŠå­—ç¬¦ä¸²å½“ä½œXè¿›åˆ¶æ•°è½¬æ¢æˆintå‹ 1. sort é»˜è®¤æ’åº (å¯¹åŸºæœ¬ç±»å‹å¦‚int char) Arrays.sort(int[] a, int fromIndex, int toIndex); // é»˜è®¤æ’åº å‡åº å®ç°Comparatoræ¥å£è‡ªå®šä¹‰æ¯”è¾ƒå™¨ (è¦ä½¿ç”¨åŸºæœ¬ç±»å‹æ‰€å¯¹åº”çš„ç±»ï¼š(Integer, Character) ) @Override public int compare(type x, type y) Arrays.sort(a, 1, n + 1, Collections.reverseOrder()); // é™åºçš„ç®€ä¾¿å†™æ³• public class Main &#123; public static void main(String[] args) &#123; //æ³¨æ„ï¼Œè¦æƒ³æ”¹å˜é»˜è®¤çš„æ’åˆ—é¡ºåºï¼Œä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼ˆint,double,charï¼‰è€Œè¦ä½¿ç”¨å®ƒä»¬å¯¹åº”çš„ç±» Integer[] a = &#123;9, 8, 7, 2, 3, 4, 1, 0, 6, 5&#125;; //å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»Mycmpçš„å¯¹è±¡ Comparator cmp = new MyCmp(); Arrays.sort(a, cmp); &#125; &#125; // æ”¾åœ¨Mainç±»å¤–é¢ // Comparatoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»MyComparatorè¦implentsè¯¥æ¥å£ class Mycmp implements Comparator&lt;Integer>&#123; //è¿”å›å€¼ä¸ºè´Ÿåˆ™xæ’åœ¨yå‰é¢ï¼Œåä¹‹åœ¨åé¢ï¼Œä¸º0åˆ™è¡¨ç¤ºç›¸ç­‰ @Override public int compare(Integer x, Integer y) &#123; if (x &lt; y) return 1; if (x > y) return -1; return 0; &#125; &#125; å®ç°Comparableæ¥å£è‡ªå®šä¹‰ç±»æ’åº @Override public int compareTo(classname x) class Point implements Comparable&lt;Point>&#123; int x,y; //è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ï¼Œè·Ÿ2çš„è¯­æ³•ç±»ä¼¼ï¼Œæ­¤ä¾‹ä¸­å…ˆxåyä»å°åˆ°å¤§æ’åº @Override public int compareTo(Point o) &#123; return x!=o.x? x-o.x: y-o.y; &#125; &#125; public class Main &#123; public static void main(String[] args) &#123; //Javaé‡Œçš„æ•°ç»„è¦å…ˆnewæ•°ç»„ï¼Œå†newæ¯ä¸ªå…ƒç´ ï¼Œä¸æ˜¯æ•°ç»„æœ‰äº†æ¯ä¸ªå…ƒç´ ä¹Ÿå°±æœ‰äº† Point[] p = new Point[10]; //å…¶å®åº”è¯¥åœ¨Pointé‡Œé‡è½½æœ‰å‚çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨newçš„æ—¶å€™åˆå§‹åŒ–ï¼Œè¿™æ ·ä»£ç ç®€æ´äº› for (int i = 1; i &lt;= n; i++) &#123; p[i] = new Point(); //ä¸æŠŠæ¯ä¸ªå…ƒç´ newå‡ºæ¥ç›´æ¥è¿›è¡Œä¸‹é¢çš„èµ‹å€¼ä¼šç©ºæŒ‡é’ˆçš„ p[i].x = cin.nextInt(); p[i].y = cin.nextInt(); &#125; Arrays.sort(p, 1, n + 1);//å…ˆxåyä»å°åˆ°å¤§æ’åº &#125; &#125; 2. String/StringBuilder String æ˜¯ final ç±»å‹ï¼Œæ¯ä¸€æ¬¡æ‹¼æ¥ï¼Œéƒ½ä¼šæ„å»ºä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ï¼Œ ç›¸åŠ é™¤å¤–ï¼Œä½†æ˜¯ + æ“ä½œæ¯”è¾ƒè€—æ—¶ String s; char[] c; s = s.toCharArray(); // å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ s.charAt(idx); // è¿”å›ä¸‹æ ‡å¯¹åº”çš„å­—ç¬¦ s.equals(str); // æ¯”è¾ƒ s.split(str); // æ ¹æ®stråˆ†å‰²s, è¿”å›Stringæ•°ç»„ s.substring(i, j); // æˆªå–å­ä¸² s.concat(str); // åœ¨åé¢è¿æ¥å­ä¸² s = s.replace('x', 'y'); // å°†xå…¨éƒ¨æ›¿æ¢ä¸ºy s.indexOf('c'); // æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°cçš„åœ°æ–¹ s.lastIndexOf('c'); // æŸ¥æ‰¾æœ€åä¸€æ¬¡å‡ºç°cçš„åœ°æ–¹ s.startsWith(str); s.endsWith(str); // æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å§‹å’Œç»“æŸ s.trim(); // å»é™¤é¦–å°¾ç©ºæ ¼ StringBuilder ä¸€èˆ¬æ‹¼æ¥æ—¶ä½¿ç”¨ StringBuilder sb = new StringBuilder(); sb.append(x); // æœ«å°¾æ·»åŠ ï¼Œä»»æ„æ•°æ®ç±»å‹éƒ½å¯ä»¥ï¼Œéƒ½è½¬æ¢æˆstring sb.append(x).append(y).append(z); // å¯é“¾å¼å†™æ³• sb.reverse(); // ç¿»è½¬å­—ç¬¦ä¸² String s = sb.toString(); // è½¬æ¢æˆString StringBuilder sb = new StringBuilder(s); // Stringè½¬æ¢æˆsb sb.equals(sb2); String s = sb.substring(l, r); // åŒºé—´æˆªå– [l, r) sb.delete(l, r); sb.replace(l, r, str); 3. HashMap/TreeMap (map) æ— åºHashMap å¯¹åº” unordered_map HashMap&lt;Character, Integer> mp = new HashMap&lt;Character, Integer>(); mp.put(c, x); // å­˜ mp.get(x); // å–ï¼Œkeyä¸å­˜åœ¨åˆ™è¿”å›null mp.remove(c); // åˆ  mp.replace(c, x) // æ”¹, keyä¸å­˜åœ¨åˆ™æ— äº‹å‘ç”Ÿ // ç”¨è¿­ä»£å™¨éå† Iterator&lt;Entry&lt;Character, Integer> > it = mp.entrySet().iterator(); while (it.hasNext()) &#123; Map.Entry&lt;Character, Integer> e = it.next(); System.out.println(e.getKey() + \" \" + e.getValue()); &#125; // ç”¨for-eachå¾ªç¯éå† æ›´ä¾¿æ· // entry ä½¿ç”¨ getKey() å’Œ getvalue() æ–¹æ³•æ¥è·å¾—é”®å€¼ for (Map.Entry&lt;Character, Integer> e : mp.entrySet()) &#123; System.out.println(e.getKey() + \" \" + e.getValue()); &#125; // æ£€æŸ¥é”®å€¼æ˜¯å¦å­˜åœ¨ è¿”å›boolean mp.containsKey(c); mp.containsValue(x); æœ‰åºTreemap - map // åŸºæœ¬æ“ä½œåŒä¸Šï¼Œå¤šäº†æŸ¥æ‰¾æ–¹æ³• TreeMap&lt;K, V> mp = new TreeMap&lt;K,V>(); // è¿”å›K æˆ– Map.Entry&lt;K,V> mp.ceilingKey(K key); //ç¬¬ä¸€ä¸ªå¤§äºç­‰äºkey mp.floorKey(K key); //ç¬¬ä¸€ä¸ªå°äºç­‰äºkey mp.lowerKey(K, key); //ç¬¬ä¸€ä¸ªå°äºkey mp.higherKey(K, key); //ç¬¬ä¸€ä¸ªå¤§äºkey 4. ArrayList (vector) ArrayList&lt;Integer> v = new ArrayList&lt;Integer>(); // äºŒç»´ ArrayList[] v = new ArrayList[n + 1]; for (int i = 0; i &lt; n; i++) &#123; v[i] = new ArrayList&lt;Integer>(); &#125; v.add(1); // å¢ v.remove(idx); // åˆ é™¤ v.remove(Integer.valueOf(1)); // åˆ é™¤å€¼ä¸º1çš„å…ƒç´  v.set(idx, 1); // æ”¹ v.get(idx); // æŸ¥ 5. ArrayDeque/PriorityQueue ((queue/stack/deque)/priority_queue) ArrayDeque ArrayDeque&lt;Integer> q = new ArrayDeque&lt;Integer>(); // æ— è®ºå¦‚ä½•éƒ½å¯ä»¥Foreachéå† for(Integer x : q) &#123;...&#125; // queue q.offer(x); // å…¥é˜Ÿ q.peek(); // é˜Ÿå¤´ q.pop(); // å‡ºé˜Ÿï¼ŒåŒæ—¶è¿”å›å€¼ while (!q.isEmpty()) &#123; System.out.println(q.pop()); // å¼¹å‡ºçš„åŒæ—¶å¯ä»¥è¿”å›é˜Ÿå¤´å…ƒç´ ï¼Œä¸åƒc++æ˜¯voidçš„ &#125; // stack s.push(x); // å…¥æ ˆ s.peek(); // æ ˆé¡¶ s.pop(); // å¼¹å‡ºæ ˆé¡¶ï¼ŒåŒæ—¶è¿”å›å€¼ // deque d.addFirst(x); d.addLast(x); // å…¥é˜Ÿ d.getFirst(); d.getLast(); // é˜Ÿå¤´é˜Ÿå°¾ d.removeFirst(); d.removeLast(); // åˆ  PriorityQueue // é»˜è®¤ä»å°åˆ°å¤§ foreachéå†ä¸æŠ¥é”™ ä½†ä¹±åº PriorityQueue&lt;Integer> q = new PriorityQueue&lt;Integer>(); q.offer(x); // å¢ q.peek(); //è·å¾—ç¬¬ä¸€ä¸ªå…ƒç´  q.poll(); //è·å–å¹¶ç§»é™¤ç¬¬ä¸€ä¸ª q.remove(x); //ç§»é™¤æŒ‡å®šå…ƒç´  // è‡ªå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—æ¯”è¾ƒå™¨ï¼šå®ç°Comparatoræ¥å£å³å¯ class Mycmp implements Comparator&lt;Integer> &#123; @Override public int compare(Integer x, Integer y) &#123; return y - x; &#125; &#125; PriorityQueue&lt;Integer> q = new PriorityQueue&lt;Integer>(new Mycmp()); 6. HashSet/TreeSet (set) HashSetæ— åº TreeSetæœ‰åº ä»¥ä¸‹ç”¨TreeSetæ¼”ç¤º TreeSet&lt;Integer> s = new TreeSet&lt;Integer>(); s.add(x); s.contains(x); // è¿”å›booleanæ˜¯å¦å­˜åœ¨ s.remove(x); s.ceiling(x); s.floor(x); s.higher(x); s.lower(x); s.headSet(x); // å°äºxç»„æˆçš„set s.tailSet(x); // å¤§äºxç»„æˆçš„set s.subset(x, false, y, true); // (x, y]ç»„æˆçš„set // éå† Iterator&lt;Integer> it = s.iterator(); while(it.hasNext())&#123; // éå† int x = it.next(); // ... &#125; 7. BigInter/BigDemical å¤§æ•´æ•°/é«˜ç²¾åº¦ (ç›´æ¥æ ¹æ®è‡ªåŠ¨è¡¥å…¨åç§°ä½¿ç”¨å¯¹åº”æ–¹æ³•å³å¯) 8. Math // é™¤åŸºæœ¬çš„Math.max, min, abs, sqrt, powå¤– Math.ceil(x); // å‘ä¸Šå–æ•´ Math.floor(x); // å‘ä¸‹å–æ•´ Math.round(x); // å››èˆäº”å…¥ Math.random(); // ç”Ÿæˆ[0, 1) ä¹‹é—´çš„doubleä¼ªéšæœºæ•° Math.cos(x); Math.acos(x); Math.sin(x); Math.asin(x); Math.tan(x); Math.atan(x); // ä¸‰è§’å‡½æ•° Math.acos(-1) = pi; ok","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"java","slug":"java","permalink":"https://maskros.top/tags/java/"},{"name":"STL","slug":"STL","permalink":"https://maskros.top/tags/STL/"}]},{"title":"Use Eclipse as a Coding IDE","slug":"note/Eclipse","date":"2022-04-04T16:07:28.000Z","updated":"2022-04-06T16:58:09.881Z","comments":true,"path":"/post/note/Eclipse.html","link":"","permalink":"https://maskros.top/post/note/Eclipse.html","excerpt":"","text":"Eclipse for Lanqiao ä¸å’‹ç”¨Eclipse ä¸ºäº†å‚åŠ è“æ¡¥è®°å½•ä¸€ä¸‹ Eclipse Config 0x01 è‡ªåŠ¨è¡¥å…¨ Window --&gt; Preferences --&gt; Java --&gt; Editor --&gt; Content Assist Auto activation triggers for Java : .qwertyuiopasdfghjklzxcvbnm Disable insertion triggers except â€˜Enterâ€™ [Y] // è¡¨ç¤ºåªæœ‰å›è½¦æ—¶æ‰è§¦å‘è‡ªåŠ¨è¡¥å…¨ Project --&gt; Build Automatically å–æ¶ˆå‹¾é€‰ å…³é—­è‡ªåŠ¨ç¼–è¯‘ 0x02 æ–°å»ºæ–‡ä»¶ New --&gt; Java Project --&gt; input your project name --&gt; new package --&gt; new Class --&gt; input your Class name --&gt; public static void main(String[] args) [Y] 0x03 å¿«æ·é”® Keys Features Alt+â†‘/â†“ å°†å½“å‰è¡Œå†…å®¹å¾€ä¸Š/ä¸‹ç§»åŠ¨ Ctrl+shift+F æ ¼å¼åŒ– Ctrl+D åˆ é™¤å½“å‰è¡Œ Alt+/ ä»£ç åŠ©æ‰‹ Ctrl+/ æ³¨é‡Š Ctrl+F11 è¿è¡Œ Ctrl+Alt+â†‘/â†“ å¤åˆ¶å½“å‰è¡Œ","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"}]},{"title":"æ•°ä½dpä¸“é¢˜è®­ç»ƒ","slug":"algorithm/exercise/æ•°ä½dp_problem","date":"2022-03-23T12:30:00.000Z","updated":"2022-03-24T03:57:11.955Z","comments":true,"path":"/post/algorithm/exercise/æ•°ä½dp_problem.html","link":"","permalink":"https://maskros.top/post/algorithm/exercise/%E6%95%B0%E4%BD%8Ddp_problem.html","excerpt":"","text":"æ•°ä½dpä¸“é¢˜è®­ç»ƒ çŒ›ç»ƒï¼ 0x00 Digit link æ´›è°·æ¿å­é¢˜ é¢˜æ„ï¼šå®šä¹‰ä¸€ä¸ªæ­£æ•´æ•°çš„ä»·å€¼æ˜¯æŠŠè¿™ä¸ªæ•°çš„åè¿›åˆ¶å†™å‡ºæ¥ä¹‹åï¼Œæœ€é•¿çš„ç­‰å·®å­ä¸²çš„é•¿åº¦ã€‚ æ±‚ èŒƒå›´å†…æ•°å­—ä»·å€¼çš„æ€»å’Œã€‚ /* å®šä¹‰ä¸€ä¸ªæ­£æ•´æ•°çš„ä»·å€¼æ˜¯æŠŠè¿™ä¸ªæ•°çš„åè¿›åˆ¶å†™å‡ºæ¥ä¹‹åï¼Œæœ€é•¿çš„ç­‰å·®å­ä¸²çš„é•¿åº¦ã€‚ æ±‚[l,r]èŒƒå›´å†…æ•°å­—ä»·å€¼çš„æ€»å’Œã€‚ */ #include&lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; int T, n, m, len, a[20]; ll l, r, dp[20][15][25][25][20]; ll dfs(int pos, int pre, ll st, ll sum, int d, int lead, int limit) //posæœåˆ°çš„ä½ç½® //preå‰ä¸€ä½æ•° //stå½“å‰å…¬å·®æœ€å¤§å·®å€¼ //sumæ•´ä¸ªæ•°å­—çš„æœ€å¤§ä»·å€¼ //då…±å·® //leadåˆ¤æ–­æ˜¯å¦æœ‰å‰å¯¼0 //limitåˆ¤æ–­æ˜¯å¦æœ‰æœ€é«˜ä½é™åˆ¶ { if (pos &gt; len) return sum; //dpç»“æŸ //è®°å½•çŠ¶æ€ï¼ˆè®¡åˆ’æœç´¢ï¼‰ //æ³¨æ„dæœ‰è´Ÿæ•°ï¼Œæœ€å°å¯ä»¥åˆ°-9ï¼Œæ‰€ä»¥è®°å½•æ—¶æ•°ç»„ä¸‹æ ‡æ˜¯d+10 if ((dp[pos][pre][st][sum][d + 10] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][st][sum][d + 10]; ll ret = 0; int res = limit ? a[len - pos + 1] : 9; //æœ€é«˜ä½æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { //æœ‰å‰å¯¼0ä¸”è¿™ä½ä¹Ÿæ˜¯å‰å¯¼0ï¼Œä¸€åˆ‡ä¸å˜åªæœ‰ä½æ•°å˜åŒ– if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 0, -38, 1, limit &amp;&amp; (i == res)); //æœ‰å‰å¯¼0ä½†è¿™ä½ä¸æ˜¯å‰å¯¼0ï¼ˆè¿™ä½æ˜¯æ•°å­—çš„æœ€é«˜ä½ï¼‰å¼€å§‹æœ‰å‰ä¸€ä½ï¼Œä¸€ä¸ªæ•°å½¢æˆç­‰å·®æ•°åˆ— else if (i &amp;&amp; lead) ret += dfs(pos + 1, i, 1, 1, -38, 0, limit &amp;&amp; (i == res)); //ä¹‹å‰åˆšæœåˆ°1ä½è¿˜æ²¡æœ‰å…±å·®ï¼Œä¸¤ä½æ•°å½¢æˆç­‰å·®æ•°åˆ—ï¼Œè®°å½•å…±å·® else if (d &lt; -9) ret += dfs(pos + 1, i, 2ll, 2ll, i - pre, 0, limit &amp;&amp; (i == res)); //æœåˆ°2ä½ä»¥åï¼Œå…±å·®è‹¥ä¸å‰ä¸¤ä½ç›¸åŒå½“å‰ç­‰å·®æ•°åˆ—é•¿åº¦å¢åŠ ï¼Œè‹¥å…¬å·®å˜åŒ–åˆ™æ›´æ–°æ•´ä¸ªæ•°å­—çš„æœ€å¤§ä»·å€¼ï¼Œç­‰å·®æ•°åˆ—é•¿åº¦åˆå˜ä¸º2 else if (d &gt;= -9) ret += dfs(pos + 1, i, (i - pre == d) ? st + 1 : 2, max(sum, (i - pre == d) ? st + 1 : 2), (i - pre == d) ? d : i - pre, 0, limit &amp;&amp; (i == res)); } //æ²¡æœ‰å‰å¯¼0å’Œæœ€é«˜é™åˆ¶æ—¶å¯ä»¥ç›´æ¥è®°å½•å½“å‰dpå€¼ä»¥ä¾¿ä¸‹æ¬¡æœåˆ°åŒæ ·çš„æƒ…å†µå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ return (!limit &amp;&amp; !lead) ? dp[pos][pre][st][sum][d + 10] = ret : ret; } ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof(dp)); return dfs(1, 0, 0, 0, -38, 1, 1); //-38æ˜¯éšä¾¿èµ‹çš„å…¶å®èµ‹æˆ-10å°±è¡Œäº†â€¦â€¦ } int main() { cin &gt;&gt; T; while (T--) { cin &gt;&gt; l &gt;&gt; r; //læ˜¯0çš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„ï¼ if(l) cout &lt;&lt; (part(r) - part(l - 1)) &lt;&lt; '\\n'; else cout &lt;&lt; part(r) - part(l) + 1 &lt;&lt; '\\n'; } return 0; } 0x01 HDU2089 ä¸è¦62 link é¢˜æ„ï¼š å…¥é—¨é¢˜ï¼Œç»Ÿè®¡åŒºé—´å†…ä¸å«4æˆ–62çš„æ•°å­—ä¸ªæ•° int a[10], len; ll l, r; ll dp[15][15]; ll dfs(int pos, int pre, int lead, int limit) { if (pos &gt; len) return 1; //å‰ªæ if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { if (i == 4) continue; //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0 if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit); //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½ else { if (i == 2 &amp;&amp; pre == 6) continue; ret += dfs(pos + 1, i, 0, i == res &amp;&amp; limit); } } if (!limit &amp;&amp; !lead) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } //æŠŠæ•°æŒ‰ä½æ‹†åˆ† ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ } int main() { while(cin &gt;&gt; l &gt;&gt; r) { if(!l &amp;&amp; !r) break; cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n'; } } 0x02 æ•°ä½å°å­© link é¢˜æ„ï¼š ç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªæ•°åŒæ—¶æ»¡è¶³ï¼šæ¯ç›¸é‚»ä¸¤ä¸ªæ•°ä½å’Œä¸ºç´ æ•°ï¼Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªæ•°ä½ä¸º1ï¼Œä¸”æ²¡æœ‰å‰å¯¼0 int a[20], len; ll l, r; bool prime[25]; ll dp[20][20]; ll dfs(int pos, int pre, bool one, int lead, int limit) //è®°æœ { if (pos &gt; len) if (one) return 1; else return 0; //å‰ªæ if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead) &amp;&amp; one)) return dp[pos][pre]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { bool nextone = one; if (i == 1 || pre == 1) nextone = 1; //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0 if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit); //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½ if (i &amp;&amp; lead) ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit); // else else { if (!prime[i + pre]) continue; ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit); } } if (!limit &amp;&amp; !lead &amp;&amp; one) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } //æŠŠæ•°æŒ‰ä½æ‹†åˆ† ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, 0, 1, 1); //è¿›å…¥è®°æœ } void pr(int x) { prime[x] = 1; } void init() { pr(2), pr(3), pr(5), pr(7), pr(11), pr(13), pr(17), pr(19); } int main() { init(); cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n'; } 0x03 AT4540 Digit Sum link é¢˜æ„ï¼š åŒºé—´ â€‹ å†…æœ‰å¤šå°‘ä¸ªæ•°ï¼Œä½¿å¾—åè¿›åˆ¶è¡¨ç¤ºçš„æ•°å­—ä¹‹å’Œæ˜¯ D çš„å€æ•°ï¼Ÿ ç­”æ¡ˆå¯¹ 1e9 + 7 å–æ¨¡ï¼ŒK &lt; 1e10000. D &lt; 1e2 é¢˜è§£ï¼šåªéœ€ç»´æŠ¤å‰ç¼€å’Œnumå³å¯ï¼Œpreéƒ½ç”¨ä¸åˆ°ï¼Œæ³¨æ„è¾“å…¥æ•°å­—è¾ƒå¤§ï¼Œçˆ†longlongè¦ç”¨stringç¿»è½¬å¤„ç†ï¼Œ(å¼€å§‹æ²¡ç¿»è½¬è¿‡æ¥waäº†åŠå¤©â€¦) int a[maxn], len; ll l, r, D; ll dp[maxn][115]; ll dfs(int pos, int num, int lead, int limit) { if (pos &gt; len) return num == 0; //å‰ªæ if ((dp[pos][num] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][num] % mod; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { int num_ = (num + i) % D; //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0 if ((!i) &amp;&amp; lead) ret = (ret + dfs(pos + 1, num_, 1, i == res &amp;&amp; limit) % mod) % mod; //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½ else if (i &amp;&amp; lead) ret = (ret + dfs(pos + 1, num_, 0, i == res &amp;&amp; limit) % mod) % mod; else { ret = (ret + dfs(pos + 1, num_, 0, i == res &amp;&amp; limit) % mod) % mod; } } if (!limit &amp;&amp; !lead) dp[pos][num] = ret % mod; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret % mod; } ll part(string x) { len = x.size(); // reverse for (int i = 0; i &lt; x.size(); i++) { a[len - i] = x[i] - '0'; } memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ } int main() { string s; cin &gt;&gt; s; cin &gt;&gt; D; cout &lt;&lt; (part(s) - part(\"0\") + mod) % mod &lt;&lt; '\\n'; } 0x04 SAC#1 - èŒæ•° link é¢˜æ„ï¼š åªæœ‰æ»¡è¶³â€œå­˜åœ¨é•¿åº¦è‡³å°‘ä¸º2çš„å›æ–‡å­ä¸²â€çš„æ•°æ˜¯èŒçš„ï¼Œæ±‚åŒºé—´å†…èŒæ•°çš„ä¸ªæ•°ã€‚ é¢˜è§£ï¼š æ­£éš¾åˆ™åï¼Œå½“ä¸€ä¸ªæ•°çš„ä»»æ„ä¸€ä½éƒ½ä¸å’Œå‰ä¸¤ä½çš„æ•°å­—ç›¸åŒæ—¶ï¼Œè¿™ä¸ªæ•°å°±ä¸å«å›æ–‡ä¸² æ•…dp[pos][pre][ppre]ï¼Œpreè¡¨ç¤ºä¸Šä¸€ä½ï¼Œppreè¡¨ç¤ºä¸ŠäºŒä½çš„æ•°å­—ã€‚ ä½†æ˜¯ç”±äºè¾“å…¥èŒƒå›´è¶…è¿‡llï¼Œæ‰€ä»¥éœ€è¯»å…¥stringï¼Œå¹¶ä¸”ç”¨æ€»é•¿åº¦å‡å»dpæ±‚å¾—çš„æ–¹æ¡ˆæ•°ã€‚ åœ¨è¿™é‡Œæ²¡æœ‰æ›´åŠ ç®€æ´ä¼˜åŒ–è‡ªå·±çš„ä»£ç ï¼Œå†™äº†ä¸ªä¸‘é™‹çš„å¤§æ•°å‡æ³•ï¼Œè™½ç„¶ACäº†ä½†æ˜¯å¾…ä¼˜åŒ–ã€ã€ ä¼˜åŒ–ç»†èŠ‚ï¼š ç”±äºç­”æ¡ˆæ˜¯ sum[r] - sum[l - 1] é‚£ä¹ˆå¯¹äº ï¼šéœ€è¦å†™é«˜ç²¾åº¦å‡æ³•å—ï¼Ÿ ä¸ç”¨ã€‚ç›´æ¥æ±‚sum[r] å’Œ sum[l] ç„¶åç‰¹åˆ¤ä¸€ä¸‹ è¿™ä¸ªå·¦è¾¹ç•Œæ˜¯å¦åˆæ³•å°±è¡Œã€‚ ç”±äºæ­£éš¾åˆ™åï¼Œå–è¡¥é›†ï¼Œéœ€è¦ä½¿ç”¨ å†å‡å»ç­”æ¡ˆï¼Œéœ€è¦å†™é«˜ç²¾åº¦å—ï¼Ÿ ä¸ç”¨ã€‚ç›´æ¥å¯¹ å’Œ å–æ¨¡ç„¶åç›¸å‡ï¼Œå¾—å‡ºçš„ç»“æœä¸ ä¸€è‡´ã€‚ string l, r; int len, a[maxn]; int dp[maxn][15][15]; // pos pre ppre ll dfs(int pos, int pre, int ppre, int lead, int limit) { if (pos &gt; len) return 1; //å‰ªæ if ((dp[pos][pre][ppre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][ppre] % mod; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { if ((!i) &amp;&amp; lead) ret = (ret + dfs(pos + 1, 0, -1, 1, i == res &amp;&amp; limit) % mod) % mod; else if (i &amp;&amp; lead) ret = (ret + dfs(pos + 1, i, -1, 0, i == res &amp;&amp; limit) % mod) % mod; else { if (pre == ppre || i == pre || i == ppre) continue; ret = (ret + dfs(pos + 1, i, pre, 0, i == res &amp;&amp; limit) % mod) % mod; } } if (!limit &amp;&amp; !lead) dp[pos][pre][ppre] = ret % mod; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret % mod; } ll part(string x, bool flag) { len = x.size(); rep(i, 0, len) { a[len - i] = x[i] - '0'; } if(flag) { if(len == 1 &amp;&amp; a[1] == 0) { a[1] = 0; } else { int idx = 1; while (idx &lt;= len) { if(a[idx] &gt; 0) { a[idx]--; break; } else a[idx] = 9, idx++; } } } memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, -1, 1, 1); //è¿›å…¥è®°æœ } // y - x + 1 int ret[maxn]; ll calc(string x, string y) { int lead = 1; int leny = y.size(), lenx = x.size(); if(lenx == 1 &amp;&amp; x[0] == '0') lead = 0; rep(i, 1, lenx + 1) { int tmp = y[leny - i] - '0' - (x[lenx - i] - '0') + lead; if(tmp &gt;= 10) { lead = 1; tmp = tmp % 10; } else if(tmp &lt; 0) { lead = -1; tmp = tmp + 10; } else lead = 0; ret[i] = tmp; } rep(i, lenx + 1, leny + 1) { int tmp = y[leny - i] - '0' + lead; if(tmp &gt;= 10) { lead = 1; tmp = tmp % 10; } else if(tmp &lt; 0) { lead = -1; tmp = tmp + 10; } ret[i] = tmp; } ll ans = 0; red(i, leny + 1, 1) { ans = (ans * 10 % mod + ret[i]) % mod; } return ans; } signed main() { cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; (calc(l, r) - (part(r, 0) - part(l, 1) + mod) % mod + mod) % mod &lt;&lt; '\\n'; } 0x05 [ZJOI2010]æ•°å­—è®¡æ•° link é¢˜æ„ï¼šç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´å†…æ¯ä¸ªæ•°å„ä½æ•°å­—å‡ºç°çš„æ¬¡æ•° æ€è·¯ï¼šå¯¹0~9æ¯ä¸ªæ•°å­—å•ç‹¬è®°æœ #define int ll ll l, r; int len, a[20]; int dp[20][20]; // pos int num = 0; ll dfs(int pos, int cnt, int lead, int limit) { if (pos &gt; len) return cnt;//å‰ªæ if ((dp[pos][cnt] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][cnt]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { // ret += dfs(pos + 1, cnt + ((i == num) &amp;&amp; (i || !lead)), lead &amp;&amp; (i == 0), i == res &amp;&amp; limit); int cnt_ = (i == num) ? cnt + 1 : cnt; if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit); else if (i &amp;&amp; lead) ret += dfs(pos + 1, cnt_, 0, i == res &amp;&amp; limit); else ret += dfs(pos + 1, cnt_, 0, i == res &amp;&amp; limit); } if (!limit &amp;&amp; !lead) dp[pos][cnt] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ } signed main() { cin &gt;&gt; l &gt;&gt; r; while(num &lt;= 9) cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; ' ', num++; } 0x06 [AHOI2009] åŒç±»åˆ†å¸ƒ link é¢˜æ„ï¼šç»Ÿè®¡åŒºé—´å†…æ¯ä¸ªæ•°å„ä½æ•°å­—ä¹‹å’Œèƒ½æ•´é™¤åŸæ•°çš„æ•°çš„ä¸ªæ•°ï¼Œl, r &lt; 1e18 æ€è·¯ï¼š æ¨¡æ•°å°±æ˜¯å„ä½æ•°å­—ä¹‹å’Œã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆç¡®å®šè¿™ä¸ªå€¼å†æœã€‚å¯ä»¥æšä¸¾å„ä½æ•°å­—ä¹‹å’Œã€‚é‚£ä¹ˆæœ€åçš„æƒ…å†µå°±æ˜¯10^18-1ï¼Œå„ä½æ•°å­—å’Œä¸º17 * 9=153ï¼Œæ‰€ä»¥æˆ‘ä»¬æšä¸¾153æ¬¡å³å¯ã€‚ dpæ•°ç»„ç»´æŠ¤å„ä½æ•°å­—ä¹‹å’Œd, ä»¥åŠæ•°å­—å¯¹modå–æ¨¡çš„å€¼sumå³å¯ï¼Œå‰ªææ¡ä»¶ä¸º d == mod &amp;&amp; sum == 0 #define int ll ll l, r; int len, a[25]; int dp[25][180][180]; // pos sum d int mod; ll dfs(int pos, int sum, int d, int lead, int limit) { if (pos &gt; len) return d == mod &amp;&amp; sum == 0;//å‰ªæ if ((dp[pos][sum][d] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][sum][d]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { if(d + i &gt; mod) break; if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit); else if (i &amp;&amp; lead) ret += dfs(pos + 1, i % mod, i, 0, i == res &amp;&amp; limit); else ret += dfs(pos + 1, (sum * 10 + i) % mod, d + i, 0, i == res &amp;&amp; limit); } if (!limit &amp;&amp; !lead) dp[pos][sum][d] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; ll ans = 0; rep(i, 1, 9 * len + 1) { memset(dp, -1, sizeof dp); mod = i; ans += dfs(1, 0, 0, 1, 1); } return ans; } signed main() { cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; part(r) - part(max(0ll, l - 1)); } 0x07 P4317 èŠ±ç¥çš„æ•°è®ºé¢˜ link é¢˜æ„ï¼š è¡¨ç¤º çš„äºŒè¿›åˆ¶ä¸­ çš„ä¸ªæ•°ï¼Œç»™å®š , æ±‚ä» åˆ° , çš„ä¹˜ç§¯ã€‚å¯¹ 1e7 + 7 å–æ¨¡ï¼ŒN &lt; 1e15 æ€è·¯ï¼š å°† æŒ‰ç…§äºŒè¿›åˆ¶å­˜å‚¨ï¼Œæ ¹æ®èŒƒå›´1e15å¯çŸ¥ï¼Œä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶æœ‰50ä½1ï¼Œäºæ˜¯æˆ‘ä»¬æšä¸¾1çš„ä¸ªæ•°ï¼Œdp[pos][cnt] ç»´æŠ¤1çš„ä¸ªæ•°cntï¼Œå‰ªææ—¶cnt=æšä¸¾ä¸ªæ•°å³å¯è¿”å›è®¡æ•°ã€‚å¯¹æšä¸¾çš„æ¯ç§æƒ…å†µè¿›è¡Œè®¡æ•°ç”¨ksmä¹˜å³å¯ã€‚ ll qpow(ll a, ll b) { ll ans = 1; for (; b; b &gt;&gt;= 1) { if (b &amp; 1) ans = ans * a % mod; a = a * a % mod; } return ans; } ll l, r; int len, a[70], tmp; int dp[70][70]; // pos cnt ll dfs(int pos, int cnt, int lead, int limit) { if (pos &gt; len) return cnt == tmp; if ((dp[pos][cnt] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][cnt]; ll ret = 0; int res = limit ? a[len - pos + 1] : 1; for (int i = 0; i &lt;= res; i++) { if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit); else if (i &amp;&amp; lead) ret += dfs(pos + 1, i == 1, 0, i == res &amp;&amp; limit); else ret += dfs(pos + 1, (i == 1) + cnt, 0, i == res &amp;&amp; limit); } if (!limit &amp;&amp; !lead) dp[pos][cnt] = ret; return ret; } ll part(ll x) { len = 0; while (x) a[++len] = x &amp; 1 ? 1 : 0, x /= 2; ll ans = 1; rep(i, 1, 70) { tmp = i; memset(dp, -1, sizeof dp); int fuck = dfs(1, 0, 1, 1); ans = ans * qpow(i, fuck) % mod; } return ans; } signed main() { cin &gt;&gt; r; cout &lt;&lt; part(r); }","categories":[{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","permalink":"https://maskros.top/categories/ALGORITHM-TRAINING/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"dfs","slug":"dfs","permalink":"https://maskros.top/tags/dfs/"}]},{"title":"æ•°ä½dp","slug":"algorithm/learn/æ•°ä½dp","date":"2022-03-17T15:00:00.000Z","updated":"2022-07-13T09:05:23.671Z","comments":true,"path":"/post/algorithm/learn/æ•°ä½dp.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/%E6%95%B0%E4%BD%8Ddp.html","excerpt":"æ•°ä½dp æ•°ä½dpæ˜¯åœ¨èŒƒå›´å†…æŒ‰ä½é€’æ¨å‡ºæœ€å¤§å€¼çš„å¿«æ·ç®—æ³•ï¼Œç”±äºæ˜¯æŒ‰ä½dpï¼Œæ‰€ä»¥æ•°çš„å¤§å°å¯¹å¤æ‚åº¦å½±å“å¾ˆå° ref: blog in luogu å¯¼ ç»å…¸é¢˜é¢ï¼š æ±‚å‡ºä¸€æ®µåŒºé—´ ä¸­ï¼Œæ»¡è¶³æŸä¸€ç‰¹æ®Šæ¡ä»¶çš„æ•°æœ‰å¤šå°‘ä¸ªï¼Œæ¡ä»¶ä¸€èˆ¬ä¸æ•°çš„å¤§å°æ— å…³è€Œä¸æ•°å­—çš„ç»„æˆæœ‰å…³ æ•°ä½dpè¾ƒæ™®é€šdpæ¯”è¾ƒå†·é—¨ï¼Œä½†æ˜¯ä¸ä¼šå†™å°±åªèƒ½æš´åŠ›éª—åˆ† = = æ³¨ï¼šL, R å·¨å¤§çˆ†longlongæ—¶è¦ç”¨å­—ç¬¦ä¸²å¤„ç† æ³¨ï¼šç”±äºæœç´¢çš„é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®é¢˜æ„è€ƒè™‘æšä¸¾æ¯ç§æƒ…å†µååˆ†åˆ«è¿›è¡Œè®°æœè®¡æ•°ï¼Œæœ€åå†æ±‡æ€»ã€‚","text":"æ•°ä½dp æ•°ä½dpæ˜¯åœ¨èŒƒå›´å†…æŒ‰ä½é€’æ¨å‡ºæœ€å¤§å€¼çš„å¿«æ·ç®—æ³•ï¼Œç”±äºæ˜¯æŒ‰ä½dpï¼Œæ‰€ä»¥æ•°çš„å¤§å°å¯¹å¤æ‚åº¦å½±å“å¾ˆå° ref: blog in luogu å¯¼ ç»å…¸é¢˜é¢ï¼š æ±‚å‡ºä¸€æ®µåŒºé—´ ä¸­ï¼Œæ»¡è¶³æŸä¸€ç‰¹æ®Šæ¡ä»¶çš„æ•°æœ‰å¤šå°‘ä¸ªï¼Œæ¡ä»¶ä¸€èˆ¬ä¸æ•°çš„å¤§å°æ— å…³è€Œä¸æ•°å­—çš„ç»„æˆæœ‰å…³ æ•°ä½dpè¾ƒæ™®é€šdpæ¯”è¾ƒå†·é—¨ï¼Œä½†æ˜¯ä¸ä¼šå†™å°±åªèƒ½æš´åŠ›éª—åˆ† = = æ³¨ï¼šL, R å·¨å¤§çˆ†longlongæ—¶è¦ç”¨å­—ç¬¦ä¸²å¤„ç† æ³¨ï¼šç”±äºæœç´¢çš„é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®é¢˜æ„è€ƒè™‘æšä¸¾æ¯ç§æƒ…å†µååˆ†åˆ«è¿›è¡Œè®°æœè®¡æ•°ï¼Œæœ€åå†æ±‡æ€»ã€‚ åŸºæœ¬åŸç† é€šè¿‡è®°å¿†åŒ–æœç´¢æ¥å®ç°åŠ¨æ€è§„åˆ’ï¼Œç›¸æ¯”æ­£é¢é€’æ¨åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´ç®€æ´ã€‚ 0X01 è®°å¿†åŒ–æœç´¢ ä»èµ·ç‚¹å‘ä¸‹æœç´¢ï¼Œåˆ°æœ€åº•å±‚å¾—åˆ°æ–¹æ¡ˆæ•°ï¼Œä¸€å±‚ä¸€å±‚å‘ä¸Šè¿”å›ç­”æ¡ˆç´¯åŠ ï¼Œæœ€ç»ˆä»æœç´¢èµ·ç‚¹å¾—åˆ°æœ€ç»ˆç­”æ¡ˆã€‚ å¯¹äºåŒºé—´ , ä¸€èˆ¬è½¬åŒ–æˆä¸¤æ¬¡æ•°ä½dpï¼Œå³æ‰¾ å’Œ ä¸¤æ®µï¼Œç»“æœç›¸å‡å³å¯ã€‚ 0x02 çŠ¶æ€è®¾è®¡ è€ƒè™‘åœ¨å“ªä¸€å±‚ï¼Œåˆ¤æ–­å½“å‰çš„çŠ¶æ€ æ•°ä½dpçš„çŠ¶æ€èƒ½è®°å½•çš„æœ€å¥½éƒ½è®°å½•ä¸Š dfs()å‡½æ•°çš„ä¸€äº›å‚é‡ï¼š æ•°å­—ä½æ•° , è®°å½•ç­”æ¡ˆçš„ , æœ€é«˜ä½é™åˆ¶ åˆ¤æ–­å‰å¯¼0çš„æ ‡è®° ç”±äºæ•°ä½dpè§£å†³çš„å¤§å¤šæ˜¯æ•°å­—ç»„æˆé—®é¢˜ï¼Œæ‰€ä»¥ç»å¸¸è¦æ¯”è¾ƒå½“å‰ä½å’Œå‰ä¸€ä½æˆ–å‰å‡ ä½çš„å…³ç³»ï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨ dfs() ä¸­ä¹Ÿè¦è®°å½•å‰ä¸€ä½æˆ–å‰å‡ ä½æ•° â€‹ å‚é‡è§£é‡Šï¼š å‰å¯¼0æ ‡è®° æœ‰çš„æ—¶å€™å‰å¯¼0ä¸éœ€è¦åˆ¤æ–­ï¼Œæ ¹æ®é¢˜æ„å³å¯ ç”±äºæˆ‘ä»¬è¦æœçš„æ•°å¯èƒ½å¾ˆé•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›´æ¥æœ€é«˜ä½æœèµ· ä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚æˆ‘ä»¬è¦ä»æ‰¾ä»»æ„ç›¸é‚»ä¸¤æ•°ç›¸ç­‰çš„æ•° æ˜¾ç„¶ç­‰ç­‰æ˜¯ç¬¦åˆé¢˜æ„çš„æ•° ä½†æ˜¯æˆ‘ä»¬å‘ç°å³ç«¯ç‚¹æ˜¯å››ä½æ•° å› æ­¤æˆ‘ä»¬æœç´¢çš„èµ·ç‚¹æ˜¯ï¼Œè€Œä¸‰ä½æ•°çš„è®°å½•éƒ½æ˜¯ç­‰ç­‰ è€Œè¿™ç§æƒ…å†µä¸‹å¦‚æœæˆ‘ä»¬ç›´æ¥æ‰¾ç›¸é‚»ä½ç›¸ç­‰åˆ™ç¬¦åˆé¢˜æ„è€Œéƒ½ä¸ç¬¦åˆé¢˜æ„äº† æ‰€ä»¥æˆ‘ä»¬è¦åŠ ä¸€ä¸ªå‰å¯¼0æ ‡è®°ï¼š å½“å‰ä½ = 1 ä¸”å½“å‰ä½ç½®ä¸º0ï¼Œé‚£ä¹ˆå½“å‰ä½ç½®ä¹Ÿæ˜¯å‰å¯¼0ï¼Œä½¿ + 1 ç»§ç»­æœ å½“å‰ä½ = 1 ä½†å½“å‰ä½ä¸æ˜¯0ï¼Œé‚£ä¹ˆæœ¬ä½ä¸ºå½“å‰æ•°å­—çš„æœ€é«˜ä½ï¼Œ + 1 ç»§ç»­æœ æœ€é«˜ä½æ ‡è®° æˆ‘ä»¬çŸ¥é“åœ¨æœç´¢çš„æ•°ä½æœç´¢èŒƒå›´å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼› ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬åœ¨æœç´¢ çš„æ•°æ—¶ï¼Œæ˜¾ç„¶æœ€é«˜ä½æœç´¢èŒƒå›´æ˜¯ ~ ï¼Œè€Œåé¢çš„ä½æ•°çš„å–å€¼èŒƒå›´ä¼šæ ¹æ®ä¸Šä¸€ä½å‘ç”Ÿå˜åŒ–ï¼šå½“æœ€é«˜ä½æ˜¯ ~ æ—¶ï¼Œç¬¬äºŒä½å–å€¼ä¸º ; å½“æœ€é«˜ä½æ˜¯ æ—¶ï¼Œç¬¬äºŒä½å–å€¼ä¸º ï¼ˆå†å¾€ä¸Šå–å°±è¶…å‡ºå³ç«¯ç‚¹èŒƒå›´äº†ï¼‰ ä¸ºäº†åˆ†æ¸…è¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¼•å…¥äº† æ ‡è®°ï¼š å½“å‰ä½ = 1 è€Œä¸”å·²ç»å–åˆ°äº†èƒ½å–åˆ°çš„æœ€é«˜ä½æ—¶ï¼Œä¸‹ä¸€ä½ = 1ï¼› å½“å‰ä½ = 1 ä½†æ˜¯æ²¡æœ‰å–åˆ°èƒ½å–åˆ°çš„æœ€é«˜ä½æ—¶ï¼Œä¸‹ä¸€ä½ = 0ï¼› å½“å‰ä½ = 0 åˆ™ä¸‹ä¸€ä½ä¹Ÿä¸º0ã€‚ æˆ‘ä»¬è®¾è¿™ä¸€ä½çš„æ ‡è®°ä¸º ï¼Œè¿™ä¸€ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ä¸º ï¼Œåˆ™ä¸‹ä¸€ä½çš„æ ‡è®°å°±æ˜¯ i == res &amp;&amp; limit ( â€‹ æšä¸¾è¿™ä¸€ä½å¡«çš„æ•°) 0x03 dp æ•°ä½dpåœ¨è®°å¿†åŒ–æœç´¢çš„æ¡†æ¶ä¸‹è¿›è¡Œï¼Œæ¯æ‰¾åˆ°ä¸€ç§æƒ…å†µæˆ‘ä»¬å°±å°†è¿™ç§æƒ…å†µè®°å½•ä¸‹æ¥ï¼Œç­‰åˆ°åé¢æœåˆ°ç›¸åŒæƒ…å†µæ—¶ç›´æ¥ä½¿ç”¨å½“å‰è®°å½•çš„å€¼å³å¯ã€‚ dpæ•°ç»„çš„ä¸‹æ ‡ï¼šè¡¨ç¤ºä¸€ç§çŠ¶æ€ã€‚åªè¦å½“å‰çŠ¶æ€å’Œä¹‹å‰æœè¿‡çš„æŸä¸ªçŠ¶æ€å®Œå…¨ä¸€æ ·ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›åŸæ¥å·²ç»è®°å½•ä¸‹çš„dpå€¼ã€‚ é‡è¦çš„ä¾‹å­ï¼š åŒºé—´ï¼š æœåˆ° æ—¶ï¼Œdfsä»ä¸‹è¿”å›ä¸Šæ¥çš„æ•°å€¼å°±æ˜¯ å½“å‰ä½æ˜¯ç¬¬5ä½ï¼Œå‰ä¸€ä½æ˜¯0çš„æ–¹æ¡ˆæ•°ï¼Œæœå®Œä¹‹åè®°å½•æ–¹æ¡ˆæ•°å­—ã€‚ å½“æœåˆ° æ—¶ï¼Œå°±å‘ç°å½“å‰çŠ¶æ€ä¸€æ ·æ˜¯ æœåˆ°ç¬¬5ä½ï¼Œä¸”å‰ä¸€ä½æ˜¯0ï¼Œä¸ä¹‹å‰è®°å½•æƒ…å†µå®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥å°±ä¸ç”¨å‘ä¸‹æœï¼Œç›´æ¥è¿”å›ä¸Šæ¬¡dpå€¼å³å¯ã€‚ å¦‚æœæœåˆ° ï¼Œä¸èƒ½ç›´æ¥è¿”å›å½“å‰ä½æ˜¯ç¬¬5ä½ï¼Œå‰ä¸€ä½æ˜¯4çš„dpå€¼ã€‚ å› ä¸ºè¿™ä¸ªçŠ¶æ€çš„dpå€¼è¢«è®°å½•æ—¶ï¼Œå½“å‰ä½ä¹Ÿå°±æ˜¯ç¬¬5ä½çš„å–å€¼æ˜¯ ï¼Œè€Œè¿™æ¬¡å½“å‰ä½çš„å–å€¼æ˜¯â€‹ï¼Œæ–¹æ¡ˆæ•°ä¸€å®šæ¯”ä¹‹å‰è®°å½•çš„dpå€¼è¦å°ã€‚å½“å‰ = 1, æœ€é«˜ä½æœ‰å–å€¼çš„é™åˆ¶ã€‚ ç»“è®ºï¼š å½“ = 1æ—¶ï¼Œä¸èƒ½è®°å½•å’Œå–ç”¨dpå€¼ï¼ŒåŒç† = 1 æ—¶ä¹Ÿä¸è¡Œã€‚ æ¿å­ ll dfs(int pos, int pre, int st, â€¦â€¦, int lead, int limit) //è®°æœ { if (pos &gt; len) return st; //å‰ªæ if ((dp[pos][pre][st]â€¦â€¦[â€¦â€¦] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][st]â€¦â€¦[â€¦â€¦]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0 if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, â€¦â€¦, 1, i == res &amp;&amp; limit); //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½ else if (i &amp;&amp; lead) ret += dfs(pos + 1, i, â€¦â€¦, 0, i == res &amp;&amp; limit); else if (æ ¹æ®é¢˜æ„è€Œå®šçš„åˆ¤æ–­) ret += dfs(â€¦â€¦, â€¦â€¦, 0, i == res &amp;&amp; limit); } if (!limit &amp;&amp; !lead) dp[pos][pre][st]â€¦â€¦[â€¦â€¦] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } ll part(ll x)//æŠŠæ•°æŒ‰ä½æ‹†åˆ† { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, â€¦â€¦, â€¦â€¦, 1, 1); //è¿›å…¥è®°æœ } int main() { cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n'; return 0; } é¢˜å• solution 0x00 Digit link 0x01 HDU2089 ä¸è¦62 link 0x02 æ•°ä½å°å­© link 0x03 AT4540 Digit Sum link 0x04 SAC#1 - èŒæ•° link 0x05 [ZJOI2010]æ•°å­—è®¡æ•° link 0x06 [AHOI2009] åŒç±»åˆ†å¸ƒ link 0x07 P4317 èŠ±ç¥çš„æ•°è®ºé¢˜ link","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥5","slug":"nowcoder/2022winter/round5","date":"2022-03-16T15:30:50.000Z","updated":"2022-03-24T06:42:24.884Z","comments":true,"path":"/post/nowcoder/2022winter/round5.html","link":"","permalink":"https://maskros.top/post/nowcoder/2022winter/round5.html","excerpt":"","text":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥5 è¡¥ä¸€ä¸‹æ‰“çš„æœ€çƒ‚çš„ä¸€åœº A ç–«è‹—å°å­© (äºŒåˆ†) é¢˜æ„ï¼š ç»™å®šé•¿ä¸º n çš„01ä¸²ï¼Œ0è¡¨ç¤ºå¯ä»¥æ‰“ç–«è‹—ï¼Œæœ€å¤šå¯ä»¥æ‰“ä¸‰é’ˆï¼Œæ¯ä¸¤é’ˆç›¸å·®kå¤©æ—¶å¯ä»¥è´¡çŒ®wï¼Œæ¯å¤šç›¸å·®xå¤©æˆ–è€…å°‘ç›¸å·®xå¤©ï¼Œè´¡çŒ®éƒ½ä¼šå‡å°‘ä¸º w-q*xï¼Œé—®æœ€å¤§è´¡çŒ®æ˜¯å¤šå°‘ æ€è·¯ï¼š å¯ä»¥å‘ç°1é’ˆå’Œ0é’ˆçš„è´¡çŒ®éƒ½ä¸º0ï¼Œæ‰€ä»¥ç›´æ¥è€ƒè™‘2é’ˆåŠä»¥ä¸Šçš„æƒ…å†µ æšä¸¾ç¬¬äºŒé’ˆæ‰€åœ¨çš„ä½ç½®posï¼ŒäºŒåˆ†æ‰¾åˆ°ç¦» pos+k å’Œ pos-k æœ€è¿‘çš„ä¸¤ä¸ªç‚¹è®¡ç®—æœ€å¤§è´¡çŒ®å³å¯ ä½¿ç”¨ lower_bound å‡½æ•°ï¼Œ å¤æ‚åº¦ #define int ll int a[maxn]; void solve() { int n; cin &gt;&gt; n; int cnt = 0; rep(i, 1, n + 1) { char t; cin &gt;&gt; t; if(t == '0') a[++cnt] = i; } int k, w, q; cin &gt;&gt; k &gt;&gt; w &gt;&gt; q; int ans = 0; rep(i, 2, cnt + 1) { // first &gt;= int pos1 = lower_bound(a + 1, a + cnt + 1, a[i] - k) - a; int pos2 = lower_bound(a + 1, a + cnt + 1, a[i] + k) - a; int mn1 = min(abs(a[i] - k - a[pos1]), abs(a[i] - k - a[max(1ll, pos1 - 1)])); int mn2 = min(abs(a[i] + k - a[pos2]), abs(a[i] + k - a[max(1ll, pos2 - 1)])); int tmp1 = max(0ll, w - q * mn1), tmp2 = max(0ll, w - q * mn2); if(i == cnt) tmp2 = 0; ans = max(ans, tmp1 + tmp2); } cout &lt;&lt; ans; } *C æˆ˜æ——å°å­© (äºŒè¿›åˆ¶æšä¸¾) é¢˜æ„ï¼š n, k, s è¡¨ç¤ºæ¸¸æˆå±€æ•°ï¼Œå¯ä»¥è·å¾—é¢å¤–æœºä¼šçš„æ¬¡æ•°å’Œèµ·å§‹åˆ†æ•°ï¼Œéšåä¸€è¡Œ n ä¸ªæ•° pi ä¸ºæ¯ä¸€å±€ç»“æŸåçš„ä¸€ä¸ªç‰¹å®šåˆ†æ•°ï¼Œå¦‚æœè¯¥å±€ç»“æŸååˆ†æ•°å¤§äºç­‰äºè¯¥ç‰¹å®šåˆ†æ•°ï¼Œå°±é«˜å…´ä¸€æ¬¡ï¼Œpi é¡ºåºä¸èƒ½æ”¹å˜ã€‚æ¥ä¸‹æ¥ n è¡Œä¸ºæ¯å±€ç»“æŸååˆ†æ•°çš„å˜åŒ–deltaå’Œå¦‚æœæ˜¯ç”¨é¢å¤–æœºä¼šåˆ†æ•°çš„å˜åŒ–deltaã€‚å¯ä»¥å˜æ¢ n å±€æ¸¸æˆçš„é¡ºåºï¼Œé—®æœ€å¤šèƒ½é«˜å…´å‡ æ¬¡ã€‚ 0= &lt; k &lt; n &lt;= 20 æ€è·¯ï¼š ç”±äº n å¾ˆå°ï¼Œé‡‡ç”¨äºŒè¿›åˆ¶æšä¸¾ï¼Œ1çš„ä¸ªæ•°ä¸ºä½¿ç”¨é¢å¤–æœºä¼šçš„æ¬¡æ•°ï¼Œå¤„ç†ä¸€ä¸‹æ¯å±€å¯èƒ½è·å¾—çš„æœ€å¤§å€¼ï¼Œæ¯æ¬¡é€‰æ‹©æœ€å¤§å€¼è®¡ç®—å³å¯ã€‚ __builtin_popcount(n) è¡¨ç¤º n å†…äºŒè¿›åˆ¶ä½ä¸º1çš„ä¸ªæ•° int n, k, s; int p[maxn], v[maxn], w[maxn]; int h[maxn]; int cal(int x) { rep(i, 0, n) { if((x &gt;&gt; i) &amp; 1) h[i + 1] = w[i + 1]; else h[i + 1] = v[i + 1]; } sort(h + 1, h + n + 1, greater&lt;int&gt;() ); int tmp = s; int ret = 0; rep(i, 1, n + 1) { tmp += h[i]; if(tmp &gt;= p[i]) ret++; } return ret; } void solve() { cin &gt;&gt; n &gt;&gt; k &gt;&gt; s; int ans = 0; rep(i, 1, n + 1) cin &gt;&gt; p[i]; rep(i, 1, n + 1) { int a, b, c, d; cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d; v[i] = max(a, b); w[i] = max({v[i], c, d}); } int mx = 1 &lt;&lt; n; rep(i, 0, mx) { if (__builtin_popcount(i) == k) ans = max(ans, cal(i)); } cout &lt;&lt; ans; } D æ•°ä½å°å­© (æ•°ä½dp) é¢˜æ„ï¼š ç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªæ•°åŒæ—¶æ»¡è¶³ï¼šæ¯ç›¸é‚»ä¸¤ä¸ªæ•°ä½å’Œä¸ºç´ æ•°ï¼Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªæ•°ä½ä¸º1ï¼Œä¸”æ²¡æœ‰å‰å¯¼0 æ€è·¯ï¼š å¥—æ•°ä½dpæ¿å­å³å¯ int a[20], len; ll l, r; bool prime[25]; ll dp[20][20]; ll dfs(int pos, int pre, bool one, int lead, int limit) //è®°æœ { if (pos &gt; len) if (one) return 1; else return 0; //å‰ªæ if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead) &amp;&amp; one)) return dp[pos][pre]; //è®°å½•å½“å‰å€¼ ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•° int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ for (int i = 0; i &lt;= res; i++) { bool nextone = one; if (i == 1 || pre == 1) nextone = 1; //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0 if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit); //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½ if (i &amp;&amp; lead) ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit); // else else { if (!prime[i + pre]) continue; ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit); } } if (!limit &amp;&amp; !lead &amp;&amp; one) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½• return ret; } //æŠŠæ•°æŒ‰ä½æ‹†åˆ† ll part(ll x) { len = 0; while (x) a[++len] = x % 10, x /= 10; memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰ return dfs(1, 0, 0, 1, 1); //è¿›å…¥è®°æœ } void pr(int x) { prime[x] = 1; } void init() { pr(2), pr(3), pr(5), pr(7), pr(11), pr(13), pr(17), pr(19); } int main() { init(); cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n'; } G 163å°å­© æ’åˆ—ç»„åˆ int ans = C(13, 2) * 2 + C(13, 3) * 3 + C(13, 2) + C(13, 3) * 6 + C(13, 4) * 4 + C(13, 3) + C(13, 4) * C(4, 2) + C(13, 5) * 5 + C(13, 6); I å…”å´½å°å­© (å‰ç¼€å’Œ/äºŒåˆ†) é¢˜æ„ï¼š næ¡è¯´è¯´ï¼Œqæ¬¡è¯¢é—®ï¼Œæ¯æ¡è¯´è¯´æœ‰å›ºå®šçš„å‘é€æ—¶é—´tï¼Œæ¯æ¬¡è¯¢é—®k, p; kè¡¨ç¤ºå…¥ç¡æ—¶é—´ï¼Œpè¡¨ç¤ºè¦æ±‚çš„æ€»ç¡çœ æ—¶é—´ï¼Œå¦‚æœæœ€åæ€»ç¡çœ æ—¶é—´å°äºpåˆ™è¾“å‡ºNOï¼Œ å¦åˆ™YES æ€è·¯ï¼š å¯¹æ—¶é—´å·®å€¼æ’åºï¼Œç»´æŠ¤å‰ç¼€å’Œï¼Œå¯¹æ¯æ¬¡è¯¢é—®äºŒåˆ†æŸ¥æ‰¾åˆ°å¤§äºkçš„ä¸‹æ ‡ï¼Œåˆ©ç”¨å‰ç¼€å’Œæ•°ç»„åŒºé—´æ±‚å’Œè¿›è¡Œè®¡ç®—å³å¯ã€‚ int t[maxn]; int a[maxn], pre[maxn]; void solve() { int n, q; cin &gt;&gt; n &gt;&gt; q; int len = 0; rep(i, 0, n) { cin &gt;&gt; t[i]; if (i) a[++len] = t[i] - t[i - 1]; } sort(a + 1, a + len + 1, greater&lt;int&gt;()); pre[1] = a[1]; rep(i, 2, len + 1) { pre[i] = pre[i - 1] + a[i]; } rep(i, 0, q) { int k, p; cin &gt;&gt; k &gt;&gt; p; int idx = lower_bound(a + 1, a + 1 + len, k, greater&lt;int&gt;()) - a; int tmp = pre[idx - 1] - (idx - 1) * k; tmp &gt;= p ? puts(\"Yes\") : puts(\"No\"); } } J ä¸‰å›½å°å­© æ²™æ¯”é¢˜ï¼Œç•¥äº†","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"https://maskros.top/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"},{"name":"äºŒè¿›åˆ¶æšä¸¾","slug":"äºŒè¿›åˆ¶æšä¸¾","permalink":"https://maskros.top/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%9E%9A%E4%B8%BE/"}]},{"title":"Codeforce Edu 124 & Round 777 Problem D","slug":"codeforces/cf Edu 124 & 777 D","date":"2022-03-13T13:20:00.000Z","updated":"2022-03-14T15:04:58.363Z","comments":true,"path":"/post/codeforces/cf Edu 124 & 777 D.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20Edu%20124%20&%20777%20D.html","excerpt":"","text":"Codeforce Edu 124 &amp; Round 777 Problem D Edu 124 D Nearest_Excluded_Points (BFS) é¢˜æ„ï¼š ç»™å®š ä¸ªç‚¹çš„åæ ‡ï¼Œå¯¹äºæ¯ä¸ªç‚¹ï¼Œæ‰“å°å“ˆå¯†é¡¿è·ç¦»æœ€è¿‘ä¸”ä¸åŒ…å«åœ¨è¯¥ ä¸ªç‚¹ä¸­çš„ç‚¹çš„åæ ‡ã€‚ æ€è·¯ï¼š ä»å¤–å¾€é‡Œbfsã€‚å¦‚æœä¸€ä¸ªç‚¹æ²¡è¢«å›´æ­»ï¼Œé‚£ä¹ˆæ€»æœ‰ä¸€ä¸ªç›¸é‚»çš„ç‚¹ä¸ºç­”æ¡ˆï¼Œè¢«å›´æ­»äº†åˆ™å¤–å›´çš„ç‚¹ä¹Ÿæœ‰ç­”æ¡ˆã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰ä¸è‡³å°‘ä¸€ä¸ªä¸å±äºè¿™ä¸ªé›†åˆçš„ç‚¹ç›¸é‚»çš„ç‚¹æ‰¾åˆ°ç­”æ¡ˆã€‚è¿™äº›ç‚¹çš„è·ç¦»æ˜¾ç„¶æ˜¯1ï¼ˆè¿™æ˜¯æˆ‘ä»¬èƒ½å¾—åˆ°çš„æœ€å°çš„ç­”æ¡ˆï¼‰ã€‚åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰ä¸æ‰¾åˆ°ç­”æ¡ˆçš„ç‚¹ç›¸é‚»çš„ç‚¹è®¾å®šç­”æ¡ˆï¼ˆå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¸å±äºé›†åˆçš„é‚»å±…ï¼Œæ‰€ä»¥å®ƒä»¬çš„è·ç¦»è‡³å°‘æ˜¯2ï¼‰ã€‚å“ªä¸€ä¸ªç‚¹å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥å¦‚æœç‚¹iä¸ç­”æ¡ˆä¸º1çš„ç‚¹jç›¸é‚»ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç‚¹içš„ç­”æ¡ˆè®¾ç½®ä¸ºç‚¹jçš„ç­”æ¡ˆã€‚å°±ä»£ç è€Œè¨€ï¼Œè¿™å¯ä»¥é€šè¿‡å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰æ¥å®Œæˆã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸ºè·ç¦»ä¸º1çš„ç‚¹è®¾ç½®ç­”æ¡ˆï¼Œç„¶åå°†è¿™äº›ç­”æ¡ˆæŒ‰è·ç¦»å¢åŠ çš„é¡ºåºæ¨ç»™æ‰€æœ‰ç›¸é‚»çš„ç‚¹ï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°æ‰€æœ‰ç­”æ¡ˆã€‚ int n; int dx[] = {0, 0, -1, 1}; int dy[] = {-1, 1, 0, 0}; void solve() { cin &gt;&gt; n; vector&lt;pii&gt; v; rep(i, 0, n) { int x, y; cin &gt;&gt; x &gt;&gt; y; v.pb({x, y}); } set&lt;pii&gt; st(v.begin(), v.end()); map&lt;pii, pii&gt; ans; queue&lt;pii&gt; q; for(auto [x, y] : v) { rep(i, 0, 4) { int nx = x + dx[i], ny = y + dy[i]; if(st.count({nx, ny})) continue; ans[{x, y}] = {nx, ny}; q.push({x, y}); break; } } while(!q.empty()) { auto it = q.front(); int x = it.fst, y = it.sec; q.pop(); rep(i, 0, 4) { int nx = x + dx[i], ny = y + dy[i]; if(!st.count({nx, ny}) || ans.count({nx, ny})) continue; ans[{nx, ny}] = ans[{x, y}]; q.push({nx, ny}); } } for(auto [x, y] : v) { auto it = ans[{x, y}]; cout &lt;&lt; it.fst &lt;&lt; \" \" &lt;&lt; it.sec &lt;&lt; '\\n'; } } cf 777 D Madoka_and_the_Best_School_in_Russia é¢˜æ„ï¼š ç»™å®š , , åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æŠŠ ä»»æ„æ‹†æˆ (1 ~ n)ä¸ªæ•°ï¼Œä½¿å¾—æ‹†å‡ºæ¥çš„æ¯ä¸ªæ•°éƒ½å¯ä»¥æ•´é™¤ ï¼Œä½†ä¸èƒ½æ•´é™¤ (n &gt;= 2) ï¼Œèƒ½åˆ™è¾“å‡ºYESï¼Œå¦åˆ™è¾“å‡ºNO æ€è·¯ï¼š åˆ†ç±»è®¨è®ºï¼š â‘  å¦‚æœ x ä¸èƒ½æ•´é™¤ d*d ï¼Œåˆ™é“å®šä¸ºNO å¯¹ x ä¸æ–­é™¤ dï¼Œå…±åˆ†è§£æˆ div ä¸ª d (div &gt;= 2) å’Œå‰©ä½™çš„å› å­ x â‘¡ å¦‚æœ x ä¸ä¸ºè´¨æ•°ï¼Œåˆ™è‡³å°‘æœ‰ä¸¤ç§åˆ†è§£æ–¹å¼ï¼Œä¸€å®šèƒ½å‡‘å‡ºä¸¤ç§æƒ…å†µï¼Œä¸ºYES â‘¢ å¦‚æœ x ä¸ºè´¨æ•°ï¼Œä¸” d è¢«å”¯ä¸€åˆ†è§£ä¸º x * xï¼Œå½“ä¸”ä»…å½“ div = 3 æ—¶ï¼Œä¸ºNO â‘£ å¦‚æœ x ä¸ºè´¨æ•°ï¼Œd ä¸ä¸ºè´¨æ•°ä¸” div &gt; 2ï¼Œä¸ºYES â‘¤ å…¶ä½™æƒ…å†µä¸ºNO int prime(int x) { for (int i = 2; i &lt;= sqrt(x); i++) { if(x % i == 0) return i; } return -1; } void solve() { int x, d; cin &gt;&gt; x &gt;&gt; d; int dd = d * d; if(x % dd != 0) { puts(\"NO\"); return; } int div = 0; while(x % d == 0) x /= d, div++; if(prime(x) != -1) { puts(\"YES\"); return; } if(prime(d) != -1 &amp;&amp; d == prime(d) * prime(d)) { if(x == prime(d) &amp;&amp; div == 3) { puts(\"NO\"); return; } } if(div &gt; 2 &amp;&amp; prime(d) != -1) { puts(\"YES\"); return; } puts(\"NO\"); }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"bfs","slug":"bfs","permalink":"https://maskros.top/tags/bfs/"},{"name":"è®¨è®º","slug":"è®¨è®º","permalink":"https://maskros.top/tags/%E8%AE%A8%E8%AE%BA/"}]},{"title":"CSP202109-2 éé›¶æ®µåˆ’åˆ†","slug":"probs/CSPéé›¶æ®µåˆ’åˆ†","date":"2022-03-01T14:30:50.000Z","updated":"2022-03-01T15:41:17.264Z","comments":true,"path":"/post/probs/CSPéé›¶æ®µåˆ’åˆ†.html","link":"","permalink":"https://maskros.top/post/probs/CSP%E9%9D%9E%E9%9B%B6%E6%AE%B5%E5%88%92%E5%88%86.html","excerpt":"","text":"CSP 202109-2 éé›¶æ®µåˆ’åˆ† (å·®åˆ†) link èµ›æ—¶æ²¡æƒ³æ˜ç™½ï¼Œå†™äº†ä¸ªæš´åŠ›70åˆ†ï¼Œä¸€ç›´æƒ¦è®°ç€è¿™ä¸ªé¢˜ï¼Œæ•…åœ¨æ­¤é‡åš é¢˜é¢ A1,A2,â‹¯,An æ˜¯ä¸€ä¸ªç”± n ä¸ªè‡ªç„¶æ•°ï¼ˆéè´Ÿæ•´æ•°ï¼‰ç»„æˆçš„æ•°ç»„ã€‚æˆ‘ä»¬ç§°å…¶ä¸­ Ai,â‹¯,Aj æ˜¯ä¸€ä¸ªéé›¶æ®µï¼Œå½“ä¸”ä»…å½“ä»¥ä¸‹æ¡ä»¶åŒæ—¶æ»¡è¶³ï¼š 1â‰¤iâ‰¤jâ‰¤nï¼› å¯¹äºä»»æ„çš„æ•´æ•° kï¼Œè‹¥ iâ‰¤kâ‰¤jï¼Œåˆ™ Ak&gt;0ï¼› i=1 æˆ– Aiâˆ’1=0ï¼› j=n æˆ– Aj+1=0ã€‚ ä¸‹é¢å±•ç¤ºäº†å‡ ä¸ªç®€å•çš„ä¾‹å­ï¼š A=[3,1,2,0,0,2,0,4,5,0,2] ä¸­çš„ 4 ä¸ªéé›¶æ®µä¾æ¬¡ä¸º [3,1,2]ã€[2]ã€[4,5] å’Œ [2]ï¼› A=[2,3,1,4,5] ä»…æœ‰ 1 ä¸ªéé›¶æ®µï¼› A=[0,0,0] åˆ™ä¸å«éé›¶æ®µï¼ˆå³éé›¶æ®µä¸ªæ•°ä¸º 0ï¼‰ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„ A è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼šä»»é€‰ä¸€ä¸ªæ­£æ•´æ•° pï¼Œç„¶åå°† A ä¸­æ‰€æœ‰å°äº p çš„æ•°éƒ½å˜ä¸º 0ã€‚è¯•é€‰å–ä¸€ä¸ªåˆé€‚çš„ pï¼Œä½¿å¾—æ•°ç»„ A ä¸­çš„éé›¶æ®µä¸ªæ•°è¾¾åˆ°æœ€å¤§ã€‚è‹¥è¾“å…¥çš„ A æ‰€å«éé›¶æ®µæ•°å·²è¾¾æœ€å¤§å€¼ï¼Œå¯å– p=1ï¼Œå³ä¸å¯¹ A åšä»»ä½•ä¿®æ”¹ã€‚ è§„å®šï¼š å…¨éƒ¨çš„æµ‹è¯•æ•°æ®æ»¡è¶³ nâ‰¤5e5ï¼Œä¸”æ•°ç»„ A ä¸­çš„æ¯ä¸€ä¸ªæ•°å‡ä¸è¶…è¿‡ 1e4 é¢˜è§£ éé›¶æ®µå¯ä»¥ç†è§£ä¸ºå­¤ç«‹çš„å²›å±¿ï¼Œä¸åŒçš„å²›å±¿ä¹‹é—´ç”¨ 0 åˆ†éš”å¼€ã€‚ é€‰æ‹©ä¸€ä¸ªæ­£æ•´æ•° p ï¼Œå°†æ‰€æœ‰å°äº p çš„æ•°éƒ½å˜ä¸º 0 ï¼Œå¯ä»¥ç†è§£ä¸ºæµ·å¹³é¢ä¸Šæ¶¨åˆ° p çš„ä½ç½®ï¼Œp ä»¥ä¸‹çš„éƒ¨åˆ†éƒ½è¢«æ·¹æ²¡ï¼Œæ±‚å­¤ç«‹å²›å±¿æ•°æœ€å¤§æ˜¯å¤šå°‘ã€‚ å¯ä»¥å…ˆè€ƒè™‘ p = 10001 çš„æƒ…å†µï¼šæ‰€æœ‰æ•°å­—éƒ½è¢«æµ·æ°´æ·¹æ²¡äº†ï¼Œæ˜¾ç„¶åªæœ‰ 0 00 ä¸ªå²›å±¿ã€‚ç„¶åæµ·å¹³é¢é€æ¸ä¸‹é™ï¼Œè§‚å¯Ÿå²›å±¿æ•°é‡çš„å˜åŒ–ã€‚å¯ä»¥çœ‹å‡ºï¼šæ¯å½“ä¸€ä¸ªå‡¸å³°å‡ºç°ï¼Œå²›å±¿æ•°å°±å¤šäº†ä¸€ä¸ªï¼›è€Œæ¯å½“ä¸€ä¸ªå‡¹è°·å‡ºç°ï¼ŒåŸæœ¬ç›¸é‚»çš„ä¸¤ä¸ªå²›å±¿å°±è¢«è¿™ä¸ªå‡¹è°·è¿æ¥åœ¨äº†ä¸€èµ·ï¼Œå²›å±¿æ•°å‡å°‘ä¸€ä¸ªã€‚ å‡¸å³°ç‚¹å’Œå‡¹è°·ç‚¹çš„åˆ¤æ–­éœ€è¦æ³¨æ„å¹³é¢ï¼ˆå¦‚ 1 2 2 1 ï¼‰çš„å­˜åœ¨ï¼šè‹¥è¿ç»­ä¸€æ®µæ•°å­—ç›¸åŒï¼Œå¯ä»¥æŠŠä»–ä»¬åˆå¹¶æˆä¸€ä¸ªç‚¹ï¼ˆ1 2 1ï¼‰ï¼Œè¿™æ ·å¯¹ç­”æ¡ˆä¸ä¼šäº§ç”Ÿå½±å“ï¼Œå¯ä»¥ä½¿ç”¨ std::unique() å‡½æ•°æ¥å»æ‰ç›¸é‚»é‡å¤å…ƒç´ ã€‚ ğŸ´ vector&lt;int&gt; v; int high[100005], low[100005], cnt[100005]; void solve(){ int n; cin &gt;&gt; n; v.pb(0); rep(i, 0, n) { int t; cin &gt;&gt; t; if(i &amp;&amp; t != v[v.size() - 1] || i == 0) v.pb(t); } v.pb(0); rep(i, 1, v.size() - 1) { if(v[i] &gt; v[i - 1] &amp;&amp; v[i] &gt; v[i + 1]) high[v[i]]++; if(v[i] &lt; v[i - 1] &amp;&amp; v[i] &lt; v[i + 1]) low[v[i]]++; } cnt[100001] = 0; int ans = 0; red(i, 100001, 0) { cnt[i] = cnt[i + 1] + high[i] - low[i]; ans = max(ans, cnt[i]); } cout &lt;&lt; ans &lt;&lt; '\\n'; }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"å·®åˆ†","slug":"å·®åˆ†","permalink":"https://maskros.top/tags/%E5%B7%AE%E5%88%86/"}]},{"title":"Codeforces Round 773 (Div.2)","slug":"codeforces/cf 773","date":"2022-02-23T14:30:00.000Z","updated":"2022-02-23T14:45:35.740Z","comments":true,"path":"/post/codeforces/cf 773.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20773.html","excerpt":"Codeforces Round 773 (Div.2)","text":"Codeforces Round #773 (Div.2) rk 293 ABå„è‡ªç™½ç»™äº†ä¸€å‘ï¼Œä½†æ˜¯ä¸Šå¤§åˆ†ï¼Œå˜»å˜» A_Hard_Way æ°´é¢˜ï¼Œä¸€å¼€å§‹æ²¡è¯»æ‡‚é¢˜ç›´æ¥çŒœç­”æ¡ˆçŒœé”™äº†WA1ï¼Œæ€¥äº†å¤§ç« void solve() { int x1, y1, x2, y2, x3, y3; cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3; double ans = 0; if (y1 == y2) ans = (y3 &lt; y2) ? abs(x2 - x1) : 0; eif(y2 == y3) ans = (y1 &lt; y3) ? abs(x3 - x2) : 0; eif(y1 == y3) ans = (y2 &lt; y3) ? abs(x3 - x1) : 0; printf(\"%.9f\\n\", ans); } B_Power_Walking æ°´é¢˜ï¼Œå¿˜è®° map.clear()äº†ï¼Œç™½wa1å‘ï¼Œçº¯ä¸¢äºº map&lt;int, int&gt; mp; void solve() { mp.clear(); int n; cin &gt;&gt; n; rep(i, 1, n + 1) { int t; cin &gt;&gt; t; mp[t]++; } int mx = mp.size(); rep(i, 1, n + 1) cout &lt;&lt; max(i, mx) &lt;&lt; ' '; en; } C_Great_Sequence é¢˜æ„ï¼š ç»™å®šé•¿ä¸º çš„æ•°ç»„ ï¼Œç»™å®š ï¼Œä½ å¯ä»¥å‘æ•°ç»„ä¸­æ·»åŠ ä¸€äº›æ•°ï¼Œä½¿å¾—æ•°ç»„ä¸­çš„æ•°ä¸¤ä¸¤ä¸€ç»„ï¼Œå¹¶ä¸”æ»¡è¶³ ï¼Œè¯¢é—®è‡³å°‘æ·»åŠ å¤šå°‘ä¸ªæ•°ã€‚ æ€è·¯ï¼š æš´åŠ›è´ªå¿ƒå³å¯ï¼Œæ»¡è¶³çš„ç›´æ¥æ‰¬äº†ï¼Œç”¨ multiset ç»´æŠ¤ä¸€ä¸‹ï¼Œ:) multiset&lt;ll&gt; s; void solve() { s.clear(); int n, x; cin &gt;&gt; n &gt;&gt; x; int t; rep(i, 0, n) {cin &gt;&gt; t; s.insert(t);} multiset&lt;ll&gt;::iterator it; int ans = 0; for (it = s.begin(); it != s.end(); it++) { ll tmp = (*it) * x; if(s.find(tmp) != s.end()) { s.erase(s.find(tmp)); }else ans++; } cout &lt;&lt; ans &lt;&lt; '\\n'; } D_Repetitions_Decoding (æ„é€ ) é¢˜æ„ï¼š ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œæ“ä½œï¼šåœ¨æŸä¸€ä½ç½®è¿ç»­æ’å…¥ä¸¤ä¸ªç›¸åŒæ•°å­—ã€‚æœ€ç»ˆä½¿å¾—è¯¥æ•°ç»„æŒ‰é¡ºåºå˜æˆ å¯¹é‡å¤åºåˆ— â€‹ ã€‚(tandem repeats: ä¸²è”é‡å¤åºåˆ—ï¼Œå¦‚ï¼š1 2 3 1 2 3 | 4 7 5 4 7 5 | 6 6 ) æœ€ç»ˆæŒ‡å®šæ ¼å¼åˆ†åˆ«æ‰“å°ï¼šæ“ä½œæ•°ã€æ“ä½œå†…å®¹ã€ã€æœ€ç»ˆåºåˆ—çš„ç»„æˆç»“æ„ã€‚å¦‚æœä¸èƒ½æ„é€ è¾“å‡º -1. æ€è·¯ï¼š ç”±äºé¢˜å¹²è¯´åªè¦æ„é€ æˆåŠŸå°±å¯ä»¥ï¼Œä¸è¿½æ±‚æœ€å°æ“ä½œæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è´ªå¿ƒå³å¯ã€‚ é¦–å…ˆç”±äºæ¯æ¬¡æ“ä½œæ’å…¥çš„éƒ½æ˜¯ä¸¤ä¸ªç›¸åŒæ•°å­—ï¼Œæ•…å¦‚æœåŸåºåˆ—ä¸­æŸä¸ªæ•°åªæœ‰å¥‡æ•°ä¸ªï¼Œæ˜¯ä¸èƒ½æ„æˆ â€‹ å¯¹é‡å¤åºåˆ—çš„ï¼Œç‰¹åˆ¤ä¸€ä¸‹ï¼› æ„é€ æ—¶ä½¿ç”¨ vector ç»´æŠ¤ï¼ŒåŒæŒ‡é’ˆ , æ‰«æåºåˆ—ã€‚ä»å¤´å¼€å§‹ï¼Œåœ¨åºåˆ—ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸ ä¸€æ ·çš„æ•°çš„ä½ç½®ï¼Œæ ‡è®°ä¸º (right_begin)ï¼ŒéšååŒæ—¶å‘å³æ‰«æï¼Œå¦‚æœ = ï¼Œåˆ™è·³è¿‡ï¼Œå¦‚æœä¸ç­‰ï¼Œåˆ™åœ¨ä¸‹æ ‡ä¸º çš„ä½ç½®æ’å…¥ ã€‚å½“å·¦ä¾§åºåˆ—æŒ‡é’ˆ æ‰«æåˆ°å³ä¾§åºåˆ—èµ·ç‚¹å¤„ æ—¶ ï¼Œåˆ™æ„æˆäº†ä¸€å¯¹é‡å¤åºåˆ—ï¼Œè®°å½•ä¸€ä¸‹ç­”æ¡ˆåï¼Œä½¿ = ç»§ç»­å‘åæ‰«æå³å¯ã€‚ å†™çš„æ—¶å€™ç”±äºå¯¹ä¸‹æ ‡çš„æ··æ·†ç»“æœå¡äº†ä¸€ä¼šï¼Œæœ€åè¿‡çš„æ—¶å€™å±…ç„¶div2å…¨åœºåªè¿‡äº†200äººï¼Œå¼€å¿ƒå—¨äº† :) vector&lt;int&gt; v; vector&lt;pair&lt;int,int&gt; &gt; op; vector&lt;int&gt; ans; map&lt;int, int&gt; mp; map&lt;int, int&gt;::iterator it; vector&lt;int&gt;::iterator pos; void debug() { en; for(auto x : v) de(x); en; en; } void solve() { mp.clear(); v.clear(); op.clear(); ans.clear(); int n; cin &gt;&gt; n; rep(i, 0, n) { int t; cin &gt;&gt; t; v.pb(t); mp[t]++; } bool flag = 1; for(it = mp.begin(); it != mp.end(); it++) { if(it-&gt;sec &amp; 1) { flag = 0; break;} } if(!flag) {cout &lt;&lt; -1 &lt;&lt; '\\n'; return;} else { int bg = 0, rbg, r; bool is = false; rep(i, 0, v.size()) { r++; if(!is) { pos = find(v.begin() + i + 1, v.end(), v[i]); bg = i; rbg = pos - v.begin(); r = rbg; is = true; } else { if(i == rbg) { i = r - 1; ans.pb(r - bg); is = false; continue; } if(r &gt;= v.size()) { v.pb(v[i]); v.pb(v[i]); op.pb(mpr(r + 1 - 1, v[i])); continue; } if(v[i] != v[r]) { v.insert(v.begin() + r, v[i]); v.insert(v.begin() + r, v[i]); op.pb(mpr(r + 1 - 1, v[i])); } } } } if(op.empty()) cout &lt;&lt; 0 &lt;&lt; '\\n'; else { cout &lt;&lt; op.size() &lt;&lt; '\\n'; for (auto x : op) cout &lt;&lt; x.fst &lt;&lt; \" \" &lt;&lt; x.sec &lt;&lt; \" \"; en; } if(ans.empty()) cout &lt;&lt; 1 &lt;&lt; '\\n' &lt;&lt; v.size() &lt;&lt; '\\n'; else { cout &lt;&lt; ans.size() &lt;&lt; '\\n'; for(auto x : ans) cout &lt;&lt; x &lt;&lt; ' '; en; } } è¿™åœºå› ä¸ºdiv1, div2åŒæ—¶è¿›è¡Œåˆ†äº†æ³¢æµï¼Œå·äº†ä¸ªä¸Šåˆ†æœºä¼šï¼Œå˜è‰²ï¼","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://maskros.top/tags/%E6%9E%84%E9%80%A0/"}]},{"title":"LCAæ¿å­","slug":"algorithm/learn/LCA","date":"2022-02-08T16:00:00.000Z","updated":"2022-07-13T09:03:42.634Z","comments":true,"path":"/post/algorithm/learn/LCA.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/LCA.html","excerpt":"LCA Lowest Common Ancestor æœ€è¿‘å…¬å…±ç¥–å…ˆ å®šä¹‰ ä¸€èˆ¬æŒ‡å›¾è®ºä¸­æœ‰å‘æ— ç¯å›¾DAGæˆ–æ ‘ä¸­çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„LCAåœ¨ä¸¤ç‚¹é—´çš„è·¯å¾„ä¸Š","text":"LCA Lowest Common Ancestor æœ€è¿‘å…¬å…±ç¥–å…ˆ å®šä¹‰ ä¸€èˆ¬æŒ‡å›¾è®ºä¸­æœ‰å‘æ— ç¯å›¾DAGæˆ–æ ‘ä¸­çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„LCAåœ¨ä¸¤ç‚¹é—´çš„è·¯å¾„ä¸Š å››ç§æ±‚è§£æ¿å­ åœ¨çº¿ç®—æ³•ï¼šé—®ä¸€æ¬¡å›ç­”ä¸€æ¬¡ ç¦»çº¿ç®—æ³•ï¼šé—®å®Œäº†ä¸€æ¬¡æ€§å›ç­” 0x01 æ ‘å‰– åœ¨çº¿ æ ‘é“¾å‰–åˆ†æ±‚è§£LCAçš„è¿‡ç¨‹å°±æ˜¯è½»é‡é“¾çš„è·³è½¬ï¼Œè·Ÿæ ‘å‰–æ±‚ä»»æ„ä¸¤ç‚¹é—´çš„è·ç¦»ä¸€æ ·çš„æ“ä½œï¼Œåªä¸è¿‡ä¸ç”¨çº¿æ®µæ ‘å»ç»´æŠ¤disäº† #include &lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; const int N = 1e6 + 10; int head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1; int sz[N], dep[N], fa[N], son[N], top[N]; int n, m; inline int read() { int f = 1, x = 0; char c = getchar(); while(c &gt; '9' || c &lt; '0') { if(c == '-') f = -1; c = getchar(); } while(c &gt;= '0' &amp;&amp; c &lt;= '9') { x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48); c = getchar(); } return f * x; } void add(int x, int y) { to[cnt] = y; nex[cnt] = head[x]; head[x] = cnt++; } void dfs1(int rt, int f) { dep[rt] = dep[f] + 1; sz[rt] = 1, fa[rt] = f; for(int i = head[rt]; i; i = nex[i]) { if(to[i] == f) continue; dfs1(to[i], rt); if(!son[rt] || sz[to[i]] &gt; sz[son[rt]]) son[rt] = to[i]; sz[rt] += sz[to[i]]; } } void dfs2(int rt, int t) { top[rt] = t; if(!son[rt]) return ; dfs2(son[rt], t); for(int i = head[rt]; i; i = nex[i]) { if(to[i] == fa[rt] || to[i] == son[rt]) continue; dfs2(to[i], to[i]); } } int solve(int x, int y) { while(top[x] != top[y]) { if(dep[top[x]] &lt; dep[top[y]]) swap(x, y); x = fa[top[x]]; } return dep[x] &lt; dep[y] ? x : y; } int main() { n = read(), m = read(); int rt = read(); int x, y; for(int i = 1; i &lt; n; i++) { x = read(), y = read(); add(x, y); add(y, x); } dfs1(rt, 0); dfs2(rt, rt); for(int i = 1; i &lt;= m; i++) { x = read(), y = read(); printf(\"%d\\n\", solve(x, y)); } return 0; } 0x02 Tarjan ç¦»çº¿ ååºDFS+å¹¶æŸ¥é›† æœ¬è´¨å°±æ˜¯åˆ©ç”¨äº†dfsçš„èŠ‚ç‚¹é¡ºåºï¼Œå½“æˆ‘ä»¬æ­£åœ¨é€’å½’ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ—¶ï¼Œæ˜¾ç„¶è¿™ä¸¤ä¸ªç‚¹æ˜¯å±äºå…¶å­æ ‘çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡éå†å®Œä¸¤ä¸ªéœ€è¦æ±‚è§£çš„ä¸¤ä¸ªç‚¹æ—¶ï¼Œå…¶æœ€è¿‘çš„å°šæœªè¢«å®Œå…¨éå†å®Œå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å°±æ˜¯ä»–ä»¬ä¸¤ä¸ªçš„æœ€è¿‘å…¬å…±ç¥–å…ˆ #include &lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; const int N = 5e5 + 10; int head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1; int visit[N], fa[N], n, m; int qhead[N], qto[N &lt;&lt; 1], qnex[N &lt;&lt; 1], qcnt = 1, qid[N &lt;&lt; 1], ans[N]; inline int read() { int f = 1, x = 0; char c = getchar(); while(c &gt; '9' || c &lt; '0') { if(c == '-') f = -1; c = getchar(); } while(c &gt;= '0' &amp;&amp; c &lt;= '9') { x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48); c = getchar(); } return f * x; } void add_edge(int x, int y) { to[cnt] = y; nex[cnt] = head[x]; head[x] = cnt++; } void add_query(int x, int y, int w) { qto[qcnt] = y; qnex[qcnt] = qhead[x]; qid[qcnt] = w; qhead[x] = qcnt++; } int find(int rt) { return rt == fa[rt] ? rt : fa[rt] = find(fa[rt]); } void tarjan(int rt, int f) { for(int i = head[rt]; i; i = nex[i]) { if(to[i] == f) continue; tarjan(to[i], rt); fa[to[i]] = rt; } visit[rt] = 1; for(int i = qhead[rt]; i; i = qnex[i]) { if(!visit[qto[i]]) continue; ans[qid[i]] = find(qto[i]); } } int main() { // freopen(\"in.txt\", \"r\", stdin); n = read(), m = read(); int rt = read(); for(int i = 1; i &lt; n; i++) { int x = read(), y = read(); add_edge(x, y); add_edge(y, x); } for(int i = 1; i &lt;= n; i++) fa[i] = i; for(int i = 1; i &lt;= m; i++) { int x = read(), y = read(); add_query(x, y, i); add_query(y, x, i); } tarjan(rt, 0); for(int i = 1; i &lt;= m; i++) printf(\"%d\\n\", ans[i]); return 0; } 0x03 STè¡¨+RMQ åœ¨çº¿ å…ˆåºDFS+ST RMQ(Range Mini/Maximum Query) åŒºé—´æœ€å€¼æŸ¥è¯¢ åˆ©ç”¨dfsçš„éå†ï¼Œåœ¨éå†ä¸¤ä¸ªç‚¹çš„æ—¶å€™ï¼Œä¸€å®šä¼šåœ¨ä¸­é—´è¿”å›åˆ°å…¶æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œè¿™ä¸ªæ—¶å€™çš„å…¬å…±ç¥–å…ˆä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªç‚¹çš„éå†ä¸­çš„æœ€å°å€¼ #include &lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; inline ll read() { ll f = 1, x = 0; char c = getchar(); while(c &gt; '9' || c &lt; '0') { if(c == '-') f = -1; c = getchar(); } while(c &gt;= '0' &amp;&amp; c &lt;= '9') { x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48); c = getchar(); } return f * x; } const int N = 5e5 + 10; int head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1; int id[N], tot, last; int st[N &lt;&lt; 2][30]; void add(int x, int y) { to[cnt] = y; nex[cnt] = head[x]; head[x] = cnt++; } void dfs(int rt, int fa) { id[rt] = last = ++tot; st[tot][0] = rt; for(int i = head[rt]; i; i = nex[i]) { if(to[i] == fa) continue; dfs(to[i], rt); st[++tot][0] = rt; } } int MIN(int a, int b) { return id[a] &lt; id[b] ? a : b; } int main() { // freopen(\"in.txt\", \"r\", stdin); int n = read(), m = read(), rt = read(); for(int i = 1; i &lt; n; i++) { int x = read(), y = read(); add(x, y); add(y, x); } dfs(rt, 0); int k = log(last) / log(2); for(int j = 1; j &lt;= k; j++) for(int i = 1; i + (1 &lt;&lt; j) - 1 &lt;= last; i++) st[i][j] = MIN(st[i][j - 1], st[i + (1 &lt;&lt; (j - 1))][j - 1]); for(int i = 1; i &lt;= m; i++) { int x = read(), y = read(); x = id[x], y = id[y]; if(x &gt; y) swap(x, y); int k = log(y - x + 1) / log(2); printf(\"%d\\n\", MIN(st[x][k], st[y - (1 &lt;&lt; k) + 1][k])); } return 0; } 0x04 å€å¢ ç±»ä¼¼äºå¿«é€Ÿå¹‚ï¼Œé€šè¿‡äºŒè¿›åˆ¶æ•°çš„ç»„åˆæ¥è¾¾åˆ° çº§åˆ«çš„ä¼˜åŒ–ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„å…¶ä¸­è¿›åˆ¶çš„æšä¸¾å¤§å°é¡ºåº #include &lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; inline ll read() { ll f = 1, x = 0; char c = getchar(); while(c &gt; '9' || c &lt; '0') { if(c == '-') f = -1; c = getchar(); } while(c &gt;= '0' &amp;&amp; c &lt;= '9') { x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48); c = getchar(); } return f * x; } const int N = 5e5 + 10; int head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1; int fa[N][21], dep[N], n, m; void add(int x, int y) { to[cnt] = y; nex[cnt] = head[x]; head[x] = cnt++; } void dfs(int rt, int f) { dep[rt] = dep[f] + 1; fa[rt][0] = f; for(int i = 1; 1 &lt;&lt; i &lt;= dep[rt]; i++)//è¿›åˆ¶ç”±å°åˆ°å¤§é€’æ¨ fa[rt][i] = fa[fa[rt][i - 1]][i - 1]; for(int i = head[rt]; i; i = nex[i]) { if(to[i] == f) continue; dfs(to[i], rt); } } int LCA(int x, int y) { if(dep[x] &lt; dep[y]) swap(x, y); for(int i = 20; i &gt;= 0; i--)//è¿›åˆ¶ç”±å¤§åˆ°å°å¼€å§‹ç»„åˆï¼Œ if(dep[fa[x][i]] &gt;= dep[y]) x = fa[x][i]; if(x == y) return x;//æ³¨æ„ç‰¹åˆ¤ for(int i = 20; i &gt;= 0; i--)//è¿›åˆ¶ä»å°åˆ°å¤§å¼€å§‹ç»„åˆï¼Œ if(fa[x][i] != fa[y][i]) x = fa[x][i], y = fa[y][i]; return fa[x][0];//è¿™ä¸€æ­¥å°¤å…¶è€ƒè™‘ï¼Œä¸ºä»€ä¹ˆx, yä¸çŸ¥LCA,è€Œå…¶çˆ¶èŠ‚ç‚¹å°±ä¸€å®šæ˜¯LCAï¼Œ } int main() { // freopen(\"in.txt\", \"r\", stdin); int n = read(), m = read(), rt = read(); for(int i = 1; i &lt; n; i++) { int x = read(), y = read(); add(x, y); add(y, x); } dfs(rt, 0); for(int i = 1; i &lt;= m; i++) { int x = read(), y = read(); printf(\"%d\\n\", LCA(x, y)); } return 0; }","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"LCA","slug":"LCA","permalink":"https://maskros.top/tags/LCA/"}]},{"title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥4","slug":"nowcoder/2022winter/round4","date":"2022-02-08T13:30:50.000Z","updated":"2022-03-02T13:46:31.541Z","comments":true,"path":"/post/nowcoder/2022winter/round4.html","link":"","permalink":"https://maskros.top/post/nowcoder/2022winter/round4.html","excerpt":"","text":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥4 AC 11 / 12 A R (äºŒåˆ†/å‰ç¼€å’Œ) é¢˜æ„ï¼š ç»™å®šé•¿ä¸º çš„å­—ç¬¦ä¸² , ç»™å®š , æ±‚å­—ç¬¦ä¸²ä¸­å« â€˜Râ€™ ä¸ªæ•°å¤§äºç­‰äº ä¸”ä¸å«å­—ç¬¦ â€˜Pâ€™ çš„å­ä¸²ä¸ªæ•° æ€è·¯ï¼š å‰ç¼€å’Œå‚¨å­˜ R å’Œ P çš„ä¸ªæ•°ï¼Œæšä¸¾å·¦ç«¯ç‚¹ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æœ€è¿‘å³ç«¯ç‚¹é•¿åº¦å’Œæœ€è¿œå³ç«¯ç‚¹ï¼Œä½œå·®å³ä¸ºè´¡çŒ®å€¼ã€‚ int n, k; char s[maxn]; int R[maxn], P[maxn]; bool checkR(int l, int r) { int cnt_R = R[r] - R[l - 1]; if(cnt_R &gt;= k) return 1; else return 0; } bool checkP(int l, int r) { int cnt_P = P[r] - P[l - 1]; if(cnt_P == 0) return 1; else return 0; } void solve() { cin &gt;&gt; n &gt;&gt; k; R[0] = 0, P[0] = 0; rep(i, 1, n + 1) { cin &gt;&gt; s[i]; R[i] = R[i - 1], P[i] = P[i - 1]; if(s[i] == 'R') R[i]++; eif(s[i] == 'P') P[i]++; } ll ans = 0; rep(i, 1, n + 1) { int l = i, r = n; int rmx = 0, lmn = 0; while(l &lt;= r) { int mid = (l + r) / 2; if(checkP(i, mid)) { rmx = mid; l = mid + 1; } else r = mid - 1; } if(rmx == 0) continue; l = i, r = rmx; while(l &lt;= r) { int mid = (l + r) / 2; if(checkR(i, mid)) { lmn = mid; r = mid - 1; } else l = mid + 1; } if(lmn == 0) continue; int len = rmx - lmn + 1; ans += len; } cout &lt;&lt; ans &lt;&lt; '\\n'; } *B è¿›åˆ¶ (çº¿æ®µæ ‘) é¢˜æ„ï¼š é•¿åº¦ä¸º çš„å­—ç¬¦ä¸² (only include â€˜0â€™ ~ â€˜9â€™)ï¼Œæœ‰ æ¬¡ä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š è¾“å…¥ 1 x y, ä¿®æ”¹ç¬¬ ä¸ªå­—ç¬¦ä¸º ï¼Œå³ è¾“å‡º 2 x y, ä»£è¡¨æŸ¥è¯¢åŒºé—´ [, ]ï¼Œè¯¥åŒºé—´å­ä¸²èƒ½è¡¨ç¤ºçš„æŸè¿›åˆ¶çš„æœ€å°å€¼ (äºŒè¿›åˆ¶åˆ°åè¿›åˆ¶ä¹‹é—´)ï¼Œå¯¹ 1e9 + 7 å–æ¨¡ æ€è·¯ï¼š åŒºé—´æœ€å¤§æ•°å­—ä¸º â€‹ åˆ™å¯¹åº” â€‹ è¿›åˆ¶å³ä¸ºæ‰€æ±‚ï¼Œç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å¤§å€¼ï¼ŒåŒæ—¶ç»´æŠ¤åœ¨ 2 ~ 10 è¿›åˆ¶ä¸‹æ¯ä¸ªåŒºé—´çš„å€¼ã€‚ ä¸€ä¸ªåŒºé—´çš„å€¼ = å·¦åŒºé—´çš„å€¼ * pow(è¿›åˆ¶, å³åŒºé—´é•¿åº¦) * å³åŒºé—´çš„å€¼ int n, q; int s[maxn]; ll qpow(ll a, ll b) { ll res = 1; for(; b; b &gt;&gt;= 1) { if(b &amp; 1) res = res * a % mod; a = a * a % mod; } return res; } struct SegTree { int l, r; ll a[15]; int m; }tree[maxn &lt;&lt; 2]; void build(int u, int l, int r) { if(l == r) { tree[u].l = tree[u].r = l; int tmp = s[l]; tree[u].m = tmp; rep(i, max(2, tmp + 1), 11) { tree[u].a[i] = tmp; } } else { int mid = l + r &gt;&gt; 1; build(u * 2, l, mid); build(u * 2 + 1, mid + 1, r); tree[u].m = max(tree[u * 2].m, tree[u * 2 + 1].m); rep(i, max(2, tree[u].m + 1), 11) { tree[u].a[i] = (tree[u * 2].a[i] * qpow(i, r - mid) % mod + tree[u * 2 + 1].a[i]) % mod; } } } void update(int u, int l, int r, int x, int y) { if(l == r) { tree[u].m = y; rep(i, max(2, y + 1), 11) { tree[u].a[i] = y; } } else { int mid = l + r &gt;&gt; 1; if(x &lt;= mid) update(u * 2, l, mid, x, y); else update(u * 2 + 1, mid + 1, r, x, y); tree[u].m = max(tree[u * 2].m, tree[u * 2 + 1].m); rep(i, max(2, tree[u].m + 1), 11) { tree[u].a[i] = (tree[u * 2].a[i] * qpow(i, r - mid) % mod + tree[u * 2 + 1].a[i]) % mod; } } } int querymax(int u, int l, int r, int x, int y) { if(x &lt;= l &amp;&amp; r &lt;= y) return tree[u].m; int mid = l + r &gt;&gt; 1; if(y &lt;= mid) return querymax(u * 2, l, mid, x, y); eif(x &gt; mid) return querymax(u * 2 + 1, mid + 1, r, x, y); else return max(querymax(u * 2, l, mid, x, y), querymax(u * 2 + 1, mid + 1, r, x, y)); } ll query(int u, int l, int r, int x, int y, int z) { if(x &lt;= l &amp;&amp; r &lt;= y) return tree[u].a[z]; int mid = l + r &gt;&gt; 1; if(y &lt;= mid) return query(u * 2, l, mid, x, y, z); eif(x &gt; mid) return query(u * 2 + 1, mid + 1, r, x, y, z); else return (query(u * 2, l, mid, x, mid, z) * qpow(z, y - mid) % mod + query(u * 2 + 1, mid + 1, r, mid + 1, y, z)) % mod; } void solve() { cin &gt;&gt; n &gt;&gt; q; rep(i, 1, n + 1) { char t; cin &gt;&gt; t; s[i] = t - '0'; } build(1, 1, n); rep(i, 0, q) { int op, x, y; cin &gt;&gt; op &gt;&gt; x &gt;&gt; y; if(op == 1) update(1, 1, n, x, y); else { int z = querymax(1, 1, n, x, y); cout &lt;&lt; query(1, 1, n, x, y, z + 1) &lt;&lt; '\\n'; } } } C è“å½—æ˜Ÿ (å·®åˆ†) é¢˜æ„ï¼š è¾“å…¥ , è¡¨ç¤ºå½—æ˜Ÿçš„æ•°é‡å’Œæ¯ä¸ªå½—æ˜Ÿçš„æŒç»­æ—¶é—´ï¼Œè¾“å‡ºä¸€ä¸ªé•¿ çš„åªæœ‰ â€˜Bâ€™ å’Œ â€˜Râ€™ ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½—æ˜Ÿé¢œè‰²ï¼ŒBä¸ºè“è‰²Rä¸ºçº¢è‰²ã€‚ è¾“å…¥ ä¸ªæ•´æ•° ï¼Œè¡¨ç¤ºæ¯é¢—å½—æ˜Ÿçš„å¼€å§‹æ—¶åˆ»ï¼Œæ±‚èƒ½çœ‹åˆ°è“å½—æ˜Ÿä¸”çœ‹ä¸åˆ°çº¢å½—æ˜Ÿçš„æ€»ç§’æ•°ã€‚ 1 &lt;= &lt;= 1e5 æ€è·¯ï¼š ç»´æŠ¤ä¸¤ä¸ªå·®åˆ†æ•°ç»„è¡¨ç¤ºè“å½—æ˜Ÿå’Œçº¢å½—æ˜Ÿçš„æŒç»­æ—¶é—´ï¼ŒæŒ‰æ—¶é—´é¡ºåºå¼€å§‹éå†ï¼Œåˆ†åˆ«è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„å‰ç¼€å’Œæ¥çœ‹å½“å‰æ—¶é—´æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œç¬¦åˆåˆ™è®¡æ•°ã€‚ #define N 100005 char s[N]; int a[N], red[2 * N], blue[2 * N]; void solve(){ int n, t; cin &gt;&gt; n &gt;&gt; t; rep(i, 1, n + 1) { cin &gt;&gt; s[i]; } rep(i, 1, n + 1) { cin &gt;&gt; a[i]; if(s[i] == 'B') blue[a[i]]++, blue[a[i] + t]--; else red[a[i]]++, red[a[i] + t]--; } int ans = 0; int redcnt = 0, bluecnt = 0; rep(i, 1, 2 * N) { redcnt += red[i]; bluecnt += blue[i]; if(bluecnt &amp;&amp; !redcnt) ans++; } cout &lt;&lt; ans &lt;&lt; '\\n'; } D é›ªè‰²å…‰æ™• (äºŒç»´å‡ ä½•) è®¡ç®—ç‚¹åˆ°çº¿æ®µçš„æœ€çŸ­è·ç¦»ï¼Œå¥—æ¿å­ //square of a double inline double sqr(double x){return x*x;} int sgn(double x){ if(fabs(x) &lt; eps)return 0; if(x &lt; 0)return -1; else return 1; } struct Point{ double x,y; Point(){} Point(double _x,double _y){ x = _x; y = _y; } bool operator==(Point b) const { return sgn(x - b.x) == 0 &amp;&amp; sgn(y - b.y) == 0; } bool operator&lt;(Point b) const { return sgn(x - b.x) == 0 ? sgn(y - b.y) &lt; 0 : x &lt; b.x; } Point operator-(const Point&amp; b) const { return Point(x - b.x, y - b.y); } //å‰ç§¯ double operator^(const Point&amp; b) const { return x * b.y - y * b.x; } //ç‚¹ç§¯ double operator*(const Point&amp; b) const { return x * b.x + y * b.y; } //è¿”å›é•¿åº¦ double len() { return hypot(x, y); //åº“å‡½æ•° } //è¿”å›é•¿åº¦çš„å¹³æ–¹ double len2() { return x * x + y * y; } //è¿”å›ä¸¤ç‚¹çš„è·ç¦» double distance(Point p) { return hypot(x - p.x, y - p.y); } }; struct Line{ Point s,e; Line(){} Line(Point _s,Point _e){ s = _s; e = _e; } //æ±‚çº¿æ®µé•¿åº¦ double length() { return s.distance(e); } //ç‚¹åˆ°ç›´çº¿çš„è·ç¦» double dispointtoline(Point p) { return fabs((p - s) ^ (e - s)) / length(); } //ç‚¹åˆ°çº¿æ®µçš„è·ç¦» double dispointtoseg(Point p) { if (sgn((p - s) * (e - s)) &lt; 0 || sgn((p - e) * (s - e)) &lt; 0) return min(p.distance(s), p.distance(e)); return dispointtoline(p); } }; void solve() { int n; double x0,y0,x,y; cin&gt;&gt;n&gt;&gt;x0&gt;&gt;y0&gt;&gt;x&gt;&gt;y; Point p0=Point(x,y),p=Point(x0,y0); double dis=p0.distance(p); double xx,yy; rep(i,0,n){ cin&gt;&gt;xx&gt;&gt;yy; Point p1=Point(x0+xx,y0+yy); Line l1=Line(p,p1); dis=min(l1.dispointtoseg(p0),dis); x0+=xx; y0+=yy; p=Point(x0,y0); } printf(\"%.8lf\",dis); } G å­åºåˆ—æƒå€¼ä¹˜ç§¯ (å¿«é€Ÿå¹‚/æ¬§æ‹‰é™å¹‚) é¢˜æ„ï¼š å°çº¢å®šä¹‰ä¸€ä¸ªæ•°ç»„çš„æƒå€¼ä¸ºè¯¥æ•°ç»„çš„æœ€å¤§å€¼ä¹˜ä»¥æœ€å°å€¼ã€‚ä¾‹å¦‚æ•°ç»„ [4,1,3] çš„æƒå€¼æ˜¯ 4*1=4ã€‚ å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªæ•°ç»„ã€‚å¥¹æƒ³çŸ¥é“ï¼Œè¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰ éç©ºå­åºåˆ— çš„æƒå€¼çš„ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿç”±äºè¯¥æ•°è¿‡å¤§ï¼Œè¯·å¯¹ 1e9+7 å–æ¨¡ã€‚ å­åºåˆ—çš„å®šç†ï¼šå¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œåˆ é™¤å…¶ä¸­æŸäº›æ•°ä¹‹åï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰å¾—åˆ°çš„æ•°ç»„ã€‚å­åºåˆ—ä¸­çš„æ•°çš„ç›¸å¯¹é¡ºåºå¿…é¡»å’ŒåŸæ•°ç»„ä¸­çš„é¡ºåºç›¸åŒ exp: æ•°ç»„ [1,3,2] çš„éç©ºå­åºåˆ—æœ‰ [1] [3] [2] [1,3] [1,2] [3,2] [1,3,2] å…±7ä¸ªã€‚ æ€è·¯ï¼š å…ˆæ’åºï¼Œéšåéå†æ•°ç»„ï¼Œä»å½“å‰ä½ç½®ä¸åé¢æ‰€æœ‰åºåˆ—ç»„æˆçš„åºåˆ—çš„æœ€å°å€¼éƒ½æ˜¯ä»–ï¼Œä¸å‰é¢æ‰€æœ‰åºåˆ—ç»„æˆçš„åºåˆ—çš„æœ€å¤§å€¼éƒ½æ˜¯ä»–ï¼Œç”¨å¿«é€Ÿå¹‚è®¡ç®—è´¡çŒ®å³å¯ï¼Œæ³¨æ„æŒ‡æ•°éƒ¨åˆ†å–æ¨¡è¦é‡‡ç”¨æ¬§æ‹‰é™å¹‚ï¼Œå³ % mod - 1 è®¡ç®—è´¡çŒ®ï¼š qpow(a[i], qpow(2, n - i, mod - 1), mod) % mod * qpow(a[i], qpow(2, i - 1, mod - 1), mod); int n, a[maxn]; ll qpow(ll a, ll b, ll _mod) { ll ans = 1; while (b) { if (b &amp; 1) ans = ans * a % _mod; a = a * a % _mod; b &gt;&gt;= 1; } return ans; } void solve() { cin &gt;&gt; n; rep(i, 1, n + 1) { cin &gt;&gt; a[i]; } sort(a + 1, a + n + 1); ll ans = 1; rep(i, 1, n + 1) { ans = ans * qpow(a[i], qpow(2, n - i, mod - 1), mod) % mod * qpow(a[i], qpow(2, i - 1, mod - 1), mod) % mod; } cout &lt;&lt; ans &lt;&lt; '\\n'; } I çˆ†ç‚¸çš„ç¬¦å¡æ´‹æ´‹æ´’æ´’ (dp) é¢˜æ„ï¼š å°çº¢æ­£åœ¨ç ”ç©¶å¦‚ä½•æŠŠç¬¦å¡ç»„åˆå‡ºå°½å¯èƒ½å¤§å¨åŠ›çš„ç»„åˆé­”æ³•ã€‚ å°çº¢å…±æœ‰ â€‹ ç§ç¬¦å¡å¯ä»¥é€‰æ‹©ï¼Œæ¯ç§ç¬¦å¡æœ€å¤šåªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œæ¯ä¸ªç¬¦å¡çš„é­”åŠ›æ¶ˆè€—ä¸º â€‹ï¼Œå¨åŠ›ä¸º â€‹ã€‚å¦‚æœå°†å¤šä¸ªç¬¦å¡è¿›è¡Œç»„åˆï¼Œåˆ™å¯ä»¥å‘åŠ¨ä¸€ä¸ªç»„åˆé­”æ³•ã€‚ç»„åˆé­”æ³•çš„é­”åŠ›æ¶ˆè€—ä¸ºé€‰æ‹©çš„ç¬¦å¡çš„é­”åŠ›æ¶ˆè€—çš„æ€»å’Œï¼Œå…¶å¨åŠ›ä¸ºé€‰æ‹©çš„ç¬¦å¡çš„å¨åŠ›çš„æ€»å’Œã€‚å°çº¢å¿…é¡»ä¿è¯æœ€ç»ˆç¬¦å¡çš„é­”åŠ›æ¶ˆè€—æ€»å’Œä¸º â€‹â€‹ çš„å€æ•°ã€‚å°çº¢æƒ³çŸ¥é“ï¼Œè‡ªå·±èƒ½å‘åŠ¨çš„ç»„åˆé­”æ³•æœ€å¤§çš„å¨åŠ›æ˜¯å¤šå°‘ï¼Ÿ, &lt; 1e3; , &lt; 1e9 æ€è·¯ï¼š 01èƒŒåŒ…ï¼Œdp[i][j] è¡¨ç¤ºä¸ºå‰ i å¼ å¡é­”åŠ›æ¶ˆè€—æ¨¡ k ä¸º j çš„ç¬¦å¡å¨åŠ›çš„æœ€å¤§å€¼ã€‚ int a[1005], b[1005]; ll dp[1005][1005]; void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; rep(i, 1, n + 1) { cin &gt;&gt; a[i] &gt;&gt; b[i]; a[i] %= k; } rep(i, 1, n + 1) { dp[i][a[i]] = b[i]; rep(j, 0, k) { dp[i][j] = max(dp[i - 1][j], dp[i][j]); if(dp[i - 1][(j - a[i] + k) % k]) dp[i][j] = max(dp[i][j], dp[i - 1][(j - a[i] + k) % k] + b[i]); } } if(dp[n][0]) cout &lt;&lt; dp[n][0]; else cout &lt;&lt; -1; } J åŒºé—´åˆæ•°çš„æœ€å°å…¬å€æ•° (æ•°å­¦) é¢˜æ„ï¼š æ±‚åŒºé—´ ä¸­æ‰€æœ‰åˆæ•°çš„æœ€å°å…¬å€æ•°å¯¹ 1e9 + 7 å–æ¨¡, , &lt; 3e5 æ€è·¯ï¼š é¢„å¤„ç†æ‰€æœ‰çš„ç´ æ•°ï¼Œæ ¹æ®å”¯ä¸€åˆ†è§£å®šç†å¯çŸ¥æ‰€æœ‰çš„åˆæ•°å¯ä»¥åˆ†è§£æˆç´ æ•°çš„å¹‚çš„ä¹˜ç§¯ï¼Œæ±‚æœ€å°å…¬å€æ•° lcm åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªmapï¼Œå¯¹æ¯ä¸ªç´ å› å­å–æœ€é«˜æ¬¡å¹‚å³å¯ï¼Œå¿«é€Ÿå¹‚è®¡ç®—æœ€å°å…¬å€æ•°ã€‚ ll qpow(int a, int b) { ll ans = 1; for(; b; b &gt;&gt;= 1) { if(b &amp; 1) ans = ans * a % mod; a = a * a % mod; } return ans; } vector&lt;int&gt; prime; bool notprime[maxn]; void getprime() { notprime[1] = 1; rep(i, 2, maxn) { if(!notprime[i]) { prime.pb(i); for(int j = i * i; j &lt;= maxn; j += i) notprime[j] = 1; } } } map&lt;int, int&gt; mp; void solve() { int l, r; cin &gt;&gt; l &gt;&gt; r; ll ans = 1; getprime(); rep(i, l, r + 1) { if(!notprime[i]) continue; int tmp = i; for(auto x : prime) { int cnt = 0; while(tmp % x == 0) { tmp /= x; cnt++; } mp[x] = max(mp[x], cnt); if(tmp == 1) break; } } for(auto &amp;it : mp) { ans = ans * qpow(it.fst, it.sec) % mod; } if(ans == 1) cout &lt;&lt; -1 &lt;&lt; '\\n'; else cout &lt;&lt; ans &lt;&lt; '\\n'; }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"https://maskros.top/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://maskros.top/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"},{"name":"æ¬§æ‹‰é™å¹‚","slug":"æ¬§æ‹‰é™å¹‚","permalink":"https://maskros.top/tags/%E6%AC%A7%E6%8B%89%E9%99%8D%E5%B9%82/"}]},{"title":"Codeforces Round 770 (Div.2)","slug":"codeforces/cf 770","date":"2022-02-08T10:30:00.000Z","updated":"2022-02-15T11:14:34.482Z","comments":true,"path":"/post/codeforces/cf 770.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20770.html","excerpt":"Codeforces Round 770 (Div.2)","text":"Codeforces Round #770 (Div.2) è¢«äº¤äº’é¢˜å¹²ç¢ï¼ŒhackçœŸå¥½ç© A_Reverse_and_Concatenate æ°´é¢˜ void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; string s, ss; cin &gt;&gt; s; ss = s; reverse(s.begin(), s.end()); if (ss == s || k == 0) cout &lt;&lt; 1 &lt;&lt; \"\\n\"; else cout &lt;&lt; 2 &lt;&lt; \"\\n\"; } B_Fortune_Telling (xor) é¢˜æ„ï¼š ç»™å®šä¸€ä¸ª æ•°ç»„ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªéè´Ÿæ•´æ•° éå†æ•°ç»„ (ä» 1 åˆ° n) åšå¦‚ä¸‹æ“ä½œ: æˆ–è€… ã€‚ Alice ä» å¼€å§‹ï¼ŒBob ä» å¼€å§‹ï¼Œå·²çŸ¥è¾“å…¥æ•°æ®ä¸€å®šåˆæ³•ï¼Œè¯¢é—® Alice å’Œ Bob è°èƒ½éå†æ•°ç»„åå¾—åˆ° æ€è·¯ï¼š é‡è¦æ€§è´¨ï¼š å’Œ çš„å¥‡å¶æ€§ä¸ä¼šæ”¹å˜ æ ¹æ®é¢˜æ„ï¼Œ å’Œ çš„å¥‡å¶æ€§å›ºç„¶ä¸åŒï¼Œéå†åˆ¤æ–­å¥‡å¶æ€§å³å¯ã€‚ void solve() { ll n, x, y; cin &gt;&gt; n &gt;&gt; x &gt;&gt; y; x = x &amp; 1 ? 1 : 0; rep (i, 0, n){ int t; cin &gt;&gt; t; x = (x + t) &amp; 1 ? 1 : 0; } if ((x &amp; 1) == (y &amp; 1)) puts(\"Alice\"); else puts(\"Bob\"); } C_OKEA (æ„é€ ) é¢˜æ„ï¼š ç»™å®š , ï¼Œæ„é€ è¿™æ ·ä¸€ä¸ªä» åˆ° çš„çŸ©é˜µï¼Œè¦æ±‚æ¯è¡Œçš„ç›¸é‚» ä¸ªæ•°çš„å’Œè¦è¢« æ•´é™¤ï¼Œä¸èƒ½æ„é€ è¾“å‡º NOï¼Œå¦åˆ™è¾“å‡º YES å’Œæ„é€ æ–¹æ¡ˆã€‚ æ€è·¯ï¼šå—¯æ„é€ ï¼Œæ³¨æ„ä¸€ä¸‹ä¸ºNOçš„æ¡ä»¶ä¸º (n * k) % (2 * k) != 0 &amp;&amp; k != 1 å³å¯ void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; if((n * k) % (2 * k) &amp;&amp; k != 1) { puts(\"NO\"); return ;} puts(\"YES\"); rep(i, 1, n + 1){ rep(j, 0, k){ cout &lt;&lt; i + j * n &lt;&lt; \" \"; } en; } } D_Finding_Zero é¢˜æ„ï¼š äº¤äº’é¢˜, å¾…è¡¥ è¿™åœºå› ä¸ºäº¤äº’é¢˜å¡çš„äººè¿˜æŒºå¤šï¼Œç»“æœå»hackäº†åˆ«äººçš„Aï¼Œhackçš„æŒºçˆ½ï¼Œä¸Šäº†ä¸€æ³¢å°åˆ†","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://maskros.top/tags/%E6%9E%84%E9%80%A0/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"https://maskros.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"}]},{"title":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ)","slug":"probs/æ˜¥è”sg","date":"2022-02-04T15:30:50.000Z","updated":"2022-02-15T10:12:21.826Z","comments":true,"path":"/post/probs/æ˜¥è”sg.html","link":"","permalink":"https://maskros.top/post/probs/%E6%98%A5%E8%81%94sg.html","excerpt":"","text":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ) link é¢˜é¢ å°çº¢å’Œç´«å‡†å¤‡ç©ä¸€ä¸ªæ¸¸æˆã€‚å¥¹ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸² ã€‚ä¸¤äººè½®æµå°†ä¸€ä¸ªå°å†™å­—æ¯æ·»åŠ åˆ°ä¸€ä¸ªæ–°ä¸² çš„ç»“å°¾ï¼Œå¿…é¡»ä¿è¯tæ—¶åˆ»éƒ½æ˜¯ çš„ä¸€ä¸ªå­åºåˆ—ã€‚è°å…ˆæ— æ³•æ“ä½œåˆ™è¾“æ‰æ¸¸æˆã€‚ åˆå§‹æ˜¯ä¸€ä¸ªç©ºä¸²ã€‚å°çº¢å…ˆæ‰‹æ·»åŠ ï¼Œå‡è®¾ä¸¤äººéƒ½è¶³å¤Ÿèªæ˜ï¼Œè¯·é—®è°æœ€ç»ˆèƒ½è·å¾—èƒœåˆ©ï¼Ÿ å­åºåˆ— Defâ€™ï¼šè‹¥ä¸€ä¸ªå­—ç¬¦ä¸² åˆ é™¤éƒ¨åˆ†å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰åå¾—åˆ°å­—ç¬¦ä¸² ï¼Œé‚£ä¹ˆç§° æ˜¯ çš„å­åºåˆ—ã€‚ å¦‚æœå°çº¢è·å¾—èƒœåˆ©ï¼Œåˆ™è¾“å‡º â€œkouâ€ï¼Œå¦åˆ™è¾“å‡º â€œyukariâ€ é¢˜è§£ é¦–å…ˆï¼Œæœ€åä¸€ä¸ªå­—æ¯æ˜¯å¿…èƒœä½ç½®ï¼Œé‚£ä¹ˆä¸æœ€åä¸€ä¸ªå­—æ¯ç›¸åŒçš„ä½ç½®åˆ°æœ€åä¸€ä¸ªå­—æ¯ä¹‹é—´éƒ½æ˜¯å¿…è´¥åŒºé—´ï¼Œå› ä¸ºåœ¨è¿™ä¸­é—´é€‰ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å¯¹æ‰‹è‡³éœ€è¦é€‰æœ€åä¸€ä¸ªå­—æ¯å³å¯è·èƒœã€‚ é‚£ä¹ˆï¼Œå°±ä¼šå½¢æˆ , ä»£è¡¨å¿…è´¥åŒºé—´ï¼Œ ä»£è¡¨å¿…èƒœåŒºé—´ é‚£ä¹ˆè€ƒè™‘ç”±å¿…èƒœä½œä¸ºç¬¬ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆå°çº¢åªéœ€è¦å…ˆæ‰‹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆå°±ä¼šå°†å¯¹æ‰‹é€¼å…¥å¿…è´¥ ä¸å®Œæ•´çš„å¿…è´¥åŒºé—´ä½œä¸ºå¼€å¤´ï¼Œå°çº¢ä¹Ÿå¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªå¿…èƒœç‚¹ï¼Œè½¬ä¸ºæƒ…å†µ1 åªæœ‰å½“å®Œæ•´çš„å¿…è´¥åŒºé—´ï¼ˆæ‰¾åˆ°äº†ä¸ä¹‹åç¬¬ä¸€ä¸ªå¿…è´¥åŒºé—´ç›¸åŒçš„å­—æ¯ï¼‰ä½œä¸ºå¼€å¤´ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°çº¢åªèƒ½åœ¨å¿…è´¥åŒºé—´é€‰å–ï¼Œåˆ™æ— æ³•å–èƒœ ğŸ´ void solve(){ string s; cin&gt;&gt;s; int i,j=s.length()-1; for(i=j-1;i&gt;=0;i--){ if(s[i]==s[j])j=i-1,i=j; } if(j==-1) puts(\"yukari\"); else puts(\"kou\"); } å¦‚æœè¦æ±‚æ¯æ¬¡æ·»åŠ çš„æ—¶å€™téƒ½æ˜¯sçš„å­ä¸²ï¼Œè§£æ³•æ˜¯åç¼€è‡ªåŠ¨æœºnextæŒ‡é’ˆdagå›¾ä¸Šæ±‚sgå‡½æ•° &gt;~&lt;","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"åšå¼ˆ","slug":"åšå¼ˆ","permalink":"https://maskros.top/tags/%E5%8D%9A%E5%BC%88/"}]},{"title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥3","slug":"nowcoder/2022winter/round3","date":"2022-02-03T13:30:50.000Z","updated":"2022-02-24T06:41:19.480Z","comments":true,"path":"/post/nowcoder/2022winter/round3.html","link":"","permalink":"https://maskros.top/post/nowcoder/2022winter/round3.html","excerpt":"","text":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥3 AC 7 / 12 è¶Šæ‰“è¶Šèœ B æ™ºä¹ƒä¹°ç“œ (èƒŒåŒ…) é¢˜æ„ï¼š æ™ºä¹ƒæ¥åˆ°æ°´æœæ‘Šå‰ä¹°ç“œï¼Œæ°´æœæ‘Šä¸Šè´©å–ç€ ä¸ªä¸åŒçš„è¥¿ç“œï¼Œç¬¬ ä¸ªè¥¿ç“œçš„é‡é‡ä¸º ã€‚æ™ºä¹ƒå¯¹äºæ¯ä¸ªç“œéƒ½å¯ä»¥é€‰æ‹©ä¹°ä¸€ä¸ªæ•´ç“œæˆ–è€…æŠŠç“œåŠˆå¼€ä¹°åŠä¸ªç“œï¼ŒåŠä¸ªç“œçš„é‡é‡ä¸º ã€‚ä¿è¯æ‰€æœ‰ç“œçš„é‡é‡éƒ½æ˜¯ä¸€ä¸ªæ­£å¶æ•°ã€‚å¦‚æœä»–æƒ³è¦è´­ä¹°è¥¿ç“œçš„é‡é‡å’Œåˆ†åˆ«ä¸º æ—¶ï¼Œæœ‰å¤šå°‘ç§è´­ä¹°è¥¿ç“œçš„æ–¹æ¡ˆï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡ é¢˜è§£ï¼š åˆ†ç»„èƒŒåŒ…ï¼Œæ¯ä¸ªç“œæœ‰ä¸‰ç§å†³ç­–ï¼šä¹°ä¸€ä¸ª/åŠä¸ª/ä¸ä¹°ï¼Œ è¡¨ç¤ºå‰ ä¸ªç“œï¼Œé‡é‡ä¸º çš„æ–¹æ¡ˆæ•°ï¼Œæ•…å¯åˆ—å‡ºè½¬ç§»æ–¹ç¨‹ï¼š // dp[1005][2005] int dp[1005][2005]; int w[1005]; void solve() { int N, M; cin &gt;&gt; N &gt;&gt; M; rep(i, 1, N + 1) cin &gt;&gt; w[i]; rep(i, 1, N + 1) { dp[i][w[i]]++; dp[i][w[i] / 2]++; rep(j, 1, M + 1) { dp[i][j] += dp[i - 1][j]; if(j - w[i] &gt;= 0) dp[i][j] = (dp[i - 1][j - w[i]] + dp[i][j]) % mod; if(j - w[i] / 2 &gt;= 0) dp[i][j] = (dp[i - 1][j - w[i]/2] + dp[i][j]) % mod; } } rep(i, 1, M + 1) { cout &lt;&lt; dp[N][i] &lt;&lt; ' '; } } // dp[2005] another version int dp[2005]; int w[1005]; void solve() { int N, M; cin &gt;&gt; N &gt;&gt; M; rep(i, 1, N + 1) cin &gt;&gt; w[i]; rep(i, 1, N + 1) { red(j, M + 1, 1) { if(j - w[i] &gt;= 0) dp[j] = (dp[j - w[i]] + dp[j]) % mod; if(j - w[i] / 2 &gt;= 0) dp[j] = (dp[j - w[i] / 2] + dp[j]) % mod; } dp[w[i]]++; dp[w[i] / 2]++; } rep(i, 1, M + 1) { cout &lt;&lt; dp[i] &lt;&lt; ' '; } } *C æ™ºä¹ƒä¹°ç“œ v2 (dp) é¢˜æ„ï¼š Bé¢˜çš„åè½¬ï¼Œç»™å®šè´¨é‡ä» åˆ° çš„ä¹°ç“œæ–¹æ¡ˆæ•°ï¼Œè®©ä½ è¿˜åŸè¥¿ç“œçš„ä¸ªæ•°å’Œè´¨é‡ã€‚ æ€è·¯ï¼š é¦–å…ˆå®¹æ˜“çŸ¥é“ çš„ä¸ªæ•°æ˜¯ç¡®å®šçš„ã€‚ä¸æ”¾å€’ç€è€ƒè™‘ï¼Œåœ¨Bé¢˜ä¸­dp[i, j]çš„æ–¹æ¡ˆæ•°æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Œè¿™é‡Œå°±æ€ä¹ˆå‡å»ã€‚æ€è·¯å°±æ˜¯åœ¨æŠŠä¸€ä¸ªä¸ªdpæ–¹æ¡ˆæ•°å˜ä¸º â€‹ çš„è¿‡ç¨‹ä¸­ä¸æ–­å°†ä½¿ç”¨çš„é‡é‡æ”¾åˆ°ç­”æ¡ˆvectorä¸­ã€‚ä»å‰å¾€åéå†dpæ•°ç»„ï¼Œå¦‚æœä¸€ä¸ªä½ç½®çš„å€¼ä¸ä¸º0ï¼Œè¯´æ˜è¿™äº›å‰©ä¸‹çš„è¿™ä¸ªé‡é‡iå¯¹åº”çš„æ–¹æ¡ˆæ•°åªèƒ½ç”± i*2 è¿™ä¸ªè¥¿ç“œ/2æ¥æä¾›ã€‚æ­¤æ—¶å°±æŠŠä¸€ä¸ªi*2æ”¾å…¥ansï¼Œç„¶åæ›´æ–°åé¢çš„dpæ•°ç»„éƒ¨åˆ† TIPS: i==j æ—¶å°±æ˜¯å¤„ç† dp[i]ï¼Œå‰©ä¸‹çš„æ–¹æ¡ˆæ•°ç”±dp[i]ä¸ªi*2çš„ç“œæä¾›ï¼Œå› æ­¤dp[0]è¦è®¾ç½®ä¸º1ï¼Œå³æ¯æ¬¡éƒ½è¦å‡1ã€‚ int dp[2005]; vector&lt;int&gt; w; void solve() { int M; cin &gt;&gt; M; rep(i, 1, M + 1) cin &gt;&gt; dp[i]; dp[0] = 1; // important rep(i, 1, M + 1) { while(dp[i]) { w.pb(2 * i); rep(j, i, M + 1) { dp[j] = (dp[j] - dp[j - i] + mod) % mod; if(j - 2 * i &gt;= 0) dp[j] = (dp[j] - dp[j - i * 2] + mod) % mod; } } } cout &lt;&lt; w.size() &lt;&lt; \"\\n\"; for (auto v : w) cout &lt;&lt; v &lt;&lt; ' '; } D æ™ºä¹ƒçš„01ä¸²æ‰“ä¹± æ°´é¢˜ void solve() { int n; cin &gt;&gt; n; string s; cin &gt;&gt; s; rep(i, 1, s.size()){ if(s[i] != s[0]) { swap(s[0], s[i]); break;} } cout &lt;&lt; s; } E æ™ºä¹ƒçš„æ•°å­—ç§¯æœ¨ ezv è´ªå¿ƒæš´åŠ›å³å¯ int n, m, k; char s[100005]; int a[100005]; ll cal() { ll ret = s[0] - '0'; rep(i, 1, n) { ret = (ret * 10 + s[i] - '0') % mod; } return ret; } void op() { int idx = 0; rep(i, 1, n) { if (a[i] != a[idx]) { sort(s + idx, s + i, greater&lt;char&gt;() ); idx = i; } } sort(s + idx, s + n, greater&lt;char&gt;() ); cout &lt;&lt; cal() &lt;&lt; '\\n'; } void solve() { cin &gt;&gt; n &gt;&gt; m &gt;&gt; k &gt;&gt; s; a[0] = 0; rep(i, 0, n) cin &gt;&gt; a[i]; op(); rep(i, 0, k) { int x, y; cin &gt;&gt; x &gt;&gt; y; rep(i, 0, n) { if(a[i] == x) a[i] = y; } op(); } } G æ™ºä¹ƒçš„æ ‘æ—‹è½¬ ezv ç®€å•çš„æ ‘çš„æ€§è´¨ int fa[1005]; void solve() { int n; cin &gt;&gt; n; rep(i, 1, n + 1) fa[i] = i; int x1, x2; rep(i, 1, n + 1) { cin &gt;&gt; x1 &gt;&gt; x2; if (x1) fa[x1] = i; if (x2) fa[x2] = i; } int ans = 0; rep(i, 1, n + 1) { cin &gt;&gt; x1 &gt;&gt; x2; if (x1 &amp;&amp; fa[i] == x1) ans = x1; if (x2 &amp;&amp; fa[i] == x2) ans = x2; } if(ans) cout &lt;&lt; 1 &lt;&lt; '\\n' &lt;&lt; ans; else cout &lt;&lt; 0; } I æ™ºä¹ƒçš„å¯†ç  (äºŒåˆ†/å‰ç¼€å’Œ) é¢˜æ„ï¼š å¯†ç æ˜¯ä»…åŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šç¬¦å·çš„å­—ç¬¦ä¸²ï¼›å¯†ç çš„é•¿åº¦ä¸å°‘äº ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ä¸å¤šäº ä¸ªå­—ç¬¦ã€‚å¯†ç ä¸­åº”è¯¥è‡³å°‘åŒ…æ‹¬â‘ å¤§å†™è‹±æ–‡å­—æ¯ã€â‘¡å°å†™è‹±æ–‡å­—æ¯ã€â‘¢æ•°å­—ã€â‘£ç‰¹æ®Šç¬¦å·è¿™å››ç±»å­—ç¬¦ä¸­çš„ä¸‰ç§ã€‚ ç°åœ¨æ™ºä¹ƒæœ‰ä¸€ä¸ªé•¿åº¦å¤§å°ä¸º çš„å­—ç¬¦ä¸² ï¼Œå¥¹æƒ³çŸ¥é“ â€‹ ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­ä¸²æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å¯†ç ï¼Œè¯·ä½ å¸®åŠ©æ™ºä¹ƒç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„å¯†ç æ•°ç›® æ€è·¯ï¼š å‰ç¼€å’Œå¤„ç†å­—ç¬¦ä¸²ï¼Œéå†æšä¸¾å·¦ç«¯ç‚¹ï¼ŒäºŒåˆ†æ‰¾ç¬¦åˆæ¡ä»¶æœ€è¿‘è·ç¦»çš„å³ç«¯ç‚¹ï¼Œè®¡ç®—è´¡çŒ®å€¼ã€‚ int n, l, r; char s[100005]; int pre[100005][5]; bool check(int ll, int rr) { int checksum = min(pre[rr][0] - pre[ll - 1][0], 1) + min(pre[rr][1] - pre[ll - 1][1], 1) + min(pre[rr][2] - pre[ll - 1][2], 1) + min(pre[rr][3] - pre[ll - 1][3], 1); if(checksum &gt;= 3) return 1; return 0; } void solve() { cin &gt;&gt; n &gt;&gt; l &gt;&gt; r; rep(i, 1, n + 1) cin &gt;&gt; s[i]; pre[0][0] = pre[0][1] = pre[0][2] = pre[0][3] = 0; rep(i, 1, n + 1) { rep(j, 0, 4) pre[i][j] = pre[i - 1][j]; if(s[i] &lt;= '9' &amp;&amp; s[i] &gt;= '0') pre[i][0]++; eif(s[i] &lt;= 'Z' &amp;&amp; s[i] &gt;= 'A') pre[i][1]++; eif(s[i] &lt;= 'z' &amp;&amp; s[i] &gt;= 'a') pre[i][2]++; else pre[i][3]++; } ll ans = 0; rep(i, 1, n + 1) { if(i + l - 1 &gt; n) break; int mnpos = 0; int L = l - 1, R = min(r - 1, n - i); while(L &lt;= R) { int mid = (L + R) / 2; if(check(i, i + mid)) { R = mid - 1; mnpos = min(r - 1, n - i) - mid + 1; }else L = mid + 1; } ans += mnpos; } cout &lt;&lt; ans &lt;&lt; '\\n'; } J æ™ºä¹ƒçš„Cè¯­è¨€æ¨¡é™¤æ–¹ç¨‹ (åˆ†ç±»è®¨è®º) é¢˜æ„ï¼š æ¨¡é™¤æ˜¯ä¸€ç§ä¸å…·äº¤æ¢æ€§çš„äºŒå…ƒè¿ç®—ã€‚æ¨¡é™¤ï¼ˆåˆç§°æ¨¡æ•°ã€å–æ¨¡æ“ä½œã€å–æ¨¡è¿ç®—ç­‰ï¼Œè‹±è¯­ï¼š æˆ– ã€‚å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ•°é™¤ä»¥å¦ä¸€ä¸ªæ•°çš„ä½™æ•°ï¼Œç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼šè¢«é™¤æ•° å’Œé™¤æ•° ï¼Œå¾—åˆ°çš„æ˜¯ä½¿ç”¨æ¬§å‡ é‡Œå¾·é™¤æ³•æ—¶ çš„ä½™æ•°ã€‚ è€Œå½“ å’Œ å‡ºç°è´Ÿæ•°æ—¶ï¼Œé€šå¸¸çš„å®šä¹‰å°±ä¸é€‚ç”¨äº†ï¼Œc/c++è¯­è¨€ä¸­ï¼Œå½“è¢«é™¤æ•° æˆ–è€… å‡ºç°è´Ÿæ•°æ—¶ï¼Œè¿ç®—çš„è¿‡ç¨‹ä¸­é¦–å…ˆå°† å’Œ ä½œä¸ºéè´Ÿæ•´æ•°è¿›è¡Œè¿ç®—ï¼Œç„¶åå¾—å‡ºç»“æœæ—¶ç¬¦å·ä¸è¢«é™¤æ•° ä¿æŒä¸€è‡´ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ è€Œ ã€‚ ç°åœ¨æ™ºä¹ƒæœ‰ä¸€ä¸ªæ¨¡é™¤æ–¹ç¨‹ï¼š ï¼Œ å…¶ä¸­ ä¸ºæœªçŸ¥æ•°, ä¸ºç»™å®šå¸¸æ•°, å¯ä¸ºåŒºé—´ å†…çš„ä»»æ„æ•´æ•°ï¼Œè¿ç®—éµå¾ªc/c++ä¸­æ¨¡é™¤è¿ç®—çš„è¿ç®—æ³•åˆ™ã€‚ æ˜¾ç„¶è¿™ä¸ªæ–¹ç¨‹çš„è§£å¹¶ä¸ä¸ºä¸€ï¼Œæ‰€ä»¥æ™ºä¹ƒç°åœ¨ç»™ä½ åˆ’å®šäº†ä¸€ä¸ªæ•´æ•°ç­”æ¡ˆåŒºé—´ ï¼Œè¯¢é—®ç­”æ¡ˆåŒºé—´ å†…æœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„æ•´æ•° èƒ½ä½¿å¾—ç­‰å¼ â€‹ æˆç«‹ã€‚ æ€è·¯ï¼šåˆ†ç±»è®¨è®º #include &lt;bits/stdc++.h&gt; using namespace std; int P, l, r, L, R; typedef long long ll; ll ans; ll calc(ll a, ll b, ll c, ll d) { //è®¡ç®—ç¬¦åˆæ¡ä»¶çš„åŒºé—´é•¿ if (b &lt; c || d &lt; a) return 0ll; ll r = min(b, d), l = max(a, c); return r - l + 1; } ll query(ll u) { //[0,u]ä¸­ç¬¦åˆæ¡ä»¶çš„ä¸ªæ•° // u/pä»½ æ¯ä»½æ‰€åœ¨æ€»åŒºé—´ä¸º[0,P-1] // u%p ä½™æ•°ä¸º[1,u%p] 0%p=0 æ€»åŒºé—´[0,p] if (u &gt;= 0) return 1ll * (u / P) * calc(0, P - 1, l, r) + 1ll * calc(0, u % P, l, r); else return 1ll * abs(u) / P * calc(1 - P, 0, l, r) + 1ll * calc(u % P, 0, l, r); } int main() { cin &gt;&gt; P &gt;&gt; l &gt;&gt; r &gt;&gt; L &gt;&gt; R; P = abs(P); if (L &gt;= 0 &amp;&amp; R &gt;= 0) ans = query(R) - query(L - 1); else if (L &lt;= 0 &amp;&amp; R &gt;= 0) ans = query(R) + query(L) - query(0); else ans = query(L) - query(R + 1); cout &lt;&lt; ans &lt;&lt; endl; return 0; } L æ™ºä¹ƒçš„æ•°æ®åº“ (æ¨¡æ‹Ÿ) é¢˜æ„ï¼š æ¨¡æ‹ŸSQLè¯­å¥: SELECT COUNT(*) FROM Table GROUP BY ...; æ€è·¯ï¼š æ¨¡æ‹Ÿå³å¯ï¼Œæ³¨æ„ç»†å¿ƒä¸è¦å†™é”™ int N, M; map&lt;string, int&gt; mp; vector&lt;int&gt; order; struct node { int data[maxn]; } a[maxn]; bool cmp(node x, node y){ rep(i, 0, order.size()) { int idx = order[i]; if(x.data[idx] == y.data[idx]) continue; else return x.data[idx] &lt; y.data[idx]; } return x.data[0] &lt; y.data[0]; } void solve() { cin &gt;&gt; N &gt;&gt; M; string s; rep(i, 0, M) { cin &gt;&gt; s; mp[s] = i;} rep(i, 0, N) { rep(j, 0, M) { cin &gt;&gt; a[i].data[j]; } } rep(i, 0, 7) cin &gt;&gt; s; int bg = 0; rep(i, 0, s.size()) { if(s[i] == ',' || s[i] == ';') { string key = s.substr(bg, i - bg); bg = i + 1; order.pb(mp[key]); } } sort(a, a + N, cmp); int cnt = 1; vector&lt;int&gt; ret; rep(i, 1, N) { rep(j, 0, order.size()) { int idx = order[j]; if(a[i].data[idx] != a[i - 1].data[idx]) { ret.pb(cnt); cnt = 0; break; } } cnt++; } ret.pb(cnt); cout &lt;&lt; ret.size() &lt;&lt; '\\n'; for (auto x : ret) cout &lt;&lt; x &lt;&lt; ' '; }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"https://maskros.top/tags/%E6%A8%A1%E6%8B%9F/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"https://maskros.top/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"}]},{"title":"Codeforces Round 769 (Div.2)","slug":"codeforces/cf 769","date":"2022-02-02T10:30:00.000Z","updated":"2022-02-14T11:50:34.731Z","comments":true,"path":"/post/codeforces/cf 769.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20769.html","excerpt":"Codeforces Round 769 (Div.2)","text":"Codeforces Round #769 (Div.2) virtual participant A_ABC æ°´é¢˜ void solve() { int t; cin&gt;&gt;t; string s; cin&gt;&gt;s; if(t&gt;=3){puts(\"NO\");} else{ if(t==1) puts(\"YES\"); eif(t==2&amp;&amp;s[0]==s[1]) puts(\"NO\"); else puts(\"YES\"); } } B_Fun_with_Even_Subarrays (æ„é€ /xor) é¢˜æ„ï¼š ä» ~ ä»£è¡¨ ä¸ªè¿ç»­æŸ±å­çš„é«˜åº¦ï¼Œç°åœ¨éœ€è¦æ„é€ ä¸€ä¸ªæ’åˆ—ï¼Œæ„å»ºçš„æˆæœ¬ä¸ºç›¸é‚»æŸ±å­å¼‚æˆ–çš„æœ€å¤§å€¼ï¼Œå³ ï¼Œç°åœ¨è¦ä½¿æˆæœ¬æœ€å°ã€‚ æ€è·¯ï¼š æ— è®ºå¦‚ä½•å¼‚æˆ–çš„æœ€å¤§å€¼éƒ½ç”±æœ€é«˜ä½å†³å®šï¼Œæ³¨æ„æŠŠä»–å’Œä½ä½çš„å…¨1æ•°é”™å¼€å³å¯ void solve() { int n; cin&gt;&gt;n; int mx; rep(i,1,20){ int p=pow(2,i); if(p==n-1) {mx=p; break;} eif(p&gt;n-1) {mx=pow(2,i-1); break;} } rep(i,1,mx) cout&lt;&lt;i&lt;&lt;\" \"; cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;mx&lt;&lt;\" \"; rep(i,mx+1,n) cout&lt;&lt;i&lt;&lt;\" \"; en; } C_Strange_Test (or) é¢˜æ„ï¼š ç»™å®š å’Œ (a&lt;b)ï¼Œå¯ä»¥åšä»»æ„æ¬¡æ“ä½œï¼š â€‹ è¯¢é—®è‡³å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿ ? æ€è·¯ï¼š ç”±äºoræ“ä½œçš„æ€§è´¨ï¼Œ ä¸€å®šå¤§äº å’Œ ï¼Œæ•…æˆ–æ“ä½œæœ€å¤šæ‰§è¡Œä¸€æ¬¡ã€‚æ‰€ä»¥åªéœ€åˆ¤æ–­æ˜¯å…ˆ è‡ªåŠ å† or è¿˜æ˜¯å…ˆ è‡ªåŠ å† or å³å¯ã€‚ // åªå¯èƒ½å…ˆa++å†orï¼Œæˆ–è€…å…ˆb++å†or void solve() { int a, b; cin &gt;&gt; a &gt;&gt; b; int x = a, y = b; int ans1 = 1, ans2 = 1; while((x|y) != y &amp;&amp; x &lt;= y) x++, ans1++; if(x == y) ans1--; while((a|b) != b) b++, ans2++; cout &lt;&lt; min(ans1, ans2) &lt;&lt; \"\\n\"; } D_New_Year_Concert (STè¡¨/äºŒåˆ†) é¢˜æ„ï¼š ä¸ªå­¦æ ¡ä» åˆ° ç¼–å·ï¼Œç¬¬ ä¸ªç­çº§å‡†å¤‡äº†æ—¶é•¿ä¸º çš„èŠ‚ç›®ï¼Œå¯¹äºå‰ ä¸ªèŠ‚ç›®ï¼Œå¦‚æœå­˜åœ¨ , () ä¸” ï¼Œè§‚ä¼—å°±ä¼šæ„Ÿè§‰æ— èŠï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„èŠ‚ç›®çš„æ—¶é•¿ä¸ºä»»æ„æ­£æ•´æ•°ã€‚ è§„å®š ä¸ºå‰ ä¸ªèŠ‚ç›®éœ€è¦ä¿®æ”¹çš„æœ€å°æ¬¡æ•°ï¼Œæ‰“å° æ€è·¯ï¼š æ³¨æ„åˆ°ï¼Œaä¸ªæ•°çš„GCDä¸€å®šä¸å°äºa+1ä¸ªæ•°çš„GCDï¼Œå› æ­¤å…¶å…·æœ‰å•è°ƒæ€§ï¼ˆæ»¡è¶³äºŒåˆ†æ¡ä»¶ï¼‰ã€‚ä¸”æ¯æ¬¡æ“ä½œçš„é‚£ä¸ªæ•°å¯ä»¥æ›¿æ¢ä¸ºä»»æ„å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥å–ä¸€ä¸ªå¤§ç´ æ•°ã€‚ä¸”få€¼å…·æœ‰æ‰¿è¢­æ€§ã€‚é‚£ä¹ˆè€ƒè™‘è¿™æ ·ä¸€ä¸ªåšæ³•ï¼š éå†1åˆ°nï¼Œè®¾å½“å‰ä¸ºiï¼Œlstä¸ºä¸Šä¸€æ¬¡è¿›è¡Œæ“ä½œçš„ä½ç½®+1ã€‚å¦‚æœå½“å‰a[i] = 1ï¼Œå¿…ç„¶è¦è¿›è¡Œæ›´æ”¹ï¼›å¦åˆ™åŸºäºä¸Šé¢æåˆ°çš„nä¸ªæ•°GCDçš„æ€§è´¨ï¼ŒäºŒåˆ†æ‰¾[lst, i]è¿™æ®µåŒºé—´æ˜¯å¦å­˜åœ¨æŸä¸ªå­—åŒºé—´[x, i]æ»¡è¶³ã€‚å¦‚æœæœ‰çš„è¯åˆ™è®© ï¼ŒåŒæ—¶ æ›´æ–°ä¸º ï¼›å¦‚æœæ²¡æœ‰åˆ™è®© å³å¯ï¼ŒäºŒåˆ†checkä½¿ç”¨STè¡¨æŸ¥è¯¢åŒºé—´GCDã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; int a[200009], st[200009][30]; int gcd(int a, int b) { if(b == 0) return a; return gcd(b, a % b); } int query(int l, int r) { int k = log2(r - l + 1); return gcd(st[l][k], st[r-(1&lt;&lt;k)+1][k]); } int main() { int n; cin &gt;&gt; n; for(int i = 1; i &lt;= n; i++) { scanf(\"%d\", &amp;a[i]); st[i][0] = a[i]; } for(int j = 1; j &lt;= 20; j++) { for(int i = 1; i &lt;= n; i++) { if(i + (1 &lt;&lt; j) - 1 &gt; n) continue; st[i][j] = gcd(st[i][j-1], st[i+(1&lt;&lt;(j-1))][j-1]); } } int pos = 1, ans = 0; for(int i = 1; i &lt;= n; i++) { int l = pos, r = i; while(l &lt; r) { int mid = (l + r) / 2; if(query(mid, i) &gt;= i - mid + 1) r = mid; else l = mid + 1; } if(query(l, i) == i - l + 1) { ans++; pos = i + 1; } printf(\"%d \", ans); } cout &lt;&lt; endl; return 0; }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://maskros.top/tags/%E6%9E%84%E9%80%A0/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"https://maskros.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"name":"STè¡¨","slug":"STè¡¨","permalink":"https://maskros.top/tags/ST%E8%A1%A8/"}]},{"title":"è®°å¿µäºŒã€‡äºŒä¸€","slug":"life/Summary_2021","date":"2022-02-01T15:50:00.000Z","updated":"2022-02-01T16:07:08.837Z","comments":true,"path":"/post/life/Summary_2021.html","link":"","permalink":"https://maskros.top/post/life/Summary_2021.html","excerpt":"","text":"è®°å¿µäºŒã€‡äºŒä¸€ ä»¥ä¸‹ Q&amp;Aï¼š Qï¼šä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€ï¼Ÿ Aï¼šè¿™ä¸ªè¯å¯¹äºæˆ‘æ¥è¯´æœ€æ—©å‡ºè‡ªé«˜ä¸­å­¦è¿‡çš„ä¸€ç¯‡è¯¾æ–‡ï¼Œé²è¿…çš„ã€Šè®°å¿µåˆ˜å’Œçå›ã€‹ï¼Œå…³äºè¿™ä¸€ç¯‡ä¸ºå•¥æˆ‘è®°å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œè¿™é‡ŒæŒ‰ä¸‹ä¸è¡¨ã€‚å½“æ—¶å°±åœ¨æƒ³ä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€è€Œéâ€œçºªå¿µâ€ï¼Œç„¶åæŸ¥äº†æŸ¥ï¼Œæˆ‘è§‰å¾—æœ€é è°±çš„ç†ç”±å°±æ˜¯ä»–å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ–‡ç™½æ··æ‚ã€ç®€ç¹æ··ç”¨æ‰å†™çš„â€œè®°å¿µâ€ã€‚ä»€ä¹ˆè¯¸å¦‚ç»†ç»†å“å‘³åœ¨ã€Šçº¿ä»£æ±‰è¯­è¯å…¸ã€‹ä¸­è¯æ€§å’Œç”¨æ³•çš„å¾®å¾®å·®å¼‚ï¼Œæˆ‘è§‰å¾—è¿™ç§çJBçŒœçš„éƒ½æ˜¯æ‰¯æ·¡ã€‚ä½†æ˜¯è¯´å›æ­£é¢˜ï¼Œæˆ‘åœ¨è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨â€è®°å¿µâ€œå‘¢ï¼Œå°±æ˜¯å› ä¸ºæƒ³ç”¨äº†ã€‚ Qï¼šä¸ºä»€ä¹ˆå¤§å¹´åˆä¸€æ‰å‘å¹´ç»ˆæ€»ç»“ï¼Œè€Œä¸æ˜¯1æœˆ1å·ï¼Ÿ Aï¼šè¿™ä¸ªæœ‰å¾ˆå¤šåŸå› ã€‚æˆ‘è¿˜æ˜¯æ›´å€¾å‘äº1æœˆ1å·ä»£è¡¨æ–°çš„ä¸€å¹´ï¼Œæ—¥å†ä¹Ÿå¾—æ¢æœ¬æ–°çš„ï¼Œè™½ç„¶ğŸ‘´ğŸ»ä¸ç”¨å°å†ã€‚é‚£å¤©æ™šä¸Šæƒ³å†™æ¥ç€åˆå› ä¸ºæ„Ÿè§‰æœ‰äº›ä½œä¸šæ²¡å¤„ç†ï¼Œæ¯”è¾ƒå¿™ï¼Œå°±æ²¡å†™ã€‚å®é™…æƒ…å†µæ˜¯å½“å¤©æ™šä¸Šæ‘†äº†ï¼Œå•¥æ­£äº‹æ²¡å¹²ï¼Œè¿‡äº†é‚£å¤©åˆè§‰å¾—å†™æœ‰æ²¡å•¥æ„æ€ï¼Œå°±æ‹–ä¸‹æ¥äº†ã€‚æ€»ç»“ï¼šæ‘†äº†ï¼Œæ²¡æ¥å¾—åŠå†™ã€‚ OKï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ã€‚ æœ¬æ–‡è´¯å½»æ€»-åˆ†-æ€»çš„è¡Œæ–‡ç»“æ„ï¼Œä»¥ä¸‹å™äº‹æŒ‰æ—¶é—´è½´è¿›è¡Œï¼Œæ— å›¾ï¼ˆå…¶å®å›¾æŒºå¤šçš„è¦æ”¾å›¾ä¹Ÿè¡Œä½†æ˜¯æ‡’å¾—æ”¾ï¼‰ï¼Œæœ€åæ¥ä¸ªæ€»ç»“ï¼Œover. ï¼ˆä»¥ä¸‹ä¸ºç›®å½•ï¼Œå¦‚æœä½ æ˜¯PCçš„è¯å³è¾¹å„¿ğŸ‘‰ğŸ»ä¹Ÿæœ‰ã€æ’ç‰ˆéƒ¨åˆ†å€Ÿé‰´äº†coinå“¥å“¥ğŸ¥°çš„é£æ ¼ï¼‰ ä¸€æœˆ ä¸€äº›æ–°é²œäº‹ ç”Ÿæ—¥ è€ƒè¯•å‘¨ äºŒæœˆ MCM[1] æ˜¥æ™š ä¸‰æœˆ å››æœˆ è“è²èŠ± Take On me The Dawn 1ä¸¶æƒŠå–œ äº”æœˆ è´¥èµ°é“¶å· æ‘‡æ»šä¹‹å¤œ å…­æœˆ å±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£â€ Livehouse æ¬§æ´²æ¯ è€ƒè¯•æœˆ ä¸ƒæœˆ ä½“éªŒç”Ÿæ´» NBA Final è®­ç»ƒ å…«æœˆ ä¸œäº¬å¥¥è¿ ğŸ‘©â€™s Birthday CR7 ä¹æœˆ Webæ¡†æ¶ç¼–ç¨‹ å›½èµ› è—ä¹¦ç¥¨ åæœˆ ğŸ‘‹ï¼Œæ—§æ‰‹æœº VlogğŸ‘¶ğŸ»æ¨ªç©ºå‡ºä¸– åä¸€æœˆ EDG æµ·è¶…[2] è´¥èµ°ä¸Šæµ· åäºŒæœˆ CCSP è½¯ä»¶å·¥ç¨‹ æ€»ç»“ è¿·èŒ« è½®å»“ å±•æœ› ä¸€æœˆ è¿‘å¹´çš„ä¸€æœˆéƒ½å¦‚æ­¤èˆ¬ç»å…¸ï¼Œä¸è¿‡ä»Šå¹´æ–°é²œä¸€ç‚¹ ä¸€äº›æ–°é²œäº‹ æ¥è‡ªbilibiliå¹´ç»ˆæŠ¥å‘Šï¼šåŸæ¸¸å¤§å¸äººå¯èƒ½æ˜¯ä½ ä»Šå¹´æœ€å–œæ¬¢çš„UPä¸»ï¼Œä½ ä¸€å…±çœ‹äº†TAçš„è§†é¢‘ 718 æ¬¡ï¼Œè¿™æˆ–è®¸è¯æ˜äº†æˆ‘å¯¹é‡‘è½®çš„çˆ±ï¼Œä½†æ˜¯ä¹Ÿä¾§é¢è¯æ˜äº†æŠŠå¾ˆå¤šæ—¶é—´æµªè´¹åˆ°äº†çŸ­è§†é¢‘ä¸Šã€‚ æ¥è‡ªğŸ‘©[1]ï¼šä¸åŒä»¥å¾€çš„æ˜¯ï¼Œæˆ‘åœ¨2020å¹´åº•å› ä¸ºè¯¸å¤šå› ç´ æ”¶è·äº†ä¸€ä¸ªğŸ‘©ï¼Œæ‰€ä»¥ç»™æœ´ç´ çš„ä¸€æœˆå¢æ·»äº†è®¸å¤šæ´»åŠ›ã€‚ [1]ğŸ‘©: æŒ‡ğŸ‘© ç”Ÿæ—¥ 2021/1/10 æ¯å¹´ä¸€è¶Ÿçš„ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæœ‰äº†ğŸ‘©çš„æˆ‘åœ¨ğŸ‘©çš„å¸¦é¢†ä¸‹å‡ºå»æ°é¥­ï¼Œç”±äºæœ‰ğŸ‘©ä¹‹å‰æˆ‘ä¸€å‘æ˜¯ä¸å’‹ç¦»æ ¡çš„ï¼Œä¸€æ˜¯å› ä¸ºæ²¡å•¥äººå’Œæˆ‘å‡ºå»ï¼Œè‡ªå·±å‡ºå»ä¹Ÿæ²¡å•¥æ„æ€ï¼›äºŒæ˜¯å‡ºå»è¦ä¹ˆå°±ç»å…¸çŸ³è€äººï¼Œè¿™ä¸ªæˆ‘ä¸å¥½è¯„ä»·ï¼›æ‰€ä»¥ä¸å¾—ä¸è¯„ä»·å‡ºå»æ°é¥­çš„æ„Ÿè§‰è¿˜æŒºå—¨çš„ã€‚ è€ƒè¯•å‘¨ ä¸€å¦‚æ—¢å¾€çš„è€ƒè¯•å‘¨ï¼Œä»Šå¹´æˆ‘æ¢äº†ç­–ç•¥ï¼Œåœ¨ç†Ÿç»ƒè¿ç”¨markdownæŠ€æœ¯åæˆ‘å¿ƒè¡€æ¥æ½®ç”¨markdownç»“åˆè¯¾ä»¶å¼€å§‹çŒ›æ•´å¤ä¹ èµ„æ–™ï¼Œç»“è®ºæ˜¯åŠç”¨æ²¡æœ‰ã€‚æœ‰äº›cvçš„ä¸œè¥¿ä½ cväº†ä¹Ÿæ²¡å•¥å°è±¡ï¼Œæ‰“å°äº†ä¹‹åæ’ç‰ˆå¤§é‡çš„ç©ºä½™ä¹Ÿè®©æˆ‘æ‡’å¾—ç¿»é¡µï¼Œæ‰€ä»¥ä¸å‡ºæ„å¤–çš„è€ƒå¯„äº†ï¼Œè®©ç–«æƒ…ç»™é«˜åˆ†åé‡æ–°å¸¦ç»™æˆ‘çš„ä¿¡å¿ƒåˆç“¦äº†[2]ã€‚ [2] ç“¦äº†ï¼šæŒ‡æ— äº† äºŒæœˆ ä»Šå¹´çš„å¯’å‡æ¯”å¾€å¹´çš„å¯’å‡å……å®ä¸€ç‚¹ã€ã€ MCM[1] [1] MCM: The Mathematical Contest in Modelingï¼ŒæŒ‡ç¾å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›ï¼Œåˆåæ°´èµ› å¾€å¹´çš„å¯’å‡å¯¹äºæˆ‘æ¥è¯´ç¡®å®æ˜¯çº¯çº¯çš„å‡æœŸï¼Œä½†æ˜¯æ€»æœ‰äººåˆ©ç”¨è¿™æ®µæ—¶é—´å·å·å­¦ä¹ ã€‚æ­£å¦‚å±±ä¸œçœå®éªŒä¸­å­¦æ ¡é•¿ï¼Œå…šå§”ä¹¦è®°éŸ©ç›¸æ²³åœ¨å¼€å­¦å…¸ç¤¼ä¸Šçš„é‡è¦è®²è¯ï¼šâ€œä¸æ€•åŒå­¦æ˜¯å­¦éœ¸ï¼Œå°±æ€•å­¦éœ¸æ”¾ä¹¦æ¶[2] â€ï¼Œæˆ‘æ·±æ„ŸèµåŒã€‚ä½†æ˜¯ä»Šå¹´å¿ƒè¡€æ¥æ½®ï¼Œå†³å®šç¢°ç¢°è¿æ°”ï¼Œäºæ˜¯å¼€å§‹è¿›è¡Œå»ºæ¨¡é€Ÿæˆ[3]ã€‚èµ›å‰ï¼Œæˆ‘åšå¥½äº†å……åˆ†çš„æ—¶é—´è§„åˆ’ï¼Œå‡è£…è‡ªå·±æ˜¯ä¸ªé«˜æ‰‹ã€‚ æœ€ç»ˆèµ›æ—¶åœ¨ä¸¤ä½ğŸ‘´çš„å¸¦é¢†ä¸‹æŒ‰ç…§è®¡åˆ’ï¼Œå®Œæˆäº†ç”±(&gt;60%)Googleç¿»è¯‘æ„æˆçš„ã€å›¾æ–‡å¹¶èŒ‚çš„ã€Šè®ºçœŸèŒã€‹[4]ï¼Œé€šç¯‡çœ‹èµ·æ¥æä¸ºå”¬äººã€‚å½“æ™šæŒ‰æ—¶ä¸Šäº¤ï¼Œç›´æ¥å€’å¤´å°±ç¡ï¼Œå¯’å‡å­¦ä¹ ä¹‹æ—…å‘Šä¸€æ®µè½ï¼Œå®é™…ä¸Šå­¦äº†ä¹Ÿæ²¡å•¥ç”¨ã€‚ [2] ä¹¦æ¶ï¼šé€šâ€æš‘å‡â€œï¼ŒéŸ©ç›¸æ²³æ ¡é•¿ç²¾é€šå±±ä¸œæŸåœ°å£éŸ³ï¼Œæ•…å…¶è®²è¯å£°è°ƒæŠ‘æ‰¬é¡¿æŒ« [3] å»ºæ¨¡é€Ÿæˆï¼šæŒ‡è§‚çœ‹Blibiliã€Šç¾èµ›é€Ÿæˆã€‹ç­‰åŸ¹è®­è§†é¢‘(&lt;=2)ï¼›ä¸€æ–¹é¢é…ç½®SumatraPDF+WinEdtçš„LaTexè®ºæ–‡ç¯å¢ƒã€å­¦ä¹ LaTexè¯­æ³•ï¼›ä¸€æ–¹é¢çŸ¥ä¹ç ”è¯»å¾€å¹´Oå¥–è®ºæ–‡(&lt;=3)ï¼Œå¹¶æ·±æ„Ÿéœ‡æ’¼äºç¬”è€…å‡ºè‰²çš„æ’ç‰ˆã€ç»˜å›¾å’Œç¾å·¥æŠ€æœ¯ï¼›ä¸€æ–¹é¢è§‚çœ‹åŠ¨ç”»ç‰‡ã€Šå–œç¾Šç¾Šä¸ç°å¤ªç‹¼ä¹‹ç­å‡ºèƒœåˆ©ã€‹ï¼Œå¤ªç²¾å½©äº†å±äºæ˜¯ [4] ã€Šè®ºçœŸèŒã€‹ï¼šèµ›æ—¶ç¬”è€…é˜Ÿä¼æ‰€é€‰çš„Aé¢˜ä¸ºçœŸèŒç›¸å…³çš„å»ºæ¨¡ï¼Œè®ºæ–‡å…·ä½“æ ‡é¢˜ä¸ºã€ŠXXXXæ¨¡å‹ï¼šXXXXXXã€‹ï¼Œæ–‡é‡‡è—»é¥°ï¼Œè‡­è¯ä¹±æ‹½ï¼Œçœ‹èµ·æ¥å¾ˆJBé«˜çº§å®åˆ™éƒ½æ˜¯å±è¯ æ˜¥æ™š æ˜¥æ™šå°å“å°±æ˜¯ä¸ªå¯„ï¼Œä¸äºˆè¯„ä»·ã€‚ ä¸‰æœˆ å¼€å­¦ï¼Œå†è§ğŸ‘©ï¼ŒåŠ¨ç‰©å›­ä¹‹æ—…ï¼Œç¬¬ä¸€æ¬¡æ„Ÿå—æµ·åº•æ æµ·åº•æç¡®å®æœåŠ¡æ¯”è¾ƒå—¨ï¼Œä½†æ˜¯é‚£ä¸ªç”Ÿæ—¥æ­Œå°¬ä¹Ÿæ˜¯å°¬ å››æœˆ ä¸€äº›æ¼”å‡º è“è²èŠ± Bassåº·å¤è®­ç»ƒçš„æ›²ç›®ï¼Œæ²¡å•¥éš¾åº¦ï¼Œå…¨æ˜¯loopğŸ˜…ï¼Œä½†æ˜¯å¥½ä¹…æ²¡ä¸Šè¿‡å°äº†ï¼Œè¿˜æ˜¯èµ·åˆ°äº†ä¸¶çƒ­èº«çš„ä½œç”¨ Take On me å¤§è‰ºå›¢åˆå”±å›¢æœ€åçš„è°¢å¹•ï¼Œåªèƒ½è¯´æœ‰ç‚¹é—æ†¾å§ï¼Œå‡ é¦–é˜¿å¡åˆ°æœ€åä¹Ÿæ²¡è¿‡ä¸€æ¬¡bass solo 6äººçš„é˜¿å¡è´æ‹‰ï¼Œæ’ç»ƒäº†å¾ˆä¹…çš„ä¸€é¦–å¿«æ­Œï¼Œä»ä¸€å¼€å§‹çš„è¿›åº¦ç¼“æ…¢ã€äº§ç”Ÿçš„ä¸€äº›äº‰æ‰§ã€å†åˆ°æœ€ç»ˆæ¼”å‡ºæ—¶èˆå°çš„ä¸€äº›è®¾æ–½åŸå› ï¼Œæ•´ä¸ªè¿‡ç¨‹å¹¶æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€æ¬¡ç¾å¥½çš„ç»å†ï¼Œæ¼”å‡ºçš„æ•ˆæœä¹Ÿè¿˜ä¸é”™ ã€ŠTake On Meã€‹ The Dawn ä»è®°å¾—å°æ—¶å€™å¬è¿‡äº¡çµåºæ›²çš„é’¢ç´ç‰ˆï¼Œå½“æ—¶æ·±æ„Ÿéœ‡æ’¼ï¼Œå¦‚ä»Šå¤åˆ»äº†ä¸€ä¸‹ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§è‡´æ•¬ 1ä¸¶æƒŠå–œ Meritorious Winnerï¼Œä¸€ä¸ªæ™®é€šçš„æ—©ä¸Šé†’æ¥ï¼Œé—²çš„æ²¡äº‹å¹²æŸ¥äº†æŸ¥MCMç»“æœï¼Œç›´æ¥ä»åºŠä¸Šåäº†èµ·æ¥ åªèƒ½è¯´æ˜¯å‚èµ›å³é€€å½¹ï¼Œä½†æ²¡æƒ³åˆ°è¿™ç«Ÿæ˜¯ä»Šå¹´æ‰€æœ‰ç«èµ›çš„ç»å”±ğŸ˜… äº”æœˆ è‡³ä»Šä»åœ¨åæ‚”ï¼Œæ‚”äºè‡ªå·±çš„åºŸç‰©ï¼Œä½†åæ‚”åˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ è´¥èµ°é“¶å· ä¼—æ‰€å‘¨çŸ¥ï¼ŒACPC[1]é“¶å·ç«™å°±æ˜¯ä¸ªç¬‘è¯[2]ã€‚åœ¨2021å¹´ä¹‹å‰ï¼Œé“¶å·çš„ç‰Œå­æ˜¯å…¬è®¤å«é‡‘é‡æœ€ä½ï¼Œä¹Ÿæ˜¯æœ€å¥½æ‹¿ç‰Œçš„èµ›ç«™ï¼Œä½†æ˜¯ğŸ‘´åœ¨è¿™é‡Œæ‰“é“äº† â€é‡‘å·é“¶å·ï¼Œä¸å¦‚ğŸ‘´çš„é“å·ã€‚â€œ 2021/5/14 é’å²›çš„æ™šä¸Šå¤§é›¨æ»‚æ²±ï¼Œæˆ‘åŒ†åŒ†ä»æ‰“å°åº—æ‰“å¥½æœ€åçš„æ¿å­ï¼Œç™»ä¸Šäº†ç¦»å¼€çš„å‡ºç§Ÿè½¦ï¼Œä¸æŒ‡ç¯ç‹ï¼Œæ°å®[3]è¸ä¸Šäº†ç¦»å¼€çš„æ—…ç¨‹ã€‚ ç”±äºä¸€å¤§æ—©çš„é£æœºï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æœºåœºé™„è¿‘æ‰¾ä¸ªäº†ç§â¤ï¸äººâ¤ï¸å½±â¤ï¸é™¢â¤ï¸å‹‰å¼ºåº¦è¿‡ä¸€å¤œï¼Œåœ¨é‚£é‡Œç¬¬ä¸€æ¬¡é‚‚é€…äº†æƒ…è¶£ç¤¼ç›’ï¼Œä¸‰ä¸ªè¡€æ°”æ–¹åˆšçš„å¹´è½»äººè¡¨ç¤ºååˆ†çš„å¥½å¥‡ã€‚ç„¶åå°±æ˜¯ä¸€é¡¿çJBå¹æ°´ï¼Œè¿™æ¯•ç«Ÿæ˜¯æˆ‘ä»¬å¸¦å­¦ç”Ÿæ¶¯çš„ç¬¬ä¸€åœºç°åœºèµ›ï¼Œç¡®å®æ¯”è¾ƒæ¿€åŠ¨ã€‚ 2021/5/15 é£æœºèµ·é£ï¼Œé™è½ã€‚ ç»ˆäºæ¥åˆ°äº†ä¸€ä¸ªæ–°çš„åŸå¸‚ï¼Œä¸€å‡ºæœºé—¨å°±èƒ½çœ‹åˆ°å†’ç€çº¢å…‰çš„æ¸æå®£ä¼ æ¿ï¼ŒåŸå¸‚æ–‡åŒ–äº†å±äºæ˜¯ã€‚ éšåå°±åä¸Šäº†å‰å¾€çŸ³å˜´å±±(å³å®ç†æ‰€åœ¨åŸå¸‚)çš„é¢åŒ…è½¦ï¼Œä¸€è·¯ä¸Šçš„æ™¯è‰²å¹¶ä¸èƒ½ç®—å¾—ä¸Šæ˜¯ä»€ä¹ˆæ™¯è‰²ï¼Œå¬è¯´è¿˜æœ‰ä»€ä¹ˆæ²™æ¹–æ¸¸çš„å®‰æ’ï¼Œæ¯”è¾ƒæ¿€åŠ¨ï¼Œä½†æ˜¯åé¢ç»™å–æ¶ˆäº†ğŸ˜…ï¼Œç°åœ¨æœäº†ä¸€ä¸‹å±…ç„¶æ˜¯AAAAAçº§æ™¯åŒºï¼ŒğŸ´çš„ï¼Œäºäº†ã€‚ ä¸­åˆå»å­¦æ ¡æŠ¥é“ï¼Œæœ‰ä¸¤ä¸ªä¸ªå°æ”¹æ”¹[4]å¸¦ç€æˆ‘ä»¬ç®€å•å‚è§‚äº†ä¸€ä¸‹ï¼Œä¸å¾—ä¸è¯´ï¼Œç¡®å®æŒºå¤§ï¼Œå­¦æ ¡å°±åƒåœ¨ä¸€ä¸ªå°å²›ä¸Šä¸€æ ·ï¼Œå‘¨å›´è¢«ä¸çŸ¥é“æ˜¯æ¹–è¿˜æ˜¯æ²³çš„ä¸œè¥¿å›´èµ·æ¥ï¼Œæ¯”è¾ƒç©ºæ—·åŠ ä¸Šé£è¿˜æŒºå¤§ï¼Œæ‰€ä»¥æ„Ÿè§‰ç©¿çš„è¿˜æœ‰ç‚¹å°‘ï¼ŒæŒºå†·ã€‚åæ¥é¢†äº†ä¸ªç¤¼è¢‹ï¼Œé‡Œé¢é™¤äº†å‚èµ›æœå°±æ˜¯ä¸€ç›’åŒ…è£…è¿˜ç®—å¯ä»¥çš„æ¸æï¼Œæƒ³äº†æƒ³æˆ‘ä¹Ÿç”¨ä¸ä¸Šè¿™ç©æ„ï¼Œæ­£å¥½å¸¦å›å®¶å»ã€‚ä¸´èµ°çš„æ—¶å€™çœ‹è§æœ‰å¹¿æ’­ç«™çš„åœ¨é‚£é‡Œæ‹¿ç€ä¸ªéº¦å…‹é‡‡è®¿ï¼Œå¿ƒè¡€æ¥æ½®å’Œä¸ªæ¥bä¸€æ ·å°±ä¸Šå»äº†ï¼Œè¯´äº†å‡ å¥å°¬è¯åŠ äº†ä¸ªå®ç†ä¹‹å£°å¹¿æ’­ç«™çš„vxæ¶¦äº†ã€‚ ä¸‹åˆçƒ­èº«èµ›ï¼Œå››é“é¢˜å…¨ç»™Aäº†ï¼Œç»“æœåˆ¤é¢˜æœºç‚¸äº†ï¼Œä¸€ç›´ä¸ç»™åˆ¤ï¼Œæ¦œä¹Ÿå¡ç€ï¼Œç„¶åå¾…äº†ä¸€ä¼šå°±æ¶¦äº†ï¼Œæƒ³ç€å›å»æºœè¾¾æºœè¾¾åƒé¡¿å¥½çš„ğŸ¤¡ã€‚ æ™šä¸ŠğŸ”’æ£’å­éª¨ï¼Œæ°ç¾Šèå­ï¼Œæœ‰ç‚¹è¾£ä½†å±å®å—¨ğŸ¤¡ï¼Œéšåé‡‡è´­äº†ç‚¹æœ¬åœ°ç‰¹äº§ï¼Œæäº†ä¸€å¤§å…œå­å›äº†å®¾é¦†ï¼Œé™å¾…ç¬¬äºŒå¤©çš„æ­£èµ›ã€‚ 2021/5/16 æ—©ä¸Šæ»¡æ€€akçš„æ–—å¿—å»äº†ï¼Œåä¸‹å‡³å­ï¼Œå‘ç°æ˜¨å¤©çƒ­èº«èµ›æ¦œä¸Šâ€œä¸­å›½æµ·æ´‹å¤§å­¦ æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7[5]â€ï¼Œæœ‰ç‚¹æ¿€åŠ¨ï¼Œéšåæ‚„ä¹ˆå£°åœ°æŠŠé¡µé¢å…³æ‰ï¼Œé™é™ç­‰å¾…æ¯”èµ›å¼€å§‹ã€‚ æ¯”èµ›è¿‡ç¨‹ä¸æƒ³è¯´äº†ï¼Œå¤§é‡çš„æ— ç”¨æ€è€ƒï¼Œå…¨åœºæœ€ç­¾åˆ°çš„ä¸€é“é¢˜ä¸‰ä¸ªäººä¹ç‰›äºŒè™ä¹‹åŠ›è¯»äº†æ— æ•°ééƒ½è¯»æ¸…æ¥šé¢˜æ„WA[6]32ä¹Ÿæ²¡è¿‡ï¼Œç„¶åæœ‰é“é¢˜å¡äº†è¡Œæœ«ç©ºæ ¼ç™½WAäº†6ï¼Œæœ€åæ—¶é—´èµ°å®Œï¼Œéƒ½æ²¡æ¥å¾—åŠçœ‹å­—å…¸æ ‘çš„ç®€å•é¢˜ï¼Œé“äº†ã€‚ æˆ‘ä»¬è¾¾æˆäº†äº†å‡ ä¹å¾ˆéš¾è¾¾æˆçš„é“¶å·æ‰“é“çš„æˆå°±ï¼Œç°å¤´åœŸè„¸åœ°é€ƒå›äº†é’å²›ã€‚ é™¤äº†è‡ªå·±èœï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€è·ä»Šå·²260å¤©ï¼Œè­¦é’Ÿé•¿é¸£ã€‚ [1] ACPCï¼šæŒ‡ACM-ICPCäºšæ´²åŒºåŸŸèµ›ï¼ŒACM-ACPCä¸ºæœ¬åœºå¼€å¹•å¼ä¸Šå‘è¨€äººçš„é€†å¤©å£è¯­è¡¨è¾¾ [2] ç¬‘è¯ï¼šä¸»åŠæ–¹å®å¤ç†å·¥å­¦é™¢ä¹ƒæˆ‘å›½è¥¿éƒ¨æ¢çº½ï¼Œå¦‚ä½•çœ‹å¾… 2021 å¹´ ICPC é“¶å·èµ›åŒºä¸»åŠæ–¹å®å¤ç†å·¥å­¦é™¢è·å¾—ä¸€é‡‘ä¸€é“¶ï¼Ÿï¼Œæœ‰ä¸‰äººä¸‰æœºï¼ˆæ¯”èµ›ä¸­åº”ä¸‰äººä¸€æœºï¼‰ï¼Œæ›´æœ‰æ²ˆé˜³ç«™æ’¤ç¡•è¿‡é¢˜ï¼ˆå¦‚ä½•è¯„ä»·å®å¤ç†å·¥å­¦é™¢TS1é˜Ÿå‚åŠ ICPCæ²ˆé˜³ç«™ï¼Œå¹¶åœ¨ä¸Šå•æ‰€ååšå‡ºäº†Hé¢˜ï¼Ÿï¼‰, ä¸å¥½è¯„ä»· [3] æŒ‡ç¯ç‹ã€æ°å®ï¼šæŒ‡ä¸¤åé˜Ÿå‹ï¼ŒæŒ‡ç¯ç‹ç½‘åè„‚ç¯ï¼Œå°åæˆ‘çˆ¹ï¼Œæ°å®å–è‡ªäºçœŸåçš„å°¾å­— [4] å°æ”¹æ”¹ï¼šå€¼å°å§å§ [5] æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7ï¼šå‰è€…æŒ‡é„™é˜Ÿé˜Ÿåï¼Œåè€…æŒ‡æ’åå³rank [6] WAï¼šæŒ‡Wrong Answerï¼Œå¯¹é¢˜ç›®çš„é”™è¯¯æäº¤ï¼Œåè·Ÿæ•°å­—è¡¨ç¤ºé”™è¯¯æäº¤çš„æ¬¡æ•° æ‘‡æ»šä¹‹å¤œ æœˆæœ«ï¼Œä¹é˜Ÿå‚åŠ äº†æˆ‘æ ¡å‰ä»–ç¤¾çš„æ‘‡æ»šä¹‹å¤œï¼Œä¹Ÿç®—æ˜¯ä¸ºä¸‹ä¸ªæœˆçš„å„å¤§æ¼”å‡ºåšäº†æå‰çš„ä¸€æ¬¡å½©æ’ï¼Œæ•ˆæœä¸é”™ï¼Œåœ¨è¿™é‡Œä¸å¤šèµ˜è¿°ã€‚ å…­æœˆ æ¼”å‡ºæœˆã€è€ƒè¯•æœˆã€æ¬§æ´²æ¯ å±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£â€ 2021/06/06 åº”é‚€å‚åŠ å±±å¸¦ï¼ˆé’å²›ï¼‰â€œå…­æœˆçš„é£â€æ¯•ä¸šæ­Œä¼šï¼Œæ•´äº†ä¸ªè“è²èŠ±å’Œ Itâ€™s my lifeï¼Œåäº†äº”ååˆ†é’Ÿåœ°é“ç»ˆäºåˆ°äº†å±±å¸¦ï¼Œè™½ç„¶åœ¨æ›´åè¿œçš„éƒŠåŒºä½†æ˜¯ä¸å¾—ä¸è¯´å»ºçš„çœŸæ˜¯æ°”æ´¾ï¼Œå®¿èˆæ¡ä»¶ä¹Ÿæ¯”æˆ‘æ ¡å¥½ï¼ˆåŸºæœ¬æ²¡æœ‰æ¯”æˆ‘ä½çš„åœ°æ–¹çƒ‚çš„ï¼‰ï¼Œé‡Œé¢æ•´äº†ä¸ªä¸‰å±‚å°å•†åœˆï¼Œå–çš„ä¸œè¥¿åº”æœ‰å°½æœ‰å±å®çœ‹çš„çœ¼é¦‹ã€‚ è¿™æ¬¡æ­Œä¼šåœ¨ä¸€å—å°è¶³çƒåœºä¸¾è¡Œï¼Œè‰çš®ä¹Ÿæ˜¯çœŸå¥½ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–°å»ºçš„ä½†æ˜¯ç¡®å®å¥½ï¼Œæ¯”å¾—ä¸Šçœä½“çš„é‚£ä¸ªè¶³çƒå…¬å›­åˆšå»ºå¥½çš„æ—¶å€™é‚£è‰çš®è´¨é‡ï¼Œé‚£äº›è®¾å¤‡ç¡®å®å¼„çš„ä¹ŸæŒºé«˜çº§ï¼Œè¿˜æœ‰ä¸¤å—æŠ•å±ï¼Œå’Œç½‘ä¸Šç›´æ’­æ˜¾ç¤ºçš„ç”»é¢æ˜¯åŒæ­¥çš„ã€‚ä¸‹é¢ä¹Ÿçš„åœºåœ°ä¹Ÿå¸ƒç½®çš„æŒºå¥½çš„ï¼Œåªèƒ½è¯´æ˜¯è§äº†ä¸–é¢ï¼Œæ¯•ç«Ÿå’±ä¹Ÿæ²¡æ¥è¿‡è¿™ç§éœ²å¤©çš„æ¼”å‡ºğŸ˜… æ¼”å‡ºå¼€å§‹ã€‚å› ä¸ºæ¥è®¾å¤‡éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ğŸ‘´å³å…´å‘è¡¨äº†ä¸€æ®µæ¼”è®²ï¼Œå¤§æœ‰ä¸¤æ ¡æƒ…è°Šé•¿å­˜ä¹‹æ„ï¼Œå®å±å…¨æ˜¯å±è¯ã€‚ä½†æ˜¯è¿™æ®µå®£è¨€å…¨è¢«ç›´æ’­å‡ºå»äº†ï¼Œå®å±è¢«å½“åœºé€®æ•ï¼Œç°åœ¨æœä¸€ä¸‹å½•åƒçœ‹è¿˜æ˜¯è§‰å¾—å¾ˆå°¬ğŸ˜…ï¼Œæ¼”å®Œäº†é¢†äº†ç‚¹é¥­é’±æ¶¦äº†ã€‚ æ¼”å‡ºæ•ˆæœè¿˜è¡Œï¼Œå°±æ˜¯å¯¼æ’­ä¸å¤§æ‡‚ä¹é˜Ÿå¯èƒ½ï¼Œçœ‹åˆ«äººæ¼”åŠ å·æ—…é¦†å‰ä»–soloçš„æ—¶å€™ä¸€ç›´ç»™èŠ‚å¥é•œå¤´ğŸ˜…ğŸ˜…ğŸ˜… Livehouse 2021/06/12 DMC æœ¬æ¥æƒ³çš„æ˜¯ä¸ªSo Downtown[1]ä¸€æ ·çš„å¸¦Livehouseï¼Œå»äº†æ‰å‘ç°æ˜¯ä¸ªå°é…’å§ï¼Œä½†æ˜¯é‚£ä¸ªéŸ³ç®±ç¡®å®è›®å¥½çš„ï¼Œç°åœºæ¥äº†å¾ˆå¤šå¾ˆå¥½çš„æœ‹å‹ï¼Œæ°”æ°›ä¹ŸæŒºå—¨çš„ï¼Œæ„Ÿå—åˆ°äº†å¤§åˆå”±ç¯èŠ‚ï¼Œåœ¨å°ä¸Šä¼šè¿›å…¥ä¸€ç§å¿˜æˆ‘çš„å¢ƒç•Œï¼Œæˆ‘å¾ˆäº«å—ã€‚åœ¨è¿™ä¸ªè´¦å·ä¸Šæˆ‘ä»¬å‘å¸ƒäº†å½“å¤©çš„å½•åƒï¼Œå†ä½“å‘³ä¸€éè¿˜æ˜¯ä¸é”™çš„ï¼Œè¿™ç®—æ˜¯ä»Šå¹´ä¹é˜Ÿæ­£å¼æ¼”å‡ºçš„å®Œç¾è°¢å¹•å§ã€‚(ä¸‹åŠå¹´å› ä¸ºå¤§å®¶çš„æ—¶é—´èµ¶ä¸åˆ°ä¸€èµ·å»ï¼Œæ‰€ä»¥æš‚æ—¶åœæ’) [1] So Downtownï¼šé’å²›æŸçŸ¥åLivehouse æ¬§æ´²æ¯ è‘¡è„ç‰™çš„æ¯”èµ›ä¸€åœºä¸è½çš„çœ‹å®Œï¼Œç¡®å®åœºé¢ä¸å¤ªå¥½çœ‹ï¼Œè¸¢å¾·å›½é‚£åœºä¹Ÿç¡®å®è¢«å¹²ç¢äº†ï¼Œæ·˜æ±°ä¹Ÿæ˜¯æƒ…ç†ä¹‹ä¸­ï¼Œæ²¡æƒ³åˆ°çš„æ˜¯æ­»äº¡ä¹‹ç»„æ³•å¾·è‘¡å…«å¼ºå…¨å¯„äº†ğŸ˜… è€ƒè¯•æœˆ ç»å†äº†ä¸Šæ¬¡è€ƒè¯•çš„æƒ¨ç—›æ•™è®­ï¼Œè¿™æ¬¡æˆ‘åˆæ¢å¤äº†æ‰‹å†™æçº²çš„æ–¹æ³•ï¼Œä¿®ä¹ äº†ä¸‰å¤§æ•°å­¦(å³ç¦»æ•£æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡ç»Ÿè®¡)çš„æˆ‘æœ€åä»ç»“æœæ¥çœ‹æ•´ä½“å·®å¼ºäººæ„ï¼Œå°±æ˜¯è¯¾æœ‰ç‚¹å¤šï¼Œæœ‰å‡ é—¨æ‘†çƒ‚äº†ï¼Œå¤ä¹ çš„å¾ˆå°‘æˆ–è€…æ˜¯æ²¡å¤ä¹ ï¼Œæœç„¶å¯„äº†ğŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€è¾ƒäºä¸Šå­¦æœŸè¿˜æ˜¯æœ‰äº†ä¸€å®šçš„è¿›æ­¥ ä¸ƒæœˆ ä¸€äº›ç”Ÿæ´»ç¢ç‰‡ ä½“éªŒç”Ÿæ´» å›å®¶äº†ä¸€é˜µååœ¨é’å²›ä½“éªŒç”Ÿæ´»ï¼Œå¦‚é¢˜ï¼Œä¸è¯¦è¿°ã€‚ NBA Final ä¼´éšcp3å’ŒSunsä¸€è·¯èµ°æ¥ï¼Œæ‰“åˆ°æ€»å†³èµ›å·²ç»éå¸¸æƒŠå–œï¼Œè™½ç„¶æœ€åä¸æ•Œï¼Œè™½ç„¶æœ‰ä¸€äº›è£åˆ¤å’Œçƒå‘˜çš„å…¶ä»–åŸå› ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒæ»¡è¶³çš„ï¼Œæ¯•ç«Ÿä¸å¯èƒ½æœ‰è¿™ä¹ˆä¸€å¸†é£é¡ºçš„æ—…ç¨‹ï¼Œå¤±è´¥æ°¸è¿œæ˜¯äººç”Ÿçš„ä¸»æ—‹å¾‹ï¼Œé‡å¤´å†æ¥å§ã€‚ è®­ç»ƒ åœ¨æ‰¾åˆ°ç¨³å®šçš„ç”Ÿæ´»èŠ‚å¥å‰ï¼ŒæŒ‰æ—¶æ‰“äº†Nowcoderå¤šæ ¡çš„è®­ç»ƒèµ›è¿˜æœ‰HDUçš„å¤šæ ¡è”èµ›ï¼Œä¸­é—´æ‰“äº†ä¸¤ä¸‰åœºç™¾åº¦â­â­ï¼Œæœ€åæ­¢æ­¥å¤èµ›ã€‚è™½ç„¶æ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªå—åˆ°æ‰“å‡»çš„è¿‡ç¨‹ï¼Œä½†æ˜¯è¿™ä¹Ÿå¸®åŠ©æˆ‘æ›´æœ‰æ•ˆçš„è®¤çŸ¥è‡ªå·±çš„æ°´å¹³ï¼Œä½†æ˜¯å›å¤´æ¥çœ‹ï¼Œåšé¢˜ä¸è¡¥é¢˜ç›¸å½“äºç™½æ‰“ğŸ˜… å…«æœˆ ä¸€äº›é”è¯„ ä¸œäº¬å¥¥è¿ è™½ç„¶å¥¥è¿ä¼šç¡®å®æ˜¯é‚£ç§è®©å¤§å®¶éƒ½èƒ½ä¹å‘µèµ·æ¥çš„å¤§ä¼šï¼Œå¸¦ğŸ”¥äº’ç›¸èŠèŠä¹Ÿæ˜¯æ²¡å•¥æ¯›ç—…çš„ï¼Œä½†æ˜¯è¯¸å¦‚æœ‹å‹åœˆã€å¾®åšç­‰ç­‰ç¤¾äº¤å¹³å°ä¸ŠæŸäº›å•¥éƒ½ä¸æ‡‚å°±åœ¨é‚£ä¹±è¯„å¤´è®ºè¶³è¹­çƒ­åº¦çš„æˆ‘çš„è¯„ä»·æ˜¯çº¯å±å•¥bã€ã€ ğŸ‘©â€™s Birthday 2021/08/14 å‡†å¤‡äº†æŒºä¹…çš„ğŸ‘©ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæˆ‘åªèƒ½è¯´æˆ‘å‡†å¤‡çš„ç¤¼ç‰©ç¡®å®æ˜¯çº¯çº¯çš„åˆ«å‡ºå¿ƒè£ã€‚ CR7 è€ç‰¹æ‹‰ç¦å¾·çš„å® å„¿é‡æ–°å›åˆ°äº†æ¢¦å‰§åœºï¼Œä¸»é˜Ÿä»JUVæ¢åˆ°äº†MNUï¼Œè™½ç„¶çƒ­è¡€æ²¸è…¾ï¼Œä½†ä¸‹åŠå¹´çš„æ›¼è”ä¼¼ä¹æ˜¯çº¯çº¯çš„ğŸ¤¡ã€‚ ä¹æœˆ å¼€å­¦å•¦ã€ã€ Webæ¡†æ¶ç¼–ç¨‹ è®©æˆ‘çŸ¥é“äº†ä¸å°‘é«˜åˆ†ä½èƒ½ç¥äººçš„å­˜åœ¨ï¼Œç¡®å®ä¸èƒ½ç†è§£ğŸ˜…ğŸ˜…ï¼Œä¸ä¼šåˆä¸å­¦å°±å¼€å§‹å½“ä¹ä¸æˆ‘çœŸç¬‘å˜»äº†ğŸ˜… å›½èµ› å»ºæ¨¡å›½èµ›ï¼Œç‹—éƒ½ä¸æ‰“ã€‚æœ¬å°±ä¸æƒ³å‚åŠ ä½†è¿˜æ˜¯æ‰“æ‰°äº†ä¸‰å¤©çš„ä½œæ¯ğŸ˜…ğŸ˜… è—ä¹¦ç¥¨ ä¿®äº†ä¸€é—¨å«åš å¤§å­¦ç¾æœ¯é‰´èµ çš„é€šè¯†è¯¾ï¼Œé‡Œé¢æœ‰ä¸€é¡¹ä½œä¸šæ˜¯æ¯å‘¨æ‰‹ç”»ä¸€å¼ è—ä¹¦ç¥¨ï¼Œæˆ‘è§‰å¾—è¿˜è›®æœ‰æ„æ€çš„ï¼ŒèŠ±ä¸Šä¸‰ä¸ªå°æ—¶é™å¿ƒå®Œæˆä¸€å¹…ä½œå“ç¡®å®å·²ç»å¾ˆä¹…æ²¡å¹²è¿‡äº†ï¼Œè®©æˆ‘æ‰¾å›äº†å°å­¦åˆä¸­çš„é‚£ç§æ„Ÿè§‰ã€‚ åæœˆ æ—§çš„ä¸å»ï¼Œæ–°çš„ä¸æ¥ ğŸ‘‹ï¼Œæ—§æ‰‹æœº 2021/10/10 æ‰“äº†åœºCCPCç½‘ç»œèµ›ï¼Œæ‰“å®Œå‘ç°æ—§æ‰‹æœºå¯„äº†ã€‚ è¿™é‡Œè°ˆä¸€ä¸‹æˆ‘çš„æ—§æ‰‹æœºï¼Œå®ƒæ˜¯é«˜è€ƒç»“æŸåæ¥åˆ°çš„æˆ‘çš„èº«è¾¹ã€‚ä»…ä»…7å¤©ï¼Œä¸€æ¬¡å‡ºé—¨åœ¨å¤–ï¼Œè¿½èµ¶å…¬äº¤è½¦çš„æ—¶å€™ï¼Œçœ¼è§ç€æˆ‘å°±è¦åˆ°å…¬äº¤è½¦é—¨å‰ï¼Œå‘ç”Ÿäº†ä»¥ä¸‹çš„é»˜å‰§ï¼š â€‹ â€œï¼ï¼ï¼â€ï¼ˆå¸ˆå‚…å¼€é—¨ï¼Œè®©æˆ‘ä¸Šè½¦ï¼ï¼‰ â€‹ â€œâ€¦â€ (æ‰‹æŒ‡åœ°é¢) â€‹ â€œï¼Ÿï¼Ÿï¼ï¼â€ ï¼ˆå¼€é—¨å•Šï¼Ÿæˆ‘è¦ä¸Šè½¦å•Šï¼ï¼‰ â€‹ â€œâ€¦â€ â€‹ â€œâ€¦ï¼â€ ï¼ˆå‘ç°æ‰‹æœºå€’æ‰£åœ¨åœ°ä¸Šï¼‰ â€‹ â€œï¼ï¼ï¼&quot; (wocï¼æ­£é¢ç¢çƒ‚äº†ï¼) â€‹ â€œâ€¦â€ ï¼ˆå…¬äº¤è½¦é©¶å‘è¿œæ–¹ï¼‰ å¤§è‡´çš„è¿‡ç¨‹å°±æ˜¯æ‰‹æœºå¹²ç¢äº†ï¼Œå…¬äº¤è½¦ä¹Ÿè·‘äº†ï¼Œè¾¾æˆåŒèµ¢ã€‚ç”±äºæ‰‹æœºæ˜¯åˆšä¹°çš„ï¼Œé—®äº†ä¸€ä¸‹ä¿®ä¸ªå±è¦äº”ä¼¯ï¼Œä¿®ä¸¤ä¸‰æ¬¡å°±å¤Ÿæˆ‘å†ä¹°ä¸€ä¸ªäº†ï¼Œäºæ˜¯æˆ‘å†³å®šèŠ‚ä¿­ä¸‹å»ä¸ä¿®ï¼Œè¿™å°±å¯¼è‡´äº†ä¸€äº›å’Œæˆ‘å…±äº‹çš„äººè§åˆ°æˆ‘çš„æ‰‹æœºéƒ½è¦å•§å•§ç§°å¥‡ï¼Œè¿™ä¸€ç”¨å°±æ˜¯ä¸¤å¹´ã€‚ ç»ˆäºï¼Œåœ¨è¿™å¤©ä¸‹åˆï¼Œæˆ‘å‘ç°å®ƒçš„å±å¹•è§£é”åï¼Œåªéœ€è¦äº”ç§’ï¼Œå°±ä¼šé€æ¸å˜é»„ï¼Œå†è¿‡äº”ç§’ï¼Œæ•´ä¸ªå±å¹•å°±å˜æˆäº†ä¸€äº›æ˜æš—äº¤ç»‡çš„æ¡å¸¦ï¼Œå¦‚åŒå¤©ä¸Šçš„é“¶æ²³ã€‚ äºæ˜¯ï¼Œæˆ‘å‘Šåˆ«äº†å®ƒã€‚ VlogğŸ‘¶ğŸ»æ¨ªç©ºå‡ºä¸– æ¢äº†å½•åƒè®¾å¤‡çš„æˆ‘å¦‚é¢˜ï¼Œå‰ªäº†ä¸€ä¸ªè¿˜ä¸é”™çš„Vlogå¹¶ä¸”æ·±æ·±é™¶é†‰å…¶ä¸­ã€‚ åä¸€æœˆ æ†§æ†¬å°±æ˜¯ç”¨æ¥æ‰“ç ´çš„ EDG 2021/10/07 EDG 3-2 æˆ˜èƒœäº†DKï¼Œå¤ºå¾—äº†s11çš„å† å†›ã€‚ å¸¦ç€ğŸ‘©å»æ“åœºæ„Ÿå—çº¿ä¸‹è§‚èµ›çš„çƒ­è¡€ï¼Œç¬¬ä¸€æŠŠèµ¢äº†å·²ç»å‡ºä¹æ„æ–™ï¼Œç°åœºæ°”æ°›æ¥åˆ°äº†é«˜æ½®ï¼Œä½†æ˜¯äºŒä¸‰å±€çš„å¤±åˆ©åˆè®©æˆ‘æœ‰äº›å¤±å»ä¿¡å¿ƒï¼Œç»“æœEDGå±…ç„¶æ²¡è®©æ·€ç²‰å¤±æœ›ï¼Œæœ€ç»ˆç¿»ç›˜å¤ºå† ã€‚ ä»s5å¼€å§‹å½“æ·€ç²‰[1]ï¼Œå…­å¹´äº†ï¼Œç»ˆäºçˆ½äº†ä¸€æŠŠï¼Œæ™šä¸Šåˆ·äº†åŠå¤©æ–°é—»æ‰ç¡ï¼Œçº¯å—¨ã€‚ [1] æ·€ç²‰ï¼šæŒ‡EDGçš„ç²‰ä¸ï¼ŒEDGåˆè¢«æˆç§°â€œä¸­å›½ç”µç«â€ï¼Œæ•…ç²‰ä¸ç¾¤ä½“è¢«ç§°ä¸ºæ·€ç²‰å³â€œç”µç²‰â€ æµ·è¶…[2] [2] æµ·è¶…ï¼šæµ·è¶…ï¼Œå…¨ç§°â€œä¸­å›½æµ·æ´‹å¤§å­¦è¶³çƒè¶…çº§è”èµ›â€ ç»§åˆšæ‰“ä¸€åœºå°±èƒæ­»è…¹ä¸­çš„æ–°ç”Ÿæ¯å®Œæˆçš„å¸½å­æˆæ³•ç»™äºˆæˆ‘ä¿¡å¿ƒä¹‹åï¼Œæˆ‘åŠ å…¥äº†é™¢é˜Ÿï¼Œè¿æ¥äº†æµ·è¶…è”èµ›ã€‚ ä½œä¸ºä»ä¿¡é™¢ç§Ÿå€Ÿåˆ°ç®¡é™¢çš„çƒå‘˜ç¬¬ä¸€åœºé¢å¯¹æ—§ä¸»è¢«å¹²äº†ä¸ª7-0ğŸ˜…ï¼Œæœ‰ç‚¹æ— åŠ›åˆæ·±æ·±å¿æ‚”äºè‡ªå·±çš„å¤±è¯¯ã€‚ ç´§æ¥ç€åœ¨å†·é£å¹ç€çš„å°é›¨ä¸­è¿æ¥äº†ç¬¬äºŒåœºé¢å¯¹æ³•å­¦é™¢çš„æ¯”èµ›ï¼Œè¿™åœºæˆ‘æ”¹å˜äº†ä¸€äº›æ‰“æ³•ï¼Œæƒ³é€šè¿‡å‡å°‘å¸¦çƒæ¥å¢åŠ ä¸€è„šå‡ºçƒå’Œæ— çƒè·‘åŠ¨æ¥æ‰°ä¹±å¯¹æ‰‹çš„åé˜²çº¿ï¼Œæ•ˆæœè¿˜æ˜¯æœ‰ä¸€äº›çš„ã€‚æœ€ç»ˆ4-2æœ‰æƒŠæ— é™©ï¼Œæ²¡æœ‰æ”¶è·è¿›çƒä½†æ˜¯æœ‰ä¸€è„šåŠ©æ”»ï¼Œä¸è¿‡ä¹Ÿæ˜¯æµªè´¹äº†ä¸‰æ¬¡è¿‘åœ¨å’«å°ºçš„è‰¯æœºï¼Œå‰ä¸¤æ¬¡æ˜¯æ²¡æœ‰æŠŠæ¡å‡†ç¬¬äºŒç‚¹ï¼Œä¸­åœºå‰çš„ä¸€è„šæŠ½å°„ä¹Ÿæ˜¯å› ä¸ºå·¦è„šæ²¡æœ‰ç«™ç¨³å¯¼è‡´åŠ›é“ä¸è¶³ï¼Œæ¯”è¾ƒé—æ†¾ï¼Œä½†æ˜¯é‚£ç§äº«å—æ¯”èµ›çš„è¿‡ç¨‹è¿˜æ˜¯ä»¤æˆ‘çƒ­è¡€æ¾æ¹ƒï¼Œæ²¡æƒ³åˆ°çš„æ˜¯åœ¨é›¨é‡Œæ‡‚äº†ä¿©å°æ—¶å›å»å±…ç„¶æ²¡æœ‰æ„Ÿå†’ï¼Œå½³äºã€‚ è´¥èµ°ä¸Šæµ· 2021/11/28 ICPCäºšæ´²åŒºé¢„èµ›ä¸Šæµ·ç«™ï¼Œçº¿ä¸Šèµ›ï¼Œå°±åœ¨ä¿¡é™¢æ‰“ï¼Œæœ€ç»ˆæ‰“é“ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œèƒ½åŠ›ä¸è¶³å°±æ˜¯èƒ½åŠ›ä¸è¶³ã€‚ å‡†å¤‡äº†å¾ˆä¹…çš„å­—ç¬¦ä¸²æ²¡æœ‰æ´¾ä¸Šç”¨åœºï¼Œæœ€ç»ˆè¢«ä¸¤é“DP[3]å¡äº†ï¼Œäº‹å®è¯æ˜ï¼Œåšå‡ºè¿™ä¸¤é“DPä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ¯•ç«Ÿä¸Šæµ·ç«™å·²ç»å·åˆ°äº†äº”é¢˜é“œç‰Œï¼Œè¿˜æ˜¯éœ€è¦åŠªåŠ›ï¼Œå¸Œæœ›ä¸‹æ¬¡ä¸ç•™é—æ†¾å§ã€‚ [3] DPï¼šDynamic Programmingï¼ŒåŠ¨æ€è§„åˆ’ï¼Œä¸€ç§ç®—æ³• åäºŒæœˆ æ€¥ CCSP å‚åŠ äº†CCSPçš„åˆ†èµ›ï¼Œæœ€å10åˆ†é’Ÿè¿‡äº†Bé¢˜30åˆ†ï¼Œæœ€åæ‹¿äº†ä¸ªåä¸œèµ›åŒºrk71é“œé¦–[1]ï¼Œæ ¡æ’ç¬¬5ã€‚ è™½ç„¶ç»“æœç¡®å®ä»¤æˆ‘è¡€å‹å‡é«˜ï¼Œè¿™ç§é“œé¦–çš„äº‹ä¹Ÿèƒ½è½®åˆ°æˆ‘å¤´ä¸ŠğŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€å¯¹ç»“æœå·²ç»è¾ƒä¸ºæ»¡æ„ï¼Œæ¯•ç«Ÿå¡äº†è¿™ä¹ˆä¹…ï¼Œæ²¡å•¥æ¯›ç—…ï¼Œç»§ç»­åŠªåŠ›å§ã€‚ [1] é“œé¦–ï¼šæŒ‡é“œç‰Œç¬¬ä¸€åï¼Œrk70é“¶ä½†rk71é“œ è½¯ä»¶å·¥ç¨‹ æ°¸è¿œä¸è¦å’ŒåºŸç‰©ç»„é˜Ÿã€‚ è¿™é—¨è¯¾å°±åƒä»–çš„åå­—ä¸€æ ·ï¼Œå¹³æ—¶æ˜¯è¦è¿›è¡Œå°ç»„åˆ†å·¥å®Œæˆä¸€ä¸ªé¡¹ç›®ä½œä¸ºè¯„åˆ†æŒ‡æ ‡ï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ˜¯å®Œæˆå¯¹å›¾ç‰‡çš„20ç§ç›®æ ‡æ£€æµ‹ã€‚ é„™ç»„ç”±5åæˆå‘˜ç»„æˆï¼Œå®åˆ™ç”±ä¸¤åæˆå‘˜ç»„æˆï¼Œæˆ‘å’Œé˜¿æ˜Šï¼Œä»–æ¥å®Œæˆæ¨¡å‹çš„è®­ç»ƒï¼Œæˆ‘æ¥å®ŒæˆGUIç•Œé¢ï¼Œè¯´æ¥ä¹Ÿæƒ­æ„§ï¼Œæˆ‘è¿™éƒ¨åˆ†çš„åˆ†å·¥æ˜æ˜¾ç®€å•äºä»–ï¼Œä»–ä¸ºè¿™ä¸ªé¡¹ç›®ç¡®å®ä»˜å‡ºäº†æœ€å¤šã€‚ å› ä¸ºæˆ‘æœ€ç†Ÿæ‚‰C++ï¼Œäºæ˜¯å°±æƒ³æŠŠç”¨pytorchè®­ç»ƒçš„æ¨¡å‹ç§»æ¤åˆ°é€šè¿‡ libtorch+opencv+msvc+qt æ¥å®ç°GUIçš„ç¼–å†™ï¼Œç»“æœé…äº†å¥½å‡ å¤©çš„ç¯å¢ƒï¼Œå‘ç°æ¨¡å‹éƒ¨åˆ†åŠŸèƒ½çš„å®ç°libtorchæ˜¯ä¸æ”¯æŒçš„ï¼Œåªèƒ½å·åœŸé‡æ¥ã€‚æ—¶é—´æµé€ï¼Œå½“æˆ‘é‡æ–°é…å¥½pyqtçš„ç¯å¢ƒå¼€å§‹åŠ¨æ‰‹ç¼–å†™æ—¶ï¼Œè·ç¦»è€ƒè¯•å‘¨å·²ç»æ—¶æ—¥ä¸å¤šã€‚ å‰©ä¸‹å‡ ä½bç”¨æ²¡æœ‰ï¼Œä¸€è¾¹è¯´ç€ä¸ä¼šï¼Œâ€œæˆ‘ä¹ŸçŸ¥é“ï¼Œæˆ‘è¦æ˜¯ä¼šæˆ‘è‚¯å®šå¹²ç‚¹ä»€ä¹ˆâ€ä¹‹ç±»çš„å±è¯ï¼Œä¸€épä¹Ÿä¸å­¦ï¼Œå¼€å§‹äº†è‡ªå·±çš„æœŸæœ«å¤ä¹ ã€‚ è¿™ä»¤æˆ‘ååˆ†çƒ¦èºï¼Œæˆ‘æ˜¯ä¸æ˜¯ä¸å¤ä¹ å•Šï¼Œæˆ‘ä»–å—æ˜¯ä¸æ˜¯å°±æ˜¯çº¯é›·é”‹éå¾—åšå¥½äº‹å•Šï¼Œæœ€åé¡¹ç›®æˆ‘ä»¬ä¿©å¹²äº†åŠå¤©ï¼Œåˆ°å¤´æ¥æœ€åä¸€ä¸ªä¸ªçš„éƒ½æ¯”æˆ‘ä»¬åˆ†é«˜æˆ–è€…å’Œæˆ‘ä»¬ä¸€æ ·ï¼Œå‡­ä»€ä¹ˆå‘¢ï¼Œä»–ä»¬é…å—ï¼Ÿäºæ˜¯å°±å‰©ä¸€å¤©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”©äº†è„¸ï¼Œè®©ä»–ä»¬å­¦ç€å¹²ä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚é…ç½®æœåŠ¡å™¨è¿™ç§ç®€å•çš„äº‹æƒ…ã€‚è™½ç„¶å¿ƒé‡Œæƒ³ç€ä»–ä»¬è‚¯å®šå¹²ä¸å®Œï¼Œä½†æ˜¯è‡³å°‘ä¹Ÿå¾—å‡ºç‚¹åŠ›ï¼Œäºæ˜¯æŠŠä»»åŠ¡å¸ƒç½®äº†ä¸‹å»ï¼Œè¿˜æŠ±æœ‰ä¸€ä¸å¿µæƒ³ã€‚ç»“æœæ˜¯ï¼šâ€”â€”åœ¨ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œæœ‰äººé…äº†ä¸€ä¸ªå°æ—¶æ²¡é…æ˜ç™½å°±æ”¾å¼ƒäº†ï¼Œæœ‰çš„äººæ ¹æœ¬æ²¡æ€ä¹ˆçœ‹ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¦ä¹ˆæ˜¯åƒå·¨å©´ä¸€æ ·é—®ä½çº§é—®é¢˜ï¼Œè¦ä¹ˆå°±æ˜¯å¼€æ‘†ï¼Œè¿æœéƒ½æ‡’å¾—æœã€‚ä¸æƒ³å†åšè¯„ä»·äº†ã€‚ æœ€åé¡¹ç›®çš„ç»“æœæ˜¯ï¼šæˆ‘ä¿©å®Œæˆäº†åˆ†å†…çš„å·¥ä½œï¼Œä½†æ˜¯é¡¹ç›®çš„å®Œæˆåº¦æ¯”ç›®æ ‡æ¥è¯´åªè¾¾æˆäº†60%ï¼Œå‹‰å¼ºåŠæ ¼ç½¢ã€‚ å¼•ç”¨ Eric Steven Raymond åœ¨ã€Šæé—®çš„æ™ºæ…§ã€‹ä¸­çš„è¯ç»“å°¾ï¼š æˆ‘ä»¬åªæ˜¯æ¯«æ— æ­‰æ„åœ°é„™è§†é‚£äº›æé—®å‰ä¸æ„¿æ€è€ƒã€ä¸åšåŠŸè¯¾çš„äººã€‚è¿™ç§äººå°±åƒæ—¶é—´é»‘æ´ä¸€æ ·ï¼ŒåªçŸ¥é“ç´¢å–ï¼Œä¸æ„¿æ„ä»˜å‡ºï¼Œä»–ä»¬åœ¨æµªè´¹æˆ‘ä»¬æ—¶é—´ï¼Œè€Œè¿™äº›æ—¶é—´æˆ‘ä»¬æœ¬å¯ç”¨äºå…¶ä»–æ›´æœ‰è¶£çš„é—®é¢˜æˆ–æ›´å€¼å¾—å›ç­”çš„äººèº«ä¸Šã€‚æˆ‘ä»¬å°†è¿™ç§äººå«åš loserã€‚ æ€»ç»“ éå¸¸ç®€ç•¥çš„æ€»ç»“ è¿·èŒ« è¿·èŒ«äºè‡ªå·±çš„æœªæ¥ï¼Œè¿·èŒ«äºè‡ªå·±çš„å½“ä¸‹ï¼Œè¿·èŒ«äºè‡ªå·±çš„é€‰æ‹©ï¼Œè¿·èŒ«äºå¯¹é”™ã€‚ è½®å»“ æˆ‘ä¼¼ä¹æ¸æ¸æ‘¸æ¸…äº†ä¸è¿œçš„æœªæ¥çš„è½®å»“ï¼Œå¯¹è‡ªå·±è½®å»“çš„æç»˜ä¹Ÿè¶Šæ¥è¶Šæ¸…æ™°ï¼Œè·Ÿä¸åŒäººä¹‹é—´çš„è½®å»“çš„åŒºåˆ†ã€‚ å±•æœ› å…‹åˆ¶ï¼Œè§„å¾‹çš„ä½œæ¯ï¼Œæ‰å®åœ°å‰è¿›ã€‚ å¾ˆè£å¹¸ä½ èƒ½å¤Ÿå¿å—ç€æˆ‘æŠ½è±¡çš„æ–‡å­—ã€åƒæ€¨å¦‡ä¸€æ ·çš„æŠ±æ€¨ã€å’Œä¸€äº›éš¾å¬çš„è¯‹æ¯çœ‹åˆ°è¿™é‡Œï¼Œè°¢è°¢ä½ æˆ‘çš„æœ‹å‹ï¼Œ2022æ–°å¹´å¿«ä¹ã€‚","categories":[{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"}],"tags":[{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"}]},{"title":"Educational Codeforces Round 122 (Div.2)","slug":"codeforces/cf Edu 122","date":"2022-01-31T10:00:00.000Z","updated":"2022-02-15T10:05:03.753Z","comments":true,"path":"/post/codeforces/cf Edu 122.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20Edu%20122.html","excerpt":"Educational Codeforces Round 122 (Div.2)","text":"Educational Codeforces Round 122 (Rated for Div. 2) vp A_Div_7 ç­¾ void solve() { int n; cin &gt;&gt; n; if(n % 7 == 0) cout &lt;&lt; n &lt;&lt; '\\n'; else{ if(n &gt;= 990) cout &lt;&lt; 994 &lt;&lt; '\\n'; else { n -= n%10; while(n % 7 != 0) n++; cout &lt;&lt; n &lt;&lt; '\\n'; } } } B_Minority ç­¾ void solve() { string s; cin &gt;&gt; s; int one = 0, zero = 0, ans = 0; rep(i, 0, s.size()){ if(s[i] == '0') zero ++; else one ++; ans = (one == zero)? ans : min(one, zero); } cout &lt;&lt; ans &lt;&lt; '\\n'; } C_Kill_ the_Monster æšä¸¾kçš„åˆ†é…ç§ç±»å³å¯ ceil(double x) ï¼šdouble ç±»å‹å‘ä¸Šå–æ•´ void solve() { double hc, dc, hm, dm, k, w, a; cin &gt;&gt; hc &gt;&gt; dc &gt;&gt; hm &gt;&gt; dm &gt;&gt; k &gt;&gt; w &gt;&gt; a; rep(i, 0, k+1){ double hhc = 1.0 * i * a + hc; double ddc = 1.0 * (k - i) * w + dc; if(ceil(hm / ddc) &lt;= ceil(hhc / dm)){ cout &lt;&lt; \"YES\\n\"; return ; } } cout &lt;&lt; \"NO\\n\"; } D_Make_Them_Equal (dp) é¢˜æ„ï¼š ç»™å®šä¸€ä¸ªé•¿ä¸º çš„æ•°ç»„ ï¼Œåˆå€¼å…¨ä¸º ï¼Œä½ å¯ä»¥åšè¿™æ ·çš„æ“ä½œï¼šé€‰æ‹© å’Œ (x&gt;0) ï¼Œç„¶åä½¿ å¦‚æœæ“ä½œå ï¼Œä½ å°†å¾—åˆ° çš„å¥–é‡‘ï¼Œä½ éœ€è¦åœ¨ æ¬¡æ“ä½œå†…ä½¿å¾—å¥–é‡‘æœ€å¤§åŒ–ï¼Œè¾“å‡ºå¥–é‡‘çš„æœ€å¤§å€¼ã€‚è§„å®š , æ€è·¯ï¼š ä» åˆ° çš„æ¬¡æ•°æ˜¯å›ºå®šçš„ï¼Œæ ¹æ® çš„èŒƒå›´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“è¡¨é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ“ä½œæ¬¡æ•°ï¼Œç„¶åè€ƒè™‘01èƒŒåŒ…ï¼Œdp[i][j]è¡¨ç¤ºå‰ i ä¸ªè€—è´¹ä¸º j çš„æœ€å¤§å¥–é‡‘ï¼Œä½†æ˜¯å¼€1e6è‚¯å®šä¼šTï¼Œè§‚å¯Ÿæ‰“è¡¨ç»“æœå‘ç°æœ€å¤§å€¼ä¸º 12ï¼Œè¿™æ ·å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹dpçš„èŒƒå›´ã€‚ int b[1005], c[1005]; int pre[1005]; // 1 -&gt; 1000 æ‰“è¡¨ max = 12 void init() { pre[1] = 0; rep(i, 1, 1001) { rep(j, 1, i + 1) { int tmp = i + i / j; if(tmp &lt;= 1000) pre[tmp] = pre[tmp] ? min(pre[tmp], pre[i] + 1) : pre[i] + 1; } } } int dp[12005]; void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; rep(i, 1, n + 1) cin &gt;&gt; b[i], b[i] = pre[b[i]]; rep(i, 1, n + 1) cin &gt;&gt; c[i]; int ans = 0; if(k &gt;= 12 * n) { rep(i, 1, n + 1) ans += c[i]; }else { rep(i, 0, 12 * n) dp[i] = 0; rep (i, 1, n + 1) { red(j, k + 1, 0){ if(j - b[i] &gt;= 0) dp[j] = max(dp[j], dp[j - b[i]] + c[i]); else break; } } ans = dp[k]; } cout &lt;&lt; ans &lt;&lt; \"\\n\"; }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"}]},{"title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2","slug":"nowcoder/2022winter/round2","date":"2022-01-30T13:30:50.000Z","updated":"2022-02-24T06:40:23.350Z","comments":true,"path":"/post/nowcoder/2022winter/round2.html","link":"","permalink":"https://maskros.top/post/nowcoder/2022winter/round2.html","excerpt":"","text":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2 AC 6 / 12 æˆ‘æ˜¯çº¯åºŸç‰© *A å°æ²™çš„ç‚‰çŸ³(äºŒåˆ†/ç»“è®º) é¢˜æ„ï¼š å°æ²™å½“å‰çš„æ‰‹ä¸Šæœ‰nå¼ æ³•æœ¯è¿›æ”»ç‰Œï¼Œæ¯å¼ ç‰Œéƒ½ä¼šæ¶ˆè€—ä¸€ç‚¹æ³•åŠ›ï¼Œé€ æˆä¸€ç‚¹åŸºç¡€ä¼¤å®³ï¼Œæœ‰må¼ æ³•æœ¯å›å¤ç‰Œï¼Œä¸éœ€è¦æ¶ˆè€—æ³•åŠ›å€¼ï¼Œæ¯æ¬¡å¯ä»¥æ¢å¤ä¸€ç‚¹æ³•åŠ›ã€‚å°æ²™ä¸€å¼€å§‹æœ‰ä¸€ç‚¹æ³•åŠ›ï¼Œæ³•åŠ›æ²¡æœ‰ä¸Šé™ã€‚æ³•æœ¯è¿›æ”»ç‰Œçš„ä¼¤å®³å€¼=å½“å‰å‡ºçš„æ˜¯ç¬¬å‡ å¼ ç‰Œã€‚kæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªè¡€é‡xï¼Œé—®èƒ½å¦åšåˆ°ä¼¤å®³åˆšå¥½ç­‰äºè¡€é‡å€¼ï¼Œå³åˆšå¥½æ–©æ€ã€‚ é¢˜è§£ï¼šäºŒåˆ†æ˜¯æœ´ç´ å†™æ³•ï¼Œç»“è®ºä¹Ÿå¾ˆå¥½è¯æ˜ï¼Œè¯æ˜å¦‚ä¸‹ï¼š é¦–å…ˆæˆ‘ä»¬è¦è¯æ˜ä¸€ä¸ªç‚¹ï¼Œå¯¹äºä½¿ç”¨æ”»å‡»ç‰Œæ˜¯ä¸€ä¸ªå®šå€¼çš„è¯ï¼Œæˆ‘ä»¬çš„æ”»å‡»èŒƒå›´æ˜¯ä¸€ä¸ªåŒºé—´ä¸Šçš„ä»»æ„çš„ä¼¤å®³å€¼ï¼šå½“æˆ‘ä»¬çš„æ”»å‡»ç‰Œä½¿ç”¨æ¬¡æ•°ä¸ºaï¼Œè“é‡ä½¿ç”¨ç‰Œä¸ºbæ—¶ï¼Œå¯¹äºa&lt;=b+1ï¼Œæˆ‘ä»¬çš„æœ€å°æ”»å‡»ä¸€å®šä¸º æ”»ï¼Œå›å¤ï¼Œæ”»ï¼Œå›å¤â€¦â€¦ç›´åˆ°ç”¨å®Œæ‰€ä»¥æ”»å‡»åè¡¥å…¨å›å¤ã€‚å¯å¾—ç­‰å·®æ•°åˆ—ï¼Œæ±‚å’Œå¯å¾— ã€‚åœ¨æœ€å°æ”»å‡»çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ”»å‡»ç‰Œçš„ä½ç½®å’Œä»–åé¢çš„å›å¤ç‰Œçš„ä½ç½®äº¤æ¢ï¼Œä½¿å¾—ä¼¤å®³+1ã€‚æœ€åå¯å¾—æœ€å¤§ä¼¤å®³ä¸ºï¼šå›å¤ï¼Œå›å¤â€¦â€¦æ”»ï¼Œæ”»ï¼Œæ”»â€¦â€¦æœ€å¤§ï¼Œ å¯å¾—ç­‰å·®æ•°åˆ— ,æ±‚å’Œå¯å¾— void solve() { ll n, m, k, x, q; cin &gt;&gt; n &gt;&gt; m &gt;&gt; k; n = min(n, m + 1); for (int i = 0; i &lt; k; i++) { cin &gt;&gt; x; q = sqrt(x); if (q &gt; n) q = n; if (x &lt;= q * (2 * m + q + 1) / 2) puts(\"YES\"); else puts(\"NO\"); } } C å°æ²™çš„æ€çƒ æ°´é¢˜ void solve() { ll x,a,b; cin&gt;&gt;x&gt;&gt;a&gt;&gt;b; int ans=0; string s; cin&gt;&gt;s; int len=s.length(); rep(i,0,len){ if(s[i]=='0') x+=b; else{ if(x&gt;=a) {x-=a; ans++;} else x+=b; } } cout&lt;&lt;ans; } *E å°æ²™çš„é•¿è·¯ (å›¾è®º/æ¬§æ‹‰å›¾) é¢˜æ„ï¼š â€‹ é˜¶ç«èµ›å›¾(å¯ä»¥è‡ªå®šä¹‰æ¯æ¡è¾¹çš„æ–¹å‘)ï¼Œæ¯æ¡è¾¹åªèƒ½èµ°ä¸€æ¬¡ï¼Œè¯¢é—®æœ€é•¿è·¯å¾„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ é¢˜è§£ï¼š æœ€é•¿è·¯çš„æœ€å°å€¼ï¼šã€‚å¦‚æœå›¾ä¸Šæœ‰ç¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šèƒ½å°½å¯èƒ½å¤šçš„èµ°ç¯ï¼Œè¿™æ ·çš„è¯æˆ‘ä¸€å®šä¼šæ¯”æˆ‘ä¸èµ°ç¯æ›´é•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„é€ çš„å›¾è¦å°½å¯èƒ½çš„æ²¡ç¯ã€‚åœ¨æ²¡ç¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä¼šç»è¿‡æ¯ä¸ªç‚¹å„ä¸€æ¬¡ï¼Œæ‰€ä»¥æ€»é•¿åº¦æ˜¯ æœ€é•¿è·¯çš„æœ€å¤§å€¼ï¼š ä¸ºå¥‡æ•°ï¼š ; ä¸ºå¶æ•°ï¼š ã€‚æˆ‘ä»¬è€ƒè™‘å°½å¯èƒ½çš„å°†æ¯ä¸€æ¡è·¯éƒ½èµ°éï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå¯¹ä¸€ä¸ªå®Œå…¨å›¾è¿›è¡Œåˆ è¾¹ï¼Œæˆ‘ä»¬éœ€è¦åˆ å°½å¯èƒ½å°‘çš„è¾¹ï¼Œä»è€Œä½¿ä»–èƒ½å¤Ÿä»å¤´èµ°åˆ°å°¾ï¼Œä¹Ÿå°±æ˜¯æ„é€ å‡ºä¸€ä¸ªæ¬§æ‹‰å›è·¯ã€‚åˆç”±æ¬§æ‹‰å›è·¯çš„å®šä¹‰å¯çŸ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªç‚¹çš„å‡ºå…¥åº¦æ§åˆ¶ä¸ºå¶æ•°å³å¯ç»„æˆæ¬§æ‹‰å›è·¯ï¼Œæ‰€ä»¥å¥‡å¶ç‰¹åˆ¤å³å¯ã€‚ (TIPS: åˆ å» å³ä¸ºä½¿åŸå›¾ä»…æœ‰ä¸¤ä¸ªå¥‡åº¦é¡¶ç‚¹æ„æˆæ¬§æ‹‰å›¾) void solve() { ll n; cin&gt;&gt;n; ll mx,mn; mn=n-1; if(n&amp;1) { mx=(n-1)*n/2; }else{ mx=n*(n-1)/2-(n-2)/2; } cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx; } F å°æ²™çš„ç®—æ•° (æ¨¡æ‹Ÿ/æ¡¶/é€†å…ƒ) é¢˜æ„ï¼šç»™å®šä»…æœ‰+å’ŒÃ—çš„ç®—å¼ï¼Œqæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡å°†ç¬¬xä¸ªç®—æ•°å˜ä¸ºyï¼Œé—®æ¯æ¬¡ä¿®æ”¹ååŸå¼çš„å€¼ä¸ºå¤šå°‘ï¼Ÿç­”æ¡ˆå¯¹1e9+7å–æ¨¡ é¢˜è§£ï¼šç”±äºè¿ç®—æœ‰ä¼˜å…ˆçº§ï¼Œæ¯ä¸ª+åˆ†å¼€å„ä¸ªåŒºé—´ï¼Œæå‰å°†åŒºé—´å†…çš„ä¿¡æ¯æ•´åˆåˆ°æ•°ç»„é‡Œä¿å­˜ï¼Œç„¶åè¿›è¡Œè®¡ç®—å³å¯ï¼Œéœ€è¦ç”¨é€†å…ƒå¤„ç†é™¤æ³• int a[maxn], pos[maxn]; ll res[maxn]; ll quickpow(ll a, ll b) { ll ans = 1; ll res = a % mod; while (b) { if (b &amp; 1) ans = ans * res % mod; b &gt;&gt;= 1; res = res * res % mod; } return ans % mod; } ll inv(ll x) { return quickpow(x, mod - 2); } void solve(){ int n, q; cin &gt;&gt; n &gt;&gt; q; char c; int tmppos = 1; rep(i, 1, n) { cin &gt;&gt; c; if (i == n - 1) { if (c == '+') { pos[i] = tmppos; pos[i + 1] = tmppos + 1; } else { pos[i] = tmppos; pos[i + 1] = tmppos; } } else { if (c == '+') { pos[i] = tmppos; tmppos++; } else { pos[i] = tmppos; } } } ll ans = 0; ll tmp = 1; tmppos = 1; rep(i, 1, n + 1) { cin &gt;&gt; a[i]; if (pos[i] == tmppos) { tmp = (tmp * (a[i] % mod)) % mod; } else { ans = (ans + tmp) % mod; res[tmppos] = tmp; tmp = a[i] % mod; tmppos++; } } if (tmppos == pos[n]) { ans = (ans + tmp) % mod; res[tmppos] = tmp; } int x, y; rep(i, 0, q) { cin &gt;&gt; x &gt;&gt; y; tmppos = pos[x]; ans = (ans - res[tmppos] + mod) % mod; res[tmppos] = (res[tmppos] * inv(a[x] * 1ll) % mod * y) % mod; ans = (ans + res[tmppos]) % mod; a[x] = y; cout &lt;&lt; ans &lt;&lt; endl; } } H å°æ²™çš„æ•°æ•° (ä½è¿ç®—) é¢˜æ„ï¼š æœ‰ä¸€ä¸ªaæ•°ç»„ï¼Œæˆ‘ä»¬å·²çŸ¥ä»–çš„é•¿åº¦ä¸ºnï¼Œa[+]çš„å’Œä¸ºmï¼Œè¯·é—®å¦‚æœæˆ‘ä»¬æƒ³è¦a[âŠ•]çš„å€¼æœ€å¤§ï¼Œæ•°ç»„aåœ¨æ»¡è¶³a[+]=mæ—¶æœ‰å¤šå°‘ç§æƒ…å†µï¼Ÿæˆ‘ä»¬å®šä¹‰a[+]æŒ‡a1+a2â€¦ana_1+a_2â€¦a_na1+a2â€¦ançš„å€¼ï¼›a[âŠ•]æŒ‡a1a_1a1âŠ•a2a_2a2âŠ•a3a_3a3â€¦anâ€¦a_nâ€¦ançš„å€¼ï¼Œaæ•°ç»„å…¨éƒ¨ä¸ºéè´Ÿæ•´æ•° é¢˜è§£ï¼š ç”±äºåœ¨äºŒè¿›åˆ¶æ‹†ä½æœ€ååŒä½æƒ…å†µä¸‹å¦‚æœå­˜åœ¨ä¸æ­¢ä¸€ä¸ªä¸€ï¼Œé‚£ä¹ˆå¼‚æˆ–ä¹‹åçš„è´¡çŒ®ä¸€å®šå°äºæˆ‘ä»¬çš„è´¹ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯å¯¹äºæ¯ä¸€ä½çš„ä¸ªæ•°è¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ï¼Œè¿™æ ·çš„è¯æ‰èƒ½ä¿è¯a[^]=a[+]ï¼Œéšåæˆ‘ä»¬å‘ç°å¯¹äºæ¯ä¸€ä½æ¥è¯´ï¼Œä»–ä»¬å‡ä¸ç›¸äº’å¹²æ‰°ï¼Œé‚£ä¹ˆä»–ä»¬å¯èƒ½äº§ç”Ÿçš„æƒ…å†µä¾¿éƒ½æ˜¯nç§ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ±‚äºŒè¿›åˆ¶ä¸‹mæœ‰å¤šå°‘ä¸ª1ï¼Œéšåæ±‚n^xæ¬¡æ–¹å³å¯ int foo(ll x) { //è®¡ç®—äºŒè¿›åˆ¶æœ‰å¤šå°‘ä¸ª1 int count = 0; while (x) { count++; x = x &amp; (x - 1); } return count; } ll quickpow(ll a, ll b) { ll ans = 1; ll res = a % mod; while (b) { if (b &amp; 1) ans = ans * res % mod; b &gt;&gt;= 1; res = res * res % mod; } return ans % mod; } void solve() { ll n,m; cin&gt;&gt;n&gt;&gt;m; int base=foo(m); ll ans = 0; if(base==1) cout&lt;&lt;n%mod; else cout&lt;&lt;quickpow(n,base)%mod; } I å°æ²™çš„æ„é€  æ„é€ é¢˜ï¼Œè´ªå¿ƒæ„é€ å³å¯ string all=\"\\\"!\\'*+-.08:=^_WTYUIOAHXVM|\"; //25 string db=\"&lt;&gt;\\\\/[]{}()\"; //10 char s[maxn]; void solve() { int n,m; cin&gt;&gt;n&gt;&gt;m; if(m==36 || n&lt;m) {cout&lt;&lt;-1; return;} int have=0; int dbpos=0,allpos=0; bool add=true; rep(i,0,n/2){ if(have&lt;m){ if(dbpos&lt;10 &amp;&amp; have+2&lt;m){ s[i]=db[dbpos]; dbpos++; s[n-1-i]=db[dbpos]; dbpos++; have+=2; }else{ s[i]=all[allpos]; s[n-1-i]=all[allpos]; have++; if(have&lt;m) allpos++; } }else{ s[i]=all[allpos]; s[n-1-i]=all[allpos]; add=false; } } if(n&amp;1){ s[n/2]=all[allpos]; if(add) have++; } if(have&lt;m) {cout&lt;&lt;-1; return;} rep(i,0,n) cout&lt;&lt;s[i]; } K å°æ²™çš„æ­¥ä¼ æ°´é¢˜ void solve() { string s; cin&gt;&gt;s; int len=s.length(); int a[15]; mem(a,0); rep(i,0,len){ if(s[i]=='5'){ continue; }else{ a[5]++; int tmp=int(s[i]-'0'); a[tmp]++; } } rep(i,1,10){ cout&lt;&lt;a[i]&lt;&lt;\" \"; } } å¾…è¡¥â€¦","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"https://maskros.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://maskros.top/tags/%E5%9B%BE%E8%AE%BA/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"},{"name":"é€†å…ƒ","slug":"é€†å…ƒ","permalink":"https://maskros.top/tags/%E9%80%86%E5%85%83/"}]},{"title":"Codeforces Round 768 (Div.2)","slug":"codeforces/cf 768","date":"2022-01-29T10:30:00.000Z","updated":"2022-01-29T13:27:03.905Z","comments":true,"path":"/post/codeforces/cf 768.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20768.html","excerpt":"Codeforces Round 768 (Div.2)","text":"Codeforces Round #768 (Div.2) åº·å¤è®­ç»ƒç¬¬äºŒåœºcf A_Min_Max_Swap æ°´é¢˜ï¼Œæ¨¡æ‹Ÿ int a[200],b[200]; void solve() { int n; cin&gt;&gt;n; rep(i,0,n) cin&gt;&gt;a[i]; rep(i,0,n) cin&gt;&gt;b[i]; rep(i,0,n){ if(a[i]&lt;b[i]) swap(a[i],b[i]); } sort(a,a+n); sort(b,b+n); cout&lt;&lt;a[n-1]*b[n-1]&lt;&lt;endl; } B_Fun_with_Even_Subarrays é¢˜æ„ï¼š ç»™ä¸€ä¸ªåºåˆ—ï¼Œè§„å®šæ“ä½œï¼šé€‰æ‹©èµ·ç‚¹ä¸ºlå°†é•¿ä¸ºkçš„åºåˆ—ç”¨å®ƒç›¸é‚»çš„ä¸‹ä¸€ä¸ªé•¿ä¸ºkçš„åºåˆ—è¦†ç›–ï¼Œé—®æœ€å°‘ç»è¿‡å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿åºåˆ—ä¸­æ‰€æœ‰æ•°ç›¸åŒï¼Ÿ æ€è·¯ï¼š åŒæ ·ç²—ç•¥åœ°æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œä»åºåˆ—å°¾éƒ¨å‘å‰åæ¨å³å¯ int a[maxn]; void solve() { int n; cin&gt;&gt;n; rep(i,0,n){ cin&gt;&gt;a[i]; } if(n==1) cout&lt;&lt;0&lt;&lt;endl; else{ int sd=a[n-1]; int len=1; int ans=0; red(i,n-1,0){ if(a[i]==sd){ len++; } else{ ans++; i=i-len+1; len*=2; } } cout&lt;&lt;ans&lt;&lt;endl; } } C_And_Matching é¢˜æ„ï¼š ç»™å®š , , è¦æ±‚å°† æ„é€ å‡º å¯¹ ï¼Œæ»¡è¶³ Misplaced &\\sum^{n/2}_{i=1}a_i&amp; b_i=kâ€‹ è§„å®š æ˜¯ 2 çš„å¹‚ï¼Œ æ€è·¯ï¼š ä¸€å¼€å§‹å› ä¸ºè¯»é¢˜æ¼æ‰äº†è§„å®šæ¡ä»¶å¯¼è‡´ä¸€æ—¶æ²¡æ³•åšï¼Œä¸€å®šè¦ä»”ç»†è¯»é¢˜ã€‚ å¯ä»¥æ‰¾åˆ°è§„å¾‹ï¼šåºåˆ—é¦–å°¾ä¾æ¬¡åšANDæ“ä½œä¸€å®šä¸º0ï¼Œä¸å¦¨å°† ä¸ ç›¸ä¸ï¼Œå› ä¸º å¿…å®šæ‰€æœ‰ä½éƒ½ä¸º1ï¼Œæ‰€ä»¥ä¸å€¼ä¸º ã€‚ç„¶åå†é¦–å°¾ä¾æ¬¡ç›¸ä¸ï¼ŒåŸæœ¬ç†åº”ä¸ ç›¸ä¸çš„æ•°ä½¿å®ƒä¸0ç›¸ä¸å³å¯ã€‚ç‰¹åˆ«çš„ï¼Œå½“ æ—¶ï¼Œç‰¹æ®Šè€ƒè™‘ä¸€ç§ç»„åˆæ–¹æ³•å³å¯ã€‚ void solve() { ll n,k; cin&gt;&gt;n&gt;&gt;k; if(n==4&amp;&amp;k==3) cout&lt;&lt;-1&lt;&lt;endl; eif(n-1==k){ cout&lt;&lt;n-2&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl; cout&lt;&lt;1&lt;&lt;\" \"&lt;&lt;n-3&lt;&lt;endl; cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;2&lt;&lt;endl; rep(i,3,n/2){ if (i == n - 2 || i == n - 1 || i == n - 3 || n - i - 1 == n - 1 || n - i - 1 == n - 2 || n - i - 1 == n - 3) continue; else cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl; } } else{ cout&lt;&lt;k&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl; rep(i,1,n/2){ if(k!=i &amp;&amp; k!=n-i-1){ cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl; }else{ if(k==i){ cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl; }else{ cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;i&lt;&lt;endl; } } } } } D_Range_and_Partition é¢˜æ„ï¼š ç»™å®šä¸€ä¸ªé•¿ä¸º çš„åºåˆ— ï¼Œæ‰¾åˆ°ä¸€ç³»åˆ—åŒºé—´ (x&lt;=y)ï¼Œå°†åºåˆ— åˆ†ä¸º ä¸ªå­åºåˆ—ï¼Œè¦æ±‚æ¯ä¸ªåºåˆ—ä¸­åœ¨åŒºé—´ çš„æ•°ä¸¥æ ¼å¤§äºåœ¨åŒºé—´å¤–çš„æ•°ï¼Œè¦æ±‚æœ€å°åŒ– è§„å®š k&lt;=n&lt;=2e5 æ€è·¯ï¼š ç”±é¢˜å¯çŸ¥ï¼Œ æ®µä¸­æ¯ä¸€æ®µåœ¨åŒºé—´çš„æ•°çš„æ•°é‡è‡³å°‘æ¯”ä¸åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡å¤š1, å¹¶ä¸”åªè¦æ•´ä¸ªæ•°ç»„æ»¡è¶³æ•´ä¸ªæ¡ä»¶é‚£ä¹ˆä¸€å®šå­˜åœ¨å°†æ•°ç»„åˆ†æˆkæ®µä»ç„¶æ»¡è¶³çš„æ–¹æ³•ã€‚åˆ¤æ–­æ¡ä»¶ï¼šè®¾æ•´ä¸ªæ•°ç»„ä¸­åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡ä¸º numï¼Œä¸åœ¨åŒºé—´å†…çš„ä¸ºn-numã€‚åªè¦num-(n-num)&gt;=kå³æ»¡è¶³æ¡ä»¶ã€‚ äºæ˜¯æˆ‘ä»¬æšä¸¾åŒºé—´çš„å·¦è¾¹ç•Œï¼ŒäºŒåˆ†æ±‚è§£æ»¡è¶³æ¡ä»¶çš„æœ€å°å³è¾¹ç•Œå³å¯ã€‚ :::tip å½“å‘ç° ã€æœ€å°åŒ–å·®å€¼å¯¹è±¡ã€æ•°æ®èŒƒå›´ä¸º2e5æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè€ƒè™‘ï¼š ï¼ˆ1ï¼‰å°ºå–æ³•(åŒæŒ‡é’ˆ) ï¼ˆ2ï¼‰ç»“è®ºé¢˜ ï¼ˆ3ï¼‰æšä¸¾ä¸€ç«¯ï¼Œå¦ä¸€ç«¯ log/O(1) å¤æ‚åº¦ ::: #define maxn 200005 using namespace std; int n,k,a[maxn]; int vis[maxn]; void solve() { cin&gt;&gt;n&gt;&gt;k; mem(vis,0); rep(i,1,n+1){ cin&gt;&gt;a[i]; vis[a[i]]++; //è®¡æ•° } rep(i,1,n+1) vis[i]+=vis[i-1]; //å‰ç¼€å’Œç»Ÿè®¡åŒºé—´è®¡æ•° int x=1,y=n; rep(i,1,n+1){ //æšä¸¾åŒºé—´å·¦è¾¹ç•Œ int l=i, r=n; int num=vis[r]-vis[l-1]; if(num-(n-num)&lt;k) break; // ä¸å­˜åœ¨ä»¥iä¸ºå·¦è¾¹ç•Œçš„åˆæ³•åŒºé—´ while(l&lt;=r){ int mid=(l+r)&gt;&gt;1; num=vis[mid]-vis[i-1]; //åŒºé—´èŒƒå›´å†…çš„æ•° if(num-(n-num)&gt;=k) r=mid-1; else l=mid+1; } if(l-i&lt;y-x){ x=i; y=l;} } cout&lt;&lt;x&lt;&lt;\" \"&lt;&lt;y&lt;&lt;endl; for(int l=1,r=1; l&lt;=n; l=r+1,r=l,k--){ if(k==1){ cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;n&lt;&lt;endl; break; }else{ int cnt1=0, cnt2=0; while(1){ if(a[r]&gt;=x &amp;&amp; a[r]&lt;=y) cnt1++; else cnt2++; if(cnt1&lt;=cnt2) r++; else break; } cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;r&lt;&lt;endl; } } } åæ€ï¼šä¸€åœºä¸å¦‚ä¸€åœºï¼Œå¯„","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://maskros.top/tags/%E6%9E%84%E9%80%A0/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"}]},{"title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1","slug":"nowcoder/2022winter/round1","date":"2022-01-25T15:30:50.000Z","updated":"2022-01-26T04:46:37.746Z","comments":true,"path":"/post/nowcoder/2022winter/round1.html","link":"","permalink":"https://maskros.top/post/nowcoder/2022winter/round1.html","excerpt":"","text":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1 AC 9 / 12 *A ä¹å°æ—¶ä¹ä¸ªäººä¹æ‰‡é—¨ (dp (0/1èƒŒåŒ…)) é¢˜æ„ï¼šn ä¸ªäººï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªæ•°å­— a[i]ï¼Œå¯ä»¥éšæ„ç»„åˆï¼Œç»„åˆèµ·æ¥ä¸ºæ•°å­—çš„åŠ å’Œã€‚ä¸€å…±1~9å·é—¨ ï¼Œå¦‚æœç»„åˆåçš„æ•°å­—æ ¹ç­‰äºé—¨çš„åºå·ï¼Œå³å¯æ‰“å¼€ã€‚é—®åˆ†åˆ«æœ‰å¤šå°‘ç§äººç‰©ç»„åˆå¯ä»¥æ‰“å¼€å¯¹åº”çš„é—¨ã€‚æ•°å­—æ ¹ï¼šå°†è¯¥æ•°å­—å„æ•°ä½ä¸Šçš„æ•°å­—ç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ï¼Œç›´åˆ°å¾—åˆ°çš„æ•°å­—å°äº10ä¸ºæ­¢ã€‚ æœ‰ç”¨çš„ç»“è®ºï¼šä¸€ä¸ªæ•°çš„æ•°å­—æ ¹ç­‰äºè¿™ä¸ªæ•°å¯¹9å–æ¨¡çš„ç»“æœ(å¾—0æ—¶æ•°å­—æ ¹ä¸º9) æ€è·¯ï¼š ç»å…¸0/1èƒŒåŒ…å˜å½¢çš„DPé—®é¢˜ï¼Œdp[i][j]è¡¨ç¤ºè€ƒè™‘äº†å‰ i ä¸ªæ•°ï¼Œé€‰æ‹©äº†ä¸€äº›æ•°å­—ä½¿å¾—æ±‚å’Œå¯¹9å–æ¨¡å¾— jçš„æ–¹æ¡ˆæ•°ï¼Œè½¬ç§»ç±»ä¼¼0/1èƒŒåŒ…çš„è½¬ç§» // æ•°å­—æ ¹ = æœ¬èº« mod 9 int a[maxn]; int dp[maxn][15]; void solve(){ int n; cin&gt;&gt;n; int t; rep(i,1,n+1){ cin&gt;&gt;t; a[i]=t%9; } dp[1][a[1]]=1; rep(i,2,n+1){ rep(j,0,9){ int k=(j+a[i])%9; dp[i][k]=(dp[i-1][k]%mod+dp[i-1][j]%mod)%mod; } dp[i][a[i]]++; } rep(i,1,10){ if(i==9) cout&lt;&lt;dp[n][0]; else cout&lt;&lt;dp[n][i]&lt;&lt;\" \"; } } C Babyâ€™s first attempt on CPU é¢˜æ„ï¼šè®¡ç»„å­¦è¿‡çš„æµæ°´çº¿CPUï¼Œè§£å†³å…ˆå†™åè¯»ç›¸å…³é—®é¢˜éœ€è¦ä¸­é—´æ’å…¥ç©ºè¯­å¥ï¼Œå…±nä¸ªè¯­å¥ï¼Œæ¯ä¸ªè¯­å¥ä¸‰ä¸ªæ•°å­—è¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥æ˜¯å¦å­˜åœ¨å…ˆå†™åè¯»ç›¸å…³ï¼Œæ€»å…±éœ€è¦æ’å…¥å¤šå°‘ç©ºè¯­å¥ é¢˜è§£ï¼šæ°´é¢˜ï¼Œå½“æ—¶ä¸ºäº†æ—¶é—´ä¹±jbå†™çš„ï¼Œæ— å‚è€ƒä»·å€¼ï¼›ç»´æŠ¤ä¸‰ä¸ªdisè¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥çš„é—´éš”æ¡æ•°ï¼Œåˆ†ç±»åˆ¤æ–­å³å¯ã€‚ void solve() { int x1,x2,x3; int n; scanf(\"%d\", &amp;n); int ans=0; int dis1=0,dis2=1,dis3=2; rep(i,0,n){ scanf(\"%d%d%d\",&amp;x1,&amp;x2,&amp;x3); if(x1==1) {ans+=3; dis2=4; dis3=5;} eif(x2==1) { if(dis2&gt;=3){dis3=dis2+1; dis2=dis1+1; dis1=0; } else { ans+=(3-dis2); dis2=4-dis2; dis3=3; } }eif(x3==1){ if(dis3&gt;=3) {dis3=dis2+1; dis2=dis1+1; dis1=0;} else{ ans+=(3-dis3); dis2=4-dis3; dis3=4; } }else{ dis3=dis2+1; dis2=dis1+1; dis1=0; } } cout&lt;&lt;ans&lt;&lt;endl; } D ç‰›ç‰›åšæ•°è®º (æ¬§æ‹‰å‡½æ•°) é¢˜æ„ï¼š å®šä¹‰å¯¹äºæ­£æ•´æ•° , ï¼Œç»™å®šä¸€ä¸ªæ•´æ•° ï¼Œåˆ†åˆ«æ±‚ ä½¿å¾— åˆ†åˆ«å–æœ€å¤§å€¼å’Œæœ€å°å€¼ é¢˜è§£ï¼š â‘  æ ¹æ®æ¬§æ‹‰å‡½æ•°çš„æ€§è´¨ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœ ä¸ºè´¨æ•°ï¼Œåˆ™ ï¼Œæ­¤æ—¶ â€‹ å³å–æœ€å¤§å€¼ï¼› â‘¡ æ¬§æ‹‰å‡½æ•°å¯ä»¥æ ¹æ®è´¨å› æ•°åˆ†è§£æ±‚å¾—ï¼š , å›çœ‹ ï¼Œå‘ç°å¯ä»¥çº¦æ‰ ï¼Œæ•…å¯çŸ¥æ˜¯ç”±è´¨æ•°ä¾æ¬¡ç›¸ä¹˜ä¸€å®šæ˜¯æœ€å°å€¼: ï¼Œæ•…å¯ç­›å‡ºè´¨æ•°åéå†è´¨æ•°è¡¨å³å¯ã€‚ const int MAXN = 10000; int prime[MAXN + 1]; void getPrime() { memset(prime, 0, sizeof(prime)); for (int i = 2; i &lt;= MAXN; i++) { if (!prime[i]) prime[++prime[0]] = i; for (int j = 1; j &lt;= prime[0] &amp;&amp; prime[j] &lt;= MAXN / i; j++) { prime[prime[j] * i] = 1; if (i % prime[j] == 0) break; } } } bool isPrime(int num) { if (num == 2 || num == 3) { return true; } if (num % 6 != 1 &amp;&amp; num % 6 != 5) { return false; } for (int i = 5; i * i &lt;= num; i += 6) { if (num % i == 0 || num % (i + 2) == 0) { return false; } } return true; } void solve() { int n; cin&gt;&gt;n; if(n==1) {cout&lt;&lt;-1&lt;&lt;endl; return;} int mx,mn=2; red(i,n+1,2){ if(isPrime(i)) {mx=i; break;} } ll tmp=1; rep(i,1,1000){ tmp*=prime[i]; if(tmp&lt;=n) mn=tmp; else break; } cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx&lt;&lt;endl; } E ç‚¸é¸¡å—å›çš„é«˜ä¸­å›å¿† æ°´é¢˜ void solve() { int m,n; cin&gt;&gt;n&gt;&gt;m; if(m==1){ if(n==1) cout&lt;&lt;1&lt;&lt;endl; else cout&lt;&lt;-1&lt;&lt;endl; return; } int ans; n-=m; int tmp=n%(m-1); ans=n/(m-1)*2; if(tmp!=0) ans+=3; else ans++; cout&lt;&lt;ans&lt;&lt;endl; } F ä¸­ä½æ•°åˆ‡åˆ† ç»“è®ºé¢˜ï¼šå¦‚æœä¸­ä½æ•°å¤§äº ï¼Œåˆ™è¯¥åˆ—ä¸­çš„å¤§äº çš„æ•°çš„ä¸ªæ•°ä¸€å®šè¶…è¿‡ä¸€åŠï¼Œåˆ’åˆ†æ®µæ•°ç›´æ¥ç­‰äº å¤§äºmçš„ä¸ªæ•° - å°äºmçš„ä¸ªæ•°ï¼Œéšä¾¿æ¨æ¨å°±çŸ¥é“äº†ã€‚ void solve() { int n,m; scanf(\"%d%d\",&amp;n, &amp;m); int bg=0,sm=0; int t; rep(i,0,n){ scanf(\"%d\", &amp;t); if(t&gt;=m) bg++; else sm++; } if(bg&lt;=n/2) cout&lt;&lt;-1&lt;&lt;endl; else cout&lt;&lt;bg-sm&lt;&lt;endl; } H ç‰›ç‰›çœ‹äº‘ é¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªåºåˆ— , è®¡ç®— ï¼Œæ•°æ®èŒƒå›´ n&lt;1e6, 0&lt;=ai&lt;=1000 é¢˜è§£ï¼šæ³¨æ„åˆ° n&lt;=1e6 ä¸” a[i]&lt;=1000ï¼ŒçŸ¥é“a[i]èŒƒå›´å¾ˆå°ï¼Œæ‰€ä»¥æé™æ•°æ®ä¸‹ä¼šæœ‰å¤§é‡é‡å¤å€¼å‡ºç°ï¼Œæ•…å¯ä»¥ç”¨ cnt[i] è¡¨ç¤º i å‡ºç°çš„æ¬¡æ•°ï¼Œæšä¸¾(i,j)å¯¹(å…±1e6ç§)ï¼šä¸åŒæƒ…å†µç›´æ¥ç›¸ä¹˜ï¼Œç‰¹æ®Šå¤„ç†ç›¸åŒæƒ…å†µ vector&lt;int&gt; v[maxn]; void solve() { int n; cin &gt;&gt; n; ll ans = 0; rep(i, 0, n) { int x; cin &gt;&gt; x; v[x].pb(i); } rep(i, 0, 1001) { rep(j, i, 1001) { ll x = v[i].size(); ll y = v[j].size(); if (i == j) { ans += x * (x + 1) / 2 * abs(i + j - 1000); } else ans += x * y * abs(i + j - 1000); } } cout &lt;&lt; ans &lt;&lt; endl; } *I Bç«™ä¸å„å”±å„çš„ (æ¦‚ç‡/é€†å…ƒ) é¢˜æ„ï¼šnä¸ªäººå”±må¥ï¼Œæ¯ä¸ªäººå¯¹æ¯ä¸€å¥éƒ½å¯ä»¥é€‰æ‹©å”±æˆ–ä¸å”±ï¼Œnä¸ªäººã€må¥ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œå¦‚æœæŸä¸€å¥æ²¡äººå”±æˆ–è€…æ‰€æœ‰äººéƒ½å”±äº†åˆ™å¤±è´¥ï¼Œå¦åˆ™æˆåŠŸï¼Œæ±‚å”±æˆåŠŸå¥å­æ•°é‡çš„æœŸæœ›å€¼ã€‚å¯¹1e9+7å–æ¨¡ã€‚ é¢˜è§£ï¼šâ€‹ ç”±äºå¥å­é—´ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™æœ€ç»ˆæœŸæœ›ä¸ºä¸€å¥è¯çš„æœŸæœ›ä¹˜ ï¼›æ¯ä¸ªäººå”±ç¬¬æ¯å¥çš„å”¯ä¸€ç­–ç•¥å°±æ˜¯ä»¥ çš„æ¦‚ç‡å†³å®šå”±ä¸ä¸å”±ï¼Œæ‰€ä»¥å¤±è´¥çš„æ¦‚ç‡å°±ä¸º ï¼ˆéƒ½å”±+éƒ½ä¸å”±ï¼‰ å½“ æ—¶ï¼Œä¸Šå¼å–æœ€å°å€¼ï¼Œæ•…å¤±è´¥çš„æ¦‚ç‡ä¸º , æ•…æ˜“çŸ¥æˆåŠŸçš„æ¦‚ç‡ æ³¨æ„æ±‚é€†å…ƒ, æ¨å¼å­è¾“å‡ºé€†å…ƒçš„é¢˜æ¯”è¾ƒå¸¸è§ã€‚ ll quickpow(ll a, ll b) { ll ans = 1; ll res = a%mod; while (b) { if (b &amp; 1) ans = ans * res%mod; b &gt;&gt;= 1; res = res * res%mod; } return ans%mod; } void solve() { int n,m; cin&gt;&gt;n&gt;&gt;m; ll a = (quickpow(2,n-1)-1+mod)%mod; a=a*m%mod; ll b = quickpow(2,n-1); ll ans = a*quickpow(b,mod-2)%mod; cout&lt;&lt;ans&lt;&lt;endl; } J å°æœ‹å‹åšæ¸¸æˆ æ°´é¢˜ int a[maxn],b[maxn]; int ans = 0; int posa,posb; void goA(){ ans+=a[posa]; posa++; } void goB(){ ans+=b[posb]; posb++; } void solve() { int A,B,n; cin&gt;&gt;A&gt;&gt;B&gt;&gt;n; rep(i,0,A) cin&gt;&gt;a[i]; rep(i,0,B) cin&gt;&gt;b[i]; sort(a,a+A,greater&lt;int&gt;() ); sort(b,b+B,greater&lt;int&gt;() ); ans = 0; if(n&gt;2*A) cout&lt;&lt;-1&lt;&lt;endl; else{ posa=0,posb=0; if(n&amp;1){ rep(i,0,(n+1)/2) ans+=a[i]; posa=(n+1)/2; }else{ rep(i,0,n/2) ans+=a[i]; posa=n/2; } bool AA=true,BB=true; if(posa==A) AA=false; if(posb==B) BB=false; rep(j,posa,n){ if(AA&amp;&amp;BB){ if (a[posa] &gt;= b[posb]) { goA(); }else goB(); if(posa==A) AA=false; if(posb==B) BB=false; }eif(AA){ goA(); }eif(BB) goB(); } cout&lt;&lt;ans&lt;&lt;endl; } } *K å†’é™©å…¬ç¤¾(dp) å¾…è¡¥ unsolved L ç‰›ç‰›å­¦èµ°è·¯ æ°´é¢˜ void solve() { int n; cin&gt;&gt;n; char c; double mx=0; double tmp; int x=0,y=0; rep(i,0,n){ cin&gt;&gt;c; if(c=='L') x-=1; eif(c=='R') x+=1; eif(c=='U') y+=1; else y-=1; tmp=sqrt(fabs(x*x)+fabs(y*y)); mx=max(mx,tmp); } printf(\"%.7lf\\n\",mx); }","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"},{"name":"euler","slug":"euler","permalink":"https://maskros.top/tags/euler/"},{"name":"é€†å…ƒ","slug":"é€†å…ƒ","permalink":"https://maskros.top/tags/%E9%80%86%E5%85%83/"}]},{"title":"Codeforces Round 767 (Div.2)","slug":"codeforces/cf 767","date":"2022-01-23T05:15:00.000Z","updated":"2022-01-24T04:25:29.824Z","comments":true,"path":"/post/codeforces/cf 767.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20767.html","excerpt":"Codeforces Round 767 (Div.2)","text":"Codeforces Round #767 (Div.2) è’åºŸäº†æœŸæœ«è€ƒè¯•æœˆçš„åº·å¤è®­ç»ƒç¬¬ä¸€åœº A_Download More RAM æ°´é¢˜ï¼Œæ’åºå³å¯ pair&lt;int,int> pr[105]; bool cmp(pair&lt;int,int> a, pair&lt;int,int> b)&#123; return a.fst&lt;b.fst; &#125; void solve() &#123; int n,k; cin>>n>>k; rep(i,0,n)&#123; cin>>pr[i].fst; &#125; rep(i, 0, n) &#123; cin >> pr[i].sec; &#125; sort(pr,pr+n,cmp); ll tmp=k; rep(i,0,n)&#123; if(tmp>=pr[i].fst) tmp+=pr[i].sec; else break; &#125; cout&lt;&lt;tmp&lt;&lt;endl; &#125; int main() &#123; int T; cin >> T; while (T--) &#123; solve(); &#125; &#125; B_GCD Arrays é¢˜æ„ï¼š å¯¹ä¸€ä¸ª [l,r] åŒºé—´é‡Œçš„æ•°ï¼Œæœ€å¤šæ“ä½œkæ¬¡ï¼Œæ¯æ¬¡å–ä¸¤ä¸ªæ•°ï¼Œå°†ä»–ä»¬çš„ä¹˜ç§¯æ›¿ä»£å…¶ä¸­ä¸€ä¸ªæ•°æ”¾å…¥åºåˆ—ä¸­ï¼Œé—®èƒ½ä¸èƒ½ä½¿åºåˆ—çš„GCDä¸ä¸º1ï¼Œèƒ½å³YESï¼Œä¸èƒ½å³NO æ€è·¯ï¼š ç²—ç•¥çš„æƒ³äº†ä¸€ä¸‹ï¼Œä¹˜ç§¯ä¹‹åè‚¯å®šåŒ…å«ä¸¤ä¸ªåŸæ•°ä½œä¸ºå› å­ï¼Œæ²¡å•¥åŒºåˆ«ï¼Œè€ƒè™‘è¿ç»­åŒºé—´ã€å¥‡å¶æ€§åï¼ŒçŒœæµ‹ç»“è®ºï¼šæ¯æ¬¡æ“ä½œä½¿å¥‡æ•°*å¶æ•°=å¶æ•°ï¼Œå°†ä¹˜ç§¯ä»£æ›¿å¥‡æ•°ï¼Œè‡³å¤škæ¬¡æ“ä½œèƒ½å¦ä½¿å¾—åºåˆ—å…¨å˜ä¸ºå¶æ•°(GCD=2)ï¼Œæ³¨æ„ç‰¹åˆ¤ å†™çš„æ¯”è¾ƒä»“ä¿ƒï¼Œæ‰€ä»¥æ¯”è¾ƒä¸‘ï¼Œå¯ä»¥ç®€åŒ–= = void solve() &#123; int l,r,k; cin>>l>>r>>k; int ou=0,ji=0; if((r-l+1)&amp;1)&#123; if(l&amp;1)&#123; ji++; &#125;else ou++; ji+=(r-l)>>1; ou+=(r-l)>>1; &#125;else&#123; ou=(r-l+1)>>1; ji=ou; &#125; if(ou==0)&#123; if(l!=1) cout&lt;&lt;\"YES\"&lt;&lt;endl; else cout&lt;&lt;\"NO\"&lt;&lt;endl; &#125;else&#123; if(ji&lt;=k) cout&lt;&lt;\"YES\"&lt;&lt;endl; else cout&lt;&lt;\"NO\"&lt;&lt;endl; &#125; &#125; int main() &#123; int T; cin >> T; while (T--) &#123; solve(); &#125; &#125; C_Meximum Array Mexï¼šä¸€ä¸ªåºåˆ—ä¸­ä¸å­˜åœ¨çš„æœ€å°çš„éè´Ÿæ•´æ•° é¢˜æ„ï¼š ç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„åºåˆ—aï¼Œæ¯æ¬¡ä»aæ•°ç»„çš„é¦–åœ°å€å¼€å§‹é€‰å–ä¸€æ®µï¼Œæ±‚mexåå°†å€¼å­˜å…¥bï¼Œéšååœ¨aä¸­åˆ å»è¯¥æ®µã€‚é—®æœ€ç»ˆæ±‚å¾—çš„å­—å…¸åºæœ€å¤§çš„båºåˆ—æ˜¯ä»€ä¹ˆæ ·å­çš„ æ€è·¯ï¼š æ¨¡æ‹Ÿï¼ˆé˜Ÿå‹ç”¨ä¸»å¸­æ ‘è‰¹è¿‡äº†xDï¼‰ä¸€ä¸ªmap&lt;int,int&gt; mè¡¨ç¤ºa[i]å‡ºç°çš„æ¬¡æ•°ï¼Œæ¯æ¬¡æ±‚æœ€å¤§mexçš„æ—¶å€™å³åˆ©ç”¨è¯¥mapï¼Œåˆ é™¤åºåˆ—å³å¯¹mapè¿›è¡Œæ“ä½œå³å¯ï¼›set&lt;int&gt; Sè¡¨ç¤ºä»åºåˆ—å¼€å§‹æ‰€æœ‰å°äºmexçš„æ•°ï¼Œå¦‚æœ S.size()&lt;=mexï¼Œç»§ç»­æ‹“å±•åºåˆ—çš„é•¿åº¦å°±ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæ•…è¯¥ä½ç½®å³ä½œä¸ºé€‰å–åºåˆ—çš„ç»“å°¾ å¡äº†å¾ˆä¹…ï¼Œåˆšå¼€å§‹æƒ³äº†ä¸ªn2æ¨¡æ‹Ÿï¼Œç»“æœTäº†ï¼Œæ¯”è¾ƒå‚»é€¼ï¼Œåæ¥ä¼˜åŒ–ä¸€ä¸‹å°±è¿‡äº† int a[maxn]; map&lt;int, int> m; int check(int start) &#123; rep(i, start, maxn) &#123; if (m[i] == 0) &#123; return i; &#125; &#125; return 0; &#125; vector&lt;int> b; set&lt;int> S; void solve() &#123; int n; cin >> n; int mex = 0; m.clear(); b.clear(); rep(i, 0, n) &#123; cin >> a[i]; m[a[i]]++; if (m[mex] > 0) &#123; mex = check(mex); &#125; &#125; S.clear(); rep(i, 0, n) &#123; if (a[i] &lt; mex) S.insert(a[i]); m[a[i]]--; if (S.size() >= mex) &#123; b.pb(mex); mex = check(0); S.clear(); &#125; &#125; cout &lt;&lt; b.size() &lt;&lt; endl; rep(i, 0, b.size()) cout &lt;&lt; b[i] &lt;&lt; \" \"; cout &lt;&lt; endl; &#125; int main() &#123; IOS; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; D_Peculiar Movie Preferences é¢˜æ„ï¼š ç»™ä½ ä¸€å †é•¿&lt;=3çš„å­—ç¬¦ä¸²ï¼Œé—®èƒ½ä¸èƒ½é€šè¿‡åˆ æ‰ä»»æ„ä¸ªæ•°çš„å­—ç¬¦ä¸²ï¼Œå‰©ä¸‹çš„å­—ç¬¦ä¸²æŒ‰é¡ºåºæ‹¼æ¥èµ·æ¥ä¸ºå›æ–‡ä¸² æ€è·¯ï¼š æ²™æ¯”é¢˜ï¼Œå›æ–‡ä¸²é¦–å°¾å¿…å®šä¸€æ ·ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥çš„è¯æœ€å¤šæ‰¾ä¸¤ä¸ªä¸²å³å¯ç»„æˆå›æ–‡ä¸²ï¼Œæ€»é•¿åº¦&lt;=6ã€‚é¦–å…ˆç‰¹åˆ¤å•ä¸ªä¸²ï¼Œå¦‚æœå•ä¸ªå›æ–‡å³ä¸ºYESï¼›å†è€…åˆ†åˆ«è€ƒè™‘ 2+2/3+3, 2+3/3+2 çš„æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åé¢é‚£ä¸€ç§ï¼Œè¿™é‡Œé€šè¿‡mapä¼˜åŒ–ï¼Œå¯¹å­—ç¬¦ä¸²åšreverseå¤„ç†ï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µåˆ¤æ–­å³å¯ TuT map&lt;string,int> mp1,mp2; void solve() &#123; int n; cin >> n; bool can = 0; string s,ss; mp1.clear(); mp2.clear(); rep(i, 0, n) &#123; cin >> s; if(!can)&#123; ss = s; reverse(ss.begin(), ss.end()); if (s.size() == 1) can = 1; eif(s[0] == s[s.size() - 1]) can = 1; else&#123; if(mp1[ss]==1 || mp2[ss]==1) can=1; eif(s.size()==3)&#123; ss.erase(ss.end()-1, ss.end()); if (mp1[ss]) can = 1; &#125; mp1[s]=1; if(s.size()==3)&#123; s.erase(s.end()-1, s.end()); mp2[s]=1; &#125; &#125; &#125; &#125; if (can) cout &lt;&lt; \"YES\" &lt;&lt; endl; else cout &lt;&lt; \"NO\" &lt;&lt; endl; &#125; int main() &#123; int T; IOS; cin >> T; while (T--) &#123; solve(); &#125; &#125; E_Grid Xor æš‚æ—¶é¸½äº†ï¼Œå‡ºå»è¿åŠ¨å®Œå›æ¥è¡¥ æ„é€ é¢˜ åæ€ï¼šå¥½ä¹…ä¸æ‰“ç¡®å®æ‰‹ç”Ÿ+è„‘æ®‹ï¼Œå¯’å‡å†æ¥å†å‰âœŠ","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"}]},{"title":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘","slug":"note/WeRoBot","date":"2021-12-27T17:24:28.000Z","updated":"2022-01-22T17:29:00.674Z","comments":true,"path":"/post/note/WeRoBot.html","link":"","permalink":"https://maskros.top/post/note/WeRoBot.html","excerpt":"WeRoBot","text":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘ å¯„ç½‘å°å®éªŒï¼Œå®ç°èµ·æ¥ä¸éš¾ï¼Œè®°å½•ä¸€ä¸‹ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼ŒåŒ…æ‹¬ä¸€äº›å¯¹Tokençš„ç†è§£ å‡†å¤‡ å¾®ä¿¡å…¬ä¼—å·ã€äº‘æœåŠ¡å™¨ã€Xftp&amp;Xshell (Replaceable)ã€WeRoBot 1.13.1 æ€»ä½“æµç¨‹ step1 : æ³¨å†Œå¾®ä¿¡å…¬ä¼—å· step2 : é€šè¿‡éªŒè¯Tokenå°†å…¬ä¼—å·ä¸æœåŠ¡å™¨ç»‘å®š step3 : åœ¨æœåŠ¡å™¨ä»£ç é‡ŒåŠ å…¥å…¬ä¼—å·å®ç°çš„åŠŸèƒ½ å…³äºWeRoBot WeRoBotå®˜æ–¹æ–‡æ¡£: link WeRoBot æ˜¯ä¸€ä¸ªåŸºäºPythonçš„å¾®ä¿¡æœºå™¨äººæ¡†æ¶ï¼Œé‡‡ç”¨MITåè®®å‘å¸ƒã€‚å¯ä»¥å°†å¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯è¿›è¡Œè§£æå’Œè½¬æ¢ï¼Œä½¿ç”¨ Session è®°å½•ç”¨æˆ·çŠ¶æ€ï¼ŒåŒ…æ‹¬å¼€å‘è‡ªå®šä¹‰èœå•ç­‰åŠŸèƒ½ï¼Œå¯¹åˆå­¦è€…æ¥è®²ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚WeRoBot å¯ä»¥ä½œä¸ºç‹¬ç«‹æœåŠ¡è¿è¡Œï¼Œä¹Ÿå¯ä»¥é›†æˆåœ¨å…¶ä»– Web æ¡†æ¶ä¸­ä¸€åŒè¿è¡Œã€‚ä»¥ä¸‹ç®€å•ä¸¾ä¾‹ï¼š 0x01 Hello World # ç»™æ”¶åˆ°çš„æ¯ä¸€æ¡ä¿¡æ¯å›å¤ Hello World import werobot robot = werobot.WeRoBot(token='tokenhere') @robot.handler def hello(message): return 'Hello World!' # è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80 robot.config['HOST'] = '0.0.0.0' robot.config['PORT'] = 80 robot.run() 0x02 æ¶ˆæ¯å¤„ç† WeRoBot ä¼šè§£æå¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯ï¼Œ å¹¶å°†æ¶ˆæ¯è½¬æ¢æˆæˆ Message æˆ–è€…æ˜¯ Event ã€‚ Message è¡¨ç¤ºç”¨æˆ·å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æ–‡æœ¬æ¶ˆæ¯ã€å›¾ç‰‡æ¶ˆæ¯ï¼› Event åˆ™è¡¨ç¤ºç”¨æˆ·è§¦å‘çš„äº‹ä»¶ï¼Œ å¦‚å…³æ³¨äº‹ä»¶ã€æ‰«æäºŒç»´ç äº‹ä»¶ã€‚ åœ¨æ¶ˆæ¯è§£æã€è½¬æ¢å®Œæˆåï¼Œ WeRoBot ä¼šå°†æ¶ˆæ¯è½¬äº¤ç»™ Handler è¿›è¡Œå¤„ç†ï¼Œå¹¶å°† Handler çš„è¿”å›å€¼è¿”å›ç»™å¾®ä¿¡æœåŠ¡å™¨ @robot.handler #robot ä¼šå°†æ‰€æœ‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬äº¤ç»™è¿™ä¸ª Handler æ¥å¤„ç† @robot.text # @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯ @robot.image # @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯ @robot.subscribe # ç”¨æˆ·å…³æ³¨åæ‰§è¡Œè¯¥æ“ä½œ 0x03 demo å®éªŒè¯¾åŸå‘³ğŸ´, ç®€å•å®Œæˆäº†æ¶ˆæ¯å¤„ç†ï¼Œè°ƒäº†ä¸ªæ¥å£ï¼Œè°ƒäº†ä¸ªç‹—å±ä¸é€šæ–‡æœ¬ç”Ÿæˆå™¨ï¼Œ ç³™çš„ä¸€ï¼Œç•™åšçºªå¿µ import werobot import requests import json import gpbtwzbuilder as gp robot = werobot.WeRoBot(token='qwertyuiopasdfghjkl') # æ˜¯å¦èœå•æ¨¡å¼ isMenu = 1 # åŠŸèƒ½æ¨¡å¼åºå· funCode = 0 # åˆæ³•æ“ä½œ codelist = ['1','2','3'] def menu(): return \"æ¬¢è¿ä½¿ç”¨æœ¬å…¬ä¼—å·ï¼\\n æœ¬å…¬ä¼—å·å…±æœ‰ä¸¤ä¸ªæ¨¡å¼ï¼šèœå•æ¨¡å¼å’ŒåŠŸèƒ½æ¨¡å¼ \\n \" + \"åŠŸèƒ½é€‰æ‹©æ¨¡å¼ï¼š\\n menu - æŸ¥çœ‹èœå• \\n 1 - æŸ¥è¯¢åŸå¸‚çš„å¤©æ°”çŠ¶å†µ \\n 2 - è‡ªè¨€è‡ªè¯­æ¨¡å¼\\n 3 - ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨\\n\" + \"åŠŸèƒ½æ¨¡å¼ï¼š\\n 0 - é€€å‡ºåŠŸèƒ½æ¨¡å¼è¿”å›èœå•\" def check(fcode): global codelist global isMenu if fcode in codelist: isMenu = 0 if fcode == '1': return \"è¾“å…¥åŸå¸‚åæŸ¥è¯¢å¤©æ°”\" elif fcode == '2': return \"è‡ªè¨€è‡ªè¯­ï¼\" elif fcode == '3': return \"è¾“å…¥'æ–‡ç« ä¸»é¢˜&amp;å­—æ•°(&lt;=600)'å¼€å§‹ç‹—å±ä¸é€š\" else: return \"Wrong Operation. Input 'menu' to know more!ğŸ˜…\" @robot.subscribe def subscribe(message): return menu() # @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯ @robot.text def echo(message, session): global isMenu global funCode if 'first' not in session: isMenu = 1 session['first'] = True msgtext = message.content if isMenu == 1: if \"menu\" in msgtext or \"Menu\" in msgtext: return menu() else: funCode = msgtext return check(funCode) else: if msgtext == '0' or \"menu\" in msgtext or \"Menu\" in msgtext: isMenu = 1 return \"é€€å‡ºæˆåŠŸï¼\" + menu() if funCode == '1': addr = msgtext url = 'http://wthrcdn.etouch.cn/weather_mini?city=' + addr response = requests.get(url=url) result = json.loads(response.text) #è§£æjson data = result[\"data\"][\"forecast\"][0][\"date\"] high = result[\"data\"][\"forecast\"][0][\"high\"] fengli = result[\"data\"][\"forecast\"][0][\"fengli\"] low = result[\"data\"][\"forecast\"][0][\"low\"] fengxiang = result[\"data\"][\"forecast\"][0][\"fengxiang\"] tian = result[\"data\"][\"forecast\"][0][\"type\"] return \"æ—¶é—´ï¼š\" + data + \"\\næœ€å¥½æ°”æ¸©ï¼š\" + high + \"\\næœ€ä½æ°”æ¸©ï¼š\" + low + \"\\né£å‘ï¼š\" + fengxiang + \"\\nå¤©æ°”ï¼š\" + tian elif funCode == '2': return msgtext elif funCode == '3': ret = msgtext.partition('&amp;') xx = ret[0] for x in xx: tmp = str() maxlength = int(ret[2]) if maxlength > 600: return \"å­—æ•°è¶…äº†ğŸ˜…ï¼Œçœ‹ä¸æ‡‚ä¸­å›½è¯æ˜¯8ğŸ˜…\" while (len(tmp) &lt; maxlength): åˆ†æ”¯ = gp.random.randint(0, 100) if åˆ†æ”¯ &lt; 5: tmp += gp.å¦èµ·ä¸€æ®µ() elif åˆ†æ”¯ &lt; 20: tmp += gp.æ¥ç‚¹åäººåè¨€() else: tmp += next(gp.ä¸‹ä¸€å¥åºŸè¯) tmp = tmp.replace(\"x\", xx) return tmp # @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯ @robot.image def img(message): return message.img # è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80 robot.config['HOST'] = '0.0.0.0' robot.config['PORT'] = 80 robot.run() å…³äºToken æœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç«  : linkï¼Œä»¥ä¸‹å†…å®¹éƒ¨åˆ†å€Ÿé‰´ Tokenï¼šèº«ä»½è®¤è¯ä¸­ä»£æŒ‡ä»¤ç‰Œ TokenéªŒè¯è¿‡ç¨‹ Step1 : ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚ã€‚ Step2 : æœåŠ¡å™¨ç«¯ç¨‹åºéªŒè¯ã€‚ Step3 : æœåŠ¡å™¨ç«¯ç¨‹åºè¿”å›ä¸€ä¸ªå¸¦ç­¾åçš„token ç»™å®¢æˆ·ç«¯ã€‚ Step4 : å®¢æˆ·ç«¯å‚¨å­˜token,å¹¶ä¸”æ¯æ¬¡è®¿é—®APIéƒ½æºå¸¦Tokenåˆ°æœåŠ¡å™¨ç«¯çš„ã€‚ Step5 : æœåŠ¡ç«¯éªŒè¯tokenï¼Œæ ¡éªŒæˆåŠŸåˆ™è¿”å›è¯·æ±‚æ•°æ®ï¼Œæ ¡éªŒå¤±è´¥åˆ™è¿”å›é”™è¯¯ç ã€‚ Tokençš„ä¼˜åŠ¿ æ— çŠ¶æ€ï¼Œå¯æ‰©å±• åœ¨å®¢æˆ·ç«¯å­˜å‚¨çš„Tokenæ— çŠ¶æ€ã€å¯æ‰©å±•(èƒ½å¤Ÿåˆ›å»ºä¸å…¶å®ƒç¨‹åºå…±äº«æƒé™çš„ç¨‹åº)ã€‚åŸºäºè¿™ç§æ— çŠ¶æ€å’Œä¸å­˜å‚¨Sessionä¿¡æ¯ï¼Œè´Ÿè½½è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿå°†ç”¨æˆ·ä¿¡æ¯ä»ä¸€ä¸ªæœåŠ¡ä¼ åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚tokensè‡ªå·±æºå¸¦äº†ç”¨æˆ·çš„éªŒè¯ä¿¡æ¯ã€‚ å®‰å…¨æ€§ï¼šé˜²æ­¢CSRF è¯·æ±‚ä¸­å‘é€tokenè€Œéå‘é€cookieèƒ½å¤Ÿé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚å³ä½¿åœ¨å®¢æˆ·ç«¯ä½¿ç”¨cookieå­˜å‚¨tokenï¼Œcookieä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨æœºåˆ¶è€Œä¸æ˜¯ç”¨äºè®¤è¯ã€‚ä¸å°†ä¿¡æ¯å­˜å‚¨åœ¨Sessionä¸­ï¼Œè®©æˆ‘ä»¬å°‘äº†å¯¹sessionæ“ä½œã€‚ psï¼štokenæ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œä¸€æ®µæ—¶é—´ä¹‹åç”¨æˆ·éœ€è¦é‡æ–°éªŒè¯ã€‚ å¤šå¹³å°è·¨åŸŸ è¿™é‡Œå¼•å…¥CORS(è·¨åŸŸèµ„æºå…±äº«)çš„æ¦‚å¿µï¼šå½“æˆ‘ä»¬éœ€è¦è®©æ•°æ®è·¨å¤šå°ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨æ—¶ï¼Œè·¨åŸŸèµ„æºçš„å…±äº«ä¼šæ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚åœ¨ä½¿ç”¨AjaxæŠ“å–å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œå°±å¯ä»¥ä¼šå‡ºç°ç¦æ­¢è¯·æ±‚çš„æƒ…å†µã€‚ ä»¥ä¸Šåªæ˜¯å…³äºTokençš„ç²—ç•¥æè¿°ï¼Œå…³äºå…¶ä»–èº«ä»½è®¤è¯æœºåˆ¶æŒ–å‘å¾…å¡«ğŸ˜… é™„ï¼šä¸€äº›Linuxå‘½ä»¤ ä½¿ç”¨ nohup å‘½ä»¤ä½¿ç¨‹åºåœ¨æœåŠ¡å™¨ä¿æŒåå°è¿è¡Œ sudo nohup python .&#x2F;webserver.py &amp; æ€æ‰ nohup è¿›ç¨‹ ps -aux | grep python kill -9 pid End.","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"},{"name":"WeRoBot","slug":"WeRoBot","permalink":"https://maskros.top/tags/WeRoBot/"}]},{"title":"Notes on Kurose's Computer Networkingï¼šA TOP-DOWN APPROACH","slug":"note/ComputerNetwork_Note","date":"2021-12-10T05:44:28.000Z","updated":"2022-07-13T08:10:11.492Z","comments":true,"path":"/post/note/ComputerNetwork_Note.html","link":"","permalink":"https://maskros.top/post/note/ComputerNetwork_Note.html","excerpt":"","text":"Notes on Kuroseâ€™s Computer Networking A TOP-DOWN APPROACH Thanks to æˆ‘çˆ¹çš„åšå®¢ï¼Œè®©æˆ‘å·äº†ä¸å°‘ğŸ˜‹ Chapter 1 Computer Networks and the Internet 1.1 What is the Internet? å› ç‰¹ç½‘ï¼šä¸–ç•ŒèŒƒå›´çš„è®¡ç®—æœºç½‘ç»œ Nuts-and-Bolts Description è®¡ç®—è®¾å¤‡ç§°ä¸º ä¸»æœº(host) / ç«¯ç³»ç»Ÿ(end system) ç«¯ç³»ç»Ÿé€šè¿‡ é€šä¿¡é“¾è·¯(communication link) å’Œ åˆ†ç»„äº¤æ¢æœº(packet switch) è¿æ¥åˆ°ä¸€èµ·ï¼›ä¸åŒé“¾è·¯ä¼ è¾“é€Ÿç‡ä¸åŒï¼Œå‘é€ç«¯å°†æ•°æ®åˆ†æ®µåæ¯æ®µåŠ ä¸Šé¦–éƒ¨æ‰€å½¢æˆçš„ä¿¡æ¯åŒ…ç§°ä¸º åˆ†ç»„(packet) ç«¯ç³»ç»Ÿé€šè¿‡ å› ç‰¹ç½‘æœåŠ¡æä¾›å•†(ISP, Internet Service Provider) æ¥å…¥å› ç‰¹ç½‘ ç«¯ç³»ç»Ÿã€åˆ†ç»„äº¤æ¢æœºå’Œå…¶ä»–éƒ¨ä»¶éœ€è¦è¿è¡Œä¸€ç³»åˆ—åè®®(protocol) ã€‚å› ç‰¹ç½‘çš„ä¸»è¦åè®®ï¼šTCP/IP (Transmission Control Protocol, ä¼ è¾“æ§åˆ¶åè®® / Internet Protocol, ç½‘é™…åè®®) Service åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼šå› ç‰¹ç½‘åº”ç”¨ä¸­æ¶‰åŠå¤šä¸ªç›¸äº’äº¤æ¢æ•°æ®çš„ç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åº ä¸å› ç‰¹ç½‘ç›¸è¿çš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ª å¥—æ¥å­—æ¥å£(Socket interface)ï¼Œè§„å®šåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åºè¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç›®çš„åœ°ç¨‹åºäº¤ä»˜æ•°æ®çš„æ–¹å¼ Protocol Def: å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼å’Œé¡ºåºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œ ä¸åŒçš„åè®®ç”¨äºä¸åŒçš„é€šä¿¡ä»»åŠ¡ 1.2 The Network Edge ä¸»æœºåˆ†ç±»ï¼šå®¢æˆ·(Client) / æœåŠ¡å™¨(Server) Access Networks æ¥å…¥ç½‘ï¼šå°†ä¸»æœºç‰©ç†è¿æ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨(Edge router)çš„ç½‘ç»œ å®¶åº­æ¥å…¥ï¼šæ•°å­—ç”¨æˆ·çº¿(DSL)ã€ç”µç¼†å› ç‰¹ç½‘æ¥å…¥ã€å…‰çº¤åˆ°æˆ·(FTTH)ã€æ‹¨å·ã€å«æ˜Ÿ ä¼ä¸š/å®¶åº­æ¥å…¥ï¼šä»¥å¤ªç½‘(Ethernet)ã€WIFI å¹¿åŸŸæ— çº¿æ¥å…¥ï¼š3Gã€LTE Physical Media åŒç»é“œçº¿ã€åŒè½´ç”µç¼†ã€å…‰çº¤ã€é™†åœ°/å«æ˜Ÿæ— çº¿ç”µä¿¡é“ 1.3 The Network Core é€šè¿‡ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®æœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼šç”µè·¯äº¤æ¢ å’Œ åˆ†ç»„äº¤æ¢ 1.3.1 Packet Switching åˆ†ç»„äº¤æ¢ : ç«¯ç³»ç»Ÿå½¼æ­¤äº¤æ¢æŠ¥æ–‡(message)ï¼Œæºç«¯å°†æŠ¥æ–‡åˆ’åˆ†æˆè¾ƒå°çš„æ•°æ®å—ï¼Œç§°ä¸ºåˆ†ç»„ï¼›åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æ¯ä¸ªåˆ†ç»„ç»è¿‡é€šä¿¡é“¾è·¯å’Œ åˆ†ç»„äº¤æ¢æœº (packet switch)ä¼ é€ï¼Œä¸¤ç±»äº¤æ¢æœºåˆ†åˆ«ä¸º è·¯ç”±å™¨(router) å’Œ é“¾è·¯å±‚äº¤æ¢æœº(link-layer switch) Store-and-Forward Transmission å­˜å‚¨è½¬å‘ä¼ è¾“ï¼šäº¤æ¢æœºåœ¨å¼€å§‹å‘è¾“å‡ºé“¾è·¯ä¼ è¾“åˆ†ç»„ä¹‹å‰éœ€è¦æ¥æ”¶åˆ°æ•´ä¸ªåˆ†ç»„ exp: é€šè¿‡ $N$ æ¡é€Ÿç‡å‡ä¸º $R$ çš„é“¾è·¯ç»„æˆçš„è·¯å¾„ (å³åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æœ‰ $N-1$ å°è·¯ç”±å™¨) æ‰€ç”¨ ç«¯åˆ°ç«¯æ—¶å»¶ä¸º $d=N \\dfrac{L}{R}$ Queuing Delays and Packet Loss æ’é˜Ÿæ—¶å»¶å’Œåˆ†ç»„ä¸¢å¤±ï¼šåˆ†ç»„äº¤æ¢æœºå…·æœ‰ä¸€ä¸ªè¾“å‡ºç¼“å­˜(output buffer) å³è¾“å‡ºé˜Ÿåˆ—ï¼Œé™¤å­˜å‚¨è½¬å‘æ—¶å»¶å¤–åˆ†ç»„è¿˜è¦æ‰¿å—è¾“å‡ºç¼“å­˜çš„æ’é˜Ÿæ—¶å»¶(queuing delay)ï¼Œå¦‚æœä¸€ä¸ªåˆ†ç»„åˆ°è¾¾åå‘ç°è¯¥ç¼“å­˜ç©ºé—´å·²æ»¡ï¼Œåˆ™å‘ç”Ÿä¸¢åŒ…(packet loss)ï¼Œåˆ°è¾¾çš„åˆ†ç»„æˆ–å·²ç»æ’é˜Ÿçš„åˆ†ç»„ä¹‹ä¸€å°†è¢«ä¸¢å¼ƒ Forwarding Tables and Routing Protocols è½¬å‘è¡¨å’Œè·¯ç”±é€‰æ‹©åè®®ï¼šæ¯å°è·¯ç”±å™¨æœ‰ä¸€ä¸ªè½¬å‘è¡¨(Forwarding Table)ï¼Œç”¨äºå°†ç›®çš„åœ°å€/ç›®çš„åœ°å€çš„ä¸€éƒ¨åˆ†æ˜ å°„æˆè¾“å‡ºé“¾è·¯ã€‚è·¯ç”±é€‰æ‹©åè®®(routing protocol)ç”¨äºè‡ªåŠ¨åœ°è®¾ç½®è½¬å‘è¡¨ 1.3.2 Circuit Switching ç”µè·¯äº¤æ¢ï¼šå»ºç«‹åå‰¯å…¶å®çš„è¿æ¥ï¼Œè·¯å¾„ä¸Šçš„äº¤æ¢æœºç»´æŠ¤è¿æ¥çŠ¶æ€ï¼Œç”µè·¯äº¤æ¢ç½‘ç»œä¸Šçš„ä¸¤ä¸»æœºé€šä¿¡æ—¶ï¼Œç½‘ç»œåœ¨ä¸¤ä¸»æœºé—´åˆ›å»ºä¸€æ¡ä¸“ç”¨çš„ç«¯åˆ°ç«¯è¿æ¥(end-to-end connection) Multiplexing é“¾è·¯ä¸­çš„ç”µè·¯é€šè¿‡é¢‘åˆ†å¤ç”¨(FDM, Frequency-Division Multiplexing)æˆ–æ—¶åˆ†å¤ç”¨(TDM, Time-Division Multiplexing)æ¥å®ç° FDMï¼šé“¾è·¯çš„é¢‘è°±ç”±æ‰€æœ‰è¿æ¥å…±äº«ï¼Œåœ¨è¿æ¥æœŸé—´é“¾è·¯ä¸ºæ¯æ¡è¿æ¥ä¸“ç”¨ä¸€ä¸ªé¢‘æ®µï¼Œé¢‘æ®µçš„å®½åº¦ç§°ä¸ºå¸¦å®½(band-width) TDMï¼šæ—¶é—´è¢«åˆ’åˆ†ä¸ºå›ºå®šæœŸé—´çš„å¸§ï¼Œæ¯ä¸ªå¸§è¢«åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™(slot)ï¼Œåœ¨ç½‘ç»œè·¨è¶Šé“¾è·¯åˆ›å»ºè¿æ¥æ—¶ï¼Œåœ¨æ¯ä¸ªå¸§ä¸­ä¸ºè¯¥è”ç»“åˆ¶å®šä¸€ä¸ªæ—¶éš™ï¼Œç”±è¯¥è¿æ¥å•ç‹¬ä½¿ç”¨ åˆ†ç»„äº¤æ¢çš„æ€§èƒ½ä¼˜äºç”µè·¯äº¤æ¢çš„æ€§èƒ½ 1.4 Delay, Loss, and Throughput in Packet-Switched Networks è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æµ‹åº¦ï¼šæ—¶å»¶ã€ä¸¢åŒ…ã€ååé‡ Delay Total nodal delay = èŠ‚ç‚¹å¤„ç†æ—¶å»¶(nodal processing delay) + æ’é˜Ÿæ—¶å»¶(queuing delay) + ä¼ è¾“æ—¶å»¶(transmission delay) + ä¼ æ’­æ—¶å»¶(propagation delay) ä¼ è¾“æ—¶å»¶ï¼šå°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨å‘é“¾è·¯æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{L}{R}$ ä¼ æ’­æ—¶å»¶ï¼šå°†æ¯”ç‰¹ä»é“¾è·¯çš„èµ·ç‚¹åˆ°ç›®çš„åœ°ä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{d}{s}$ï¼Œä¼ æ’­é€Ÿç‡ $s$ å–å†³äºç‰©ç†åª’ä½“(å…‰çº¤/åŒé“œç»çº¿ç­‰) Throughput ç¬æ—¶ååé‡(instantaneous throughput)ï¼šæ¥æ”¶åˆ°æ–‡ä»¶çš„ç¬æ—¶é€Ÿç‡ (bps) å¹³å‡ååé‡(average throughput)ï¼šæ–‡ä»¶å¤§å°/æ”¶åˆ°æ–‡ä»¶æ‰€æœ‰æ¯”ç‰¹çš„æ—¶é—´ è®¡ç®—æ‰€å¾—çš„å¹³å‡é€Ÿç‡ (bps) 1.5 Protocol Layers and Their Service Models åˆ†å±‚(Layer)çš„ä½“ç³»ç»“æ„ æ¯å±‚é€šè¿‡è‡ªå·±çš„å†…éƒ¨åŠ¨ä½œ/ä¾é ä¸‹ä¸€å±‚æä¾›çš„æœåŠ¡æ¥æä¾›æœåŠ¡ Protocol Stack åè®®æ ˆï¼šå„å±‚çš„æ‰€æœ‰åè®® å› ç‰¹ç½‘åè®®æ ˆï¼šåº”ç”¨å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚ ISO OSIå‚è€ƒæ¨¡å‹ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚ åº”ç”¨å±‚ Application Layer ç½‘ç»œåº”ç”¨ç¨‹åºã€åº”ç”¨å±‚åè®® HTTP/SMTP/FTP/DNS åè®®æ•°æ®å•å…ƒ(å®ä½“äº¤æ¢çš„æ•°æ®å•ä½)/ä¿¡æ¯åˆ†ç»„ï¼šæŠ¥æ–‡(message) è¿è¾“å±‚ Transport Layer TCP/UDP åè®®æ•°æ®å•å…ƒï¼šæŠ¥æ–‡æ®µ(segment) è¿›ç¨‹é—´ä¼ è¾“ ç½‘ç»œå±‚ Network Layer IP/è·¯ç”±é€‰æ‹©åè®® åè®®æ•°æ®å•å…ƒï¼šæ•°æ®æŠ¥(datagram) ä¸»æœºé—´ä¼ è¾“ é“¾è·¯å±‚ Link Layer ä»¥å¤ªç½‘/802.11(WiFi)/PPP åè®®æ•°æ®å•å…ƒï¼šå¸§(frame) ç‰©ç†å±‚ Physical Layer æ§åˆ¶æ¯”ç‰¹çš„å‘é€ Encapsulation å°è£…è¿‡ç¨‹ï¼šåº”ç”¨å±‚æŠ¥æ–‡ -&gt; è¿è¾“å±‚æŠ¥æ–‡æ®µ -&gt; ç½‘ç»œå±‚æ•°æ®æŠ¥ -&gt; é“¾è·¯å±‚å¸§ æ¯ä¸€å±‚çš„åˆ†ç»„ï¼šé¦–éƒ¨å­—æ®µ + æœ‰æ•ˆè½½è·å­—æ®µ(payload field) â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Applicationâ”‚â”‚Transportâ”‚ â”‚Networkâ”‚ â”‚Linkâ”‚ â”‚Physicalâ”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚Message &#x3D; Mâ”‚ â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚Segment &#x3D; H_t + Mâ”‚ â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚Datagram &#x3D; H_n + H_t + Mâ”‚ â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚Frame &#x3D; H_l + H_n + H_t + Mâ”‚ â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â” â”Œâ”€â”´â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â” â”‚Applicationâ”‚â”‚Transportâ”‚ â”‚Networkâ”‚ â”‚Linkâ”‚ â”‚Physicalâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Chapter 2 Application Layer åº”ç”¨å±‚ 2.1 Principles of Network Applications ä¸»æµä½“ç³»ç»“æ„ï¼š**å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ **(C/S, client-server)ï¼Œå¯¹ç­‰ä½“ç³»ç»“æ„ (P2P, peer-to-peer) C/Sï¼š æœåŠ¡å™¨Sï¼š æ€»æ˜¯æ‰“å¼€çš„ä¸»æœº (always-on host) å›ºå®šçš„IPåœ°å€ (permanent IP address) æœåŠ¡äºå®¢æˆ·çš„è¯·æ±‚ å®¢æˆ·C: è¯·æ±‚ä¸»æœº å®¢æˆ·é—´ä¸è¿›è¡Œé€šä¿¡ exp: ä¸¤ä¸ªæµè§ˆå™¨å¹¶ä¸ç›´æ¥é€šä¿¡ åŠ¨æ€IPåœ°å€ (dynamic IP address) P2Pï¼š æ²¡æœ‰æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨ ä»»æ„ä¸»æœºå¯¹ç›´æ¥é€šä¿¡ï¼Œå¯¹ç­‰æ–¹ è‡ªæ‰©å±•æ€§ (self-scalability) æ–°çš„å¯¹ç­‰æ–¹å¢åŠ æœåŠ¡èƒ½åŠ› exp: P2Pæ–‡ä»¶å…±äº« æµé‡å¯†é›†å‹ åŠ¨æ€IPåœ°å€ Processes Communicating è¿›ç¨‹(process) : è¿è¡Œåœ¨ä¸»æœºä¸Šçš„ç¨‹åº åŒä¸€ä¸»æœºå†…çš„è¿›ç¨‹ï¼šè¿›ç¨‹é—´é€šä¿¡ ä¸åŒä¸»æœºå†…çš„è¿›ç¨‹ï¼šäº¤æ¢æŠ¥æ–‡(Message) å®¢æˆ·è¿›ç¨‹ï¼šå‘èµ·é€šä¿¡çš„è¿›ç¨‹ æœåŠ¡å™¨è¿›ç¨‹ï¼šåœ¨ä¼šè¯å¼€å§‹æ—¶ç­‰å¾…è”ç³»çš„è¿›ç¨‹ è¿›ç¨‹ä¸è®¡ç®—æœºç½‘ç»œé—´çš„æ¥å£ï¼šå¥—æ¥å­—(socket)ï¼Œè½¯ä»¶æ¥å£ï¼Œè¿›ç¨‹å‘/ä»å…¶å¥—æ¥å­—å‘é€/æ¥æ”¶æŠ¥æ–‡ Reliable Date Transfer Def: ç¡®ä¿åº”ç”¨ç¨‹åºçš„ä¸€ç«¯å‘é€çš„æ•°æ®æ­£ç¡®ã€å®Œå…¨åœ°äº¤ä»˜ç»™äº†è¯¥åº”ç”¨ç¨‹åºçš„å¦ä¸€ç«¯ï¼Œç§°ä¸ºå¯é æ•°æ®ä¼ è¾“ 2.2 The Web and HTTP Webçš„åº”ç”¨å±‚åè®®æ˜¯ è¶…æ–‡æœ¬ä¼ è¾“åè®® (HTTP, HyperText Transfer Protocol) C/S æ¨¡å¼ HTTPå®¢æˆ·ç«¯ï¼šWebæµè§ˆå™¨ (Web browser) HTTPæœåŠ¡å™¨ç«¯ï¼šWebæœåŠ¡å™¨ (Web server) å®šä¹‰äº†Webå®¢æˆ·å‘WebæœåŠ¡å™¨è¯·æ±‚Webé¡µé¢çš„æ–¹å¼ï¼Œä»¥åŠæœåŠ¡å™¨å‘å®¢æˆ·ä¼ é€Webé¡µé¢çš„æ–¹å¼ æ”¯æ’‘è¿è¾“åè®®ï¼šTCP å®¢æˆ·å‘èµ·TCPè¿æ¥ï¼ŒæœåŠ¡å™¨æ¥å—TCPè¿æ¥ å»ºç«‹è¿æ¥åæµè§ˆå™¨å’ŒæœåŠ¡å™¨è¿›ç¨‹å°±å¯ä»¥é€šè¿‡å¥—æ¥å­—æ¥å£è®¿é—®TCP æ— çŠ¶æ€åè®®(stateless protocol)ï¼šHTTPæœåŠ¡å™¨ä¸ä¿å­˜å…³äºå®¢æˆ·çš„ä¿¡æ¯ HTTP Message Format Request Message è¯·æ±‚æŠ¥æ–‡ ç¬¬ä¸€è¡Œä¸ºè¯·æ±‚è¡Œ(request line)ï¼šæ–¹æ³•å­—æ®µã€URLå­—æ®µã€HTTPç‰ˆæœ¬å­—æ®µ åç»§å››è¡Œä¸ºé¦–éƒ¨è¡Œ(header line) Response Message å“åº”æŠ¥æ–‡ ä¸€ä¸ªçŠ¶æ€åˆå§‹è¡Œ(status linge) å…­ä¸ªé¦–éƒ¨è¡Œ(header line) å®ä½“ä½“(entity body) Status Code çŠ¶æ€ç  200 OKï¼šè¯·æ±‚æˆåŠŸï¼Œä¿¡æ¯åœ¨è¿”å›çš„ç›¸åº”æŠ¥æ–‡ä¸­ 301 Moved Permanentlyï¼šè¯·æ±‚çš„å¯¹è±¡å·²ç»è¢«æ°¸ä¹…è½¬ç§»äº†ï¼Œæ–°çš„URLå®šä¹‰åœ¨å“åº”æŠ¥æ–‡çš„Locationï¼šé¦–éƒ¨è¡Œä¸­ã€‚å®¢æˆ·è½¯ä»¶å°†è‡ªåŠ¨è·å–æ–°çš„URL 400 Bad Requestï¼šä¸€ä¸ªé€šç”¨å·®é”™ä»£ç ï¼ŒæŒ‡ç¤ºè¯¥è¯·æ±‚ä¸èƒ½è¢«æœåŠ¡å™¨ç†è§£ 404 Not Foundï¼šè¢«è¯·æ±‚çš„æ–‡æ¡£ä¸åœ¨æœåŠ¡å™¨ä¸Š 505 HTTP Version Not Supportedï¼šæœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚æŠ¥æ–‡ä½¿ç”¨çš„HTTPåè®®ç‰ˆæœ¬ User-Server Interaction: Cookies cookieçš„4ä¸ªç»„ä»¶ï¼š HTTPå“åº”æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ HTTPè¯·æ±‚æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ ä¿ç•™åœ¨å®¢æˆ·ç«¯çš„cookieæ–‡ä»¶ï¼Œç”±ç”¨æˆ·çš„æµè§ˆå™¨è¿›è¡Œç®¡ç† ä¿ç•™åœ¨WebæœåŠ¡å™¨çš„åç«¯æ•°æ®åº“ Web Caching Webç¼“å­˜å™¨(Web cache) åˆç§° ä»£ç†æœåŠ¡å™¨(proxy server) ä»£è¡¨åˆå§‹WebæœåŠ¡å™¨æ¥æ»¡è¶³HTTPè¯·æ±‚çš„ç½‘ç»œå®ä½“ æµè§ˆå™¨å»ºç«‹åˆ°Webç¼“å­˜å™¨çš„TCPè¿æ¥ï¼Œå®¢æˆ·ç«¯å°†æ‰€æœ‰HTTPè¯·æ±‚é¦–å…ˆå‘é€åˆ°Webç¼“å­˜å™¨ä¸­çš„å¯¹è±¡ï¼ŒWebç¼“å­˜å™¨æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜å‚¨è¯¥å¯¹è±¡å‰¯æœ¬ æœ‰ï¼šWebç¼“å­˜å™¨å‘å®¢æˆ·æµè§ˆå™¨ç”¨HTTPå“åº”æŠ¥æ–‡è¿”å›è¯¥å¯¹è±¡ æ— ï¼šæ‰“å¼€ä¸€ä¸ªä¸è¯¥å¯¹è±¡çš„åˆå§‹æœåŠ¡å™¨çš„TCPè¿æ¥ï¼Œå‘é€è¯¥å¯¹è±¡çš„HTTPè¯·æ±‚ï¼Œæ”¶åˆ°è¯·æ±‚ååˆå§‹æœåŠ¡å™¨å‘è¯¥Webç¼“å­˜å™¨å‘é€HTTPå“åº” Webç¼“å­˜å™¨æ—¢æ˜¯å®¢æˆ·ä¹Ÿæ˜¯æœåŠ¡å™¨ æœåŠ¡å™¨ï¼šæ¥æ”¶æµè§ˆå™¨çš„è¯·æ±‚å‘å›å“åº” å®¢æˆ·ï¼šå‘åˆå§‹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚å¹¶æ¥æ”¶å“åº” å‡å°‘äº†å®¢æˆ·ç«¯è¯·æ±‚çš„å“åº”æ—¶é—´ å‡å°‘äº†ä¸€ä¸ªæœºæ„çš„æ¥å…¥é“¾è·¯åˆ°å› ç‰¹ç½‘çš„é€šä¿¡é‡ The Conditional GET æ¡ä»¶GETï¼šä¸ºäº†ä¿è¯Webç¼“å­˜å™¨çš„å¯¹è±¡æ˜¯æœ€æ–°çš„ è¯·æ±‚æŠ¥æ–‡ä¸­ä½¿ç”¨GETæ–¹æ³•å¹¶ä¸”åŒ…å«ä¸€ä¸ª&quot;If-Modified-Since&quot;é¦–éƒ¨è¡Œ å®¢æˆ·ç«¯ï¼šåœ¨HTTPè¯·æ±‚ä¸­æŒ‡å®šç¼“å­˜å‰¯æœ¬çš„æ—¥æœŸ æœåŠ¡å™¨ï¼šå¦‚æœç¼“å­˜çš„å‰¯æœ¬æ˜¯æœ€æ–°çš„ï¼Œåˆ™å“åº”ä¸åŒ…å«ä»»ä½•å¯¹è±¡ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚clientâ”‚ â”‚serverâ”‚ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â”‚ â”‚ â”‚If-modified-since &lt;date&gt; â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚HTTP&#x2F;1.0 304 Not Modifiedâ”‚ â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚ â”‚ â”‚If-modified-since &lt;date&gt; â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ HTTP&#x2F;1.0 200 OK &lt;data&gt; â”‚ â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”Œâ”€â”€â”´â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”€â” â”‚clientâ”‚ â”‚serverâ”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ 2.3 Electronic Mail in the Internet Components of Email ç”¨æˆ·ä»£ç†(User Agent)ï¼šé‚®ä»¶å®¢æˆ·ç«¯ é‚®ä»¶æœåŠ¡å™¨(Mail Server)ï¼š é‚®ç®±(mailbox)ï¼šåŒ…å«ç”¨æˆ·çš„ä¼ å…¥ä¿¡æ¯ æŠ¥æ–‡é˜Ÿåˆ—(message queue)ï¼šåŒ…å«å¤–å‘(å¾…å‘)ä¿¡æ¯ ç®€å•é‚®ä»¶ä¼ è¾“åè®®(SMTP, Simple Mail Transfer Protocol)ï¼š å‘/åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Šä¼ é€’/å­˜å‚¨æ¶ˆæ¯ C/Sæ¨¡å¼ï¼š å®¢æˆ·ç«¯ï¼šç”¨æˆ·ä»£ç†æˆ–é‚®ä»¶æœåŠ¡å™¨ æœåŠ¡å™¨ï¼šé‚®ä»¶æœåŠ¡å™¨ ä¸HTTPçš„æ¯”è¾ƒï¼š HTTPï¼šæ‹‰åè®®(pull protocol)ï¼Œç”¨æˆ·ä½¿ç”¨HTTPåè®®ä»æœåŠ¡å™¨æ‹‰å–ä¿¡æ¯ SMTPï¼šæ¨åè®®(push protocol)ï¼Œå‘é€é‚®ä»¶æœåŠ¡å™¨æŠŠæ–‡ä»¶æ¨å‘æ¥å—é‚®ä»¶æœåŠ¡å™¨ å› ç‰¹ç½‘é‚®ä»¶è®¿é—®åè®®(IMAP, Internet Mail Access Protocol) æ£€ç´¢/åˆ é™¤/æ–‡ä»¶å¤¹ä¸­å­˜å‚¨çš„é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ exp: Alice sends an email to Bob â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚ â”‚Bob&#39;s user agentâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ SMTP â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ SMTP â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚mail access protocol (IMAP or POP)â”‚ â”‚ â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚ â”‚Bob&#39;s user agentâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 2.4 DNS-The Internetâ€™s Directory Service åŸŸåç³»ç»Ÿ(DNS, Domain Name System)ï¼šä¸€ä¸ªç”±åˆ†å±‚çš„DNSæœåŠ¡å™¨(DNS server)å®ç°çš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼›ä¸€ä¸ªä½¿å¾—ä¸»æœºèƒ½å¤ŸæŸ¥è¯¢åˆ†å¸ƒå¼æ•°æ®åº“çš„åº”ç”¨å±‚åè®® Services ä¸»æœºååˆ°IPåœ°å€çš„è½¬æ¢ ä¸»æœºåˆ«å(host aliasing)ï¼Œè§„èŒƒä¸»æœºå(CNAME, canonical hostname) é‚®ä»¶æœåŠ¡å™¨åˆ«å(mail server aliasing) è´Ÿè½½åˆ†é…(load distribution)ï¼šè®¸å¤šIPåœ°å€å¯¹åº”ä¸€ä¸ªåç§° How DNS Works åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“ æ ¹DNSæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸDNSæœåŠ¡å™¨ï¼Œæƒå¨DNSæœåŠ¡å™¨ æœ¬åœ°DNSæœåŠ¡å™¨ é€’å½’æŸ¥è¯¢(recursive query)ï¼Œè¿­ä»£æŸ¥è¯¢(iterative query) DNSç¼“å­˜(DNS caching) exp: a distributed, hierarchical database exp: iterative query (more commonly used) vs recursive query 2.6 Video Streaming and Content Distribution Networks ç»HTTPçš„åŠ¨æ€é€‚åº”æ€§æµ(DASH, Dynamic Adaptive Streaming over HTTP) å†…å®¹åˆ†å‘ç½‘(CDN, Content Distribution Network) æœåŠ¡å™¨ï¼š å°†è§†é¢‘æ–‡ä»¶åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—ä»¥å¤šç§ä¸åŒé€Ÿç‡è¿›è¡Œç¼–ç  ä¸åŒé€Ÿç‡çš„ç¼–ç (encoding)å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ æ–‡ä»¶è¢«å¤åˆ¶åˆ°å¤šä¸ªCDNèŠ‚ç‚¹ä¸­ ç”Ÿæˆå‘Šç¤ºæ–‡ä»¶(maifest file)ï¼Œä¸ºä¸åŒå—æä¾›URL å®¢æˆ·ç«¯ï¼š å®šä¹‰ä¼°ç®—æœåŠ¡å™¨åˆ°å®¢æˆ·çš„å¸¦å®½ æŸ¥é˜…å‘Šç¤ºæ–‡ä»¶ï¼Œæ¯æ¬¡è¯·æ±‚ä¸€ä¸ªåˆ†å— å†³å®šä½•æ—¶/ä½•ç§ç¼–ç ç‡/è¯·æ±‚å“ªå°æœåŠ¡å™¨ Streaming stored video: playout buffering Summary: video streaming = encoding + DASH + playout buffering Chapter 3 Transport Layer ä¼ è¾“å±‚ 3.1 Introduction and Transport-Layer Services è¿è¾“å±‚åè®®ä¸ºä¸åŒä¸»æœºä¸Šçš„åº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›äº†é€»è¾‘é€šä¿¡(logic communication) å‘é€æ–¹ é€šè¿‡å¥—æ¥å­—ä¼ é€’åº”ç”¨å±‚çš„æŠ¥æ–‡ ç¡®å®šæŠ¥æ–‡æ®µ(segment)æŠ¥å¤´çš„å€¼ åˆ›å»ºæŠ¥æ–‡æ®µ å°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚ æ¥æ”¶æ–¹ ä»ç½‘ç»œå±‚æ¥æ”¶æŠ¥æ–‡æ®µ æ£€æŸ¥æŠ¥å¤´å€¼ æå–åº”ç”¨å±‚çš„æŠ¥æ–‡ é€šè¿‡å¥—æ¥å­—å°†æŠ¥æ–‡ä¼ é€’ç»™åº”ç”¨å±‚ Transport vs Network layer services exp: å®¶åº­é—´çš„é‚®ä»¶ä¼ é€’ ä¸»æœºï¼šå®¶åº­ è¿›ç¨‹ï¼šå­©å­ åº”ç”¨å±‚æŠ¥æ–‡ï¼šä¿¡ä»¶ è¿è¾“å±‚åè®®ï¼šä¸¤ä¸ªå®¶åº­ä¸­ç”± Ann å’Œ Bill ä¸ºå­©å­ä»¬æ”¶å‘ä¿¡ä»¶ ç½‘ç»œå±‚åè®®ï¼šé‚®æ”¿æœåŠ¡ ä¸æä¾›çš„æœåŠ¡ï¼šå»¶è¿Ÿä¿è¯ï¼Œå¸¦å®½ä¿è¯ 3.2 Multiplexing and Demultiplexing å¤ç”¨(multiplexing)ï¼šåœ¨æºä¸»æœºä»ä¸åŒå¥—æ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°è£…ä¸Šé¦–éƒ¨ä¿¡æ¯ç”ŸæˆæŠ¥æ–‡æ®µï¼Œå°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚ åˆ†ç”¨(demultiplexing)ï¼šå°†è¿è¾“å±‚æŠ¥æ–‡æ®µçš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æ¥å­— å¥—æ¥å­—æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè€Œæ¯ä¸ªæŠ¥æ–‡æ®µé€šè¿‡æºç«¯å£å·å­—æ®µ(source port number field)ï¼Œç›®çš„ç«¯å£å·å­—æ®µ(destination port number field)æŒ‡ç¤ºæŠ¥æ–‡æ®µæ‰€è¦äº¤ä»˜åˆ°çš„å¥—æ¥å­— ä¸‹å›¾å±•ç¤ºäº†å¤ç”¨å’Œåˆ†ç”¨çš„è¿‡ç¨‹ 3.3 UDP: Connectionless Transport ç”¨æˆ·æ•°æ®æŠ¥åè®® æ— è¿æ¥çš„ UDPå‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´æ²¡æœ‰æ¡æ‰‹åè®® æ¯ä¸ªUDPæ•°æ®æŠ¥ç‹¬ç«‹å¤„ç† å°½åŠ›è€Œä¸ºäº¤ä»˜æœåŠ¡(best-effort delivery service) æŠ¥æ–‡æ®µå¯èƒ½ä¸¢å¤± æŠ¥æ–‡æ®µå¯èƒ½ä¸ç¬¦åˆé¡ºåº Why there is a UDP æ— éœ€å»ºç«‹è¿æ¥ ä¸éœ€è¦æ¡æ‰‹(æ— RTTå»¶è¿Ÿ) æ— è¿æ¥çŠ¶æ€ æŠ¥å¤´å°ºå¯¸å° æ²¡æœ‰æ‹¥å¡æ§åˆ¶ é€Ÿåº¦å¿« æœ‰é¢å¯¹æ‹¥å µæ—¶çš„æœºåˆ¶ ç”¨ä¾‹ï¼šDNS, SNMP, HTTP/3(åœ¨åº”ç”¨å±‚å¢åŠ æ‰€éœ€å¯é æ€§ä»¥åŠæ‹¥å µæ§åˆ¶) UDP Segment Structure ------------ 32bit ------------ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” | source port # | dest port # | â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ | length | checksum | â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ | | | application data (payload) | | | â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ æ£€éªŒå’Œ(checksum): æä¾›å·®é”™æ£€æµ‹åŠŸèƒ½ï¼Œå‘é€æ–¹çš„UDPå¯¹æŠ¥æ–‡æ®µä¸­æ‰€æœ‰16bitå­—çš„å’Œè¿›è¡Œåç è¿ç®—å¾—åˆ° 3.4 Principles of Reliable Data Transfer å¯é æ•°æ®ä¼ è¾“åè®®(rdtåè®®, reliable data transfer protocol)ï¼šä¸ºTCPçš„å¯é æ€§ä¿è¯åšå‡†å¤‡ Building a Reliable Data Transfer Protocol å‡è®¾ï¼š å•å‘çš„æ•°æ®ä¼ è¾“(å‘é€æ–¹åˆ°æ¥æ”¶æ–¹) åœ¨ä¸å¯é çš„ä¿¡é“ä¸­è¿›è¡ŒåŒå‘æ§åˆ¶ä¿¡æ¯(å³ACK)æµåŠ¨ é€æ­¥æ”¹è¿›rdtåè®®(æä¾›æœ‰é™çŠ¶æ€æœº(Finite-State Machine, FSM) )ï¼š rdt1.0ï¼šä¿¡é“å®Œå…¨å¯é  rdt2.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™ï¼Œä½¿ç”¨ACK(è‚¯å®šç¡®è®¤, positive acknowledgment) /NAK(å¦å®šç¡®è®¤, negative acknowledgment)ï¼ŒåŸºäºè¿™æ ·é‡ä¼ æœºåˆ¶çš„å¯é æ•°æ®ä¼ è¾“åè®®ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚(ARQ, Automatic Repeat reQuest)åè®® rdt2.1ï¼šå¦‚æœACK/NAKè¢«ç ´åï¼Œä½¿ç”¨åºå·(sequence number)æ¥å¤„ç†é‡å¤çš„ä¿¡æ¯ rdt2.2ï¼šåªä½¿ç”¨ACK rdt3.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™å’Œä¸¢åŒ…ï¼Œä½¿ç”¨å€’è®¡æ•°å®šæ—¶å™¨(countdown timer)ï¼Œrdt3.0åˆç§°æ¯”ç‰¹äº¤æ›¿åè®® Stop-and-Wait (starting from rdt2.0) åœç­‰åè®®ï¼šå‘é€æ–¹å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç„¶åç­‰å¾…æ¥æ”¶æ–¹çš„å›åº” å‘é€æ–¹å¿…é¡»ç­‰å¾…å‘é€çš„æ•°æ®åŒ…åˆ°è¾¾ï¼Œæˆ–è€…ç›´åˆ°è¶…æ—¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´å‘é€æ–¹é•¿æ—¶é—´å¤„äºç©ºé—²çŠ¶æ€ç­‰å¾…ç¡®è®¤ Pipelining successor of Stop-and-Wait æµæ°´çº¿ï¼šå‘é€æ–¹å…è®¸å¤šä¸ªå‘é€ä¸­çš„ã€å°šæœªè¢«ACKçš„æ•°æ®åŒ… Go-Back-N(GBN) å‘é€æ–¹ï¼š æœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿ç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£ï¼ŒNè¢«ç§°ä¸ºçª—å£é•¿åº¦(window size) ç´¯è®¡ç¡®è®¤(commulative ACK(n)) è¡¨æ˜æ¥æ”¶æ–¹ä»¥æ­£ç¡®æ”¶åˆ°åºå·ä¸ºnçš„ä»¥å‰ä¸”åŒ…æ‹¬nåœ¨å†…çš„æ‰€æœ‰æ•°æ®åŒ… å‘å‰ç§»åŠ¨çª—å£ä½¿èµ·ç‚¹ä½äº n+1 å¯¹å‘é€æ—¶é—´æœ€æ—©ä½†æœªè¢«ç¡®è®¤çš„æ•°æ®åŒ…è¿›è¡Œè®¡æ—¶ è¶…æ—¶äº‹ä»¶(timeout(n))ï¼šé‡ä¼ nå·å’Œæ‰€æœ‰åºå·æ›´é«˜çš„æ•°æ®åŒ… æ¥æ”¶æ–¹ï¼š ä»…å‘é€æœ€é«˜åºå·çš„ACK åœ¨æ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶ ä¸¢å¼ƒæˆ–ç¼“å­˜ é‡æ–°å‘é€æŒ‰ç…§é¡ºåºçš„æœ€é«˜åºå·çš„ACK Selective Repeat(SR) å‘é€æ–¹ï¼š æœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿ç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£ ACK(n)ï¼šæ ‡è®°nå·æ•°æ®åŒ…å·²æ”¶åˆ°ï¼Œå¦‚æœnæ˜¯æœ€å°çš„æœªACKçš„æ•°æ®åŒ…ï¼Œåˆ™çª—å£å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæœªACKçš„æ•°æ®åŒ…å¼€å§‹ timeout(n)ï¼šå¯¹æœªACKçš„æ•°æ®åŒ…å•ç‹¬é‡ä¼  æ¥æ”¶æ–¹ å•ç‹¬ACK(n) æ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶ï¼šç¼“å­˜ æ”¶åˆ°æœ‰åºçš„æ•°æ®åŒ…æ—¶ï¼šäº¤ä»˜(ä¹Ÿäº¤ä»˜ç¼“å†²çš„ã€ç¬¦åˆé¡ºåºçš„æ•°æ®åŒ…) åœ¨Go-Back-Nä¸­ä½¿ç”¨çš„ç´¯è®¡ç¡®è®¤åœ¨TCPä¸­ä¹Ÿæœ‰ä½¿ç”¨ å‘é€çª—å£å’Œæ¥æ”¶çª—å£çš„å¤§å°å¿…é¡»ç›¸ç­‰ 3.5 TCP: Connection-Oriented Transport ä¼ è¾“æ§åˆ¶åè®® ç‚¹å¯¹ç‚¹(point-to-point)ï¼šä¸€ä¸ªå‘é€æ–¹ï¼Œä¸€ä¸ªæ¥æ”¶æ–¹ å¯é çš„ï¼Œæœ‰åºçš„å­—èŠ‚æµ(byte-stream) é¢å‘è¿æ¥çš„(connection-oriented)ï¼šåœ¨æ•°æ®äº¤æ¢å‰ æ¡æ‰‹(handshaking) åˆå§‹åŒ–å‘é€æ–¹å’ŒæœåŠ¡å™¨çŠ¶æ€ ç´¯è®¡ç¡®è®¤(cumulative ACKs) å…¨åŒå·¥æœåŠ¡(full-duplex service)ï¼šåœ¨åŒä¸€è¿æ¥ä¸­åŒæ—¶è¿›è¡ŒåŒå‘æ•°æ®æµ æµæ°´çº¿ï¼šæµé‡å’Œæ‹¥å µæ§åˆ¶ TCP Segment Structure UAPRSFï¼šURG, ACK, PSH, RST, SYN, FIN åºåˆ—å·(Sequence Number)ï¼šåˆ†æ®µæ•°æ®ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å­—èŠ‚æµç¼–å· ç¡®è®¤å·(Acknowledgement Number)ï¼šç¡®è®¤å¯¹æ–¹ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·ï¼Œç´¯è®¡ACK RTT Estimation(via EWMA) and Timeout RTT: è¿æ¥çš„å¾€è¿”æ—¶é—´ SampleRTT: æŠ¥æ–‡æ®µçš„æ ·æœ¬RTT EstimateRTT: ä¼°è®¡å¾€è¿”æ—¶é—´ TimeoutInterval: è¶…æ—¶é‡ä¼ é—´éš” DevRTT: åå·®RTT EWMA: æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ Exponential Weighted Moving Average EstimatedRTT = (1-Î±) * EstimatedRTT + Î± * SampleRTT å–Î± = 0.125 TimeoutInterval = EstimatedRTT + 4Â·DevRTT DevRTT = (1-Î²) * DevRTT + Î² * |SampleRTT - EstimatedRTT| å–Î² = 0.25 Fast Retransmit TCPå¿«é€Ÿé‡ä¼ ï¼šå¦‚æœæ£€æµ‹åˆ°3ä¸ªå†—ä½™çš„ACKï¼Œåˆ™TCPæ‰§è¡Œå¿«é€Ÿé‡ä¼ ï¼Œåœ¨è¯¥æŠ¥æ–‡æ®µçš„å®šæ—¶å™¨è¿‡æœŸä¹‹å‰é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µ Flow Control æµé‡æ§åˆ¶ï¼š æ¥æ”¶æ–¹æ§åˆ¶å‘é€æ–¹ï¼Œè¿™æ ·å‘é€æ–¹å°±ä¸ä¼šæº¢å‡ºæ¥æ”¶æ–¹çš„ç¼“å†²åŒº æ¥æ”¶çª—å£rwnd(receive window)ï¼šåœ¨TCPå¤´çš„rwndå­—æ®µä¸­ï¼ŒæŒ‡ç¤ºè¯¥æ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨çš„ç¼“å­˜ç©ºé—´ï¼Œæˆ–è¡¨ç¤ºå‘é€æ–¹å°†æ•°æ®é‡é™åˆ¶åœ¨rwndå†… TCP Connection Management ä¸‰æ¬¡æ¡æ‰‹(three-way handshake)å»ºç«‹è¿æ¥ å››æ¬¡æŒ¥æ‰‹(four-way handshake)ç»“æŸè¿æ¥ TCPçŠ¶æ€(TCO state)çš„å˜è¿ï¼Œæœ‰é™çŠ¶æ€æœº(FSM) 3.6 Principles of Congestion Control æ‹¥å¡æ§åˆ¶ æ‹¥å¡(Congestion)ï¼š å¤ªå¤šçš„å‘é€è€…ä»¥å¤ªå¿«çš„é€Ÿåº¦å‘é€å¤ªå¤šçš„æ•°æ® è¡¨ç°ï¼šé«˜å»¶è¿Ÿã€ä¸¢åŒ… ä¸æµé‡æ§åˆ¶ä¸åŒ(ä¸€ä¸ªå‘é€æ–¹å¯¹äºä¸€ä¸ªæ¥æ”¶æ–¹æ¥è¯´é€Ÿåº¦å¤ªå¿«) The Causes and the Costs of Congestion ååé‡æ°¸è¿œä¸ä¼šè¶…è¿‡å®¹é‡ å»¶è¿Ÿéšç€å®¹é‡çš„å¢åŠ è€Œå¢åŠ  ä¸¢å¤±/è½¬å‘/ä¸å¿…è¦çš„ä¸­ç«¯ä¼šé™ä½æœ‰æ•ˆååé‡(throughput) ä¸Šæ¸¸ä¼ è¾“å®¹é‡/ç¼“å†²åŒºä¼šå› ä¸‹æ¸¸ä¸¢åŒ…è€Œè¢«æµªè´¹ Congestion Control ç«¯åˆ°ç«¯æ‹¥å¡æ§åˆ¶(end-end approach)ï¼š æ²¡æœ‰æ¥è‡ªç½‘ç»œçš„æ˜ç¡®åé¦ˆï¼Œä»è§‚å¯Ÿåˆ°çš„å»¶è¿Ÿã€æŸå¤±æ¨æ–­æ‹¥å¡æƒ…å†µ ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶ï¼š IPè·¯ç”±å™¨åœ¨æ‹¥å µæ—¶å‘å‘é€/æ¥å—ä¸»æœºæä¾›ç›´æ¥åé¦ˆï¼Œå¯ä»¥æ˜¾ç¤ºæ‹¥å µç¨‹åº¦æˆ–è€…æ˜ç¡®è®¾ç½®å‘é€é€Ÿç‡ 3.7 TCP Congestion Control TCPçš„æ‹¥å¡æ§åˆ¶ç®—æ³•(CCA, congestion control algorithm)ï¼š æ‹¥å¡çª—å£cwnd(Congestion Window) æ…¢å¯åŠ¨(slow-start)ï¼š cwndçš„å€¼ä»¥1ä¸ªMSSå¼€å§‹ï¼Œæ¯å½“ä¼ è¾“çš„æŠ¥æ–‡æ®µé¦–æ¬¡è¢«ç¡®è®¤å°±å¢åŠ ä¸€ä¸ªMSSï¼Œè¿™ä¸€è¿‡ç¨‹ä¸­æ¯è¿‡ä¸€ä¸ªRTTï¼Œå‘é€é€Ÿç‡å°±ç¿»å€ï¼ŒæŒ‡æ•°å¢é•¿ æ…¢å¯åŠ¨é˜ˆå€¼ssthreshï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªç”±è¶…æ—¶æŒ‡ç¤ºçš„ä¸¢åŒ…(å³æ‹¥å¡)ï¼ŒTCPå‘é€æ–¹å°† cwnd è®¾ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨ï¼Œå°†ssthreshè®¾ä¸º cwnd/2, å³å½“æ£€æµ‹åˆ°æ‹¥å¡æ—¶å°†å…¶ç½®ä½æ‹¥å¡çª—å£å€¼çš„ä¸€åŠã€‚å½“åˆ°è¾¾æˆ–è€…è¶…è¿‡ssthreshçš„å€¼æ—¶ï¼Œè¿›å…¥æ‹¥å¡é¿å… æ‹¥å¡é¿å…(Congestion Avoidance) cwndçš„å€¼æ¯ä¸ªRTTåªå¢åŠ ä¸€ä¸ªMSSï¼Œçº¿æ€§å¢é•¿ ç”±3ä¸ªå†—ä½™ACKå¼•èµ·çš„ä¸¢åŒ…æ—¶, ssthresh = cwnd/2, cwnd = 1MSS, è¿›å…¥å¿«é€Ÿæ¢å¤ å¿«é€Ÿæ¢å¤(Fast Recovery) å¯¹äºå¼•èµ·TCPè¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ”¶åˆ°çš„æ¯ä¸ªå†—ä½™ACKï¼Œcwndçš„å€¼å°±åŠ ä¸€ä¸ªMSSï¼Œå½“å¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ä¸€ä¸ªACKåˆ°è¾¾æ—¶ï¼ŒTCPé™ä½cwndåè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€ åŠ æ€§å¢ã€ä¹˜æ€§å‡(AIMD, Additive-Increase, Multiplicative-Decrease) æ‹¥å¡æ§åˆ¶æ–¹å¼ å‡å®šä¸¢åŒ…ç”±3ä¸ªå†—ä½™ACKè€Œä¸æ˜¯è¶…æ—¶æŒ‡ç¤ºï¼šæ¯ä¸ªRTTå†…cwndçº¿æ€§(åŠ æ€§)å¢åŠ 1MSSï¼Œç„¶åå‡ºç°3ä¸ªå†—ä½™ACKäº‹ä»¶æ—¶cwndå‡åŠ(ä¹˜æ€§å‡) Chapter 4 The Network Layer: Data Plane ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢ 4.1 Overview of Network Layer å‘é€æ–¹ï¼š å°†æŠ¥æ–‡æ®µå°è£…æˆæ•°æ®æŠ¥(datagram)ï¼Œä¼ é€’ç»™é“¾è·¯å±‚ æ¥æ”¶æ–¹ï¼š ä»æ•°æ®æŠ¥ä¸­æå–æŠ¥æ–‡æ®µï¼Œä¼ é€’ç»™ä¼ è¾“å±‚ ä¸¤ç§é‡è¦åŠŸèƒ½ï¼š è½¬å‘(Forwarding)ï¼šå°†æ•°æ®æŠ¥ä»è¾“å…¥é“¾è·¯è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯ä¸Šï¼Œç±»æ¯”æ—…æ¸¸ä¸­åœ¨æ¯ä¸ªè·¯å£åšå†³å®š è·¯ç”±(Routing)ï¼šç¡®å®šæ•°æ®æŠ¥ä»åŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯çº¿ Two Network Layer Planes Data Plane æ•°æ®å¹³é¢ æœ¬åœ°ï¼Œæ¯å°è·¯ç”±å™¨çš„åŠŸèƒ½ è·¯ç”±å™¨å†…çš„æ•°æ®æŠ¥è½¬å‘ ç¡¬ä»¶ Control Plane æ§åˆ¶å¹³é¢ å…¨ç½‘ æ²¿ç€ä»åŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯å¾„ï¼Œåœ¨è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œæ•°æ®æŠ¥è·¯ç”± ä¼ ç»Ÿè·¯ç”±ç®—æ³•ï¼šåœ¨è·¯ç”±å™¨ä¸­å®ç° è½¯ä»¶å®šä¹‰ç½‘ç»œ(SDN, Software-Defined Networking)ï¼šåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­å®ç° è½¯ä»¶ Network layerâ€™s â€œbest effort&quot; service model å°½åŠ›è€Œä¸ºæœåŠ¡ï¼šä¸ä¿è¯æˆåŠŸäº¤ä»˜ï¼ŒåŠæ—¶/æŒ‰é¡ºåºäº¤ä»˜ï¼Œæœ€å°å¸¦å®½ 4.2 Whatâ€™s inside a Router? è¾“å…¥ç«¯å£(input port): é€šè¿‡headerçš„å€¼è¿›è¡Œè½¬å‘è¡¨æŸ¥è¯¢ è½¬å‘æ–¹å¼ï¼š åŸºäºç›®çš„åœ°è½¬å‘ï¼šåªæ ¹æ®ç›®çš„åœ°çš„IPåœ°å€è¿›è¡Œè½¬å‘ é€šç”¨è½¬å‘ï¼šåŸºäºä»»ä½•ä¸€ç»„headerå€¼çš„è½¬å‘ï¼Œä¸ä»…ä»…æ˜¯ç½‘ç»œå±‚çš„åŠŸèƒ½ï¼šè½¬å‘(è·¯ç”±å™¨ï¼Œäº¤æ¢æœº)ï¼Œä¸¢å¼ƒ(é˜²ç«å¢™)ï¼Œä¿®æ”¹(NAT)ï¼Œå°è£…å¹¶è½¬å‘åˆ°æ§åˆ¶å™¨(SDN) æœ€é•¿å‰ç¼€åŒ¹é…(longest prefix matching rule)ï¼šé€šå¸¸ä½¿ç”¨ä¸‰æ€å†…å®¹å¯å¯»å€å­˜å‚¨å™¨(TCAM, Tenary Content Address Memory)æ¥æŸ¥æ‰¾ äº¤æ¢ç»“æ„(switching fabric)ï¼š å°†æ•°æ®æŠ¥ä»è¾“å…¥é“¾è·¯ä¼ è¾“åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯ äº¤æ¢ç‡ï¼šæ•°æ®æŠ¥ä¼ è¾“çš„é€Ÿç‡ï¼Œé€šå¸¸ä»¥å¤šä¸ªè¾“å…¥/è¾“å‡ºçº¿è·¯é€Ÿç‡æ¥è¡¡é‡ ä¸‰ç§ä¸»è¦ç±»å‹ï¼šå†…å­˜ã€æ€»çº¿ã€äº’è”ç½‘ æ’é˜Ÿ(queueing)ï¼š è¾“å…¥æ’é˜Ÿï¼š è¾“å…¥ç«¯å£çš„ç»¼åˆçº¿è·¯é€Ÿç‡å¤§äºäº¤æ¢é€Ÿç‡ éœ€è¦ç¼“å†²ï¼šæ’é˜Ÿå»¶è¿Ÿå’Œè¾“å…¥ç¼“å†²å™¨æº¢å‡ºé€ æˆçš„æŸå¤± é˜»å¡(HOL, Head-Of-the-Line)ï¼šæ’åœ¨å‰é¢çš„æ•°æ®æŠ¥é˜»æ–­åé¢çš„æ•°æ®æŠ¥ è¾“å‡ºæ’é˜Ÿï¼š äº¤æ¢ç‡å¤§äºé“¾è·¯ä¼ è¾“é€Ÿç‡ éœ€è¦ç¼“å†²ï¼šç”±äºè¾“å‡ºç¼“å†²åŒºæº¢å‡ºï¼Œé€ æˆæ’é˜Ÿå»¶è¿Ÿå’ŒæŸå¤± ç¼“å†²åŒºç®¡ç†ï¼š ä¸¢å¼ƒç­–ç•¥ï¼šå°¾éƒ¨ä¸¢å¼ƒï¼ŒåŸºäºä¼˜å…ˆçº§çš„ä¸¢å¼ƒ æ ‡è®°ï¼šECNï¼ŒRED Packet Scheduling å…ˆè¿›å…ˆå‡º(FIFO, First-In-First-Out) ä¼˜å…ˆæƒæ’é˜Ÿ(priority queuing)ï¼š åˆ°è¾¾æ—¶åˆ†ç±» ä»æœ€é«˜ä¼˜å…ˆçº§åˆ°æœ€ä½ä¼˜å…ˆçº§ ä¼˜å…ˆçº§å†…çš„FIFO å¾ªç¯æ’é˜Ÿ(RR, Round Robin queuing discipline) åˆ°è¾¾æ—¶åˆ†ç±» é€šè¿‡ç±»å¾ªç¯ ä¾æ¬¡ä»æ¯ä¸ªç±»ä¸­é€‰å‡ºä¸€ä¸ª åŠ æƒå…¬å¹³æ’é˜Ÿ(WFQ, Weight Fair Queuing) å¹¿ä¹‰çš„Round Robin æ¯ä¸ªç±»åˆ«æœ‰æƒé‡ åœ¨æ¯ä¸ªå¾ªç¯ä¸­åŠ æƒæœåŠ¡é‡ æ¯ä¸ªæµé‡ç±»åˆ«çš„æœ€ä½å¸¦å®½ä¿è¯ 4.3 The Internet Protocol(IP): IPv4, Addressing, IPv6, and More ç½‘é™…åè®®IP IPv4 vs IPv6 IPv4 32ä½åœ°å€ç¼–ç  IPv6 128ä½åœ°å€ç¼–ç  é€šè¿‡éš§é“(tunnel)æ—¶ï¼ŒIPv6æ•°æ®æŠ¥ä½œä¸ºIPv4æ•°æ®æŠ¥çš„æœ‰æ•ˆè½½è·å®ç°å…±å­˜ IP Addressingï¼š IPåœ°å€ï¼šä¸æ¯ä¸ªä¸»æœº/è·¯ç”±å™¨æ¥å£(interface)ç›¸å…³çš„32ä½æ ‡è¯†ç¬¦ æ¥å£ï¼š ä¸»æœº/è·¯ç”±å™¨å’Œç‰©ç†é“¾è·¯ä¹‹é—´çš„è¿æ¥ æ¥å£çš„æ•°é‡ï¼šè·¯ç”±å™¨é€šå¸¸å¤šä¸ªï¼Œä¸»æœºé€šå¸¸ä¸€ä¸ªæˆ–ä¸¤ä¸ª æœ‰çº¿ä»¥å¤ªç½‘ æ— é™802.11 ç‚¹åˆ†åè¿›åˆ¶è®°æ³•(dotted-decimal notation) æ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©(CIDR, Classless Interdomain Routing) ä»»æ„é•¿åº¦çš„å­ç½‘åœ°å€xï¼Œå³å­ç½‘æ©ç (subnet mask) a.b.c.d/x How to get an IP ? ä¸»æœºï¼š ç¡¬ç¼–ç  åŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP, Dynamic Host Configuration)ï¼š ä¸»æœºåœ¨åŠ å…¥ç½‘ç»œæ—¶åŠ¨æ€åœ°ä»DHCPæœåŠ¡å™¨è·å–ä¸€ä¸ªIPåœ°å€ DHCPæœåŠ¡å™¨ä½äºè·¯ç”±å™¨ä¸­ åœ°å€çš„é‡å¤ä½¿ç”¨ å³æ’å³ç”¨åè®®(plug-and-play protocol) è¿”å›çš„ä¸ä»…ä»…æ˜¯å­ç½‘ä¸­åˆ†é…çš„IPåœ°å€ ç¬¬ä¸€è·³è·¯ç”±å™¨çš„åœ°å€ DNSæœåŠ¡å™¨çš„åç§°å’ŒIPåœ°å€ å­ç½‘æ©ç  å­ç½‘(subnet) (å³ç½‘ç»œå¦‚ä½•è·å¾—å…¶IPåœ°å€çš„å­ç½‘éƒ¨åˆ†) ä»å…¶ISPè·å¾— ISP (å³ä¸€ä¸ªISPå¦‚ä½•è·å¾—å…¶åœ°å€å—) ä»ICANN Network Address Translation(NAT) ç½‘ç»œåœ°å€è½¬æ¢NAT å°±å¤–éƒ¨ä¸–ç•Œè€Œè¨€ï¼Œæœ¬åœ°ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡åªå…±äº«ä¸€ä¸ªIPv4åœ°å€ æœ¬åœ°IPåœ°å€åœ¨3ä¸ªä¸“ç”¨IPåœ°å€(private network)èŒƒå›´å†… ä¼˜åŠ¿ æ‰€æœ‰è®¾å¤‡éƒ½æœ‰ä¸€ä¸ªæ¥è‡ªISPçš„IPåœ°å€ æ”¹å˜æœ¬åœ°åœ°å€ä¸éœ€è¦é€šçŸ¥å¤–éƒ¨ä¸–ç•Œ æ”¹å˜ISPè€Œä¸æ”¹å˜æœ¬åœ°åœ°å€ æœ¬åœ°è®¾å¤‡ä¸ä¼šè¢«å¤–ç•Œç›´æ¥çœ‹åˆ°ï¼Œä¿è¯å®‰å…¨ å®ç° (é€æ˜) å¯¹å‘å‡ºçš„æ•°æ®æŠ¥ï¼š å°† (æºIPåœ°å€ï¼Œç«¯å£) æ›¿æ¢ä¸º (NAT IPåœ°å€ï¼Œæ–°ç«¯å£) è¿œç¨‹ä¸»æœºå°†ä»¥ (NAT IPåœ°å€ï¼Œæ–°ç«¯å£) ä½œä¸ºç›®çš„åœ°è¿›è¡Œå“åº” NATè½¬æ¢è¡¨(NAT translation table) æ¯ä¸ª (æºIPåœ°å€ï¼Œç«¯å£) &lt;-&gt; (NAT IPåœ°å€ï¼Œç«¯å£) å¯¹ä¼ å…¥çš„æ•°æ®æŠ¥ï¼š ç”¨NATè½¬æ¢è¡¨è¿›è¡Œåå‘è½¬æ¢ 4.4 Generalized Forwarding and SDN Generalized Forwarding é€šç”¨è½¬å‘ï¼šä¸€å¼ æµè¡¨(flow table)å°†åŸºäºç›®çš„åœ°çš„è½¬å‘è¡¨ä¸€èˆ¬åŒ– OpenFlowï¼šä¸€ä¸ªåŒ¹é…åŠ åŠ¨ä½œè½¬å‘æŠ½è±¡çš„æ ‡å‡† æµè¡¨ï¼šåŒ¹é…åŠ åŠ¨ä½œè½¬å‘è¡¨ åŒ¹é…ï¼šå…¥ç«¯å£ã€IPæºåœ°å€ã€IPç›®çš„åœ°å€ (å…è®¸é€šé…ç¬¦*****) åŠ¨ä½œï¼šè½¬å‘ã€ä¸¢å¼ƒã€ä¿®æ”¹å­—æ®µ Chapter 5 The Network Layer: Control Plane ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢ 5.1 Introduction æ„å»ºç½‘ç»œæ§åˆ¶å¹³é¢çš„ä¸¤ç§æ–¹æ³•ï¼š æ¯è·¯ç”±å™¨æ§åˆ¶(per-router control)ï¼š(ä¼ ç»Ÿçš„ï¼Œåˆ†å¸ƒå¼) æ¯ä¸ªè·¯ç”±å™¨ä¸­éƒ½æœ‰å•ç‹¬çš„è·¯ç”±ç®—æ³•ç»„ä»¶ è·¯ç”±å™¨ä¹‹é—´ç›´æ¥äº’åŠ¨ é€»è¾‘é›†ä¸­å¼æ§åˆ¶(logically centralized/ SDN control) è·¯ç”±å™¨ä¹‹é—´ä¸ç›¸äº’å½±å“ è·¯ç”±ç®—æ³•åœ¨ä¸¤ç§æ–¹æ³•ä¸­éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åªæ˜¯å¦‚ä½•å®ç° 5.2 Routing Algorithms è·¯ç”±é€‰æ‹©ç®—æ³• Dijkstraâ€™s link state algorithm é“¾è·¯çŠ¶æ€(Link State, LS) å±äºé›†ä¸­å¼è·¯ç”±é€‰æ‹©ç®—æ³•(centralized routing algorithm) å¿…é¡»çŸ¥é“ç½‘ç»œä¸­æ¯æ¡é“¾è·¯çš„å¼€é”€ Bellman Fordâ€™s (BS) distance vector algorithm è·ç¦»å‘é‡(Distance Vector, DV) å±äºåˆ†æ•£å¼è·¯ç”±é€‰æ‹©ç®—æ³•(decentralized routing algorithm) æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤åˆ°ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„å¼€é”€(è·ç¦»)ä¼°è®¡çš„å‘é‡ Dijkstraâ€™s Link State Algorithm é›†ä¸­å¼ æ‰€æœ‰èŠ‚ç‚¹éƒ½çŸ¥é“ç½‘ç»œæ‹“æ‰‘ç»“æ„(å›¾) æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ç›¸åŒçš„ä¿¡æ¯ é€šè¿‡é“¾è·¯çŠ¶æ€å¹¿æ’­å®Œæˆ è®¡ç®—ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„æœ€å°æˆæœ¬è·¯å¾„ï¼Œä¸ºè¯¥èŠ‚ç‚¹ç”Ÿæˆè½¬å‘è¡¨ è¿­ä»£(iterative) ç»è¿‡kæ¬¡è¿­ä»£ï¼ŒçŸ¥é“åˆ°kä¸ªç›®çš„åœ°çš„æœ€ä½æˆæœ¬è·¯å¾„ ç®—æ³•å¤æ‚æ€§: $O(n^2)$ æ¯æ¬¡è¿­ä»£éœ€è¦æ£€æŸ¥æ‰€æœ‰ä¸åœ¨Nä¸­çš„èŠ‚ç‚¹ æœ‰ $O((n+m)logn )$ çš„å¯èƒ½ï¼Œæœ‰æœ€å°ä¼˜å…ˆçº§çš„é˜Ÿåˆ— ä¿¡æ¯å¤æ‚æ€§: $O(n^2)$ é“¾è·¯çŠ¶æ€å¹¿æ’­(link state broadcast)ï¼šæ¯ä¸ªè·¯ç”±å™¨å¿…é¡»å‘æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é“¾æ¥çŠ¶æ€ æœ‰æ•ˆçš„å¹¿æ’­ç®—æ³•ï¼š$O(n)$ ä¸ªé“¾è·¯äº¤å‰ç‚¹æ¥ä¼ æ’­æ¥è‡ªä¸€ä¸ªæºçš„å¹¿æ’­æ¶ˆæ¯ æ¯ä¸ªè·¯ç”±å™¨çš„æ¶ˆæ¯ç©¿è¿‡ $O(n)$â€‹â€‹ ä¸ªé“¾æ¥ å½“é“¾è·¯æˆæœ¬å–å†³äºæµé‡æ—¶å¯èƒ½å‡ºç°æŒ¯è¡ Bellman Fordâ€™s Distance Vector Algorithm åˆ†æ•£å¼(decentralized) è·¯ç”±å™¨æœ€åˆåªçŸ¥é“è¿æ¥åˆ°é‚»å±…çš„æˆæœ¬ è·¯ç”±é€‰æ‹©è¡¨(routing table) è¿­ä»£çš„(iterative) æ¯ä¸ªèŠ‚ç‚¹çš„è¡ŒåŠ¨ï¼š ç­‰å¾…è§¦å‘æœ¬åœ°è¿­ä»£çš„å˜åŒ– æœ¬åœ°é“¾è·¯æˆæœ¬å˜åŒ– æ¥è‡ªé‚»å±…çš„è·ç¦»å‘é‡æ›´æ–°ä¿¡æ¯ é‡æ–°è®¡ç®—æœ¬åœ°è·ç¦»å‘é‡ å¦‚æœå˜åŒ–ï¼Œå‘é€æ–°çš„æœ¬åœ°è·ç¦»å‘é‡ç»™é‚»å±… å¼‚æ­¥çš„(asynchronous) æ¯ä¸ªèŠ‚ç‚¹çš„è¿­ä»£é€Ÿåº¦å¯ä»¥ä¸åŒ è‡ªæˆ‘ç»ˆæ­¢çš„(self stopping) æ¯ä¸ªèŠ‚ç‚¹åªåœ¨æœ¬åœ°è·ç¦»å‘é‡å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥å…¶é‚»å±… æ²¡æœ‰æ”¶åˆ°é€šçŸ¥ï¼Œä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨ å¥½æ¶ˆæ¯ä¼ å¾—å¿«(é“¾æ¥æˆæœ¬é™ä½)ï¼Œåæ¶ˆæ¯ä¼ çš„æ…¢(é“¾æ¥æˆæœ¬å¢åŠ )ï¼šæ— ç©·è®¡æ•°(count-to-infinity)é—®é¢˜ ç®—æ³•å¤æ‚æ€§ï¼š$O(n+m)$ ä¿¡æ¯å¤æ‚æ€§ï¼š(ç½‘ç»œç›´å¾„ä¸º $d$ çš„èŠ‚ç‚¹) $O(d)$ : çŠ¶æ€ä¿¡æ¯çš„æ‰©æ•£ æ”¶æ•›çš„é€Ÿåº¦ä¸åŒå¯¼è‡´æ”¶æ•›çš„æ—¶é—´ä¸åŒï¼Œå¯èƒ½æœ‰è·¯ç”±é€‰æ‹©ç¯è·¯(routing loop) å’Œ æ— ç©·è®¡æ•°é—®é¢˜ (count-to-infinity) 5.3 Intra-AS Routing in the Internet: OSPF ISP, AS, åŸŸåœ¨è¿™é‡Œå…·æœ‰ç›¸åŒå«ä¹‰ Autonomous System(AS) è‡ªæ²»ç³»ç»Ÿï¼šå°†è·¯ç”±å™¨ç»„ç»‡è¿›AS åŸŸå†…è·¯ç”±åè®®ï¼š ASä¸­çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»è¿è¡Œç›¸åŒçš„åŸŸå†…åè®® ä¸åŒASç§çš„è·¯ç”±å™¨å¯ä»¥è¿è¡Œä¸åŒçš„åŸŸå†…åè®® ç½‘å…³è·¯ç”±å™¨(gateway router)ï¼š åŸŸé—´è·¯ç”±åè®®ï¼š åœ¨ASä¹‹é—´è¿›è¡Œè·¯ç”±é€‰æ‹© ç½‘å…³è·¯ç”±å™¨æ—¢æ‰§è¡ŒåŸŸé—´è·¯ç”±ï¼Œä¹Ÿæ‰§è¡ŒåŸŸå†…è·¯ç”± è½¬å‘è¡¨(Forwarding table)æ˜¯ç”±åŸŸå†…å’ŒåŸŸé—´å¡«å……çš„åè®®(ç›®çš„åœ°åœ¨ASå†…: Intra-; ç›®çš„åœ°åœ¨ASå¤–: Intra- å’Œ Inter-) OSPF(Open Shortest Path First) å¼€æ”¾æœ€çŸ­è·¯ä¼˜å…ˆ æœ€å¸¸ç”¨çš„åŸŸå†…è·¯ç”±åè®® ç»å…¸çš„Dijkstraé“¾è·¯çŠ¶æ€ç®—æ³• æ¯ä¸ªè·¯ç”±å™¨å‘ASå†…æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é€‰æ‹©ä¿¡æ¯(ç›´æ¥é€šè¿‡IPè€ŒéTCP/UDP) å¯èƒ½æœ‰å¤šä¸ªæŒ‡æ ‡ï¼šå¸¦å®½ã€å»¶è¿Ÿ æ‰€æœ‰OSPFæ¶ˆæ¯éƒ½ç»è¿‡è®¤è¯ä»¥é˜²æ­¢æ¶æ„å…¥ä¾µ 5.4 Routing Among the ISPs: BGP è¾¹ç•Œç½‘å…³åè®® (Broder Gateway Protocol, BGP) æ—¢æ¶‰åŠå†³ç­–ï¼Œä¹Ÿæ¶‰åŠæ€§èƒ½ è‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±é€‰æ‹©åè®® (inter- AS routing protocol) BGPä¸ºæ¯ä¸ªASæä¾›äº†ä¸€ç§æ–¹æ³•æ¥ï¼š ä»é‚»è¿‘çš„ASè·å¾—å¯è¾¾æ€§ä¿¡æ¯(eBGP) å°†å¯è¾¾æ€§ä¿¡æ¯ä¼ æ’­ç»™ASå†…çš„æ‰€æœ‰è·¯ç”±å™¨(iBGP) BGPä¼šè¯ ä¸¤ä¸ªBGPè·¯ç”±å™¨é€šè¿‡TCPè¿æ¥äº¤æ¢BGPä¿¡æ¯ è·¯å¾„é€šå‘Šï¼šå‰ç¼€(prefix, CIDRåŒ–ç›®æ ‡ç½‘ç»œ) + å±æ€§(BGP attribute) ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š AS-PATHï¼šé€šå‘Šå·²ç»é€šè¿‡çš„ASåˆ—è¡¨ NEXT-HOP(ä¸‹ä¸€è·³)ï¼šé€šå¾€ä¸‹ä¸€è·³ASçš„å†…éƒ¨ASè·¯ç”±å™¨ åŸºäºç­–ç•¥çš„è·¯ç”±é€‰æ‹©ï¼š æ˜¯å¦æ¥å—ä¸€ä¸ªè·¯å¾„é€šå‘Šï¼Œexp: æ°¸è¿œä¸é€šè¿‡Xçš„è·¯ç”± æ˜¯å¦å‘å¸ƒè·¯å¾„é€šå‘Šï¼Œexp: æµé‡æ°¸è¿œä¸ä¼šè·¯ç”±åˆ°X Hot Potato Routing çƒ­åœŸè±†è·¯ç”±é€‰æ‹©ï¼šé€‰æ‹©åŸŸå†…æˆæœ¬æœ€ä½çš„æœ¬åœ°ç½‘å…³ï¼Œä¸ç”¨æ‹…å¿ƒåŸŸé—´æˆæœ¬ï¼Œå³å°½å¯èƒ½å¿«åœ°å°†æ•°æ®é€å‡º Route-Selection Algorithm è·¯ç”±å™¨é€‰æ‹©ç®—æ³•ï¼šå½“æœ‰ä¸€æ¡ä»¥ä¸Šçš„è·¯ç”±å¯ç”¨æ—¶ ç­–ç•¥å†³å®š æœ€çŸ­çš„AS-PATH æœ€è¿‘çš„NEXT-HOPè·¯ç”±å™¨(hot potato) é¢å¤–æ ‡å‡† 5.5 The SDN Control Plane è½¯ä»¶å®šä¹‰ç½‘ç»œ(Software Defined Networking, SDN) Why a logically centralized control plane? æ›´å®¹æ˜“ç®¡ç† åŸºäºè¡¨çš„è½¬å‘ (OpenFlow API) å…è®¸å¯¹è·¯ç”±å™¨è¿›è¡Œç¼–ç¨‹ é›†ä¸­å¼ç¼–ç¨‹æ›´å®¹æ˜“ï¼šé›†ä¸­è®¡ç®—è¡¨å¹¶åˆ†å‘ å¼€æ”¾çš„å®ç° ä¿ƒè¿›åˆ›æ–° Chapter 6 The Link Layer and LANs é“¾è·¯å±‚å’Œå±€åŸŸç½‘ 6.1 Introduction to the Link Layer å‘é€æ–¹ï¼š å°†ç½‘ç»œå±‚çš„æ•°æ®æŠ¥å°è£…æˆå¸§(Frame) æ¥æ”¶æ–¹ ä»å¸§ä¸­æå–æ•°æ®æŠ¥ï¼Œä¼ é€’ç»™ç½‘ç»œå±‚ é“¾è·¯å±‚ä¿¡é“ï¼š å¹¿æ’­ä¿¡é“ï¼šæœ‰çº¿å±€åŸŸç½‘ã€å«æ˜Ÿç½‘ã€HFC ç‚¹å¯¹ç‚¹é€šä¿¡é“¾è·¯ï¼šç‚¹å¯¹ç‚¹åè®®(PPP, Point-to-Point Protocol) The Services Provided by the Link Layer æˆå¸§(framing) é“¾è·¯æ¥å…¥(link access)ï¼šåª’ä½“è®¿é—®æ§åˆ¶(MAC, Media Access Control)åè®®è§„å®šäº†å¸§åœ¨é“¾è·¯ä¸Šçš„ä¼ è¾“è§„åˆ™ å¯é äº¤ä»˜(Reliable delivery)ï¼šæ— å·®é”™åœ°ç»é“¾è·¯å±‚ç§»åŠ¨æ¯ä¸ªç½‘ç»œå±‚æ•°æ®æŠ¥ å·®é”™æ£€æµ‹å’Œçº æ­£(Error detection and correction) Where Is the Link Layer Implemented? ç½‘ç»œé€‚é…å™¨(network adapter)ï¼Œä¹Ÿç§°ç½‘å¡(Network Interface Card , NIC) 6.2 Error-Detection and -Correction Techniques å¥‡å¶æ ¡éªŒ(Parity Checks) å‰å‘çº é”™(Forward Error Correction, FEC)ï¼šæ¥æ”¶æ–¹æ£€æµ‹å’Œçº æ­£å·®é”™çš„èƒ½åŠ› æ£€éªŒå’Œ(Checksumming) å¾ªç¯å†—ä½™æ£€æµ‹(CRC, Cyclic Redundancy Check) å¤šé¡¹å¼ç¼–ç (polynomial code) ç”Ÿæˆå¤šé¡¹å¼(generator) 6.3 Multiple Access Links and Protocols å¤šè·¯è®¿é—®é“¾è·¯å’Œåè®® ä¿¡é“åˆ’åˆ†åè®®(Channel Partitioning Protocols)ï¼š TDMï¼ˆæ—¶åˆ†å¤šè·¯å¤ç”¨ï¼‰ FDMï¼ˆé¢‘åˆ†å¤šè·¯å¤ç”¨ï¼‰ CDMA (ç åˆ†å¤šå€, Code Divison Multiple Access) éšæœºæ¥å…¥åè®®(Random Access Protocols) Slotted ALOHAï¼ˆæ—¶éš™ALOHAï¼‰ ALOHA CSMAï¼ˆè½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰ CSMA/CDï¼ˆå…·æœ‰ç¢°æ’æ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰ è½®æµåè®®(Taking-Turns Protocols) è½®è¯¢åè®®(polling protocol) ä»¤ç‰Œä¼ é€’åè®®(token-passing protocol) DOCSISï¼šç”¨äºç”µç¼†å› ç‰¹ç½‘æ¥å…¥çš„é“¾è·¯å±‚åè®® 6.4 Switched Local Area Networks Link-Layer Addressing and ARP MAC Addresses(ç‰©ç†åœ°å€) é•¿åº¦6å­—èŠ‚ï¼Œ2^48ä¸ªå¯èƒ½çš„MACåœ°å€ MACå¹¿æ’­åœ°å€(broadcast address)ï¼šFF-FF-FF-FF-FF-FF ARP(åœ°å€è§£æåè®®, Address Resolution Protocol) åœ¨IPåœ°å€å’ŒMACåœ°å€é—´è¿›è¡Œè½¬æ¢ Ethernet Frame Link-Layer Switches é“¾è·¯å±‚äº¤æ¢æœºï¼š äº¤æ¢æœºè¡¨(switch table)ï¼š(MACåœ°å€ï¼Œé€šå‘è¯¥MACåœ°å€çš„äº¤æ¢æœºæ¥å£ï¼Œæ—¶é—´) è‡ªå­¦ä¹ (self-learning) å³æ’å³ç”¨è®¾å¤‡(plug-and-play device) Switches vs Routers äº¤æ¢æœºæ˜¯ç¬¬äºŒå±‚çš„åˆ†ç»„äº¤æ¢æœºï¼Œè·¯ç”±å™¨æ˜¯ç¬¬ä¸‰å±‚çš„åˆ†ç»„äº¤æ¢æœº äº¤æ¢æœºå³æ’å³ç”¨ï¼Œä½†å¯¹äºå¹¿æ’­é£æš´(broadcast storms)æ²¡æœ‰ä¿æŠ¤æªæ–½ è·¯ç”±å™¨å’Œè¿æ¥åˆ°ä»–ä»¬çš„ä¸»æœºéœ€è¦äººä¸ºé…ç½®IPåœ°å€ï¼Œè·¯ç”±å™¨å¯¹ç¬¬äºŒå±‚çš„å¹¿æ’­é£æš´æä¾›äº†é˜²ç«å¢™ä¿æŠ¤(firewall protections) äº¤æ¢æœºï¼Œè·¯ç”±å™¨å’Œä¸»æœºä¸­çš„æ•°æ®åŒ…å¤„ç† Virtual Local Area Networks (VLANs) è™šæ‹Ÿå±€åŸŸç½‘çš„ä½œç”¨ï¼šæµé‡éš”ç¦»(traffic isolation)ï¼Œç®¡ç†ç”¨æˆ·(managing users) Chapter 7 Wireless and Mobile Networks æ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œ 7.1 Introduction æ— çº¿ä¸»æœº(wireless host)ï¼šä¸»æœºæœ¬èº«å¯èƒ½ç§»åŠ¨ä¹Ÿå¯èƒ½ä¸ç§»åŠ¨ æ— çº¿é“¾è·¯(wireless communication link)ï¼šä¸»æœºé€šè¿‡æ— çº¿çº¿è·¯è¿æ¥åˆ°ä¸€ä¸ªåŸºç«™æˆ–è€…å¦ä¸€å°æ— çº¿ä¸»æœº åŸºç«™(base station)ï¼šexp: èœ‚çªå¡”(cell tower)ï¼Œ802.11æ— çº¿LANä¸­çš„æ¥å…¥ç‚¹(access point) 7.2 Wireless Links and Network Characteristics wire link vs wireless link è·¯å¾„æŸè€—(path loss)ï¼šä¿¡å·å¼ºåº¦é€’å‡ æ¥è‡ªå…¶ä»–æºçš„å¹²æ‰° å¤šå¾„ä¼ æ’­(multipath propagation)ï¼šç”µç£æ³¢çš„ä¸€éƒ¨åˆ†å—åå°„åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹é—´èµ°äº†ä¸åŒé•¿åº¦çš„è·¯å¾„ Signal-to-Noise Ratio(SNR) ä¿¡å™ªæ¯”(SNR)ï¼šæ‰€å—åˆ°çš„ä¿¡å·å’Œå™ªå£°å¼ºåº¦çš„ç›¸å¯¹æµ‹é‡ æ¯”ç‰¹å·®é”™ç‡(BER)ï¼šæ¥æ”¶æ–¹æ”¶åˆ°çš„æœ‰é”™ä¼ è¾“çš„æ¯”ç‰¹çš„æ¦‚ç‡ ç»™å®šè°ƒåˆ¶æ–¹æ¡ˆï¼ŒSNRè¶Šé«˜BERè¶Šä½ ç»™å®šSNRï¼Œå°±è¦è¾ƒé«˜æ¯”ç‰¹ä¼ è¾“ç‡çš„è°ƒåˆ¶æŠ€æœ¯å°†å…·æœ‰è¾ƒé«˜çš„BER ç‰©ç†å±‚è°ƒåˆ¶æŠ€æœ¯çš„åŠ¨æ€é€‰æ‹©èƒ½ç”¨äºé€‚é…å¯¹ä¿¡é“æ¡ä»¶çš„è°ƒåˆ¶æŠ€æœ¯ 7.3 WiFi: 802.11 Wireless LANs The 802.11 Architecture é€Ÿç‡é€‚åº”(Rate Adaptation)ï¼ŒåŠŸç‡ç®¡ç†(Power Management) åŸºæœ¬æ„å»ºæ¨¡å—ï¼šåŸºæœ¬æœåŠ¡é›†(Basic Service Set, BSS) BSSï¼šä¸€ä¸ª/å¤šä¸ªæ— çº¿ç«™ç‚¹ï¼Œä¸€ä¸ªæ¥å…¥ç‚¹(Access Point, AP)çš„ä¸­å¤®åŸºç«™(base station) Channels and Association exp: ä½ æºå¸¦ç§»åŠ¨è®¾å¤‡è¿›å…¥WiFiä¸›æ—ï¼Œæ‰¾æ— çº¿å› ç‰¹ç½‘æ¥å…¥ï¼Œè®¾åœ¨ä¸›æ—ä¸­æœ‰5ä¸ªAPï¼Œä¸ºè·å¾—å› ç‰¹ç½‘æ¥å…¥ä½ çš„æ— çº¿ç«™ç‚¹åº”åŠ å…¥å…¶ä¸­ä¸€ä¸ªå­ç½‘æ•…éœ€ä¸å…¶ä¸­ä¸€ä¸ªAPç›¸å…³è”(associate)ï¼Œå³å»ºç«‹ä¸€æ¡è™šæ‹Ÿçº¿è·¯ The 802.11 MAC Protocol éšæœºè®¿é—®åè®®ï¼šå¸¦ç¢°æ’é¿å…çš„CSMA(CSMA with collision avoidance)ï¼ŒCSMA/CAï¼Œç±»æ¯”ä»¥å¤ªç½‘çš„CSMA/CD å¤„ç†éšè—ç»ˆç«¯ï¼šRTS(çŸ­è¯·æ±‚å‘é€ï¼ŒReqeust to Send), CTS(å…è®¸å‘é€ï¼ŒClear to Send) The IEEE 802.11 Frame","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"ComputerNetwork","slug":"ComputerNetwork","permalink":"https://maskros.top/tags/ComputerNetwork/"}]},{"title":"Trieä¸“é¢˜è®­ç»ƒ","slug":"algorithm/exercise/trie_problem","date":"2021-11-27T04:20:00.000Z","updated":"2022-01-22T09:37:15.580Z","comments":true,"path":"/post/algorithm/exercise/trie_problem.html","link":"","permalink":"https://maskros.top/post/algorithm/exercise/trie_problem.html","excerpt":"Trie training","text":"Trie ä¸“é¢˜è®­ç»ƒ 0.0 0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 link é¢˜æ„ï¼šç»™äº†ä¸€å †å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡ä»¥æ¨¡å¼ä¸²ä½œå‰ç¼€å‡ºç°çš„å•è¯ä¸ªæ•° trieå…¥é—¨é¢˜ï¼Œå­˜ç»“ç‚¹æ—¶ç»Ÿè®¡ä¸€ä¸‹è¿‡å½“å‰ç»“ç‚¹çš„å•è¯ä¸ªæ•°å³å¯ &#x2F;&#x2F;å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘ &#x2F;&#x2F;å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸² const int maxn &#x3D; 2e6 + 5; &#x2F;&#x2F;å¦‚æœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§ int tree[maxn][30]; &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å· bool flagg[maxn]; &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯ int tot; &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•° int cnt[maxn]; void insert_(char* str) &#123; int len &#x3D; strlen(str); int root &#x3D; 0; for (int i &#x3D; 0; i &lt; len; i++) &#123; int id &#x3D; str[i] - &#39;a&#39;; if (!tree[root][id]) tree[root][id] &#x3D; ++tot; root &#x3D; tree[root][id]; cnt[root]++; &#125; flagg[root] &#x3D; true; &#125; bool find_(char* str) &#123; &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨ int len &#x3D; strlen(str); int root &#x3D; 0; int ans; for (int i &#x3D; 0; i &lt; len; i++) &#123; int id &#x3D; str[i] - &#39;a&#39;; if (!tree[root][id]) return false; root &#x3D; tree[root][id]; &#x2F;&#x2F; if(!flagg[root] &amp;&amp; i&#x3D;&#x3D;len-1) return false; &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é… &#125; ans &#x3D; cnt[root]; cout&lt;&lt;ans&lt;&lt;endl; return true; &#125; void init() &#123; &#x2F;&#x2F;æœ€åæ¸…ç©ºï¼ŒèŠ‚çœæ—¶é—´ for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123; flagg[i] &#x3D; false; for (int j &#x3D; 0; j &lt; 10; j++) tree[i][j] &#x3D; 0; &#125; memset(cnt,0,sizeof(cnt)); tot &#x3D; 0; &#x2F;&#x2F;REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜ &#125; void solve() &#123; char str[15]; init(); while(gets(str)&amp;&amp;str[0]!&#x3D;&#39;\\0&#39;)&#123; insert_(str); &#125; while(gets(str)&amp;&amp;str[0]!&#x3D;EOF)&#123; bool t &#x3D; find_(str); if(!t) cout&lt;&lt;0&lt;&lt;endl; &#125; &#125; 0x02 Remember the Word LA 3942 link é¢˜æ„ï¼š ç»™å‡ºä¸€ä¸ªç”±Sä¸ªä¸åŒå•è¯ç»„æˆçš„å­—å…¸å’Œä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼ŒæŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ†è§£æˆè‹¥å¹²ä¸ªå•è¯çš„è¿æ¥(å¯é‡å¤ä½¿ç”¨)ï¼Œæœ‰å¤šå°‘ç§æ–¹æ³•ã€‚ex: æœ‰å››ä¸ªå•è¯ï¼ša, b, cd, abï¼›åˆ™abcdæœ‰ä¸¤ç§åˆ†è§£æ–¹æ³•ï¼ša+b+cd å’Œ ab+cd æ€è·¯ï¼š dp + Trie è®¡æ•°é—®é¢˜è€ƒè™‘dpï¼š è€ƒè™‘çŠ¶æ€ï¼šdp[i] ä¸ºä»¥iå¼€å§‹çš„åç¼€çš„æ–¹æ¡ˆæ•° è€ƒè™‘è½¬ç§»ï¼šå› ä¸ºå•è¯é•¿åº¦ä¸å¤§äº100ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æš´åŠ›å‘åçœ‹å½“å‰å•è¯æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Trieæˆ–è€…å­—ç¬¦ä¸²å“ˆå¸Œå®Œæˆ ä»¤dp(i)è¡¨ç¤ºä»å­—ç¬¦iå¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œdp(i)=sum{dp(i+len(x))}, xæ˜¯s[iâ€¦L]çš„å‰ç¼€ã€‚ç„¶åæŠŠæ‰€æœ‰å¯åˆ†è§£æˆçš„å•è¯æ„é€ æˆä¸€é¢—Trieæ ‘ï¼Œå†è®©æ¯ä¸²åœ¨ä¸Šé¢è·‘ï¼Œdp[0]å³æ˜¯æ–¹æ¡ˆæ€»æ•°ã€‚ #include &lt;bits&#x2F;stdc++.h&gt; #define maxn 300005 #define mod 20071027 char P[maxn]; #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x; i &gt;&#x3D; y; i--) using namespace std; int dp[maxn]; &#x2F;&#x2F;dp[i] ä¸ºä»¥iå¼€å§‹çš„åç¼€çš„æ–¹æ¡ˆæ•° int tree[maxn][30]; &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å· bool flagg[maxn]; &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯ int tot; &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•° int m; &#x2F;&#x2F;ä¸»ä¸²é•¿åº¦ void insert_(char* str) &#123; int len &#x3D; strlen(str); int root &#x3D; 0; for (int i &#x3D; 0; i &lt; len; i++) &#123; int id &#x3D; str[i] - &#39;a&#39;; if (!tree[root][id]) tree[root][id] &#x3D; ++tot; root &#x3D; tree[root][id]; &#125; flagg[root] &#x3D; true; &#125; void find_(int id) &#123; &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨ int root &#x3D; 0; for (int i &#x3D; id; i &lt;&#x3D; m; i++) &#123; int k &#x3D; P[i] - &#39;a&#39;; if (!tree[root][k]) break; root &#x3D; tree[root][k]; if (flagg[root]) dp[id] &#x3D; (dp[id] + dp[i + 1]) % mod; &#125; &#125; void init() &#123; for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123; flagg[i] &#x3D; false; for (int j &#x3D; 0; j &lt; 30; j++) tree[i][j] &#x3D; 0; &#125; memset(dp, 0, sizeof(dp)); tot &#x3D; 0; &#125; char c[105]; int main() &#123; long long times &#x3D; 0; init(); while (scanf(&quot;%s&quot;, P)!&#x3D;EOF) &#123; times++; int S; cin &gt;&gt; S; &#x2F;&#x2F; init(); rep(i, 0, S) &#123; scanf(&quot;%s&quot;, c); insert_(c); &#125; m &#x3D; strlen(P); dp[m] &#x3D; 1; red(i, m, 0) &#123; find_(i); &#125; cout &lt;&lt; &quot;Case &quot; &lt;&lt; times &lt;&lt; &quot;: &quot; &lt;&lt; dp[0] &lt;&lt; endl; init(); &#125; &#125; 0x03 â€œstrcmp()â€ Anyone? link é¢˜æ„ï¼š è¾“å…¥nä¸ªå­—ç¬¦ä¸²ï¼Œä¸¤ä¸¤è°ƒç”¨ä¸€æ¬¡strcmp()ï¼Œé—®å­—ç¬¦æ¯”è¾ƒçš„æ€»æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿex: strcmp(â€œthanâ€, &quot;that&quot;)ï¼šcnt = 7 é¢˜è§£ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒæ¬¡æ•°å…¶å®æ˜¯ ç›¸åŒå­—ç¬¦æ•°*2 + (å­˜åœ¨ä¸åŒå­—ç¬¦? 1 : 0)ï¼›ç„¶åå»ºå­—å…¸æ ‘ï¼Œdfsä¸€ä¸‹å³å¯ã€‚å› ä¸ºèŠ‚ç‚¹çš„ä¸ªæ•°æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ç”¨å·¦å­©å­å³å…„å¼Ÿçš„æ–¹æ³•å»ºç«‹å­—å…¸æ ‘ã€‚ #include&lt;bits&#x2F;stdc++.h&gt; using namespace std; const int maxnode &#x3D; 4000 * 1000 + 10; const int sigma_size &#x3D; 26; &#x2F;&#x2F; å­—æ¯è¡¨ä¸ºå…¨ä½“å°å†™å­—æ¯çš„Trie struct Trie &#123; int head[maxnode]; &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å· int next[maxnode]; &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å· char ch[maxnode]; &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦ int tot[maxnode]; &#x2F;&#x2F; tot[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘åŒ…å«çš„å¶ç»“ç‚¹æ€»æ•° int sz; &#x2F;&#x2F; ç»“ç‚¹æ€»æ•° long long ans; &#x2F;&#x2F; ç­”æ¡ˆ void clear() &#123; sz &#x3D; 1; tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0; &#125; &#x2F;&#x2F; åˆå§‹æ—¶åªæœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²sï¼ˆåŒ…æ‹¬æœ€åçš„&#39;\\0&#39;ï¼‰ï¼Œæ²¿é€”æ›´æ–°tot void insert(const char* s) &#123; int u &#x3D; 0, v, n &#x3D; strlen(s); tot[0]++; for (int i &#x3D; 0; i &lt;&#x3D; n; i++) &#123; &#x2F;&#x2F; æ‰¾å­—ç¬¦a[i] bool found &#x3D; false; for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v]) if (ch[v] &#x3D;&#x3D; s[i]) &#123; &#x2F;&#x2F; æ‰¾åˆ°äº† found &#x3D; true; break; &#125; if (!found) &#123; v &#x3D; sz++; &#x2F;&#x2F; æ–°å»ºç»“ç‚¹ tot[v] &#x3D; 0; ch[v] &#x3D; s[i]; next[v] &#x3D; head[u]; head[u] &#x3D; v; &#x2F;&#x2F; æ’å…¥åˆ°é“¾è¡¨çš„é¦–éƒ¨ head[v] &#x3D; 0; &#125; u &#x3D; v; tot[u]++; &#125; &#125; &#x2F;&#x2F; ç»Ÿè®¡LCP&#x3D;uçš„æ‰€æœ‰å•è¯ä¸¤ä¸¤çš„æ¯”è¾ƒæ¬¡æ•°ä¹‹å’Œ void dfs(int depth, int u) &#123; if (head[u] &#x3D;&#x3D; 0) &#x2F;&#x2F; å¶ç»“ç‚¹ ans +&#x3D; tot[u] * (tot[u] - 1) * depth; else &#123; int sum &#x3D; 0; for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v]) sum +&#x3D; tot[v] * (tot[u] - tot[v]); &#x2F;&#x2F; å­æ ‘vä¸­é€‰ä¸€ä¸ªä¸²ï¼Œå…¶ä»–å­æ ‘ä¸­å†é€‰ä¸€ä¸ª ans +&#x3D; sum &#x2F; 2 * (2 * depth + 1); &#x2F;&#x2F; é™¤ä»¥2æ˜¯æ¯ç§é€‰æ³•ç»Ÿè®¡äº†ä¸¤æ¬¡ for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v]) dfs(depth + 1, v); &#125; &#125; &#x2F;&#x2F; ç»Ÿè®¡ long long count() &#123; ans &#x3D; 0; dfs(0, 0); return ans; &#125; &#125;; const int maxl &#x3D; 1000 + 10; &#x2F;&#x2F; æ¯ä¸ªå•è¯æœ€å¤§é•¿åº¦ int n; char word[maxl]; Trie trie; int main() &#123; int kase &#x3D; 1; while (scanf(&quot;%d&quot;, &amp;n) &#x3D;&#x3D; 1 &amp;&amp; n) &#123; trie.clear(); for (int i &#x3D; 0; i &lt; n; i++) &#123; scanf(&quot;%s&quot;, word); trie.insert(word); &#125; printf(&quot;Case %d: %lld\\n&quot;, kase++, trie.count()); &#125; return 0; &#125;","categories":[{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","permalink":"https://maskros.top/categories/ALGORITHM-TRAINING/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"Trie","slug":"Trie","permalink":"https://maskros.top/tags/Trie/"},{"name":"dfs","slug":"dfs","permalink":"https://maskros.top/tags/dfs/"}]},{"title":"Trie","slug":"algorithm/learn/trie","date":"2021-11-27T03:55:50.000Z","updated":"2022-07-13T09:04:47.137Z","comments":true,"path":"/post/algorithm/learn/trie.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/trie.html","excerpt":"Trie å­—å…¸æ ‘/å‰ç¼€æ ‘ ä»€ä¹ˆæ˜¯Trie ä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿æ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸² å¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š","text":"Trie å­—å…¸æ ‘/å‰ç¼€æ ‘ ä»€ä¹ˆæ˜¯Trie ä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿æ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸² å¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š æ“ä½œ æ’å…¥å­—ç¬¦ä¸² insert åˆå§‹åŒ– root = 0 , éå†å­—ç¬¦ä¸², å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦, è®¡ç®—å…¶æ˜ å°„å€¼ id æ£€æŸ¥Trie[root][id] == 0 æ˜¯å¦æˆç«‹ï¼š è‹¥æˆç«‹, åˆ™è¿›è¡Œæ’å…¥, Trie[root][id] = ++cnt è‹¥ä¸æˆç«‹,è¯´æ˜è¯¥ä½ç½®å·²ç»æœ‰è¯¥å­—ç¬¦,ç›´æ¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦åº”æ’å…¥çš„ä½ç½®: root = trie[root][id]. é‡å¤ä¸Šè¿°æ­¥éª¤,ç›´åˆ°å­—ç¬¦ä¸²å®Œå…¨æ’å…¥Trieæ ‘. åŒ¹é…å­—ç¬¦ä¸² search åˆå§‹åŒ–root = 0,éå†å­—ç¬¦ä¸²,å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦,è®¡ç®—å…¶æ˜ å°„å€¼id æ£€æŸ¥Trie[root][id] == 0æ˜¯å¦æˆç«‹ï¼š è‹¥æˆç«‹, åˆ™è¯´æ˜Trieæ ‘å½“å‰è·¯å¾„ä¸å­˜åœ¨è¯¥å­—ç¬¦,è¿”å›åŒ¹é…å¤±è´¥ è‹¥ä¸æˆç«‹,åˆ™è¯´æ˜å½“å‰è·¯å¾„å­˜åœ¨è¯¥å­—ç¬¦,æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®: root = trie[root][id] é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè‹¥é¡ºåˆ©åŒ¹é…å®Œæ•´ä¸ªå­—ç¬¦ä¸²,åˆ™åº”è¯¥æ£€æŸ¥å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®åœ¨Trieæ ‘ä¸­æ˜¯å¦æ˜¯ç»“æŸæ ‡å¿—ï¼Œflag[root] == trueæˆç«‹,è¡¨æ˜æ˜¯ç»“æŸæ ‡å¿—,åˆ™è¿”å›åŒ¹é…æˆåŠŸ,å¦åˆ™è¿”å›åŒ¹é…å¤±è´¥ æ¨¡æ¿ é™„ï¼šå­—ç¬¦æ•°ç»„æ“ä½œ char s1[maxn], s2[maxn]; strcpy(s1, s2); &#x2F;&#x2F;å¤åˆ¶å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1ã€‚ strcat(s1, s2); &#x2F;&#x2F;è¿æ¥å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1 çš„æœ«å°¾ã€‚ strlen(s1); &#x2F;&#x2F;è¿”å›å­—ç¬¦ä¸² s1 çš„é•¿åº¦ã€‚ strcmp(s1, s2); &#x2F;&#x2F;å¦‚æœ s1 å’Œ s2 æ˜¯ç›¸åŒçš„ï¼Œåˆ™è¿”å› 0ï¼›å¦‚æœ s1&lt;s2 åˆ™è¿”å›å€¼å°äº 0ï¼›å¦‚æœ s1&gt;s2 åˆ™è¿”å›å€¼å¤§äº 0ã€‚ strchr(s1, ch); &#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ ch çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ strstr(s1, s2); &#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ä¸² s2 çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ æ¨¡æ‹Ÿ å¯¹ç»“æ„ä½“Trieè¿›è¡Œæ’å…¥å’ŒæŸ¥è¯¢æ“ä½œ val[i] &gt; 0 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå•è¯ç»“ç‚¹ #define maxn 41000 #define sigmasize 26 &#x2F;&#x2F; å­—ç¬¦é›†çš„å¤§å° ex: å…¨ä½“å°å†™å­—æ¯ï¼š26 struct Trie&#123; int ch[maxn][sigmasize]; int val[maxn]; &#x2F;&#x2F; ç»“ç‚¹iå¯¹åº”çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªå­—ç¬¦ä¸²çš„æƒå€¼, å¦‚val[i]&gt;0 å½“ä¸”ä»…å½“ç»“ç‚¹iæ˜¯å•è¯ç»“ç‚¹ int sz; &#x2F;&#x2F; ç»“ç‚¹æ€»æ•° Trie() &#123; sz &#x3D; 1; memset(ch[0], 0, sizeof(ch[0]));&#125; &#x2F;&#x2F;åˆå§‹åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ int idx(char c) &#123; return c - &#39;a&#39;; &#125; &#x2F;&#x2F;å­—ç¬¦cçš„ç¼–å· &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²s, é™„åŠ ä¿¡æ¯ä¸ºvã€‚vå¿…é¡»é0, 0 ä»£è¡¨â€œæœ¬ç»“ç‚¹ä¸æ˜¯å•è¯ç»“ç‚¹â€ inline void insert(char *s, int v) &#123; int u &#x3D; 0, n &#x3D; strlen(s); for (int i &#x3D; 0; i &lt; n; i++) &#123; int c &#x3D; idx(s[i]); if (!ch[u][c]) &#123; &#x2F;&#x2F;ç»“ç‚¹ä¸å­˜åœ¨ memset(ch[sz], 0, sizeof(ch[sz])); val[sz] &#x3D; 0; &#x2F;&#x2F;ä¸­é—´èŠ‚ç‚¹çš„é™„åŠ ä¿¡æ¯ä¸º0 ch[u][c] &#x3D; sz++; &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹ &#125; u &#x3D; ch[u][c]; &#x2F;&#x2F;å¾€ä¸‹èµ° &#125; val[u] &#x3D; v; &#x2F;&#x2F;å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„é™„åŠ ä¿¡æ¯ä¸ºv &#125; &#x2F;&#x2F; æŸ¥æ‰¾å­—ç¬¦ä¸²s inline bool search(char *s) &#123; int u &#x3D; 0, n &#x3D; strlen(s); for (int i &#x3D; 0; i &lt; n; i++) &#123; int c &#x3D; idx(s[i]); if (ch[u][c] &#x3D;&#x3D; 0) return false; u &#x3D; ch[u][c]; &#125; if (val[u] &#x3D;&#x3D; 0) return false; return true; &#125; &#125;trie; ç‰ˆæœ¬2 å¯ä»¥ç”¨ find(str) åˆ¤æ–­å­—å…¸æ ‘ä¸­æ˜¯å¦æœ‰ä»¥ str ä½œå‰ç¼€çš„å•è¯ //å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘ //å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸² const int maxn = 2e6 + 5; //å¦‚æœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§ int tree[maxn][30]; //tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å· bool flagg[maxn]; //è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯ int tot; //æ€»èŠ‚ç‚¹æ•° void insert_(char* str) &#123; int len = strlen(str); int root = 0; for (int i = 0; i &lt; len; i++) &#123; int id = str[i] - 'a'; if (!tree[root][id]) tree[root][id] = ++tot; root = tree[root][id]; &#125; flagg[root] = true; &#125; bool find_(char* str)&#123; //æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨ int len = strlen(str); int root = 0; for (int i = 0; i &lt; len; i++) &#123; int id = str[i] - 'a'; if (!tree[root][id]) return false; root = tree[root][id]; if(!flagg[root] &amp;&amp; i==len-1) return false; //åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é… &#125; return true; &#125; void init()&#123; for (int i = 0; i &lt;= tot; i++) &#123; flagg[i] = false; for (int j = 0; j &lt; 30; j++) tree[i][j] = 0; &#125; tot = 0; //REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜ &#125; ä¼˜åŒ–trieæ ‘ å½“ç»“ç‚¹æ¯”è¾ƒå¤šï¼Œsigma_sizeæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œé‡‡ç”¨å·¦å„¿å­-å³å…„å¼Ÿå»ºç«‹trie struct Trie &#123; int head[maxn]; &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å· int next[maxn]; &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å· char ch[maxn]; &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦ int sz; &#x2F;&#x2F; ç»“ç‚¹æ€»æ•° void clear() &#123; sz &#x3D; 1; tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0; &#125; void insert(const char* s) &#123; int u &#x3D; 0, v, n &#x3D; strlen(s); tot[0]++; for (int i &#x3D; 0; i &lt; n; i++) &#123; bool found &#x3D; false; for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v]) if (ch[v] &#x3D;&#x3D; s[i]) &#123; found &#x3D; true; break; &#125; if (!found) &#123; v &#x3D; sz++; tot[v] &#x3D; 0; ch[v] &#x3D; s[i]; next[v] &#x3D; head[u]; head[u] &#x3D; v; head[v] &#x3D; 0; &#125; u &#x3D; v; tot[u]++; &#125; &#125; &#125;; é¢˜å• solution 0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 link 0x02 èƒŒå•è¯ LA 3942 link 0x03 strcmp()å‡½æ•° UVa 11732 link å‡å¦‚å†æ¥ä¸€éé“¶å·","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"Trie","slug":"Trie","permalink":"https://maskros.top/tags/Trie/"}]},{"title":"kmpä¸“é¢˜è®­ç»ƒ","slug":"algorithm/exercise/kmp_problem","date":"2021-11-26T13:59:50.000Z","updated":"2021-11-27T04:15:38.843Z","comments":true,"path":"/post/algorithm/exercise/kmp_problem.html","link":"","permalink":"https://maskros.top/post/algorithm/exercise/kmp_problem.html","excerpt":"kmp training","text":"kmp/ekmp ä¸“é¢˜è®­ç»ƒ ğŸ´ç³™äººè ¢å‡‘åˆçœ‹ 0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087 link çº¯çº¯kmpè£¸é¢˜ï¼Œä¸å¯é‡å è®¡æ•° #include&lt;bits&#x2F;stdc++.h&gt; using namespace std; void kmp_pre(string p, int next[]) &#123; int i, j; j &#x3D; next[0] &#x3D; -1; i &#x3D; 0; while (i &lt; p.length()) &#123; while (-1 !&#x3D; j &amp;&amp; p[i] !&#x3D; p[j]) j &#x3D; next[j]; next[++i] &#x3D; ++j; &#125; &#125; int kmp_Count(string x, string y, int next[]) &#123; int i, j; int ans &#x3D; 0; kmp_pre(x, next); i &#x3D; j &#x3D; 0; while (i &lt; y.length()) &#123; while (-1 !&#x3D; j &amp;&amp; y[i] !&#x3D; x[j]) j &#x3D; next[j]; i++; j++; if (j &gt;&#x3D; x.length()) &#123; ans++; j &#x3D; 0; &#x2F;&#x2F;ä¸å¯é‡å è®¡æ•° &#125; &#125; return ans; &#125; int main()&#123; string a,b; int nxt[1005]; while(1)&#123; cin&gt;&gt;a; if(a&#x3D;&#x3D;&quot;#&quot;) break; else&#123; cin&gt;&gt;b; memset(nxt,0,b.length()+1); int ans&#x3D;kmp_Count(b,a,nxt); cout&lt;&lt;ans&lt;&lt;endl; &#125; &#125; &#125; 0x02 Secret HDU-6153 link é¢˜æ„ï¼š ç»™ä¸¤ä¸ªä¸²s1,s2ï¼Œæ±‚s2æ‰€æœ‰çš„åç¼€å­ä¸²çš„é•¿åº¦ä¹˜åœ¨ä¸»ä¸²s1ä¸­å‡ºç°çš„æ¬¡æ•°ä¹‹å’Œ è§£æ³•ï¼š æŒ¨ä¸ªæšä¸¾åç¼€æ˜¯ğŸ·båšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²ç¿»è½¬ï¼Œè¿™æ ·åç¼€å˜å‰ç¼€ï¼Œå°±æ¥åˆ°äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„kmpåŒ¹é…ç¯èŠ‚ è§£æ³•ä¸€ï¼šexkmp ç¿»è½¬åå‘ç°è¿™ä¸å°±æ­£å¥½åˆ©ç”¨extend[]æ•°ç»„çš„å®šä¹‰ç›´æ¥æ±‚è§£ï¼Œåšä¸€éekmpï¼Œéå†extend[]æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå€¼åš (1+entend[i])*entend[i]&gt;&gt;1 å¤„ç†ï¼Œå…¨éƒ¨åŠ å’Œå³ä¸ºç­”æ¡ˆ è§£æ³•äºŒï¼škmp åˆ©ç”¨å¯¹next[]æ•°ç»„çš„ç†è§£ï¼Œæš‚æ—¶é¸½äº†ï¼Œå› ä¸ºæƒ³äº†å¾ˆä¹…æ²¡æƒ³æ˜ç™½ è§£æ³•ä¸€ï¼š ekmp çŒ›waä¹‹åç»™äº†æˆ‘æ·±åˆ»çš„æ•™è®­ï¼šæ•°ç»„å¼€ longlongğŸ˜…ğŸ˜… #include &lt;bits&#x2F;stdc++.h&gt; using namespace std; const int mod &#x3D; 1000000007; #define ll long long #define maxn 1000005 #define rep(i,x,y) for(int i&#x3D;x;i&lt;y;i++) ll nxt[maxn], extend[maxn]; void ekmp_pre(string x, ll next[]) &#123; int m &#x3D; x.length(); next[0] &#x3D; m; int j &#x3D; 0; while (j + 1 &lt; m &amp;&amp; x[j] &#x3D;&#x3D; x[j + 1]) j++; next[1] &#x3D; j; int k &#x3D; 1; for (int i &#x3D; 2; i &lt; m; i++) &#123; int p &#x3D; next[k] + k - 1; int L &#x3D; next[i - k]; if (i + L &lt; p + 1) next[i] &#x3D; L; else &#123; j &#x3D; max(0, p - i + 1); while (i + j &lt; m &amp;&amp; x[i + j] &#x3D;&#x3D; x[j]) j++; next[i] &#x3D; j; k &#x3D; i; &#125; &#125; &#125; ll ekmp(string x, string y, ll next[], ll extend[]) &#123; ekmp_pre(x, next); int j &#x3D; 0; ll ret &#x3D; 0; int m &#x3D; x.length(), n &#x3D; y.length(); while (j &lt; n &amp;&amp; j &lt; m &amp;&amp; x[j] &#x3D;&#x3D; y[j]) j++; extend[0] &#x3D; j; int k &#x3D; 0; for (int i &#x3D; 1; i &lt; n; i++) &#123; int p &#x3D; extend[k] + k - 1; int L &#x3D; next[i - k]; if (i + L &lt; p + 1) extend[i] &#x3D; L; else &#123; j &#x3D; max(0, p - i + 1); while (i + j &lt; n &amp;&amp; j &lt; m &amp;&amp; y[i + j] &#x3D;&#x3D; x[j]) j++; extend[i] &#x3D; j; k &#x3D; i; &#125; &#125; rep(i, 0, n) &#123; ret &#x3D; (ret % mod + (((1 + extend[i])* extend[i])&gt;&gt;1) % mod) % mod; &#125; return ret; &#125; int main() &#123; int t; ios::sync_with_stdio(false); cin &gt;&gt; t; while (t--) &#123; string s, p; cin &gt;&gt; s &gt;&gt; p; reverse(s.begin(), s.end()); reverse(p.begin(), p.end()); memset(nxt, 0, p.length() + 1); memset(extend, 0, s.length() + 1); ll ans; ans&#x3D;ekmp(p, s, nxt, extend); cout&lt;&lt;ans&lt;&lt;endl; &#125; &#125; è§£æ³•äºŒï¼škmp &#x2F;&#x2F; å¯„ 0x03 Cow Patterns POJ-3167 link ç‰›é¢˜ é¢˜æ„ï¼š æ¨¡å¼ä¸²å¯ä»¥æµ®åŠ¨çš„æ¨¡å¼åŒ¹é…é—®é¢˜ ç»™å‡ºæ¨¡å¼ä¸²çš„ç›¸å¯¹å¤§å°é¡ºåºï¼Œéœ€è¦æ‰¾å‡ºåœ¨ä¸»ä¸²ä¸­æ¨¡å¼ä¸²çš„åŒ¹é…æ¬¡æ•°å’Œèµ·å§‹ä½ç½® æ ·ä¾‹ï¼š S: 5 6 2 10 10 7 3 2 9 P: 1 4 4 3 2 1 æ•… 2 10 10 7 3 2 ç¬¦åˆè¦æ±‚ï¼Œè¾“å‡ºä¸º 1 3 è§£æ³•ï¼š KMP+å‰ç¼€å’Œ ç»Ÿè®¡æ¯”å½“å‰æ•°å°ï¼Œå’Œäºå½“å‰æ•°ç›¸ç­‰çš„ï¼Œç„¶åè¿›è¡Œkmp &#x2F;&#x2F;POJ 3167 #include &lt;cstdio&gt; #include &lt;cstring&gt; #include &lt;vector&gt; using namespace std; const int MAXN &#x3D; 100005; const int MAXM &#x3D; 25005; int a[MAXN]; &#x2F;&#x2F; å­˜æ”¾ä¸»ä¸² int b[MAXM]; &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸² int as[MAXN][30]; &#x2F;&#x2F; as[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j int bs[MAXM][30]; &#x2F;&#x2F; bs[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j int next[MAXM]; &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸²å¤±é…æ—¶çš„ç§»åŠ¨ä½æ•° vector&lt;int&gt; ans; &#x2F;&#x2F; å­˜æ”¾ç»“æœ int n, m, s; void Init() &#123; ans.clear(); memset(as, 0, sizeof(as)); memset(bs, 0, sizeof(bs)); as[1][a[1]] &#x3D; 1; bs[1][b[1]] &#x3D; 1; for (int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123; memcpy(as[i], as[i - 1], sizeof(as[0])); ++as[i][a[i]]; &#125; for (int i &#x3D; 2; i &lt;&#x3D; m; ++i) &#123; memcpy(bs[i], bs[i - 1], sizeof(bs[0])); ++bs[i][b[i]]; &#125; &#125; void GetNext() &#123; memset(next, 0, sizeof(next)); int i &#x3D; 1, j &#x3D; 0, k &#x3D; 0; next[1] &#x3D; 0; while (i &lt;&#x3D; m) &#123; int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0; for (k &#x3D; 1; k &lt; b[i]; ++k) si +&#x3D; bs[i][k] - bs[i - j][k]; ei &#x3D; bs[i][k] - bs[i - j][k]; for (k &#x3D; 1; k &lt; b[j]; ++k) sj +&#x3D; bs[j][k]; ej &#x3D; bs[j][k]; if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej)) next[++i] &#x3D; ++j; else j &#x3D; next[j]; &#125; &#125; void Kmp() &#123; int i &#x3D; 1, j &#x3D; 1, k &#x3D; 1; while (i &lt;&#x3D; n) &#123; int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0; for (k &#x3D; 1; k &lt; a[i]; ++k) si +&#x3D; as[i][k] - as[i - j][k]; ei &#x3D; as[i][k] - as[i - j][k]; for (k &#x3D; 1; k &lt; b[j]; ++k) sj +&#x3D; bs[j][k]; ej &#x3D; bs[j][k]; if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej)) ++i, ++j; else j &#x3D; next[j]; if (j &#x3D;&#x3D; m + 1) &#123; ans.push_back(i - m); j &#x3D; next[j]; &#125; &#125; &#125; int main() &#123; while (scanf(&quot;%d %d %d&quot;, &amp;n, &amp;m, &amp;s) &#x3D;&#x3D; 3) &#123; for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, &amp;a[i]); for (int i &#x3D; 1; i &lt;&#x3D; m; ++i) scanf(&quot;%d&quot;, &amp;b[i]); Init(); GetNext(); Kmp(); size_t len &#x3D; ans.size(); printf(&quot;%d\\n&quot;, len); for (size_t i &#x3D; 0; i &lt; len; ++i) printf(&quot;%d\\n&quot;, ans[i]); &#125; return 0; &#125;","categories":[{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","permalink":"https://maskros.top/categories/ALGORITHM-TRAINING/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"kmp","slug":"kmp","permalink":"https://maskros.top/tags/kmp/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"https://maskros.top/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"}]},{"title":"2021CCPCå¹¿å·ç«™vp","slug":"xcpc/2021ccpc_guangzhou","date":"2021-11-24T16:42:00.000Z","updated":"2022-01-25T07:51:49.608Z","comments":true,"path":"/post/xcpc/2021ccpc_guangzhou.html","link":"","permalink":"https://maskros.top/post/xcpc/2021ccpc_guangzhou.html","excerpt":"2021CCPCæ¡‚æ—ç«™vp","text":"2021CCPCå¹¿å·ç«™vp â€œå¦‚ä½•è§£æ–¹ç¨‹â€ C_Necklace äºŒåˆ†+è´ªå¿ƒ è¯»é¢˜æ¯”è¾ƒå…³é”® æ²¡æ”¹æ˜ç™½wa3 #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n')#include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (ll i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x - 1; i >= y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 1000005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; ll M,N; ll pos[maxn]; bool check(ll x)&#123; ll last=0,tmp,end; end=N-pos[M-1]+pos[0]; rep(i,0,M)&#123; if(i==0)&#123; if(end&lt;=x) &#123;last=end; end=0; continue;&#125; else&#123; end-=x; last=x; continue;&#125; &#125;eif(i==M-1) tmp=end+pos[i]-pos[i-1]; else tmp=pos[i]-pos[i-1]; ll can=pos[i]-pos[i-1]-1; can=(can>0)?can:0; ll sub=(x-last>can)?can:(x-last); if(tmp>=sub) tmp-=sub; else tmp=0; if(tmp&lt;=x) last=tmp; else return 0; &#125; return 1; &#125; void solve() &#123; // N=read(); M=read(); cin>>N>>M; ll ans=1,tmp,last=1; rep(i,0,M)&#123; cin>>pos[i]; &#125; if(M==1) &#123;cout&lt;&lt;N; return;&#125; ll l=1,r=N; while(l&lt;=r)&#123; ll mid=(l+r)>>1; if(check(mid))&#123; ans=mid; r=mid-1; &#125;else&#123; l=mid+1; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125; int main() &#123; int T = 1; IOS; // cin >> T; while (T--) &#123; solve(); &#125; &#125; H_Three Intergers (æ•°å­¦) é¢˜æ„ï¼šç»™a,b,cï¼Œæ±‚æ»¡è¶³x%y=a, y%z=b, z%x=c çš„ä»»æ„ä¸€ç»„x,y,z æ€è·¯ï¼šæ•°å­¦é¢˜ï¼Œæ–¹ç¨‹åŒ–ç®€ï¼Œæ ¹æ®æ¡ä»¶ç›´æ¥é€ ï¼Œèµ·åˆå¿˜è®°äº†æ¨¡çš„æ€§è´¨å¯¼è‡´è§£ä¸å‡ºæ–¹ç¨‹ï¼Œçœ‹äº†é¢˜è§£æç„¶å¤§æ‚Ÿ é¢˜è§£ #include &lt;bits/stdc++.h> using namespace std; typedef long long ll; int main() &#123; ios::sync_with_stdio(false); int T; cin >> T; while (T--) &#123; int a, b, c; cin >> a >> b >> c; if (a == b &amp;&amp; b == c) &#123; if (!a) &#123; cout &lt;&lt; \"YES\\n\"; cout &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \"\\n\"; &#125; else cout &lt;&lt; \"NO\\n\"; continue; &#125; ll x, y, z, k; if (b > a) &#123; k = max(0, (c - a) / b) + 1; x = k * b + a; y = b; z = (k * b + a) * 2 + c; &#125; else if (a > c) &#123; k = max(0, (b - c) / a) + 1; x = a; y = (k * a + c) * 2 + b; z = k * a + c; &#125; else if (c > b) &#123; k = max(0, (a - b) / c) + 1; x = (k * c + b) * 2 + a; y = k * c + b; z = c; &#125; else assert(false); cout &lt;&lt; \"YES\\n\"; cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; \" \" &lt;&lt; z &lt;&lt; \"\\n\"; assert(x % y == a &amp;&amp; y % z == b &amp;&amp; z % x == c); assert(x &lt;= 1e18); assert(y &lt;= 1e18); assert(z &lt;= 1e18); &#125; return 0; &#125; I_Pudding Store ï¼ˆæ‰“è¡¨ï¼‰ æ‰‹ç®—äº†ä¸€ä¸‹å¤ªéº»çƒ¦ï¼Œå…¨æ’åˆ—æ‰“è¡¨æ‰¾è§„å¾‹å³å¯ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x - 1; i >= y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> #define mod 998244353 using namespace std; // 1 2 6 12 24 48 96 192 384 768 // int a[50]; // void init(int n)&#123; // rep(i,1,n+1) a[i]=i; // &#125; // void dfs()&#123; // rep(i,1,11)&#123; // ll cnt=0; // init(i); // bool t=true; // while(t)&#123; // bool can=false; // rep(j,1,i+1)&#123; // ll fuck=0; // rep(k,1,j+1)&#123; // fuck+=a[k]; // &#125; // fuck*=2; // if(fuck%j==0) can=true; // else &#123;can=false; break;&#125; // &#125; // if(can) cnt++; // t=next_permutation(a+1,a+i+1); // &#125; // cout&lt;&lt;cnt&lt;&lt;\" \"; // &#125; // &#125; ll qpow(ll a, ll b)&#123; ll ans=1; ll res=a; res%=mod; while(b)&#123;if(b&amp;1) ans=ans*res%mod; b>>=1; res=res*res%mod;&#125; return ans%mod; &#125; void solve() &#123; int n; cin>>n; if(n==1) cout&lt;&lt;1&lt;&lt;endl; eif(n==2) cout&lt;&lt;2&lt;&lt;endl; eif(n==3) cout&lt;&lt;6&lt;&lt;endl; else&#123; ll tmp=6; ll add=qpow(2,n-3); tmp=add%mod*tmp%mod; cout&lt;&lt;tmp&lt;&lt;endl; &#125; &#125; int main() &#123; int T = 1; IOS; // dfs(); cin >> T; while (T--) &#123; solve(); &#125; &#125; æ€»ç»“ï¼šä»€ä¹ˆæ—¶å€™æ‰èƒ½ä¸ç²—å¿ƒ","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"CCPC","slug":"CCPC","permalink":"https://maskros.top/tags/CCPC/"},{"name":"æ‰“è¡¨","slug":"æ‰“è¡¨","permalink":"https://maskros.top/tags/%E6%89%93%E8%A1%A8/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://maskros.top/tags/%E8%B4%AA%E5%BF%83/"}]},{"title":"2021CCPCæ¡‚æ—ç«™vp","slug":"xcpc/2021ccpc_guilin","date":"2021-11-23T16:03:00.000Z","updated":"2022-01-25T07:52:52.927Z","comments":true,"path":"/post/xcpc/2021ccpc_guilin.html","link":"","permalink":"https://maskros.top/post/xcpc/2021ccpc_guilin.html","excerpt":"2021CCPCæ¡‚æ—ç«™vp","text":"2021CCPCæ¡‚æ—ç«™vp â€ç¥­å¥ æ“¦è‚©è€Œè¿‡çš„æ¡‚æ—ä¸¤æ—¥æ¸¸â€œ A_Hero Named Magnus æ°´é¢˜ã€‚ä¸ºä»€ä¹ˆä¸bançŒ›çŠ¸ï¼Ÿè¾“å‡º2n-1 #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; ll x; cin>>x; ll ans; ans=x*2-1; cout&lt;&lt;ans&lt;&lt;endl; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; D_Assumption is All You Need æ„é€ é¢˜ é¢˜æ„ï¼šç»™ä½ ä¸¤ä¸ªåºåˆ—Aï¼ŒBï¼Œå¯¹Aå¯æ‰§è¡Œæ“ä½œï¼šè‹¥ i&lt;j ä¸” Ai&gt;Ajï¼Œå¯å°†Aiä¸Ajäº¤æ¢ï¼Œé—®èƒ½å¦é€šè¿‡åˆæ³•çš„æ“ä½œå°†Aå˜æˆBï¼Œå¹¶æ‰“å°æ“ä½œåºåˆ— æ€è·¯ï¼šä»å±è‚¡å¾€å‰æ‰«ä¸€éï¼Œå¦‚æœAiå’ŒBiä¸ä¸€æ ·ï¼Œå°±ä»A[Bi_pos]å¾€å‰æ‰«ï¼Œå¯»æ±‚æœ€ä¼˜è§£ï¼ŒçJBè´ªå¿ƒï¼Œwa2å¾…è¡¥ E_Buy and Delete (å›¾è®º) é¢˜æ„ï¼šç»™äº†ä½ ä¸€äº›å¸¦æƒæœ‰å‘è¾¹ï¼ŒAliceå¯ä»¥ç”¨å·²æœ‰çš„cå…ƒé’±è´­ä¹°ä¸€äº›è¾¹å½¢æˆä¸€å¼ æœ‰å‘å›¾ï¼›éšåBobè¿›è¡Œåˆ è¾¹ï¼Œæ¯æ¬¡å¯ä»¥åˆ é™¤ä¸€ä¸ªæ— ç¯çš„å­é›†ï¼ŒAliceæƒ³æœ€å¤§åŒ–åˆ è¾¹æ¬¡æ•°ï¼ŒBobæƒ³æœ€å°åŒ–ï¼ŒäºŒè€…éƒ½é‡‡å–æœ€ä¼˜æ“ä½œï¼Œé—®Bobéœ€è¦åˆ é™¤å‡ æ¬¡ æ€è·¯ï¼šç­”æ¡ˆåªå¯èƒ½æ˜¯0,1,2ï¼Œ0çš„æƒ…å†µæ˜¯Aliceä¸€æ¡è¾¹éƒ½ä¹°ä¸èµ·ï¼Œ1çš„æƒ…å†µæ˜¯Aliceä¹°çš„æ— ç¯å›¾ï¼Œ2çš„æƒ…å†µæ˜¯Aliceä¹°çš„å¸¦ç¯å›¾ï¼Œæ— è®ºæœ‰å‡ ä¸ªç¯ï¼ŒBobéƒ½åªéœ€è¦åˆ ä¸¤æ¬¡å°±å¤Ÿäº†ï¼Œè¿™ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚ è§£æ³•ï¼šç›´æ¥æŠŠæ‰€æœ‰è¾¹å­˜åˆ°ä¸€ä¸ªæœ‰å‘å›¾é‡Œï¼ŒåšDijkstraæ‰¾ä»v-&gt;v çš„æœ€çŸ­è·¯ï¼Œåˆ¤æ–­ä¹°ä¸ä¹°å¾—èµ·å°±å¯ä»¥äº† ps: å¼€å§‹çŠ¯ç—…ç”¨ n2 çš„Dijç»“æœTäº†ï¼Œæ¢äº† nlogn çš„å †ä¼˜åŒ–Dijå°±ä¸Täº†ï¼›ç„¶åè¿˜åœ¨æƒ³æ”¹é€ ä¸€ä¸‹Dijè®©èµ·ç‚¹ä¸º i çš„distæ•°ç»„å¯ä»¥å­˜ dist[i]ï¼Œç»“æœæƒ³äº†æƒ³ç›´æ¥Dijå®Œäº†ä¹‹ådist[j] + mincost[j][i] ä¸å°±æ˜¯ç¯çš„é•¿åº¦å—ï¼Œwssb #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 1000000001 #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x - 1; i >= y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 2005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; int n, m, c; struct qnode&#123; int v,c; qnode(int _v=0,int _c=0):v(_v),c(_c)&#123;&#125; bool operator &lt;(const qnode &amp;r)const&#123; return c>r.c; &#125; &#125;; struct Edge&#123; int v,cost; Edge(int _v=0,int _cost=0):v(_v),cost(_cost)&#123;&#125; &#125;; vector&lt;Edge>E[maxn]; bool vis[maxn]; int dist[maxn]; int mincost[maxn][maxn]; void Dijkstra(int start)&#123; memset(vis,false,sizeof(vis)); for(int i=1;i&lt;=n;i++)dist[i]=INF; priority_queue&lt;qnode>que; while(!que.empty()) que.pop(); dist[start]=0; que.push(qnode(start,0)); qnode tmp; while(!que.empty())&#123; tmp=que.top(); que.pop(); int u=tmp.v; if(vis[u])continue; vis[u]=true; for(int i=0;i&lt;E[u].size();i++)&#123; int v=E[tmp.v][i].v; int cost=E[u][i].cost; if(!vis[v]&amp;&amp;dist[v]>dist[u]+cost)&#123; dist[v]=dist[u]+cost; que.push(qnode(v,dist[v])); &#125; &#125; &#125; &#125; void addedge(int u,int v,int w)&#123; E[u].push_back(Edge(v,w)); &#125; int main() &#123; scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;c); int mncost=INF; int u, v, p; rep(i,1,n+1) rep(j,1,n+1) mincost[i][j]=INF; rep(i,0,m)&#123; scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;p); addedge(u,v,p); mincost[u][v]=min(mincost[u][v],p); mncost=min(mncost,p); &#125; if(mncost>c)&#123; cout&lt;&lt;0; return 0; &#125; eif(mncost==c)&#123; cout&lt;&lt;1; return 0;&#125; rep(i,1,n+1)&#123; Dijkstra(i); rep(j,1,n+1)&#123; if(i!=j &amp;&amp; dist[j]+mincost[j][i]&lt;=c)&#123;cout&lt;&lt;2; return 0;&#125; &#125; &#125; cout&lt;&lt;1; return 0; &#125; G_Occupy the Cities äºŒåˆ†ç­”æ¡ˆ/dp é¢˜æ„ï¼šä¸€ä¸ª01ä¸²ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†ä¸²ä¸­æ‰€æœ‰çš„1çš„å·¦è¾¹ä¸€ä½æˆ–å³è¾¹ä¸€ä½ä¹Ÿå˜æˆ1ï¼Œé—®å˜æˆå…¨1ä¸²éœ€è¦å‡ æ¬¡æ“ä½œ è§£æ³•ï¼šäºŒåˆ†ç­”æ¡ˆï¼Œcheck() ä¸­ä»ä¸²çš„å·¦è¾¹åˆ°å³è¾¹å¯¹æ¯ä¸€ä½1å—¯è´ªå¿ƒï¼Œdpè§£æ³•æ²¡çœ‹ #include &lt;bits/stdc++.h> #define mp make_pair #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define maxn 1000005 #define pb push_back #define fst first #define sec second using namespace std; char s[maxn]; int n; vector&lt;int> one; int need[maxn]; void init(int t) &#123; scanf(\"%s\", s + 1); one.clear(); rep(i, 1, t + 1) &#123; need[i] = 0; if (s[i] == '1') &#123; one.pb(i); &#125; &#125; &#125; int check(int x) &#123; if (one[0] - 1 > x) return 0; if (one[0] - 1 == x) need[1] = 1; int tmp; rep(i, 1, one.size()) &#123; if (one[i] - one[i - 1] == 1) continue; tmp = one[i] - one[i - 1] - 1 + need[i]; if ((tmp + 1) / 2 > x) return 0; else if ((tmp + 1) / 2 == x) &#123; if (tmp / 2 == x) need[i + 1] = 1; &#125; &#125; tmp = n - one[one.size() - 1] + need[one.size()]; if (tmp > x) return 0; return 1; &#125; void solve() &#123; cin >> n; init(n); if (one.size() == n) &#123; cout &lt;&lt; 0 &lt;&lt; endl; return; &#125; int l = 1, r = n; int ret = 0; while (l &lt;= r) &#123; int mid = (l + r) >> 1; //cout &lt;&lt; mid &lt;&lt; \" \" rep(i, 1, n + 2) need[i] = 0; if (check(mid)) &#123; ret = mid; r = mid - 1; &#125; else &#123; l = mid + 1; &#125; &#125; cout &lt;&lt; ret &lt;&lt; endl; &#125; int main() &#123; int T; cin >> T; while (T--) &#123; solve(); &#125; &#125; I_PTSD æ²™æ¯”é¢˜ï¼Œä¸æƒ³å¤ç›˜äº† #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 1000005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; char a[maxn]; void solve() &#123; int n; cin &gt;&gt; n; ll ret&#x3D;0; rep(i,0,n)&#123; cin&gt;&gt;a[i]; &#125; int lead&#x3D;0; int mxpos; red(i,n,0)&#123; if(a[i]&#x3D;&#x3D;&#39;0&#39;)&#123; lead++; &#125;else&#123; if(lead&gt;0)&#123; lead--; ret+&#x3D;(i+1); &#125;else&#123; lead++; &#125; &#125; &#125; cout&lt;&lt;ret&lt;&lt;endl; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; æ€»ç»“ï¼šä»Šå¤©æƒ³å‡ºæ¥Däº†å—","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"CCPC","slug":"CCPC","permalink":"https://maskros.top/tags/CCPC/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"https://maskros.top/tags/%E6%A8%A1%E6%8B%9F/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://maskros.top/tags/%E5%9B%BE%E8%AE%BA/"},{"name":"Dijkstra","slug":"Dijkstra","permalink":"https://maskros.top/tags/Dijkstra/"}]},{"title":"Educational Codeforces Round 117 (Div.2)","slug":"codeforces/cf Edu 117","date":"2021-11-23T10:02:00.000Z","updated":"2022-01-25T07:51:13.529Z","comments":true,"path":"/post/codeforces/cf Edu 117.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20Edu%20117.html","excerpt":"Educational Codeforces Round 116 (Div.2)","text":"Educational Codeforces Round 117 (Rated for Div. 2) A_Distance ç­¾åˆ° #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; void solve() &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; int xx &#x3D; -1, yy &#x3D; -1; int tot &#x3D; x + y; if (abs(tot) % 2 &#x3D;&#x3D; 1) &#123; cout &lt;&lt; xx &lt;&lt; &quot; &quot; &lt;&lt; yy &lt;&lt; endl; return; &#125; else &#123; if (abs(x) % 2 &#x3D;&#x3D; 0 &amp;&amp; abs(y) % 2 &#x3D;&#x3D; 0) &#123; cout &lt;&lt; x &#x2F; 2 &lt;&lt; &quot; &quot; &lt;&lt; y &#x2F; 2 &lt;&lt; endl; return; &#125; else &#123; tot &#x2F;&#x3D; 2; if (x &gt; y) cout &lt;&lt; tot &lt;&lt; &quot; &quot; &lt;&lt; 0 &lt;&lt; endl; else cout &lt;&lt; 0 &lt;&lt; &quot; &quot; &lt;&lt; tot &lt;&lt; endl; &#125; &#125; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; B_Special_Permutation è´ªå¿ƒæ„é€  #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; int num[105]; bool vis[105]; void solve() &#123; int n,a,b; cin&gt;&gt;n&gt;&gt;a&gt;&gt;b; memset(vis,0,sizeof(vis)); memset(num, 0, sizeof(num)); vis[a]&#x3D;1; vis[b]&#x3D;1; num[n&#x2F;2+1]&#x3D;b; num[1]&#x3D;a; int tmp&#x3D;1; bool find; rep(i,n&#x2F;2+2,n+1)&#123; find&#x3D;false; rep(j,tmp,b)&#123; if(!vis[j])&#123; vis[j]&#x3D;1; num[i]&#x3D;j; tmp&#x3D;j+1; find&#x3D;1; break; &#125; &#125; if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125; &#125; tmp&#x3D;n; rep(i,2,n&#x2F;2+1)&#123; find&#x3D;false; red(j,tmp+1,a)&#123; if(!vis[j])&#123; vis[j]&#x3D;1; num[i]&#x3D;j; tmp&#x3D;j-1; find&#x3D;1; break; &#125; &#125; if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125; &#125; rep(i,1,n+1)&#123; cout&lt;&lt;num[i]&lt;&lt;&quot; &quot;; &#125; cout&lt;&lt;endl; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; C_Chat_Ban é¢˜æ„ï¼š è¾“å…¥k,x ; ä½ æœ‰2k-1æ¡ä¿¡æ¯è¦å‘ï¼Œä¿¡æ¯çš„é•¿åº¦ä¸º1,2,3â€¦k-1,k,k-1â€¦1ï¼Œåœ¨å‘å‡ºå½“å‰ä¿¡æ¯æ—¶ï¼Œä½ å·²ç»å‘é€çš„æ€»é•¿åº¦å¿…é¡»å°äºxï¼Œé—®ä½ æœ€å¤šèƒ½å‘å¤šå°‘æ¡ æ€è·¯ï¼š äºŒåˆ†ç­”æ¡ˆå³å¯ #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; ll cal(ll begin, ll end)&#123; ll ret; if((begin+end)%2&#x3D;&#x3D;0)&#123; ret&#x3D;(begin+end)&#x2F;2*(end-begin+1); &#125;else&#123; ret&#x3D;(end-begin+1)&#x2F;2*(begin+end); &#125; return ret; &#125; void solve() &#123; ll k,x; cin&gt;&gt;k&gt;&gt;x; ll ans&#x3D;0; ll test&#x3D;cal(1,k); if(test&#x3D;&#x3D;x)&#123; cout&lt;&lt;k&lt;&lt;endl; return; &#125;eif(test&lt;x)&#123; ans+&#x3D;k; x-&#x3D;test; test&#x3D;cal(1,k-1); if(test&lt;&#x3D;x)&#123; cout&lt;&lt;2*k-1&lt;&lt;endl; return;&#125; else&#123; ll l&#x3D;1,r&#x3D;k; ll mid; ll tmp&#x3D;0; while(l&lt;&#x3D;r)&#123; mid&#x3D;(l+r)&gt;&gt;1; test&#x3D;cal(mid,k-1); if(test&#x3D;&#x3D;x)&#123; tmp&#x3D;k-mid; break; &#125;eif(test&lt;x)&#123; tmp&#x3D;k-mid+1; r&#x3D;mid-1; &#125;else&#123; l&#x3D;mid+1; &#125; &#125; ans+&#x3D;tmp; cout&lt;&lt;ans&lt;&lt;endl; &#125; &#125;else&#123; ll l&#x3D;1,r&#x3D;k; ll mid; while(l&lt;&#x3D;r)&#123; mid&#x3D;(l+r)&gt;&gt;1; test&#x3D;cal(1,mid); if(test&#x3D;&#x3D;x)&#123; ans&#x3D;mid; break; &#125;eif(test&lt;x)&#123; ans&#x3D;mid+1; l&#x3D;mid+1; &#125;else&#123; r&#x3D;mid-1; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; D_X_Magic_Pair (gcd) é¢˜æ„ï¼š ç»™ä½  a, b, xï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†aæˆ–bæ›¿æ¢ä¸º |a-b|, è¯¢é—®èƒ½å¦å°†aæˆ–bè¿›è¡Œä»»æ„æ¬¡æ“ä½œåæ›¿æ¢ä¸º x æ€è·¯ï¼š gcdå˜ç§ï¼Œæ¯æ¬¡åˆ¤æ–­ä¸€ä¸‹ a%b æ˜¯å¦ç­‰äº x%bï¼Œå³ (a-x)%b==0 ï¼Œå¦‚æœç›¸ç­‰å³ä¸ºYESï¼Œå¦åˆ™å³ä¸ºNO #include &lt;bits/stdc++.h> #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define mp make_pair #define fst first #define sec second #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x - 1; i >= y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; ll a, b, x; bool gcd(ll a, ll b)&#123; if(a==x||b==x) return 1; if(b==0) return 0; if(a>x&amp;&amp;(a-x)%b==0) return 1; if(b>x&amp;&amp;(b-x)%a==0) return 1; return gcd(b,a%b); &#125; void solve() &#123; cin>>a>>b>>x; if(x>a&amp;&amp;x>b)&#123; cout&lt;&lt;\"NO\"&lt;&lt;endl; return; &#125; if(x==a||x==b)&#123; cout&lt;&lt;\"YES\"&lt;&lt;endl; return;&#125; ll tmpa=(a>b)?a:b; ll tmpb=(b&lt;a)?b:a; if(gcd(tmpa,tmpb)) puts(\"YES\"); else puts(\"NO\"); &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; æ€»ç»“ ä»¨ç­¾åˆ°å¾ˆé¡ºæºœï¼Œæœ€åä¸€ä¸ªé¢˜å› ä¸ºåˆ¤æ–­æ¡ä»¶ç»“æœsbäº†ï¼Œæ‰åˆ†","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"gcd","slug":"gcd","permalink":"https://maskros.top/tags/gcd/"}]},{"title":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬","slug":"projects/maogai_crawler","date":"2021-11-10T14:43:00.000Z","updated":"2021-12-25T07:17:11.282Z","comments":true,"path":"/post/projects/maogai_crawler.html","link":"","permalink":"https://maskros.top/post/projects/maogai_crawler.html","excerpt":"Crawler in THEOL","text":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬ å‰è¨€ï¼šğŸ·bæ¯›æ¦‚é¢˜åº“è¦æˆªæ­¢äº†ï¼Œå‡ ä¸ªæ—¶é—´æ®µçš„é¢˜åº“å„è‡ªæœ‰æˆªæ­¢æ—¥æœŸğŸ˜…ï¼Œçœ¼è§ç€ddlå°±è¦åˆ°äº†å¯ğŸ‘´åˆä¸æƒ³å»åˆ·ï¼Œæ‰€ä»¥èŒç”Ÿäº†å€ŸåŠ©pythonçˆ¬è™«æ¥è¿›è¡Œå·æ‡’çš„æƒ³æ³• åŠäº‹æµç¨‹ ç”±äºä¹‹å‰ğŸ‘´è¯´è¿‡ï¼šâ€œpythonç‹—éƒ½ä¸ç”¨â€ï¼Œâ€œç”¨pythonçš„éƒ½æ²™æ¯”â€ çš„åè¨€ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æ˜¯æ‹’ç»çš„ï¼Œä½†æ˜¯è¿«äºç°çŠ¶ï¼Œæ‰€ä»¥ç®€å•çªå‡»äº†å‡ å¤©ï¼Œå­¦åˆ°äº†ä¸€äº›çŸ¥è¯†ï¼Œå®æˆ˜ç”¨åˆ°çš„ä¹Ÿå°±åªæœ‰ä¸åˆ° 1/5 éœ€æ±‚ï¼š é¢˜åº“å…±è®¡ä¸€ç™¾å¤šé“é¢˜ç›®ï¼Œæ¯æ¬¡æµ‹è¯•15é“é¢˜ï¼Œ5å•é€‰5å¤šé€‰5åˆ¤æ–­ï¼Œæäº¤åšé¢˜ç»“æœä¹‹åæ–¹å¯è·å¾—æ‰€æœ‰é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯ä»æ‰€æœ‰æµ‹è¯•å°è¯•çš„åé¦ˆé¡µé¢ä¸­çˆ¬å–é¢˜ç›®é¢˜é¢å’Œæ­£ç¡®ç­”æ¡ˆå¹¶æŒä¹…åŒ–å­˜å‚¨ï¼Œover åŸå…ˆæ­¥éª¤(å…¨è‡ªåŠ¨) æ¨¡æ‹Ÿç™»å½• ç”±äºè¿™ä¸ªb bbå¹³å°éœ€è¦ä¿¡æ¯é—¨æˆ·ç™»å½•æˆåŠŸä¹‹åæ‰èƒ½åšé‚£bé¢˜ï¼Œæ‰€ä»¥éœ€è¦æ¨¡æ‹Ÿç™»é™†ä¹‹åæ‰èƒ½è¯·æ±‚åˆ°åšé¢˜ç»“æœçš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨sessionä¼šè¯å¯¹è±¡åœ¨å‘ç™»å½•é¡µé¢å‘èµ·è¯·æ±‚åå‚¨å­˜cookieï¼Œè¿™æ ·åé¢ç›´æ¥ç”¨sessionå¯¹è±¡å†å¯¹éœ€æ±‚çš„é¡µé¢è¿›è¡Œgetè¯·æ±‚å³å¯ã€‚ è‡ªåŠ¨åšé¢˜ è‡ªåŠ¨å¼€å§‹æ–°å°è¯•å¹¶ä¸”æäº¤ å¼€çˆ¬ getåˆ°äº†é¡µé¢ä¹‹åï¼Œåˆ©ç”¨xpathè¿›è¡Œæ•°æ®è§£æï¼ŒæŒä¹…åŒ–å­˜å‚¨å³å¯ æƒ³æ³•å¾ˆå¥½ï¼Œåæ¥å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯æœ€ç»ˆæµç¨‹ï¼š ç°å®æ­¥éª¤(å‡ ä¹å…¨è‡ªåŠ¨) 2021/11/13 æ›´æ–°äº† v1.1 ç‰ˆæœ¬ï¼šâ‘ ä¼˜åŒ–äº†å­˜å‚¨æ–¹å¼ï¼šæŒ‰å­—å…¸åºæ’åºå³æŒ‰é¢˜ç›®çš„ç« èŠ‚è¿›è¡Œåˆ†ç±»ï¼›â‘¡å®ç°äº† v1.0 æ²¡å®ç°çš„è‡ªåŠ¨åšé¢˜åŠŸèƒ½ æ¨¡æ‹Ÿç™»å½•(x) æ‰‹åŠ¨ç™»å½•(âˆš) æŒ‰ç…§åŸå…ˆçš„æƒ³æ³•æ¨¡æ‹Ÿç™»é™†ï¼Œè¿”å›çš„æ¶ˆæ¯ä¹Ÿæ˜¯ç™»é™†æˆåŠŸï¼Œä½†æ˜¯è¯·æ±‚æ‰€éœ€é¡µé¢æ˜¯è¿˜æ˜¯è¢«æ‹¦æˆªäº†ï¼Œéœ€è¦é‡æ–°ç™»å½•ï¼Œç”±äºæ‰ç–å­¦æµ…ï¼Œä¸€æ—¶ä¸çŸ¥é“å¦‚ä½•æ˜¯å¥½ï¼Œå¹²è„†ç›´æ¥æ‰‹åŠ¨ç™»å½•åï¼Œåˆ©ç”¨æµè§ˆå™¨F12ï¼Œæ‰¾åˆ°ç™»å½•çš„cookieï¼Œæ‰‹åŠ¨å¤åˆ¶åˆ°æºç ä¸­çš„ headers å†…ï¼Œç›´æ¥ç”¨ requests è¿›è¡Œ post å’Œ get çš„è¯·æ±‚å³å¯è·å¾—æ‰€éœ€é¡µé¢ è‡ªåŠ¨åšé¢˜(âˆš) å¼€å§‹æ–°å°è¯•ï¼šå‘ç°å¼€å§‹æ–°å°è¯•çš„æŒ‰é’®ä¸­å¯¹åº”çš„ &lt;a&gt;æ ‡ç­¾çš„ url ä¸­çš„å‚æ•°æœ‰ä¸ªæœ‰è¶£çš„åœ°æ–¹ new_attempt=1ï¼Œç›´æ¥è®¿é—®å³å¯ä»¥å¼€å§‹ä¸€æ¬¡æ–°çš„å°è¯•ï¼Œç›´æ¥getè¯·æ±‚å³å¯ æäº¤æ–°å°è¯•ï¼šç‚¹å‡»æäº¤æŒ‰é’®åè¿›è¡ŒæŠ“åŒ…ï¼Œå‘ç°æœ‰ä¸€ä¸ªpostè¯·æ±‚å¯¹åº”çš„ url : do/take/saveAttempt?saveSequence=1/... ï¼Œè§‚å¯Ÿæ•°æ®åŒ…ä¸­ä¼ è¾“çš„æ•°æ®å‘ç°æœ‰è¿™æ ·å‡ ä¸ªæœ‰è¶£çš„åœ°æ–¹ï¼šdata_submitted:true, save_and_submit:trueï¼›æˆ‘ä»¬çŒœæµ‹è¿™å°±æ˜¯å¯¹æœåŠ¡å™¨è¿›è¡Œçš„æäº¤ç»“æœè¯·æ±‚ã€‚ä¹‹åå¯¹æ¯”ä¸¤æ¬¡ä¸åŒçš„æäº¤æ‰€å¾—çš„æ•°æ®åŒ…å‘ç°ï¼Œæ‰€éœ€ä¿®æ”¹çš„å‚æ•°ä¸ºcurrent_attempt_id å’Œ current_attempt_id_backupï¼ŒäºŒè€…æ˜¯ä¸€æ ·çš„ï¼Œäºæ˜¯è§‚å¯Ÿå“ªé‡Œæœ‰è¿™ä¸ªidï¼Œå‘ç°å’Œåšé¢˜é¡µé¢ä¸­çš„&lt;div&gt;æ ‡ç­¾çš„ç±»åæœ‰ç€æƒŠäººçš„ä¸€è‡´ğŸ¤ ã€‚ç›´æ¥å¯¹åšé¢˜é¡µé¢è¿›è¡Œxpathè§£æï¼Œè§£æåˆ°divæ ‡ç­¾çš„ç±»åä¼ è¾“è¿›postè¯·æ±‚çš„æ•°æ®ä¸­ï¼Œå†å‘é€postè¯·æ±‚å³å¯å®Œæˆè‡ªåŠ¨æäº¤æ–°å°è¯•ğŸ˜ª è‡ªåŠ¨å¼€çˆ¬ ï¼(âˆš) getåˆ°æ‰€æœ‰å°è¯•çš„é¡µé¢ï¼Œåˆ©ç”¨xpathè§£æåˆ°å¯¹åº”æ¯æ¬¡åšé¢˜ç»“æœçš„ &lt;a&gt; æ ‡ç­¾çš„hrefåœ°å€å­˜åˆ° list ä¸­ï¼Œæ‹¼æ¥æˆå®Œæ•´çš„url å¯¹æ¯ä¸ªurl åˆ©ç”¨xpathè§£æåˆ°å¯¹åº”é¢˜ç›®å’Œç­”æ¡ˆçš„æ ‡ç­¾ï¼Œæ ¹æ®é¢˜ç›®ç±»å‹åˆ†åˆ«å­˜å‚¨ï¼Œåˆ©ç”¨å­—å…¸å­˜å‚¨ï¼Œé¢˜ç›®åç§°ä¸ºkeyï¼Œé¢˜ç›®ç­”æ¡ˆä¸ºvalueï¼Œä¸ºäº†é˜²æ­¢å­˜å‚¨é‡å¤é¢˜ç›®ï¼Œæ¯æ¬¡å­˜å‚¨å‰å…ˆæŸ¥è¯¢keyæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å†å­˜å…¥å­—å…¸ä¸­ï¼Œå†™å…¥æ–‡ä»¶çš„åŒæ—¶è®¡æ•°å™¨+1ï¼Œæ–¹ä¾¿ç»Ÿè®¡çˆ¬å–é¢˜ç›®çš„ä¸ªæ•° å†»æ‰‹å†»æ‰‹ ğŸ´æ¥ import requests from lxml import etree import os import time if __name__ == '__main__': # åˆ›å»ºæ–‡ä»¶å¤¹ if not os.path.exists('./maogai/Round_2/'): os.mkdir('./maogai/Round_2/') session = requests.Session() detail_url = 'https://wlkc.ouc.edu.cn' # ä½¿ç”¨ç°æˆçš„cookieç›´æ¥ç»•è¿‡ç™»å½•é¡µé¢ headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36', 'Cookie': 'JSESSIONID=AC1DEAF6D6037A4B310E53885942338D; LOGIN=3139303230303331303330; UM_distinctid=17bcb2f4e579ab-0e328a4e032f8-a7d193d-144000-17bcb2f4e58315; SCREEN_NAME=4f566b646b73396b79642f396274486b665a503656773d3d; session_id=4025A5EAD4245D545DCB1E8FD2D1EE4E; s_session_id=864B98DCC97327775D6853902DCD0138; web_client_cache_guid=871e5dc2-27ae-44b8-898f-a44d97e217f2', &#125; # è‡ªåŠ¨è¯·æ±‚å¼€å§‹æµ‹è¯•å’Œæäº¤ times_attä¸ºæ¬¡æ•° æ¯æ¬¡è¯·æ±‚é—´éš”3s times_att = 10 print('attempt started...') for i in range(0,times_att): # è¯·æ±‚æµ‹è¯• attempt_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;new_attempt=1&amp;content_id=_633969_1&amp;step=' atmp = session.get(url=attempt_url, headers=headers) # æ‹¿åˆ°æœ¬æ¬¡æµ‹è¯•id do_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1&amp;step=null' do = session.get(url=do_url, headers=headers) tree_att = etree.HTML(do.text) atnum = tree_att.xpath('//div[@class=\"takeQuestionDiv \"]/@id')[0] print('attemptid = ' + str(atnum)) # æäº¤æœ¬æ¬¡æµ‹è¯• submit_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/do/take/saveAttempt?saveSequence=17&amp;takePageId=1636771783088&amp;course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1' data = &#123; 'blackboard.platform.security.NonceUtil.nonce.ajax': 'c87385ed-48d7-4d9c-8c8c-a9f6cb45826d', 'data-submitted': 'true', 'course_assessment_id': '_30131_1', 'course_id': '_13492_1', 'content_id': '_633969_1', 'step': '', 'original_user_id': '_47406_1', 'save_and_submit': 'true', 'timer_completion': '', 'fileUploadType': '', 'toggle_state': 'qShow', 'current_question': '1', 'current_attempt_item_id': atnum, 'current_attempt_item_id_backup': atnum, 'method': 'notajax', 'saveonequestion': '', &#125; submit = session.post(url=submit_url, headers=headers, data=data) print('post finished! times: '+ str(i+1)) time.sleep(3) print('attempt over!') print('--------------------') # æ€»å°è¯•é¡µé¢ total_url = 'https://wlkc.ouc.edu.cn/webapps/gradebook/do/student/viewAttempts?method=list&amp;course_id=_13492_1&amp;outcome_definition_id=_95191_1&amp;outcome_id=_2069239_1' page_text_tot = session.get(url=total_url, headers=headers) tree_tot = etree.HTML(page_text_tot.text) attempt_list = tree_tot.xpath('//div[@class=\" columnStep clearfix\"]//a/@href') # ä¸ºäº†å»é‡ä½¿ç”¨å­—å…¸ä¿å­˜é”®å€¼å¯¹ danxuan = &#123;&#125; duoxuan = &#123;&#125; panduan = &#123;&#125; cnt1 = 0 cnt2 = 0 cnt3 = 0 fp1 = open('./maogai/Round_2/å•é€‰.txt', 'w', encoding='utf-8') fp2 = open('./maogai/Round_2/å¤šé€‰.txt', 'w', encoding='utf-8') fp3 = open('./maogai/Round_2/åˆ¤æ–­.txt', 'w', encoding='utf-8') times = 0 print('download started...') for attempt in attempt_list: times = times + 1 new_url = detail_url + attempt # print(new_url) page_text = session.get(url=new_url, headers=headers) tree = etree.HTML(page_text.text) pro_list = tree.xpath('//ul[@id=\"content_listContainer\"]/li') cnt = 0 # æ¯æ¬¡å°è¯•çš„å†…å®¹è¿›è¡Œçˆ¬å– for li in pro_list: cnt = cnt + 1 pro_name = li.xpath('normalize-space(.//div[@class=\"vtbegenerated inlineVtbegenerated\"])') pro_answer_1 = li.xpath('.//div[@class=\"vtbegenerated inlineVtbegenerated\"]//label/text()') pro_answer_1 = str(pro_answer_1) pro_answer_2 = li.xpath('normalize-space(.//span[@class=\"answerTextSpan\"])') if cnt &lt;= 5: if pro_name not in danxuan: cnt1 = cnt1 + 1 danxuan[pro_name] = pro_answer_1 # fp1.write(str(cnt1) + '. ' + pro_name+'\\n'+pro_answer_1+'\\n') elif cnt &lt;= 10: if pro_name not in duoxuan: cnt2 = cnt2 + 1 duoxuan[pro_name] = pro_answer_1 # fp2.write(str(cnt2) + '. ' + pro_name + '\\n' +pro_answer_1+'\\n') else: if pro_name not in panduan: cnt3 = cnt3 +1 panduan[pro_name] = pro_answer_2 # fp3.write(str(cnt3) + '. ' + pro_name + '\\n'+pro_answer_2+'\\n') print('times: ' + str(times) + ' å•é€‰: ' + str(cnt1) + ',å¤šé€‰ï¼š' + str(cnt2) + ',åˆ¤æ–­: ' + str(cnt3) ) # å°†å­—å…¸è¿›è¡ŒæŒ‰keyæ’åºå®ç°ä¸åŒç« èŠ‚åˆ†ç±»è¿›è¡Œå­˜å‚¨ num = 0 for pro in sorted(danxuan): num = num + 1 fp1.write(str(num)+'. '+ pro + '\\n' + danxuan[pro] + '\\n') num = 0 for pro in sorted(duoxuan): num = num + 1 fp2.write(str(num)+'. ' + pro + '\\n' + duoxuan[pro] + '\\n') num = 0 for pro in sorted(panduan): num = num + 1 fp3.write(str(num)+'. ' + pro + '\\n' + panduan[pro] + '\\n') fp1.close() fp2.close() fp3.close() print('total: ' + str(cnt1+cnt2+cnt3) + ' problems have been downloaded.') ä¸€ä¸ªå°å®æˆ˜ï¼Œæ•ˆæœè¿˜è¡ŒğŸ˜…ï¼Œä»¥åä¼šæƒ³åŠæ³•ä¿®æ”¹è‡ªåŠ¨ç™»å½•çš„é—®é¢˜ï¼Œå¯ä»¥æç‚¹æ„è§ githubé¡¹ç›®åœ°å€ link çˆ¬å–çš„é¢˜åº“åœ¨æ–‡ä»¶å¤¹é‡Œ overå¤§ç«","categories":[{"name":"PROJECT","slug":"PROJECT","permalink":"https://maskros.top/categories/PROJECT/"}],"tags":[{"name":"Crawler","slug":"Crawler","permalink":"https://maskros.top/tags/Crawler/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"},{"name":"requests","slug":"requests","permalink":"https://maskros.top/tags/requests/"}]},{"title":"pythonçˆ¬è™«æ‚è®°","slug":"note/Crawler","date":"2021-11-10T09:03:30.000Z","updated":"2022-01-22T09:37:42.226Z","comments":true,"path":"/post/note/Crawler.html","link":"","permalink":"https://maskros.top/post/note/Crawler.html","excerpt":"Crawler in python","text":"pythonçˆ¬è™«æ‚è®° Crawler in python åˆå ã€Šä¸ºäº†å·æ‡’çˆ¬æ¯›æ¦‚é¢˜åº“çš„çªå‡»å­¦ä¹ ã€‹ ä¸€äº›çŸ¥è¯† çˆ¬è™«åœ¨ä½¿ç”¨åœºæ™¯ä¸­çš„åˆ†ç±»ï¼š é€šç”¨çˆ¬è™«ï¼šæŠ“å–ç³»ç»Ÿé‡è¦ä¿ƒæˆéƒ¨åˆ†ï¼ŒæŠ“å–çš„æ˜¯ä¸€æ•´å¼ é¡µé¢æ•°æ® èšç„¦çˆ¬è™«ï¼šæ˜¯å»ºç«‹åœ¨é€šç”¨çˆ¬è™«çš„åŸºç¡€ä¸Šï¼ŒæŠ“å–çš„æ˜¯é¡µé¢ä¸­ç‰¹å®šçš„å±€éƒ¨å†…å®¹ å¢é‡å¼çˆ¬è™«ï¼šæ£€æµ‹ç½‘ç«™ä¸­æ•°æ®æ›´æ–°çš„æƒ…å†µï¼Œåªä¼šæŠ“å–ç½‘ç«™ä¸­æœ€æ–°æ›´æ–°å‡ºæ¥çš„æ•°æ® robots.txtåè®®ï¼šå›å­åè®®ï¼Œè§„å®šç½‘ç«™ä¸­å“ªäº›æ•°æ®èƒ½çˆ¬å“ªäº›ä¸èƒ½ï¼Œçº¦å®šä¿—æˆ http &amp; https åè®®ï¼š httpåè®®ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ä¸€ç§å½¢å¼ httpsåè®®ï¼šå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®® è¯ä¹¦ç§˜é’¥åŠ å¯† å¸¸ç”¨è¯·æ±‚å¤´ä¿¡æ¯ï¼š User-Agentï¼šè¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯† Connectionï¼šè¯·æ±‚å®Œæ¯•åï¼Œæ˜¯æ–­å¼€è¿æ¥è¿˜æ˜¯ä¿æŒè¿æ¥ å¸¸ç”¨å“åº”å¤´ä¿¡æ¯ï¼š Content-Typeï¼šæœåŠ¡å™¨å“åº”å›å®¢æˆ·ç«¯çš„æ•°æ®ç±»å‹ requestsæ¨¡å— requests: pythonåŸç”Ÿçš„åŸºäºç½‘ç»œè¯·æ±‚çš„æ¨¡å—ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å‘è¯·æ±‚ .text å­—ç¬¦ä¸² .content äºŒè¿›åˆ¶ .json() å¯¹è±¡ ç¼–ç æµç¨‹ï¼š æŒ‡å®šurl å‘èµ·è¯·æ±‚ è·å–å“åº”æ•°æ® æŒä¹…åŒ–å­˜å‚¨ 0x00 requests ä¸€è¡€ response.text import requests # 1.æŒ‡å®šurl url='xxxx/xxx/xxx.xxx' # 2.å‘èµ·è¯·æ±‚ getæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡ response = requests.get(url=url) # 3.è·å–å“åº”æ•°æ® .textè¿”å›çš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ® page_text = response.text print(page_text) # 4.æŒä¹…åŒ–å­˜å‚¨ with open('./xxx.html','w',encoding='utf-8') as fp: fp.write(page_text) print('over!') 0x01 ç½‘é¡µé‡‡é›†å™¨ UAæ£€æµ‹ UAä¼ªè£… requests.get(url, params, headers) import requests # UAï¼šUser-Agent è¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯† # UAæ£€æµ‹ï¼šé—¨æˆ·ç½‘ç«™çš„æœåŠ¡å™¨ä¼šæ£€æµ‹å¯¹åº”è¯·æ±‚çš„è½½ä½“èº«ä»½æ ‡è¯†ï¼Œå¦‚æœæ£€æµ‹åˆ°çš„æ ‡è¯†ä¸ºåŸºäºæŸä¸€æ¬¾æµè§ˆå™¨çš„ï¼Œ # åˆ™è¯´æ˜æ˜¯æ­£å¸¸è¯·æ±‚ï¼Œåä¹‹æœåŠ¡ç«¯å°±å¯èƒ½æ‹’ç»è¿™æ¬¡è¯·æ±‚ # UAä¼ªè£…ï¼šè®©çˆ¬è™«å¯¹åº”çš„è¯·æ±‚è½½ä½“èº«ä»½æ ‡è¯†ä¼ªè£…æˆæŸä¸€æ¬¾æµè§ˆå™¨ if __name__ == '__main__': # UAä¼ªè£…ï¼šå°†å¯¹åº”çš„User-Agentå°è£…åˆ°ä¸€ä¸ªå­—å…¸ä¸­ headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; url = 'https://www.sogou.com/web' # å¤„ç†urlæºå¸¦çš„å‚æ•°ï¼šå°è£…åˆ°å­—å…¸ä¸­ kw = input('enter a word:') param = &#123; 'query': kw &#125; # å¯¹æŒ‡å®šurlå‘èµ·çš„è¯·æ±‚å¯¹åº”urlæ˜¯æºå¸¦å‚æ•°çš„ï¼Œå¹¶ä¸”è¯·æ±‚è¿‡ç¨‹ä¸­å¤„ç†äº†å‚æ•° response = requests.get(url=url, params=param, headers=headers) page_text = response.text fileName = './requests_test/test2/'+kw+'.html' with open(fileName, 'w', encoding='utf-8') as fp: fp.write(page_text) print(fileName, ' is saved') 0x02 ç™¾åº¦ç¿»è¯‘ postè¯·æ±‚ (æºå¸¦äº†å‚æ•°) ajax å“åº”æ•°æ®æ˜¯ä¸€ç»„jsonæ•°æ® requests.post(url, data, json, headers...) response.json() import requests import json if __name__ == '__main__': # 1.æŒ‡å®šurl post_url = 'https://fanyi.baidu.com/sug' # 2.è¿›è¡ŒUAä¼ªè£… headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; # 3.postè¯·æ±‚å‚æ•°å¤„ç†(åŒgetè¯·æ±‚ä¸€è‡´) word = input('enter a word') data = &#123; 'kw': word &#125; # 4.è¯·æ±‚å‘é€ response = requests.post(url=post_url, data=data, headers=headers) # 5.è·å–å“åº”æ•°æ®:json()æ–¹æ³•è¿”å›çš„æ˜¯obj(å¦‚æœç¡®è®¤å“åº”æ•°æ®æ˜¯jsonç±»å‹æ‰èƒ½ä½¿ç”¨) dic_obj=response.json() print(dic_obj) # 6.æŒä¹…åŒ–å­˜å‚¨ fileName = './requests_test/test3/'+word+'.json' fp = open(fileName,'w',encoding='utf-8') # ç”±äºä¸­æ–‡ä¸èƒ½ç”¨asciiç¼–ç ï¼Œæ‰€ä»¥ä»¤ensure_ascii=False json.dump(dic_obj,fp=fp,ensure_ascii=False) print('over!') 0x03 è±†ç“£ç”µå½± request.get import requests import json if __name__ == '__main__': url = 'https://movie.douban.com/j/chart/top_list' param = &#123; 'type': '24', 'interval_id': '100:90', 'action': '', 'start': '40', # ä»åº“ä¸­çš„ç¬¬å‡ éƒ¨ç”µå½±å»å– 'limit': '20', # ä¸€æ¬¡ä»åº“ä¸­å–å‡ºçš„ä¸ªæ•° &#125; headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; response = requests.get(url=url, params=param, headers=headers) list_data = response.json() # print(list_data) fp = open('./requests_test/test4/douban.json', 'w', encoding='utf-8') json.dump(list_data, fp=fp, ensure_ascii=False) print('over!') 0x04 ç»¼åˆæ¡ˆä¾‹-æ•°æ®æå– import requests import json if __name__ == '__main__': headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; id_list = [] # å­˜å‚¨ä¼ä¸šid all_data_list = [] # å­˜å‚¨æ‰€æœ‰çš„ä¼ä¸šè¯¦æƒ…æ•°æ® # æ‰¹é‡è·å–ä¸åŒä¼ä¸šçš„idå€¼ url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsList' # å‚æ•°çš„å°è£… for page in range(1,6): page=str(page) data = &#123; 'on': 'true', 'page': page, 'pagesize': '15', 'productName': '', 'conditionType': '1', 'applyname': '', 'applysn': '', &#125; json_ids = requests.post(url=url, headers=headers, data=data).json() for dic in json_ids['list']: id_list.append(dic['ID']) # è·å–ä¼ä¸šè¯¦ç»†æ•°æ® post_url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsById' for id in id_list: data = &#123; 'id': id &#125; detail_json = requests.post( url=post_url, headers=headers, data=data).json() print(detail1_json, '--------ending--------') all_data_list.append(detail_json) # æŒä¹…åŒ–å­˜å‚¨all_data_list fp = open('./requests_test/test5/allData.json', 'w', encoding='utf-8') json.dump(all_data_list, fp=fp, ensure_ascii=False) print('over!') æ•°æ®è§£æ èšç„¦çˆ¬è™«ï¼šçˆ¬å–é¡µé¢ä¸­æŒ‡å®šçš„é¡µé¢å†…å®¹ ç¼–ç æµç¨‹ï¼š æŒ‡å®šurl å‘èµ·è¯·æ±‚ è·å–å“åº”æ•°æ® æ•°æ®è§£æ æŒä¹…åŒ–å­˜å‚¨ æ•°æ®è§£æåˆ†ç±»ï¼šæ­£åˆ™ï¼Œbs4ï¼Œxpath æ•°æ®è§£æåŸç†æ¦‚è¿°ï¼š è§£æçš„å±€éƒ¨çš„æ–‡æœ¬å†…å®¹éƒ½ä¼šåœ¨æ ‡ç­¾ä¹‹é—´æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­è¿›è¡Œå­˜å‚¨ è¿›è¡ŒæŒ‡å®šæ ‡ç­¾çš„å®šä½ æ ‡ç­¾æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼è¿›è¡Œæå– (è§£æ) 0x00 å›¾ç‰‡ .content è¿”å›äºŒè¿›åˆ¶ import requests if __name__ == '__main__': # å¦‚ä½•çˆ¬å–å›¾ç‰‡æ•°æ® url = 'https://i2.hdslb.com/bfs/archive/237001f0163eb48c1745a906c5b480f449183d66.jpg@672w_378h_1c_100q.webp' # content è¿”å›çš„æ˜¯äºŒè¿›åˆ¶å½¢å¼å›¾ç‰‡æ•°æ® img_data = requests.get(url=url).content with open('./data_parse_test/test1/dsm.jpg','wb') as fp: fp.write(img_data) 0x01 æ­£åˆ™è§£æ éœ€è¦å¯¼å…¥reæ¨¡å— å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ ex: &lt;div class=\"test\"> &lt;a href=\"/dsadas/sdada\" target=\"_blank\"> &lt;img src=\"//sdadasd/dsadas/dasdas\" alt=\"sdada\"> &lt;/a> &lt;/div> ex='&lt;div class=\"test\">.*?&lt;img src=\"(.*?)\" alt .*?&lt;/div>' ç»ƒä¹ ï¼šå›¾ç‰‡åˆ†é¡µçˆ¬å– import requests import re import os # éœ€æ±‚ï¼šçˆ¬å–æ‰€æœ‰å›¾ç‰‡ if __name__ == '__main__': headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; #åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¿å­˜æ‰€æœ‰å›¾ç‰‡ if not os.path.exists('./data_parse_test/test1'): os.mkdir('./data_parse_test/test1/') #è®¾ç½®ä¸€ä¸ªé€šç”¨urlæ¨¡æ¿ url = 'https://www.qiushibaike.com/pic/page/%d/?s=5184961' for pageNum in range(1,36): #å¯¹åº”é¡µç çš„url new_url = format(url%pageNum) # ä½¿ç”¨é€šç”¨çˆ¬è™«å¯¹urlå¯¹åº”çš„ä¸€æ•´å¼ é¡µé¢è¿›è¡Œçˆ¬å– page_text = requests.get(url=url, headers=headers).text # ä½¿ç”¨èšç„¦çˆ¬è™«å°†é¡µé¢ä¸­æ‰€æœ‰æ¼«ç”»è¿›è¡Œè§£æ/æå– ex = '&lt;div class=\"thumb\">.*?&lt;img src=\"(.*?)\" alt.*?&lt;/div> ' img_src_list = re.findall(ex, page_text, re.S) # print(img_src_list) for src in img_src_list: #æ‹¼æ¥å‡ºä¸€ä¸ªå®Œæ•´çš„å›¾ç‰‡url src='https:'+src #è¯·æ±‚åˆ°äº†å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ® img_data=requests.get(url=src,headers=headers).content #ç”Ÿæˆå›¾ç‰‡åç§° img_name=src.split('/')[-1] #å›¾ç‰‡å­˜å‚¨çš„è·¯å¾„ imgPath='./data_parse_test/test1/'+img_name with open(imgPath,'wb') as fp: fp.write(img_data) print(img_name,'ä¸‹è½½æˆåŠŸï¼') 0x02 bs4è§£æ æ‰€éœ€æ¨¡å—ï¼šbs4 lxml æ•°æ®è§£æçš„åŸç†ï¼š æ ‡ç­¾å®šä½ æå–æ ‡ç­¾ã€æ ‡ç­¾å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼ bs4æ•°æ®è§£æçš„åŸç†ï¼š å®ä¾‹åŒ–ä¸€ä¸ªBeautifulSoupå¯¹è±¡ï¼Œå¹¶ä¸”å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ é€šè¿‡è°ƒç”¨BeautifulSoupå¯¹è±¡ä¸­ç›¸å…³çš„å±æ€§æˆ–è€…æ–¹æ³•è¿›è¡Œæ ‡ç­¾å®šä½å’Œæ•°æ®æå– å¦‚ä½•å®ä¾‹åŒ–Beautifulå¯¹è±¡ï¼š from bs4 import BeautifulSoup å¯¹è±¡çš„å®ä¾‹åŒ–ï¼šå°†æœ¬åœ°/äº’è”ç½‘ä¸Šè·å–çš„é¡µé¢æºç åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ soup=BeautifulSoap(page_text.content,'lxml') æä¾›çš„ç”¨äºæ•°æ®è§£æçš„æ–¹æ³•å’Œå±æ€§ï¼š soup.tagName å¯¹åº”htmlæ ‡ç­¾ è¿”å›çš„æ˜¯htmlä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„tagNameæ ‡ç­¾ soup.find() : soup.find('tagName') åŒ soup.tagName å±æ€§å®šä½ï¼šsoup.find('tagName',class_='xxx') (classè¦å¸¦ä¸‹åˆ’çº¿) soup.find_all('tagName') è¿”å›æ‰€æœ‰çš„æ ‡ç­¾(åˆ—è¡¨) soup.select() soup.select('æŸç§é€‰æ‹©å™¨(id,class,æ ‡ç­¾...)')ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ #id, tag, .class å±‚çº§é€‰æ‹©å™¨ï¼š soup.select('.class1 &gt; ul &gt; li &gt; a')[2] è¡¨ç¤º class1 ä¸‹çš„ ul æ ‡ç­¾ä¸‹çš„ li æ ‡ç­¾ä¸­çš„ç¬¬äºŒä¸ª a æ ‡ç­¾ã€‚ &gt; è¡¨ç¤ºä¸€ä¸ªå±‚çº§å…³ç³» soup.select('.class1 &gt; ul a')[2] è¡¨ç¤ºåŒä¸Šï¼Œç©ºæ ¼è¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§å…³ç³» è·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬æ•°æ® soup.a.text/string/get_text() .text/.get_text() å¯ä»¥è·å¾—æŸä¸€ä¸ªæ ‡ç­¾ä¸­æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹ .string åªå¯ä»¥è·å–æ”¹æ ‡ç­¾ä¸‹é¢ç›´ç³»çš„æ–‡æœ¬å†…å®¹ è·å–æ ‡ç­¾ä¸­å±æ€§å€¼ soup.a['href'] ç»ƒä¹ ï¼šå°è¯´ç« èŠ‚åå’Œå†…å®¹çˆ¬å– import requests import lxml from bs4 import BeautifulSoup # éœ€æ±‚ï¼šçˆ¬å–å°è¯´çš„æ‰€æœ‰ç« èŠ‚æ ‡é¢˜å’Œå†…å®¹ if __name__ == '__main__': if not os.path.exists('./data_parse_test/test2'): os.mkdir('./data_parse_test/test2/') headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36' &#125; # å¯¹é¦–é¡µçš„é¡µé¢è¿›è¡Œçˆ¬å– url = 'http://www.banzhu22.org/5_5853/' page_text = requests.get(url=url, headers=headers) # åœ¨é¦–é¡µä¸­è§£æå‡ºç« èŠ‚çš„æ ‡é¢˜å’Œè¯¦æƒ…é¡µçš„url # 1. å®ä¾‹åŒ–BeautifulSoupå¯¹è±¡ï¼Œå°†ç½‘é¡µæºç åŠ è½½åˆ°å¯¹è±¡ä¸­ soup = BeautifulSoup(page_text.content, 'lxml') dd_list = soup.select('.box_con > #list dd')[9:] fp = open('./data_parse_test/test2/49gifts.txt', 'w', encoding='utf-8') for dd in dd_list: title = dd.a.string detail_url = 'http://www.banzhu22.org' + dd.a['href'] # å¯¹è¯¦æƒ…é¡µå‘èµ·è¯·æ±‚ï¼Œè§£æå‡ºç« èŠ‚å†…å®¹ detail_page_text = requests.get(url=detail_url, headers=headers) # è§£æå‡ºè¯¦æƒ…é¡µä¸­ç›¸å…³ç« èŠ‚çš„å†…å®¹ detail_soup = BeautifulSoup(detail_page_text.content, 'lxml') div_tag = detail_soup.find('div', id='content') # è§£æåˆ°ç« å†…å®¹ content = div_tag.text fp.write(title+'\\n'+content+'\\n') print(title+'downloaded successfully!') print('over!') 0x03 xpathè§£æ æ˜¯æœ€å¸¸ç”¨ä¸”æœ€ä¾¿æ·é«˜æ•ˆçš„çˆ¬å–æ–¹å¼ï¼Œé€šç”¨æ€§æœ€å¼º æ‰€éœ€æ¨¡å—ï¼šlxml xpathè§£æåŸç†ï¼š å®ä¾‹åŒ–ä¸€ä¸ªetreeçš„å¯¹è±¡ï¼Œä¸”éœ€è¦å°†è¢«è§£æçš„é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­ è°ƒç”¨etreeå¯¹è±¡ä¸­çš„xpathæ–¹æ³•ç»“åˆç€xpathè¡¨è¾¾å¼å®ç°æ ‡ç­¾çš„å®šä½å’Œå†…å®¹çš„æ•è· å¦‚ä½•å®ä¾‹åŒ–etreeå¯¹è±¡ï¼š from lxml import etree æœ¬åœ°æºç ï¼šetree.parse(filePath) äº’è”ç½‘æºç ï¼šetree.HTML('page_text') xpath('xpathè¡¨è¾¾å¼') xpathè¡¨è¾¾å¼ï¼š å„è¡¨è¾¾å¼å¯ä»¥ç”¨ | è¿æ¥ /ï¼šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå±‚çº§ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹å®šä½ å¼€å¤´./ï¼šå®šä½äº†å±‚çº§åï¼Œå½“å‰å±‚çº§ä¸‹çš„å±‚çº§ //ï¼šè¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§ï¼Œå¯ä»¥ä»ä»»æ„ä½ç½®å¼€å§‹å®šä½ å±æ€§å®šä½ï¼š//div[@class=&quot;xxx&quot;] å³ tag[@attrName=&quot;attrValue&quot;] ç´¢å¼•å®šä½ï¼š//div[@class=&quot;xxx&quot;]/p[3] ç´¢å¼•æ˜¯ä»1å¼€å§‹çš„ å–æ–‡æœ¬ï¼š /text() æ ‡ç­¾ä¸‹ç›´ç³»çš„æ–‡æœ¬å†…å®¹ //text() æ ‡ç­¾ä¸‹æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹ å–å±æ€§ï¼š/@attrName é€šç”¨å¤„ç†ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ name = name.encode('iso-8859-1').decode('gbk') ç»ƒä¹ ç•¥ éªŒè¯ç è¯†åˆ« åçˆ¬æœºåˆ¶ï¼šéªŒè¯ç  è¯†åˆ«éªŒè¯ç çš„æ“ä½œï¼š ç¬¬ä¸‰æ–¹è‡ªåŠ¨è¯†åˆ«ï¼šäº‘æ‰“ç  to be addedâ€¦ æ¨¡æ‹Ÿç™»é™† éœ€æ±‚ï¼šå¯¹æ ¡å›­ç½‘è¿›è¡Œç™»é™† (æ— éªŒè¯ç ) ç‚¹å‡»ç™»é™†æŒ‰é’®åä¼šå‘èµ·ä¸€ä¸ªPOSTè¯·æ±‚ï¼ŒPOSTè¯·æ±‚ä¸­ä¼šæºå¸¦ç™»å½•ä¿¡æ¯(username,pwd) print(response.status_code) æ‰“å°å“åº”çŠ¶æ€ç ï¼Œå¦‚æœæ‰“å°200åˆ™è¯æ˜æ¨¡æ‹Ÿç™»é™†æˆåŠŸ éœ€æ±‚ï¼šçˆ¬å–å½“å‰ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ http/httpsåè®®ç‰¹æ€§ï¼šæ— çŠ¶æ€ æ²¡æœ‰è¯·æ±‚åˆ°å¯¹åº”é¡µé¢æ•°æ®çš„åŸå› ï¼šå‘èµ·çš„ç¬¬äºŒæ¬¡åŸºäºé¡µé¢çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¸çŸ¥é“æ­¤æ¬¡è¯·æ±‚æ˜¯åŸºäºç™»å½•çŠ¶æ€ä¸‹çš„è¯·æ±‚ cookieï¼šç”¨æ¥è®©æœåŠ¡ç«¯è®°å½•å®¢æˆ·ç«¯çš„ç›¸å…³çŠ¶æ€ cookieå€¼çš„æ¥æºæ˜¯å“ªé‡Œï¼šæ¨¡æ‹Ÿç™»é™†postè¯·æ±‚åï¼Œæœ‰æœåŠ¡å™¨ç«¯åˆ›å»º sessionä¼šè¯å¯¹è±¡ï¼š å¯ä»¥è¿›è¡Œè¯·æ±‚çš„å‘é€ å¦‚æœè¯·æ±‚è¿‡ç¨‹ä¸­äº§ç”Ÿäº†cookieï¼Œåˆ™cookieä¼šè¢«è‡ªåŠ¨å­˜å‚¨/æºå¸¦åœ¨è¯¥sessionå¯¹è±¡ä¸­ æ­¥éª¤ï¼š åˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡ï¼š session = requests.Session() ä½¿ç”¨sessionå¯¹è±¡è¿›è¡Œæ¨¡æ‹Ÿç™»å½•postè¯·æ±‚çš„å‘é€ (cookieå°±ä¼šè¢«å­˜å‚¨åœ¨sessionä¸­) sessionå¯¹è±¡å†å¯¹ç™»å½•åé¡µé¢å¯¹åº”çš„getè¯·æ±‚è¿›è¡Œå‘é€ (æºå¸¦äº†cookie) seleniumå·¥å…· è§£å†³requestsæ— æ³•æ‰§è¡ŒjavaScriptä»£ç çš„é—®é¢˜ ç”¨äºwebåº”ç”¨ç¨‹åºè‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨å½“ä¸­ï¼Œæ”¯æŒchromeã€firefoxç­‰ä¸»æµæµè§ˆå™¨ã€‚å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶ä¸é¡µé¢ä¸Šå…ƒç´ è¿›è¡Œäº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥è·å–æŒ‡å®šå…ƒç´ çš„å†…å®¹ ç¼ºç‚¹ï¼š æ•ˆç‡ä½ï¼Œé€Ÿåº¦æ…¢ to be added â€¦","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"Crawler","slug":"Crawler","permalink":"https://maskros.top/tags/Crawler/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"}]},{"title":"2021CCPCå¥³ç”Ÿä¸“åœºvp","slug":"xcpc/2021ccpc_girl","date":"2021-11-08T14:25:00.000Z","updated":"2022-01-22T09:35:29.311Z","comments":true,"path":"/post/xcpc/2021ccpc_girl.html","link":"","permalink":"https://maskros.top/post/xcpc/2021ccpc_girl.html","excerpt":"2021å¹´ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å¥³ç”Ÿä¸“åœº","text":"2021CCPCå¥³ç”Ÿä¸“åœº â€œå‡å¦‚æˆ‘æ˜¯å¥³ç”Ÿâ€ A_å…¬äº¤çº¿è·¯ æ°´é¢˜ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; int n,x,y; cin>>n>>x>>y; int k[20]; rep(i,1,n+1) cin>>k[i]; int m; cin>>m; int p[20]; rep(i,1,m+1) cin>>p[i]; int lpos=x-1,rpos=x+1; rep(i,1,m+1)&#123; if(k[lpos]!=p[i])&#123; if(y&lt;x) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125; else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125; &#125; if(k[rpos]!=p[i])&#123; if(x&lt;y) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125; else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125; &#125; lpos--; rpos++; &#125; cout&lt;&lt;\"Unsure\"&lt;&lt;endl; &#125; int main() &#123; int T = 1; // cin >> T; while (T--) &#123; solve(); &#125; &#125; D_ä¿®å»ºé“è·¯ æ²™æ¯”é¢˜ï¼Œä¸¤ä¸¤å–æœ€å¤§å€¼å³å¯ï¼Œè„‚ç¯ç‹å†™äº†ä¸€å‘çº¿æ®µæ ‘ä¼˜åŒ–é€’å½’æˆ‘ä¸æ˜¯å¾ˆè®¤å¯ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 200005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; int a[maxn]; void solve() &#123; int n; cin >> n; ll ans = 0; rep(i, 0, n) &#123; cin >> a[i]; if(i>0) ans+=max(a[i],a[i-1]); &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125; int main() &#123; int T = 1; // cin >> T; while (T--) &#123; solve(); &#125; &#125; G_3Gç½‘ç»œ è¾“å‡º1/nå³å¯ æˆ‘æé”™äº†double ç»“æœwaåœ¨ç²¾åº¦ä¸Šäº† æœ€åæ‰‹å†™äº†ä¸ªé™¤æ³• ç»“æœå‘ç° printf(â€œ%.16lfâ€,ans) å³å¯ï¼Œå°‘å†™ä¸ªå°æ•°ç‚¹ğŸ˜… #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; int n; cin>>n; int x,y; rep(i,0,n)&#123; cin>>x>>y; &#125; int ans[15]; rep(i,0,12)&#123; if(i==0)&#123; if(n==1) &#123;ans[0]=1; tmp=0;&#125; else &#123;ans[0]=0; tmp*=10;&#125; &#125;else&#123; ans[i]=tmp/n; tmp=tmp%n; tmp*=10; &#125; &#125; cout&lt;&lt;ans[0]&lt;&lt;\".\"; rep(i,1,12)&#123; cout&lt;&lt;ans[i]; &#125; &#125; int main() &#123; int T = 1; // cin >> T; while (T--) &#123; solve(); &#125; &#125; // ans=1.0/n // printf(\"%.16lf\",ans); I_é©¾é©¶å¡ä¸è½¦ æ¥æ¨¡æ‹Ÿå°±è¡Œï¼Œå…«ä¸ªæ–¹å‘ dis[8][2] ç›´æ¥åšæ‰å•Šåšæ‰ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; char mp[55][55]; int dis[8][2] = &#123; &#123;-1, 0&#125;, &#123;-1, -1&#125;, &#123;0, -1&#125;, &#123;1, -1&#125;, &#123;1, 0&#125;, &#123;1, 1&#125;, &#123;0, 1&#125;, &#123;-1, 1&#125;&#125;; int n, m, x, y, v, face; bool crsh=0; bool check(int x, int y) &#123; if (x &lt;= 0 || x > n || y &lt;= 0 || y > m) return false; if (mp[x][y] == '#') return false; else return true; &#125; void go()&#123; rep(j, 0, v) &#123; if (dis[face][0] != 0 &amp;&amp; dis[face][1] != 0) &#123; if (!check(x + dis[face][0], y) &amp;&amp; !check(x, y + dis[face][1])) &#123; crsh = true; v = 0; break; &#125; &#125; if (check(x + dis[face][0], y + dis[face][1])) &#123; x += dis[face][0]; y += dis[face][1]; &#125; else &#123; crsh = true; v = 0; break; &#125; &#125; &#125; void solve() &#123; cin >> n >> m; v=0, face=0; rep(i, 1, n+1) &#123; rep(j, 1, m+1) &#123; cin >> mp[i][j]; if (mp[i][j] == '*') &#123; x = i, y = j; &#125; &#125; &#125; int opcnt; cin >> opcnt; char op; crsh = false; rep(i, 0, opcnt) &#123; cin >> op; crsh = false; if (op == 'L') &#123; face++; if (face > 7) &#123; face = 0; &#125; go(); &#125; eif(op == 'R') &#123; face--; if (face &lt; 0) &#123; face = 7; &#125; go(); &#125; eif(op == 'U') &#123; v++; go(); &#125; eif(op == 'D') &#123; v = max(v - 1, 0); go(); &#125; if (crsh) cout &lt;&lt; \"Crash! \"; cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl; &#125; &#125; int main() &#123; int T = 1; // cin >> T; while (T--) &#123; solve(); &#125; &#125; K_éŸ³ä¹æ¸¸æˆ æ²™æ¯”é¢˜ #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; void solve() &#123; int n; cin&gt;&gt;n; string s; int cnt&#x3D;0; rep(i,0,n+1)&#123; getline(cin,s); rep(j,0,s.length())&#123; if (s[j] &#x3D;&#x3D; &#39;-&#39;) cnt++; &#125; &#125; cout&lt;&lt;cnt; &#125; int main() &#123; int T &#x3D; 1; &#x2F;&#x2F; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; æ€»ç»“ï¼šå†æ¬¡åŒ–èº«ç­¾åˆ°çš‡å¸ï¼Œè¿˜åœ¨æƒ³Bé¢˜çš„å­—ç¬¦ä¸²ï¼Œè¯·æŠŠâ€œä»Šå¤©æƒ³å‡ºæ¥Bäº†å—â€æ‰“åœ¨è¯„è®ºåŒºğŸ˜˜","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"CCPC","slug":"CCPC","permalink":"https://maskros.top/tags/CCPC/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"https://maskros.top/tags/%E6%A8%A1%E6%8B%9F/"}]},{"title":"Codeforces Round 752 (Div.2)","slug":"codeforces/cf 752","date":"2021-10-31T14:50:00.000Z","updated":"2022-01-25T07:50:06.014Z","comments":true,"path":"/post/codeforces/cf 752.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20752.html","excerpt":"Codeforces Round 750 (Div.2)","text":"Codeforces Round #752 (Div.2) A_Era æ°´é¢˜ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; int n; cin >> n; ll ans = 0; int t; int pos = 1; rep(i, 1, n + 1) &#123; cin >> t; if (t > pos) &#123; ans += t - pos; pos += t - pos; &#125; pos++; &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; B_XOR_Specia_LIS_t é¢˜æ„ï¼š æ²™æ¯”é¢˜ï¼Œå¦‚æœåºåˆ—æ‰€åˆ†æˆçš„è‹¥å¹²å­åºåˆ—ä¸­ï¼Œæœ€é•¿çš„ä»»æ„é€’å¢åºåˆ—(ä¸éœ€è¦è¿ç»­)çš„é•¿åº¦ç›¸å¼‚æˆ–ï¼Œå¯ä»¥ä¸º0åˆ™è¾“å‡º yes å¦åˆ™è¾“å‡º no æ€è·¯ï¼š æ²¡è¯´å’‹åˆ†ï¼Œå°±ä¸€ä¸ªä¸€ä¸ªåˆ†ï¼Œæ‰€ä»¥å°±æ˜¯ 1^1^1^â€¦ ï¼Œæ ¹æ®åºåˆ—é•¿åº¦çš„å¥‡å¶æ€§åˆ¤æ–­ä¸€ä¸‹å³å¯ï¼Œå¶æ•°ä¸€å®šyesï¼Œå¥‡æ•°å°±åˆ¤æ–­æ˜¯ä¸æ˜¯å•å¢åºåˆ—ï¼Œä¸æ˜¯çš„è¯ä¸€å®šyesï¼Œåä¹‹no #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 100005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; int a[maxn]; void solve() &#123; int n; cin>>n; int tmp; rep(i,0,n)&#123; cin >> a[i]; &#125; bool is=false; if(n&amp;1)&#123; rep(i,1,n)&#123; if(a[i]&lt;=a[i-1])&#123; cout&lt;&lt;\"YES\"&lt;&lt;endl; is=true; break; &#125; &#125; if(!is) cout&lt;&lt;\"NO\"&lt;&lt;endl; &#125;else&#123; cout&lt;&lt;\"YES\"&lt;&lt;endl; &#125; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; C_Di_visible_Confusion é¢˜æ„ï¼š ä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥å¯¹a[i]è¿›è¡Œåˆ é™¤æ“ä½œçš„å‰ææ˜¯ a[i]%(i+1)!=0ï¼Œé—®è¿™ä¸ªåºåˆ—èƒ½ä¸èƒ½è¢«åˆ å¹²å‡€ æ€è·¯ï¼š æš´åŠ›å³å¯ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 100005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; int a[maxn]; void solve() &#123; int n; cin>>n; rep(i,1,n+1)&#123; cin>>a[i]; &#125; bool flag=false; rep(i,1,n+1)&#123; flag=false; rep(j,2,i+2)&#123; if(a[i]%j!=0)&#123; flag=true; break; &#125; &#125; if(!flag)&#123; cout&lt;&lt;\"NO\"&lt;&lt;endl; return; &#125; &#125; cout&lt;&lt;\"YES\"&lt;&lt;endl; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; D_Vupsen_Pupsen_and_0 é¢˜æ„ï¼š è¾“å…¥x,y ä¸¤ä¸ªå¶æ•°ï¼Œæ‰¾å‡º nï¼Œä½¿å¾— n%x=y%n æ€è·¯ï¼š åˆ†ç±»è®¨è®ºå³å¯ï¼š x&gt;y æ—¶ï¼Œn=x+y x&lt;y æ—¶ï¼Œn=y-(y%x)/2 è€ƒè™‘ç‰¹ä¾‹ æ€è€ƒä¸å‡ºæ¥çš„æ—¶å€™ç”»æ•°è½´å¯ä»¥ç»™ä½ çµæ„Ÿ #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 100005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; ll x, y; cin >> x >> y; if (x == y) &#123; cout &lt;&lt; x &lt;&lt; endl; return; &#125; if (x > y) &#123; cout &lt;&lt; x + y &lt;&lt; endl; &#125; else &#123; if (y % x == 0) &#123; cout &lt;&lt; x &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; y - (y % x) / 2 &lt;&lt; endl; &#125; &#125; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125;","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"}]},{"title":"Educational Codeforces Round 116 (Div.2)","slug":"codeforces/cf Edu 116","date":"2021-10-30T06:02:00.000Z","updated":"2021-12-25T07:17:35.361Z","comments":true,"path":"/post/codeforces/cf Edu 116.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20Edu%20116.html","excerpt":"Educational Codeforces Round 116 (Div.2)","text":"Educational Codeforces Round 116 (Rated for Div. 2) A_AB_Balance é¢˜æ„ï¼š ç”±abæ„æˆçš„ä¸²ï¼Œåšæœ€å°‘æ“ä½œä½¿abå’Œbaå‡ºç°çš„æ¬¡æ•°ç›¸åŒ æ€è·¯ï¼š å¦‚æœå‡ºç°æ¬¡æ•°ä¸åŒï¼Œæœ€å¤šå·®1ï¼Œä¿®æ”¹é¦–ä½å³å¯ #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; void solve() &#123; string s; cin &gt;&gt; s; int l &#x3D; s.length(); int ab &#x3D; 0, ba &#x3D; 0; rep(i, 0, l) &#123; if (s[i] &#x3D;&#x3D; &#39;a&#39;) &#123; if (s[i + 1] &#x3D;&#x3D; &#39;b&#39;) ab++; &#125; if (s[i] &#x3D;&#x3D; &#39;b&#39;) &#123; if (s[i + 1] &#x3D;&#x3D; &#39;a&#39;) ba++; &#125; &#125; if (ab &#x3D;&#x3D; ba) cout &lt;&lt; s &lt;&lt; endl; else &#123; if (ab &gt; ba) &#123; if (s[0] &#x3D;&#x3D; &#39;a&#39;) s[0] &#x3D; &#39;b&#39;; &#125; else &#123; if (s[0] &#x3D;&#x3D; &#39;b&#39;) s[0] &#x3D; &#39;a&#39;; &#125; cout &lt;&lt; s &lt;&lt; endl; &#125; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; B_Update_Files æ°´é¢˜ #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; ll quickpow(ll a, ll b) &#123; ll ans &#x3D; 1; ll res &#x3D; a; while (b) &#123; if (b &amp; 1) ans &#x3D; ans * res; b &gt;&gt;&#x3D; 1; res &#x3D; res * res; &#125; return ans; &#125; void solve() &#123; ll n, k; cin &gt;&gt; n &gt;&gt; k; if (n &#x3D;&#x3D; 1) cout &lt;&lt; 0 &lt;&lt; endl; else &#123; int need &#x3D; 0; ll tmp &#x3D; 0; rep(i, 0, 65) &#123; tmp &#x3D; quickpow(2, i); if (tmp &gt;&#x3D; k || tmp &gt;&#x3D; n) &#123; need &#x3D; i; break; &#125; &#125; if (tmp &gt;&#x3D; n) cout &lt;&lt; need &lt;&lt; endl; else &#123; ll times &#x3D; need; if ((n - tmp) % k &gt; 0) &#123; times +&#x3D; (n - tmp) &#x2F; k + 1; &#125; else &#123; times +&#x3D; (n - tmp) &#x2F; k; &#125; cout &lt;&lt; times &lt;&lt; endl; &#125; &#125; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; C_Banknotes é¢˜æ„ï¼š ç»™å®šn,k, nä»£è¡¨çº¸å¸ç§ç±»ï¼Œkä»£è¡¨æœ€å¤šå¯ç”¨çº¸å¸æ•°é‡ï¼Œæ¥ä¸‹æ¥ç»™å‡ºa[0â€¦n-1]ï¼Œ é¡ºåºç”±å°åˆ°å¤§ï¼Œè¡¨ç¤ºæ¯å¼ çº¸å¸çš„é¢å€¼ä¸º 10^a[i]ï¼Œæ±‚ä¸èƒ½è¡¨ç¤ºå‡ºçš„é‡‘é¢çš„æœ€å°å€¼ æ€è·¯ï¼š è´ªå¿ƒï¼ŒæŒ‰10è¿›åˆ¶ä»ä½ä½åˆ°é«˜ä½å–ï¼Œèƒ½å–å¤Ÿä½ä½å°±æ˜¯ a[i+1]-1 çš„å½¢å¼ï¼Œå³ä¸º x999â€¦ , å¦‚æœa[i]å–ä¸åˆ°a[i+1] æˆ–è€… æ²¡æœ‰æ›´å¤§é¢å€¼çš„é’ç¥¨ï¼Œç­”æ¡ˆå³ä¸º a[i] * å‰©ä½™å¼ æ•° + a[i]-1 , èƒ½å–åˆ°å°±æ¥ç€æ‰¾a[i+1]ã€‚ #include &lt;bits&#x2F;stdc++.h&gt; #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar(&#39;\\n&#39;) #define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++) #define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;; typedef long long ll; #define pll pair&lt;ll, ll&gt; using namespace std; ll a[20]; ll quickpow(ll a, ll b) &#123; ll ans &#x3D; 1; ll res &#x3D; a; while (b) &#123; if (b &amp; 1) ans &#x3D; ans * res; b &gt;&gt;&#x3D; 1; res &#x3D; res * res; &#125; return ans; &#125; void solve() &#123; ll n, k; cin &gt;&gt; n &gt;&gt; k; rep(i, 0, n) &#123; cin &gt;&gt; a[i]; a[i] &#x3D; quickpow(10, a[i]); &#125; a[n] &#x3D; 0; ll ans &#x3D; 0; ll tmp &#x3D; 0; rep(i, 0, n) &#123; if (i &#x3D;&#x3D; 0) &#123; if (n &#x3D;&#x3D; 1) &#123; cout &lt;&lt; k + 1 &lt;&lt; endl; return; &#125; if (a[i] * k + 1 &lt; a[i + 1]) &#123; cout &lt;&lt; a[i] * k + 1 &lt;&lt; endl; return; &#125; else &#123; tmp +&#x3D; a[i + 1] &#x2F; a[i] - 2; ans &#x3D; a[i + 1] - 1; &#125; &#125; else &#123; if ((k - tmp) * a[i] &lt; a[i + 1]) &#123; ans &#x3D; (k - tmp) * a[i] + a[i] - 1; cout &lt;&lt; ans &lt;&lt; endl; return; &#125; eif(a[i + 1] &#x3D;&#x3D; 0) &#123; ans &#x3D; (k - tmp) * a[i] + a[i] - 1; cout &lt;&lt; ans &lt;&lt; endl; return; &#125; else &#123; tmp +&#x3D; a[i + 1] &#x2F; a[i] - 1; ans &#x3D; a[i] - 1; &#125; &#125; &#125; &#125; int main() &#123; int T &#x3D; 1; cin &gt;&gt; T; while (T--) &#123; solve(); &#125; &#125; æ€»ç»“ æˆ‘çœŸæ˜¯ä¸ªæ²™æ¯”ï¼Œæ‰“çš„æ—¶å€™å› ä¸ºæœ‰ä¸ªåˆ¤æ–­æ¡ä»¶å†™é”™äº†ä¸€ç›´wa2ï¼Œæ¯”èµ›å®Œååˆ†é’Ÿå°±è¿‡äº†ï¼Œçº¯æ‰åˆ†é£èˆ ğŸ˜…","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"}]},{"title":"Codeforces Round 750 (Div.2)","slug":"codeforces/cf 750","date":"2021-10-27T17:02:50.000Z","updated":"2022-01-25T07:49:43.171Z","comments":true,"path":"/post/codeforces/cf 750.html","link":"","permalink":"https://maskros.top/post/codeforces/cf%20750.html","excerpt":"Codeforces Round 750 (Div.2)","text":"Codeforces Round #750 (Div.2) A_Luntik_and_Concerts #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; ll a, b, c; cin >> a >> b >> c; int mn = min(a, b); if ((mn + c) &amp; 1) &#123; mn--; a -= mn; b -= mn; &#125; else &#123; a -= mn; b -= mn; &#125; b &amp;= 1; if (b) &#123; if (a >= 2) a -= 2; cout &lt;&lt; (a &amp; 1) &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; (a &amp; 1) &lt;&lt; endl; &#125; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; B_Luntik_and_Subsequences #include &lt;bits/stdc++.h> #define gcd(a, b) __gcd(a, b) #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 400005 #define co(x) cout &lt;&lt; x &lt;&lt; \" \"; typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; ll quickpow(int a, int b)&#123; ll ans = 1; ll res = a; while (b) &#123; if (b &amp; 1) ans = ans * res; b >>= 1; res = res * res; &#125; return ans; &#125; void solve() &#123; int n; cin>>n; int a[65]; rep(i,0,n) cin>>a[i]; sort(a,a+n); ll cnt=0; if(a[0]>1) cout&lt;&lt;0&lt;&lt;endl; else&#123; ll cnt0=0,cnt1=0; rep(i,0,n)&#123; if(a[i]==0) cnt0++; eif(a[i]==1) cnt1++; else break; &#125; cnt=cnt1*quickpow(2,cnt0); cout&lt;&lt;cnt&lt;&lt;endl; &#125; &#125; int main() &#123; IOS; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125; C_Grandma_Capa_Knits_a_Scarf é¢˜æ„ï¼š å¾…è¡¥ æ€è·¯ï¼š å¾…è¡¥ #include &lt;iostream> #include &lt;algorithm> #include &lt;cstring> #include &lt;vector> #define ll long long #define pb push_back using namespace std; int sum1[100005], sum2[100005]; int p[1000005]; int main() &#123; int T; cin >> T; //T = 1; while(T--) &#123; int n; cin >> n; string s; cin >> s; int ans = 0x3f3f3f3f; for(int i = 0; i &lt; 26; i++) &#123; string s1 = \"\"; sum1[0] = sum2[n + 1] = sum2[n] = 0; char now = 'a' + i; for(int j = 0; j &lt; s.size(); j++) &#123; if(s[j] == now) &#123; if(j == 0) sum1[j] = 1; else sum1[j] = sum1[j - 1] + 1; &#125; else &#123; if(j == 0) sum1[j] = 0; else sum1[j] = sum1[j - 1]; s1 += s[j]; p[s1.size() - 1] = j; &#125; &#125; for(int j = s.size() - 1; j >= 0; j--) &#123; sum2[j] = sum2[j + 1]; if(s[j] == now) sum2[j]++; &#125; string s2 = s1; reverse(s2.begin(), s2.end()); //cout &lt;&lt; \"fuck\" &lt;&lt; endl; if(s1 == s2) &#123; //cout &lt;&lt; (char)('a' + i) &lt;&lt; endl; int del = 0; for(int k = 0; k &lt; s1.size() / 2 + (s1.size() &amp; 1 ? 1 : 0); k++) &#123; //if(i == 0) cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; endl; int pos1 = p[k], pos2 = p[s1.size() - 1 - k]; //if(i + 'a' == 'r') cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; del &lt;&lt; endl; if(k == 0) del += abs(sum1[pos1] - sum2[pos2]); else del += abs((sum1[pos1] - sum1[p[k - 1]]) - (sum2[pos2] - sum2[p[s1.size() - k]])); &#125; ans = min(ans, del); &#125; &#125; if(ans == 0x3f3f3f3f) cout &lt;&lt; -1 &lt;&lt; endl; else cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0; &#125; // 1 // 8 // rprarlap D_Vupsen_Pupsen_and_0 é¢˜æ„ï¼š å·²çŸ¥éé›¶æ•°ç»„a[i]ï¼Œæ±‚éé›¶æ•°ç»„b[i]ï¼Œä½¿å¾—a[i]*b[i] çš„å’Œä¸º0 æ€è·¯ï¼š ä¸ªæ•°ä¸ºå¶æ•°ä¸¤ä¸¤ç›¸æ¶ˆï¼Œä¸ªæ•°ä¸ºå¥‡æ•°çš„è¯ï¼Œé€‰å–å°¾éƒ¨ä¸‰ä¸ªæ•°ï¼Œåˆ¤æ–­ä¸¤ä¸ªç›¸åŠ ä¸ä¸ºé›¶çš„æ•°å‡ºæ¥ï¼Œå½“ä½œä¸€ä¸ªæ•°ä¸å‰©ä¸‹çš„ä¸€ä¸ªæ•°ä¸¤ä¸¤ç›¸æ¶ˆå³å¯ã€‚ å‘ç‚¹ï¼šä¸‰ä¸ªæ•°æ—¶åˆå¹¶çš„ä¸¤ä¸ªæ•°ç›¸åŠ ä¸èƒ½ä¸º0 #include &lt;bits/stdc++.h> #define INF 0x3f3f3f3f3f #define eps 1e-6 #define PI acos(-1.0) #define pb push_back #define eif else if #define en putchar('\\n') #define rep(i, x, y) for (int i = x; i &lt; y; i++) #define red(i, x, y) for (int i = x; i > y; i--) #define mem(a, x) memset(a, x, sizeof(a)) #define IOS cin.tie(0), ios::sync_with_stdio(false) #define maxn 100005 typedef long long ll; #define pll pair&lt;ll, ll> using namespace std; void solve() &#123; int a[maxn]; int n; cin >> n; rep(i, 0, n) &#123; cin >> a[i]; &#125; bool t1 = false, t2 = false, t3 = false; if (n &amp; 1) &#123; if (a[n - 1] + a[n - 2] != 0) &#123; a[n - 2] = a[n - 1] + a[n - 2]; t1 = true; &#125; else &#123; if (a[n - 2] + a[n - 3] != 0) &#123; a[n - 3] = a[n - 2] + a[n - 3]; a[n - 2] = a[n - 1]; t2 = true; &#125; else &#123; a[n - 3] = a[n - 3] + a[n - 1]; t3 = true; &#125; &#125; for (int i = 0; i &lt; n - 1; i += 2) &#123; if (i == n - 3) &#123; if (t1) &#123; cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \"; &#125; eif(t2) &#123; cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i]; &#125; eif(t3) &#123; cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; a[i + 1]; &#125; &#125; else &#123; cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \"; &#125; &#125; cout &lt;&lt; endl; &#125; else &#123; for (int i = 0; i &lt; n; i += 2) &#123; cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \"; &#125; cout &lt;&lt; endl; &#125; &#125; int main() &#123; int T = 1; cin >> T; while (T--) &#123; solve(); &#125; &#125;","categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"}],"tags":[{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"}]},{"title":"kmp & exkmp","slug":"algorithm/learn/kmp & exkmp","date":"2021-10-23T17:02:50.000Z","updated":"2022-07-13T09:03:32.782Z","comments":true,"path":"/post/algorithm/learn/kmp & exkmp.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/kmp%20&%20exkmp.html","excerpt":"kmp &amp; exkmp Knuth-Morris-Pratt &amp; entend kmp å­—ç¬¦ä¸²åŒ¹é… kmp Keywordsï¼šnext[] ç”±BFæ”¹è¿›ï¼ŒO(m+n)ï¼Œä¼ ä¸–ç»å…¸å±äºæ˜¯ğŸ˜… ä»¥ä¸‹å‡å‡è®¾ä¸»ä¸²ä¸º Sï¼Œæ¨¡å¼ä¸²ä¸º P What is next[] ? é’ˆå¯¹æ¨¡å¼ä¸²ï¼Œnext[j] è¡¨ç¤ºæ¨¡å¼ä¸²ä¸‹æ ‡ j ä¹‹å‰ æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ï¼Œè¿™ä¸é‡è¦ã€‚ ä½ åªéœ€è¦è®°ä½ï¼šnext[j]è¡¨ç¤ºå½“ P[j]!=S[i] æ—¶ï¼Œj æŒ‡é’ˆçš„ä¸‹ä¸€æ­¥ç§»åŠ¨ä½ç½®ã€‚","text":"kmp &amp; exkmp Knuth-Morris-Pratt &amp; entend kmp å­—ç¬¦ä¸²åŒ¹é… kmp Keywordsï¼šnext[] ç”±BFæ”¹è¿›ï¼ŒO(m+n)ï¼Œä¼ ä¸–ç»å…¸å±äºæ˜¯ğŸ˜… ä»¥ä¸‹å‡å‡è®¾ä¸»ä¸²ä¸º Sï¼Œæ¨¡å¼ä¸²ä¸º P What is next[] ? é’ˆå¯¹æ¨¡å¼ä¸²ï¼Œnext[j] è¡¨ç¤ºæ¨¡å¼ä¸²ä¸‹æ ‡ j ä¹‹å‰ æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ï¼Œè¿™ä¸é‡è¦ã€‚ ä½ åªéœ€è¦è®°ä½ï¼šnext[j]è¡¨ç¤ºå½“ P[j]!=S[i] æ—¶ï¼Œj æŒ‡é’ˆçš„ä¸‹ä¸€æ­¥ç§»åŠ¨ä½ç½®ã€‚ å·ä¸ªå¥½å›¾ï¼š How to quickly build next[] ? è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸ŠğŸ void kmp_pre(string p, int next[])&#123; int i,j; j&#x3D;next[0]&#x3D;-1; i&#x3D;0; while(i&lt;p.length())&#123; while(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j]; next[++i]&#x3D;++j; &#125; &#125; â‘  åˆå§‹åŒ–next[0]=-1 â‘¡ å¦‚æœ P[next[m]]==P[m] ï¼Œé‚£ä¹ˆ next[m+1]=next[m]+1 â‘¢ å¦‚æœ P[next[m]]!=P[m]ï¼Œä»¤ t=m, t=next[t]ï¼Œæ¯”è¾ƒ P[next[t]]å’Œ P[m]ï¼šç›¸åŒçš„è¯ next[m]=next[t]+1 , ä¸åŒçš„ä»¤t=next[t] ç»§ç»­æ¯”è¾ƒï¼Œç›´åˆ° t==-1 æ—¶ï¼Œnext[m]=0 kmpè®¡æ•°æ¨¡æ¿ æ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°äº†å‡ æ¬¡ (å¯é‡å ã€ä¸å¯é‡å ) void kmp_pre(string p, int next[])&#123; int i,j; j&#x3D;next[0]&#x3D;-1; i&#x3D;0; while(i&lt;p.length())&#123; while(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j]; next[++i]&#x3D;++j; &#125; &#125; int kmp_Count(string x, string y, int next[])&#123; &#x2F;&#x2F;xæ˜¯æ¨¡å¼ä¸²ï¼Œyæ˜¯ä¸»ä¸² int i,j; int ans&#x3D;0; kmp_pre(x,next); i&#x3D;j&#x3D;0; while(i&lt;y.length())&#123; while(-1!&#x3D;j &amp;&amp; y[i]!&#x3D;x[j]) j&#x3D;next[j]; i++;j++; if(j&gt;&#x3D;x.length())&#123; ans++; &#x2F;&#x2F;ä»¥ä¸‹äºŒé€‰ä¸€ j&#x3D;next[j]; &#x2F;&#x2F;å¯é‡å è®¡æ•° j&#x3D;0; &#x2F;&#x2F;ä¸å¯é‡å è®¡æ•° &#125; &#125; return ans; &#125; exkmp Keywords: extend[] next[] O(m+n) e-kmp å¯ä»¥æ‰¾åˆ°ä¸»ä¸²ä¸­æ‰€æœ‰æ¨¡å¼ä¸²çš„åŒ¹é… What are they? next[i]: å¯¹æ¨¡å¼ä¸²ï¼Œè¡¨ç¤º P[i...m-1] ä¸ P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€ extend[i] : å¯¹ä¸»ä¸²å’Œæ¨¡å¼ä¸²ï¼Œè¡¨ç¤º S[i...n-1]ä¸ P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€ How to build them? ğŸæ¥ void ekmp_pre(string x, int next[])&#123; int m&#x3D;x.length(); next[0]&#x3D;m; int j&#x3D;0; while(j+1&lt;m &amp;&amp; x[j]&#x3D;&#x3D;x[j+1]) j++; next[1]&#x3D;j; int k&#x3D;1; for(int i&#x3D;2; i&lt;m; i++)&#123; int p&#x3D;next[k]+k-1; int L&#x3D;next[i-k]; if(i+L&lt;p+1) next[i]&#x3D;L; else&#123; j&#x3D;max(0,p-i+1); while(i+j&lt;m &amp;&amp; xi+j]&#x3D;&#x3D;x[j]) j++; next[i]&#x3D;j; k&#x3D;i; &#125; &#125; &#125; void ekmp(string x, string y, int next[], int extend[])&#123; ekmp_pre(x,next); int j&#x3D;0; int m&#x3D;x.length(), n&#x3D;y.length(); while(j&lt;n &amp;&amp; j&lt;m &amp;&amp; x[j]&#x3D;&#x3D;y[j]) j++; extend[0]&#x3D;j; int k&#x3D;0; for(int i&#x3D;1; i&lt;n; i++)&#123; int p&#x3D;extend[k]+k-1; int L&#x3D;next[i-k]; if(i+L&lt;p+1) extend[i]&#x3D;L; else&#123; j&#x3D;max(0,p-i+1); while(i+j&lt;n &amp;&amp; j&lt;m &amp;&amp; y[i+j]&#x3D;&#x3D;x[j]) j++; extend[i]&#x3D;j; k&#x3D;i; &#125; &#125; &#125; å‡è®¾æˆ‘ä»¬å·²ç»çŸ¥é“ next[] , å¦‚ä½•æ±‚ extend[] å‘¢ï¼Ÿ æ­¤å¤„å˜é‡è®¾ç½®ä¼šå’ŒğŸæœ‰æ‰€å‡ºå…¥ï¼Œä¸»è¦æ˜¯ç†è§£è¿‡ç¨‹ğŸ˜… â‘  å‡è®¾å½“å‰ S ä¸²éå†åˆ°ä½ç½®i , å³extend[0...i-1]çš„å€¼å‡ä»¥æ±‚å‡ºï¼›é¦–å…ˆè®¾ç½®ä¸¤ä¸ªå˜é‡ï¼Œa å’Œ pï¼Œp ä»£è¡¨ä»¥aä¸ºèµ·å§‹ä½ç½®çš„å­—ç¬¦åŒ¹é…æˆåŠŸçš„æœ€å³è¾¹ç•Œï¼Œâ€˜p = æœ€åä¸€ä¸ªåŒ¹é…æˆåŠŸä½ç½®+1â€™ ï¼Œå³ S[a...p) == P[0...p-a) ï¼Œå‡è®¾ä¸‹é¢åŸºäºS[i] å¯¹åº” P[i-a] çš„å‡ ç§æƒ…å†µå¼€å§‹è®¨è®ºï¼š â‘¡ å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœ i+next[i-a] &lt; p ï¼Œæ ¹æ® next[] æ•°ç»„çš„å®šä¹‰ï¼Œæ˜“çŸ¥ extend[i] = next[i-a] â‘¢ å¦‚æœ i+next[i-a] == p ï¼Œæ­¤æ—¶S[p]!=P[p-a] ä¸”P[p-i]!=P[p-a]ï¼Œä½†æ˜¯S[p]==P[p-i]çš„å¯èƒ½ä»ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥ç›´æ¥ä» S[p] ä¸ P[p-i] å¼€å§‹å‘ååŒ¹é…å³å¯ â‘£ å¦‚æœ i+next[i-a] &gt; p ï¼Œæ­¤æ—¶è¯´æ˜ S[i...p) ä¸ P[i-a...p-a]ç›¸åŒï¼Œæ³¨æ„åˆ° S[p]!=P[p-a] å¹¶ä¸” P[p-i]==P[p-a]ï¼Œå³ S[p]!=T[p-i] ï¼Œæ‰€ä»¥æ²¡å¿…è¦ç»§ç»­å¾€ä¸‹åˆ¤æ–­äº†ï¼Œæ•…èµ‹å€¼extend[i]=p-i â‘¤ ç”±ä¸Šé¢çš„è¿‡ç¨‹ï¼Œæ±‚è§£next[i]çš„è¿‡ç¨‹å³ä¸º P è‡ªå·±å’Œè‡ªå·±åŒ¹é…çš„è¿‡ç¨‹ï¼Œover éœ€è¦ç»†å“ é¢˜å• Solution 0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087 link 0x02 Secret HDU-6153 link 0x03 Cow Patterns POJ-3167 link â€¦ å¾…æ›´ kmp å’Œ exkmp æ•´çš„å¤´æ™•â€¦","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"SpringMVCå­¦ä¹ æ‚è®°","slug":"note/springMVC","date":"2021-09-15T18:37:28.000Z","updated":"2022-01-22T09:37:58.349Z","comments":true,"path":"/post/note/springMVC.html","link":"","permalink":"https://maskros.top/post/note/springMVC.html","excerpt":"SpringMVC","text":"SpringMVCå­¦ä¹ æ‚è®° æ³¨ï¼šæ‚è®°å³ä¸ºçœ‹åˆ°å•¥è®°å•¥ æ¯«æ— ç« æ³• ä¹±jbè®° å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰ Spring Spring æ˜¯æœ€å—æ¬¢è¿çš„ä¼ä¸šçº§ Java åº”ç”¨ç¨‹åºå¼€å‘çš„è½»é‡çº§æ¡†æ¶ Spring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§æ˜¯å¯ä»¥ç”¨äºå¼€å‘ä»»ä½• Java åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åœ¨ Java EE å¹³å°ä¸Šæ„å»º web åº”ç”¨ç¨‹åºæ˜¯éœ€è¦æ‰©å±•çš„ã€‚ Spring æ¡†æ¶çš„ç›®æ ‡æ˜¯ä½¿ J2EE å¼€å‘å˜å¾—æ›´å®¹æ˜“ä½¿ç”¨ï¼Œé€šè¿‡å¯ç”¨åŸºäº POJO ç¼–ç¨‹æ¨¡å‹æ¥ä¿ƒè¿›è‰¯å¥½çš„ç¼–ç¨‹å®è·µ ä¸‰å±‚æ¶æ„ è¡¨ç°å±‚ webå±‚ MVCæ˜¯è¡¨ç°å±‚çš„ä¸€ä¸ªè®¾è®¡æ¨¡å‹ ä¸šåŠ¡å±‚ serviceå±‚ æŒä¹…å±‚ daoå±‚ ä¼˜è‰¯ç‰¹æ€§ éä¾µå…¥å¼ï¼šåŸºäºSpringå¼€å‘çš„åº”ç”¨ä¸­çš„å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äºSpringçš„API æ§åˆ¶åè½¬ï¼šIOCâ€”â€”Inversion of Controlï¼ŒæŒ‡çš„æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™ Spring å»åˆ›å»ºã€‚ä½¿ç”¨ Spring ä¹‹å‰ï¼Œå¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç”±æˆ‘ä»¬è‡ªå·±åœ¨ä»£ç ä¸­newåˆ›å»ºã€‚è€Œä½¿ç”¨ Spring ä¹‹åã€‚å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç»™äº† Spring æ¡†æ¶ã€‚ ä¾èµ–æ³¨å…¥ï¼šDIâ€”â€”Dependency Injectionï¼Œæ˜¯æŒ‡ä¾èµ–çš„å¯¹è±¡ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ setXX æ–¹æ³•å»è®¾ç½®ï¼Œè€Œæ˜¯é€šè¿‡é…ç½®èµ‹å€¼ã€‚ é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼šAspect Oriented Programmingâ€”â€”AOP å®¹å™¨ï¼šSpring æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå› ä¸ºå®ƒåŒ…å«å¹¶ä¸”ç®¡ç†åº”ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶åŒ–ï¼šSpring å®ç°äº†ä½¿ç”¨ç®€å•çš„ç»„ä»¶é…ç½®ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„åº”ç”¨ã€‚åœ¨ Spring ä¸­å¯ä»¥ä½¿ç”¨XMLå’ŒJavaæ³¨è§£ç»„åˆè¿™äº›å¯¹è±¡ã€‚ ä¸€ç«™å¼ï¼šåœ¨ IOC å’Œ AOP çš„åŸºç¡€ä¸Šå¯ä»¥æ•´åˆå„ç§ä¼ä¸šåº”ç”¨çš„å¼€æºæ¡†æ¶å’Œä¼˜ç§€çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆå®é™…ä¸Š Spring è‡ªèº«ä¹Ÿæä¾›äº†è¡¨ç°å±‚çš„ SpringMVC å’ŒæŒä¹…å±‚çš„ Spring JDBCï¼‰ ä½“ç³»ç»“æ„ MVCèŒè´£åˆ†æ Controllerï¼šæ§åˆ¶å™¨ å–å¾—è¡¨å•æ•°æ® è°ƒç”¨ä¸šåŠ¡é€»è¾‘ è½¬å‘æŒ‡å®šçš„é¡µé¢ Modelï¼šæ¨¡å‹ ä¸šåŠ¡é€»è¾‘ ä¿å­˜æ•°æ®çš„çŠ¶æ€ Viewï¼šè§†å›¾ æ˜¾ç¤ºé¡µé¢ MVCæ¡†æ¶éœ€è¦åšå“ªäº›äº‹æƒ…ï¼š å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• . å°è£…ç”¨æˆ·æäº¤çš„æ•°æ® . å¤„ç†è¯·æ±‚â€“è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€“å°è£…å“åº”æ•°æ® . å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® . Servlet jspï¼šæœ¬è´¨å°±æ˜¯ä¸€ä¸ªservlet æ·»åŠ pomä¾èµ– æ–°å»ºç©ºMavené¡¹ç›® Add Framework Support é€‰æ‹©Web Applicationæ·»åŠ  å˜æˆwebé¡¹ç›® å¯¼å…¥servletå’Œjspçš„ä¾èµ– ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ public class HelloServlet extends HttpServlet åœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºtest.jsp åœ¨web.xmlä¸­æ³¨å†ŒServlet é…ç½®Tomcat å¹¶å¯åŠ¨æµ‹è¯• SpringMVC Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡ çº§Webæ¡†æ¶ Spring MVCçš„ç‰¹ç‚¹ï¼š è½»é‡çº§ï¼Œç®€å•æ˜“å­¦ é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶ ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ çº¦å®šä¼˜äºé…ç½® åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰ ç®€æ´çµæ´» Springçš„webæ¡†æ¶å›´ç»•DispatcherServlet [ è°ƒåº¦Servlet ] è®¾è®¡ DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ ä¸­å¿ƒæ§åˆ¶å™¨ Spring MVCæ¡†æ¶ä»¥è¯·æ±‚ä¸ºé©±åŠ¨ , å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½ï¼ŒDispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)ã€‚ SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â€‹ å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚ SpringMVCæ‰§è¡ŒåŸç† å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç° DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚ æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : http://localhost:8080/SpringMVC/hello å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š http://localhost:8080 æœåŠ¡å™¨åŸŸå SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹ helloè¡¨ç¤ºæ§åˆ¶å™¨ é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚ HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚ HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚ HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚ HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚ Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚ Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚ HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚ DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚ è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚ DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚ æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚ é…ç½®ç‰ˆ é…ç½®web.xml ï¼Œ æ³¨å†ŒDispatcherServlet &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\" version=\"4.0\"> &lt;!--1.æ³¨å†ŒDispatcherServlet--> &lt;servlet> &lt;servlet-name>springmvc&lt;/servlet-name> &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class> &lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--> &lt;init-param> &lt;param-name>contextConfigLocation&lt;/param-name> &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value> &lt;/init-param> &lt;!--å¯åŠ¨çº§åˆ«-1--> &lt;load-on-startup>1&lt;/load-on-startup> &lt;/servlet> &lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--> &lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--> &lt;servlet-mapping> &lt;servlet-name>springmvc&lt;/servlet-name> &lt;url-pattern>/&lt;/url-pattern> &lt;/servlet-mapping> &lt;/web-app> ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml : [servletname]-servlet.xml &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> &lt;/beans> æ·»åŠ  å¤„ç†æ˜ å°„å™¨ &lt;bean class=\"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping\"/> æ·»åŠ  å¤„ç†å™¨é€‚é…å™¨ &lt;bean class=\"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter\"/> æ·»åŠ  è§†å›¾è§£æå™¨ &lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--> &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" id=\"InternalResourceViewResolver\"> &lt;!--å‰ç¼€--> &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"/> &lt;!--åç¼€--> &lt;property name=\"suffix\" value=\".jsp\"/> &lt;/bean> ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼› package com.maskros.controller; import org.springframework.web.servlet.ModelAndView; import org.springframework.web.servlet.mvc.Controller; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; //æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£ public class HelloController implements Controller &#123; public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; //ModelAndView æ¨¡å‹å’Œè§†å›¾ ModelAndView mv = new ModelAndView(); //å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model mv.addObject(\"msg\",\"HelloSpringMVC!\"); //å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­ mv.setViewName(\"hello\"); //: /WEB-INF/jsp/hello.jsp return mv; &#125; &#125; å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean &lt;!--Handler--> &lt;bean id=\"/hello\" class=\"com.kuang.controller.HelloController\"/> å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼› &lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Kuangshen&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;body&gt; $&#123;msg&#125; &lt;&#x2F;body&gt; &lt;&#x2F;html&gt; é…ç½®tomcatå¯åŠ¨æµ‹è¯• å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚ å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼ â€»æ³¨è§£ç‰ˆ ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„ &lt;build> &lt;resources> &lt;resource> &lt;directory>src/main/java&lt;/directory> &lt;includes> &lt;include>**/*.properties&lt;/include> &lt;include>**/*.xml&lt;/include> &lt;/includes> &lt;filtering>false&lt;/filtering> &lt;/resource> &lt;resource> &lt;directory>src/main/resources&lt;/directory> &lt;includes> &lt;include>**/*.properties&lt;/include> &lt;include>**/*.xml&lt;/include> &lt;/includes> &lt;filtering>false&lt;/filtering> &lt;/resource> &lt;/resources> &lt;/build> åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥ é…ç½® web.xml &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\" version=\"4.0\"> &lt;!--1.æ³¨å†Œservlet--> &lt;servlet> &lt;servlet-name>SpringMVC&lt;/servlet-name> &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class> &lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--> &lt;init-param> &lt;param-name>contextConfigLocation&lt;/param-name> &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value> &lt;/init-param> &lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --> &lt;load-on-startup>1&lt;/load-on-startup> &lt;/servlet> &lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --> &lt;servlet-mapping> &lt;servlet-name>SpringMVC&lt;/servlet-name> &lt;url-pattern>/&lt;/url-pattern> &lt;/servlet-mapping> &lt;/web-app> / å’Œ /* çš„åŒºåˆ«ï¼š&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚&lt; url-pattern &gt; /* &lt;/ url-pattern &gt; ä¼šåŒ¹é… *.jspï¼Œä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™ æ·»åŠ  SpringMVC é…ç½®æ–‡ä»¶ åœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œåœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—® &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\"> &lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --> &lt;context:component-scan base-package=\"com.kuang.controller\"/> &lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --> &lt;mvc:default-servlet-handler /> &lt;!-- æ”¯æŒmvcæ³¨è§£é©±åŠ¨ åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³» è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹ è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚ è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚ --> &lt;mvc:annotation-driven /> &lt;!-- è§†å›¾è§£æå™¨ --> &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" id=\"internalResourceViewResolver\"> &lt;!-- å‰ç¼€ --> &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /> &lt;!-- åç¼€ --> &lt;property name=\"suffix\" value=\".jsp\" /> &lt;/bean> &lt;/beans> åˆ›å»º Contronller @Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼› @RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼› æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼› æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/hello.jspã€‚ // ç¼–å†™æ§åˆ¶ç±» package com.kuang.controller; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; @Controller @RequestMapping(\"/HelloController\") public class HelloController &#123; //çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello @RequestMapping(\"/hello\") public String sayHello(Model model)&#123; //å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“ model.addAttribute(\"msg\",\"hello,SpringMVC\"); //web-inf/jsp/hello.jsp return \"hello\"; &#125; &#125; åˆ›å»ºè§†å›¾å±‚ åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ &lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;SpringMVC&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;body&gt; $&#123;msg&#125; &lt;&#x2F;body&gt; &lt;&#x2F;html&gt; é…ç½® Tomcat è¿è¡Œ ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨ï¼Œè€Œå¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨åªéœ€è¦å¼€å¯æ³¨è§£é©±åŠ¨å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½® æ§åˆ¶å™¨å’ŒRestFul æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚ æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚ åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³• åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬ä½¿ç”¨æ³¨è§£@Controller å®ç°Controlleræ¥å£ mvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨ ControllerTest1 //å®šä¹‰æ§åˆ¶å™¨ //æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼› public class ControllerTest1 implements Controller &#123; public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123; //è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡ ModelAndView mv = new ModelAndView(); mv.addObject(\"msg\",\"Test1Controller\"); mv.setViewName(\"test\"); return mv; &#125; &#125; ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±» &lt;bean name=\"/t1\" class=\"com.maskros.controller.ControllerTest1\"/> ç¼–å†™å‰ç«¯test.jsp &lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Kuangshen&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;body&gt; $&#123;msg&#125; &lt;&#x2F;body&gt; &lt;&#x2F;html&gt; å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³• ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼› ä½¿ç”¨æ³¨è§£@Controller @Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼› Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚ &lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --> &lt;context:component-scan base-package=\"com.kuang.controller\"/> å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç° //@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­ @Controller public class ControllerTest2&#123; //æ˜ å°„è®¿é—®è·¯å¾„ @RequestMapping(\"/t2\") public String index(Model model)&#123; //Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼ model.addAttribute(\"msg\", \"ControllerTest2\"); //è¿”å›è§†å›¾ä½ç½® return \"test\"; &#125; &#125; å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚ @RequestMapping ä½¿ç”¨ @RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ // åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢ @Controller public class TestController &#123; @RequestMapping(\"/h1\") public String test()&#123; return \"test\"; &#125; &#125; //è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å / h1 // åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•@Controller @RequestMapping(\"/admin\") public class TestController &#123; @RequestMapping(\"/h1\") public String test()&#123; return \"test\"; &#125; &#125; //è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å/ admin /h1 RestFulé£æ ¼ Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚localhost:8080/a/b/c/d/â€¦â€¦ åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨ @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Š @Controller public class RestFulController &#123; //æ˜ å°„è®¿é—®è·¯å¾„ @RequestMapping(\"/commit/&#123;p1&#125;/&#123;p2&#125;\") public String index(@PathVariable int p1, @PathVariable int p2, Model model)&#123; int result = p1+p2; //Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼ model.addAttribute(\"msg\", \"ç»“æœï¼š\"+result); //è¿”å›è§†å›¾ä½ç½® return \"test\"; &#125; &#125; ä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼› è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚ é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚ ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹ ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰ //æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚ @RequestMapping(value = \"/hello\",method = &#123;RequestMethod.POST&#125;) public String index2(Model model)&#123; model.addAttribute(\"msg\", \"hello!\"); return \"test\"; &#125; // æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405 // å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº† //æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚ @RequestMapping(value = \"/hello\",method = &#123;RequestMethod.GET&#125;) public String index2(Model model)&#123; model.addAttribute(\"msg\", \"hello!\"); return \"test\"; &#125; Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚\\ æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„ æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£ @GetMapping @PostMapping @PutMapping @DeleteMapping @PatchMapping @GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤š, å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ æ•°æ®å¤„ç†å’Œè·³è½¬ è½¬å‘ é‡å®šå‘ æ¥å—è¯·æ±‚å‚æ•°ä»¥åŠæ•°æ®å›æ˜¾ @RequestParam(\"xxx\") //å¿…é¡»è¦æ±‚ä¼ è¿™ä¸ªå‚æ•° Json JavaScript Object Notation, JS å¯¹è±¡æ ‡è®° æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ï¼Œé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ® @Controllerï¼šå®šä¹‰ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œ @RestControllerï¼š æ³¨è§£ç›¸å½“äº @Controller ï¼‹ @ResponseBody åˆåœ¨ä¸€èµ·çš„ä½œç”¨ã€‚ @ResponseBodyï¼šæ ‡è®°Controllerç±»ä¸­çš„æ–¹æ³•ã€‚æŠŠreturnçš„ç»“æœå˜æˆJSONå¯¹è±¡è¿”å›ã€‚ è¯­æ³•æ ¼å¼ï¼š å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš” èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡ æ–¹æ‹¬å·ä¿å­˜æ•°ç»„ JSON é”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ &#123;\"name\": \"QinJiang\"&#125; &#123;\"age\": \"3\"&#125; &#123;\"sex\": \"ç”·\"&#125; Json å’Œ JavaScript å¯¹è±¡äº’è½¬ï¼š JSON.parse() //ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ JSON.stringify() //ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸² Controllerè¿”å›Jsonæ•°æ® Jacksonä½¿ç”¨ å¯¼å…¥å®ƒçš„jaråŒ… é…ç½®SpringMVC ç¼–å†™Controlleræ—¶éœ€è¦è¿ç”¨åˆ°ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼š@ResponseBodyï¼ŒObjectMapperå¯¹è±¡ ä¹±ç å¤„ç† FastJsonä½¿ç”¨ é˜¿é‡Œå¼€å‘ æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ ä¹±ç é—®é¢˜ &lt;!-- Jsonä¹±ç é—®é¢˜é…ç½® --> &lt;mvc:annotation-driven> &lt;mvc:message-converters register-defaults=\"true\"> &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"> &lt;constructor-arg value=\"UTF-8\"/> &lt;/bean> &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"> &lt;property name=\"objectMapper\"> &lt;bean class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\"> &lt;property name=\"failOnEmptyBeans\" value=\"false\"/> &lt;/bean> &lt;/property> &lt;/bean> &lt;/mvc:message-converters> &lt;/mvc:annotation-driven> Ajax Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ Ajax æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ å¯ä»¥é€šè¿‡ iframe æ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªAjax åˆ©ç”¨AJAXå¯ä»¥åšï¼š æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚ ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯ åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚ â€¦ jQuery.ajax Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ® jQueryæ˜¯ä¸€ä¸ªåº“ï¼Œæä¾›å¤§é‡çš„JavaScriptå‡½æ•° jQuery.ajax(...) éƒ¨åˆ†å‚æ•°ï¼š urlï¼šè¯·æ±‚åœ°å€ typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ1.9.0ä¹‹åç”¨methodï¼‰ headersï¼šè¯·æ±‚å¤´ dataï¼šè¦å‘é€çš„æ•°æ® contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: \"application/x-www-form-urlencoded; charset=UTF-8\") asyncï¼šæ˜¯å¦å¼‚æ­¥ timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€) completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€) successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€) errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€) acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯å¯æ¥å—çš„æ•°æ®ç±»å‹ dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹ \"xml\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼ \"text\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ \"html\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚ \"script\": å°è¯•å°†è¿”å›å€¼å½“ä½œJavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ \"json\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡ \"jsonp\": JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ \"myurl?callback=?\" jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•° Ajaxå¼‚æ­¥åŠ è½½æ•°æ® å®ç°äº†æ•°æ®å›æ˜¾ &lt;script> $(function () &#123; $(\"#btn\").click(function () &#123; $.post(\"$&#123;pageContext.request.contextPath&#125;/a2\",function (data) &#123; console.log(data) var html=\"\"; for (var i = 0; i &lt;data.length ; i++) &#123; html+= \"&lt;tr>\" + \"&lt;td>\" + data[i].name + \"&lt;/td>\"+ \"&lt;td>\" + data[i].age + \"&lt;/td>\" + \"&lt;td>\" + data[i].sex + \"&lt;/td>\" + \"&lt;/tr>\" &#125; //htmlæ‹¼æ¥ $(\"#content\").html(html); &#125;); &#125;) &#125;) &lt;/script> æ‹¦æˆªå™¨Interceptor SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚å¯ç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·) è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š è¿‡æ»¤å™¨ï¼š servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨ åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª æ‹¦æˆªå™¨ (æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨) æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨ æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„ æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£ åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨ &lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--> &lt;mvc:interceptors> &lt;mvc:interceptor> &lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--> &lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª--> &lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--> &lt;mvc:mapping path=\"/somewhere/**\"/> &lt;!--æ‹¦æˆªsomewhereä¸‹çš„ somewhereç”¨@RequestMapping()é…ç½® --> &lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--> &lt;bean class=\"com.maskros.interceptor.MyInterceptor\"/> &lt;/mvc:interceptor> &lt;/mvc:interceptors> æ¯å†™ä¸€ä¸ªæ‹¦æˆªå™¨è¦åˆ°xmlä¸­é…ç½®è¿™ä¸ªæ‹¦æˆªå™¨ expï¼šæœªç™»å½•æ—¶ç‚¹å‡»ä¸»é¡µæŒ‰é’®ä¼šè¢«æ‹¦æˆªå™¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢ æ‚è®° SpringMVC + Vue + SpringBoot + SpringCloud + Linux Springï¼šIOC å’Œ AOP SpringMVCï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹ï¼ŒSSMæ¡†æ¶æ•´åˆ SSM = javawebåšé¡¹ç›® MVCï¼šæ¨¡å‹ (dao, service) , è§†å›¾ (jsp) , æ§åˆ¶å™¨ (servlet) servlet: è½¬å‘ é‡å®šå‘ å‰ç«¯ æ•°æ®ä¼ è¾“ å®ä½“ç±» å®ä½“ç±»ï¼šç”¨æˆ·å å¯†ç  ç”Ÿæ—¥ â€¦ nä¸ª å‰ç«¯ï¼šç”¨æˆ·å å¯†ç  pojo: User vo: UserVo MVVM: M - V - VM (ViewModel: åŒå‘ç»‘å®š) formè¡¨å• method: get/post &lt;form action&#x3D;&quot;&#x2F;hello&quot; method&#x3D;&quot;post&quot;&gt; &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;method&quot;&gt; &lt;input type&#x3D;&quot;submit&quot;&gt; &lt;&#x2F;form&gt; Spring: å¤§æ‚çƒ©ï¼Œæˆ‘ä»¬å¯ä»¥å°†SpringMVCä¸­æ‰€æœ‰è¦ç”¨åˆ°çš„Beanï¼Œæ³¨å†Œåˆ°Springä¸­ è®¿é—®ç½‘ç«™ï¼š-&gt; Servlet(ä¸­è½¬è°ƒåº¦) &lt;=&gt; Service -&gt; Dao -&gt; Sql å‰åç«¯åˆ†ç¦»æ—¶ä»£ï¼š åç«¯éƒ¨ç½²åç«¯ï¼Œæä¾›æ¥å£ï¼Œæä¾›æ•°æ®ï¼šjson å‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼Œè´Ÿè´£æ¸²æŸ“åç«¯çš„æ•°æ® js: å‡½æ•°ï¼šé—­åŒ…() () Dom id, name, tag create, remove Bom window document ES6: import require js: data:&#123;'name':$(\"#username\").val()&#125;, // dataä¼ é”®å€¼å¯¹ &#123;x:y&#125; .val()==value å·¦è¾¹çš„nameå¯¹åº”controllerçš„name å³è¾¹çš„usernameå¯¹åº”ä¸‹é¢è¾“å…¥æ¡†çš„id,åŠ #æ‰èƒ½å–åˆ°ï¼ IDEA alt+insert å¿«æ·é”® å®ç°æ¥å£ç­‰ç­‰","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"java","slug":"java","permalink":"https://maskros.top/tags/java/"},{"name":"springMVC","slug":"springMVC","permalink":"https://maskros.top/tags/springMVC/"}]},{"title":"STLä½¿ç”¨æ‰‹å†Œ","slug":"algorithm/learn/STLä½¿ç”¨æ‰‹å†Œ","date":"2021-08-13T06:15:31.000Z","updated":"2022-07-13T09:04:28.669Z","comments":true,"path":"/post/algorithm/learn/STLä½¿ç”¨æ‰‹å†Œ.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/STL%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C.html","excerpt":"STLä½¿ç”¨æ‰‹å†Œ Standard Template Library åˆåã€ŠğŸ‘´æ€•å¿˜äº†å…ˆæŠŠä»–å†™ä¸‹æ¥ã€‹ æˆ‘ æ˜¯ è° ? æ–¯ä¸¹å¾·å„¿çš„ å¦æ™®é›·ç‰¹ è±åšç‘ å³æ ‡å‡†æ¨¡æ¿åº“ é‡è¦ç‰¹ç‚¹ï¼šæ•°æ®ç»“æ„å’Œç®—æ³•çš„åˆ†ç¦» é‡è¦ç‰¹æ€§ï¼šä¸æ˜¯é¢å‘å¯¹è±¡çš„ é€»è¾‘å±‚æ¬¡ï¼šä½“ç°äº†æ³›å‹åŒ–ç¨‹åºè®¾è®¡çš„æ€æƒ³ å®ç°å±‚æ¬¡ï¼šä»¥ä¸€ç§ç±»å‹å‚æ•°åŒ–çš„æ–¹å¼å®ç°ï¼ŒåŸºäºæ¨¡æ¿(template) å…­å¤§ç»„ä»¶ï¼š å®¹å™¨ï¼ˆContainerï¼‰ï¼Œæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¦‚listï¼Œvectorï¼Œdeques ï¼Œä»¥æ¨¡æ¿ç±»çš„æ–¹æ³•æä¾› ; è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œæä¾›äº†è®¿é—®å®¹å™¨ä¸­å¯¹è±¡çš„æ–¹æ³•ã€‚è¿­ä»£å™¨å°±å¦‚åŒä¸€ä¸ªæŒ‡é’ˆã€‚C++çš„æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚è¿­ä»£å™¨ä¹Ÿå¯ä»¥æ˜¯é‚£äº›å®šä¹‰äº†operator*()ä»¥åŠå…¶ä»–ç±»ä¼¼äºæŒ‡é’ˆçš„æ“ä½œç¬¦åœ°æ–¹æ³•çš„ç±»å¯¹è±¡ï¼› ç®—æ³•ï¼ˆAlgorithmï¼‰ï¼Œæ˜¯ç”¨æ¥æ“ä½œå®¹å™¨ä¸­çš„æ•°æ®çš„æ¨¡æ¿å‡½æ•°ã€‚å¦‚sort()ï¼Œfind()ï¼Œå‡½æ•°æœ¬èº«ä¸ä»–ä»¬æ“ä½œçš„æ•°æ®çš„ç»“æ„å’Œç±»å‹æ— å…³ ; ä»¿å‡½æ•°ï¼ˆFunctorï¼‰ é€‚é…å™¨ï¼ˆAdaptorï¼‰ åˆ†é…å™¨ï¼ˆallocatorï¼‰","text":"STLä½¿ç”¨æ‰‹å†Œ Standard Template Library åˆåã€ŠğŸ‘´æ€•å¿˜äº†å…ˆæŠŠä»–å†™ä¸‹æ¥ã€‹ æˆ‘ æ˜¯ è° ? æ–¯ä¸¹å¾·å„¿çš„ å¦æ™®é›·ç‰¹ è±åšç‘ å³æ ‡å‡†æ¨¡æ¿åº“ é‡è¦ç‰¹ç‚¹ï¼šæ•°æ®ç»“æ„å’Œç®—æ³•çš„åˆ†ç¦» é‡è¦ç‰¹æ€§ï¼šä¸æ˜¯é¢å‘å¯¹è±¡çš„ é€»è¾‘å±‚æ¬¡ï¼šä½“ç°äº†æ³›å‹åŒ–ç¨‹åºè®¾è®¡çš„æ€æƒ³ å®ç°å±‚æ¬¡ï¼šä»¥ä¸€ç§ç±»å‹å‚æ•°åŒ–çš„æ–¹å¼å®ç°ï¼ŒåŸºäºæ¨¡æ¿(template) å…­å¤§ç»„ä»¶ï¼š å®¹å™¨ï¼ˆContainerï¼‰ï¼Œæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¦‚listï¼Œvectorï¼Œdeques ï¼Œä»¥æ¨¡æ¿ç±»çš„æ–¹æ³•æä¾› ; è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œæä¾›äº†è®¿é—®å®¹å™¨ä¸­å¯¹è±¡çš„æ–¹æ³•ã€‚è¿­ä»£å™¨å°±å¦‚åŒä¸€ä¸ªæŒ‡é’ˆã€‚C++çš„æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚è¿­ä»£å™¨ä¹Ÿå¯ä»¥æ˜¯é‚£äº›å®šä¹‰äº†operator*()ä»¥åŠå…¶ä»–ç±»ä¼¼äºæŒ‡é’ˆçš„æ“ä½œç¬¦åœ°æ–¹æ³•çš„ç±»å¯¹è±¡ï¼› ç®—æ³•ï¼ˆAlgorithmï¼‰ï¼Œæ˜¯ç”¨æ¥æ“ä½œå®¹å™¨ä¸­çš„æ•°æ®çš„æ¨¡æ¿å‡½æ•°ã€‚å¦‚sort()ï¼Œfind()ï¼Œå‡½æ•°æœ¬èº«ä¸ä»–ä»¬æ“ä½œçš„æ•°æ®çš„ç»“æ„å’Œç±»å‹æ— å…³ ; ä»¿å‡½æ•°ï¼ˆFunctorï¼‰ é€‚é…å™¨ï¼ˆAdaptorï¼‰ åˆ†é…å™¨ï¼ˆallocatorï¼‰ ğŸ‘´ å¸¸ç”¨çš„ ä»¥ä¸‹ä¸æŒ‰é¡ºåºï¼Œæƒ³åˆ°å•¥å°±å†™å•¥ï¼Œæœ‰ä¸ªğŸ¥šçš„é¡ºåº å®¹å™¨ string å­—ç¬¦ä¸² &#x2F;&#x2F;æ„é€ å‡½æ•° string s(str,index); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºä½ç½®indexâ€çš„éƒ¨åˆ†å½“ä½œå­—ç¬¦ä¸²çš„åˆå€¼ string s(str,index,n); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºindexä¸”é•¿åº¦é¡¶å¤šnâ€çš„éƒ¨åˆ†ä½œä¸ºå­—ç¬¦ä¸²çš„åˆå€¼ string s(n,c); &#x2F;&#x2F;ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«nä¸ªcå­—ç¬¦(char) string s(str.begin(),str.end()); &#x2F;&#x2F;ä»¥åŒºé—´begin():end() (ä¸åŒ…å«end())å†…çš„å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²sçš„åˆå€¼ &#x2F;&#x2F;æ“ä½œå‡½æ•° s.erase(s.begin(),s.end()); &#x2F;&#x2F;åˆ é™¤ s.replace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢ï¼Œä»poså¼€å§‹é•¿ä¸ºlenè¢«æ›¿æ¢ä¸ºstr s.find(str,pos&#x3D;0); &#x2F;&#x2F;ä»poså‘å³æŸ¥æ‰¾ï¼Œè¿”å›strç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® s.rfind(str,pos&#x3D;npos); &#x2F;&#x2F;ä»posåå‘æŸ¥æ‰¾ï¼Œè¿”å›æ‰¾åˆ°ä½ç½® s.find_first_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå±äºsträ¸­å­—ç¬¦çš„ä½ç½® s.find_first_not_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å±äºsträ¸­å­—ç¬¦ä½ç½® s.find_last_of(str); s.find_last_not_of(str); s1.compare(s2); &#x2F;&#x2F;æ¯”è¾ƒï¼Œç›¸ç­‰0å¤§äº1å°äº-1 s1.compare(pos,len,s2)&#x2F;&#x2F;ä»s1çš„poså¼€å§‹é•¿ä¸ºlenä¸s2æ¯”è¾ƒ stringstream è‡ªåŠ¨ä¸”ç›´æ¥çš„ç±»å‹è½¬æ¢ stringstream sstream; &#x2F;&#x2F;æ•°æ®ç±»å‹è½¬æ¢ string str; int a&#x3D;123; sstream &lt;&lt; a; sstream &gt;&gt; str; cout&lt;&lt;str; cout&lt;&lt;sstream.str(); &#x2F;&#x2F;å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ sstream &lt;&lt; &quot;xxxx&quot; &lt;&lt; &quot; &quot; &lt;&lt; &quot;aaaaa&quot;; &#x2F;&#x2F;æ¸…ç©ºstringstream sstream.clear(); sstream.str(&quot;&quot;); pair ä¾¿æºç»“æ„ä½“ &#x2F;&#x2F;è®¿é—®é€šè¿‡first second &#x2F;&#x2F;å¯ä»¥é€šè¿‡ä¸€èˆ¬è¿ç®—ç¬¦æ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒfirstå†second pair&lt;string,int&gt; p (str,123); pair&lt;string,int&gt; p &#x3D; make_pair(str,123); vector å‘é‡å®¹å™¨ï¼ŒåŠ¨æ€å­˜å‚¨ vector&lt;int&gt; v; v.front(); v.back(); v.begin(); v.end(); v.push_back(); v.size(); v.empty(); v.clear(); v.pop_back(); &#x2F;&#x2F;åˆ é™¤è¡¨å°¾å…ƒç´  v.insert(it,x); &#x2F;&#x2F;å‘è¿­ä»£å™¨it æŒ‡å‘çš„å…ƒç´ å‰æ’å…¥æ–°å…ƒç´ x v.insert(it,n,x); &#x2F;&#x2F;æ’å…¥nä¸ªx v.insert(it, first, last); &#x2F;&#x2F;å°†ç”±è¿­ä»£å™¨firstå’Œlast æ‰€æŒ‡å®šçš„åºåˆ—[first, last)æ’å…¥åˆ°è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰é¢ v.erase(it); &#x2F;&#x2F;åˆ  v.erase(first,last); v.reverse(n); &#x2F;&#x2F;é¢„åˆ†é…ç¼“å†²ç©ºé—´ï¼Œä½¿å­˜å‚¨ç©ºé—´è‡³å°‘å¯å®¹çº³nä¸ªå…ƒç´  v.resize(n); &#x2F;&#x2F;æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºå…ƒç´ åˆ é™¤ï¼Œè‹¥æºç©ºé—´å°äºnï¼Œåˆ™é»˜è®¤å€¼å¡«æ»¡ç©ºé—´ v.resize(n,val); &#x2F;&#x2F;è¶…å‡ºçš„ç”¨valå¡«æ»¡ stack æ ˆ stack&lt;int&gt; s; s.push(x); s.pop(); s.top(); s.empty(); s.size(); queue é˜Ÿåˆ—ï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼ŒåŒç«¯é˜Ÿåˆ— &#x2F;&#x2F; queue queue&lt;int&gt; q; q.push(x); q.pop(); q.front(); q.back(); q.empty(); q.size(); &#x2F;&#x2F; priority_queue priority&lt;int&gt; q; &#x2F;&#x2F;é»˜è®¤å¤§è€…ä¼˜å…ˆ priority&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q; &#x2F;&#x2F;å°çš„å…ˆå‡ºé˜Ÿ ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼šå…ƒç´ ç±»å‹ï¼Œå®¹å™¨ç±»å‹ï¼Œæ¯”è¾ƒç®—å­ &#x2F;&#x2F; ä¼˜å…ˆçº§è®¾ç½®ï¼šå®šä¹‰ç»“æ„ä½“ struct Student&#123; int num; int grade; friend bool operator &lt; (Student s1, Student s2)&#123; return s1.grade&lt;s2.grade; &#x2F;&#x2F;æ­¤å¤„å°äºå·è¿˜æ˜¯å°äºçš„ä½œç”¨ï¼Œæ•…é˜Ÿåˆ—ä¸­ä»¥æˆç»©é«˜çš„å­¦ç”Ÿä¼˜å…ˆï¼Œè‹¥åä¹‹å˜å·å³å¯ &#125; &#125;; priority_queue&lt;Student&gt; q; &#x2F;&#x2F;ä¹Ÿå¯ä»¥æŠŠé‡è½½çš„å‡½æ•°å†™åœ¨ç»“æ„ä½“å¤–é¢ struct cmp&#123; bool operator() (Student s1, Student s2)&#123; return s1.grade&lt;s2.grade; &#125; &#125;;&#x2F;&#x2F;tips:ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„cmpå’Œsortä¸­çš„cmpæ•ˆæœç›¸å priority_queue&lt;Student,vector&lt;Student&gt;,cmp&gt; q; &#x2F;&#x2F;å¦‚æœç»“æ„ä½“å†…æ•°æ®åºå¤§ï¼Œåƒå‡ºç°å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼Œå»ºè®®ä½¿ç”¨å¼•ç”¨æ¥æé«˜æ•ˆç‡ã€‚æ­¤æ—¶æ¯”è¾ƒç±»çš„å‚æ•°éœ€è¦åŠ ä¸Š const å’Œ &amp; friend bool operator &lt; (const Student &amp;s1, const Student &amp;s2)&#123; return s1.grade&lt;s2.grade; &#125; &#x2F;&#x2F;deque deque&lt;int&gt; d; d.push_back(x); &#x2F;&#x2F;å°¾éƒ¨æ’å…¥ d.push_front(x); &#x2F;&#x2F;é¦–éƒ¨æ’å…¥å…ƒç´  d.insert(d.begin()+len,x); &#x2F;&#x2F;ä¸­é—´æ’å…¥å…ƒç´  &#x2F;&#x2F;å¯ä»¥é€šè¿‡ d[0] d[1] è®¿é—® d.pop_front(); &#x2F;&#x2F;åˆ é™¤å¤´éƒ¨ d.pop_back(); d.erase(d.begin()+len); &#x2F;&#x2F;åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ ï¼Œå¯ä»¥å†™å¤šä¸ª map é”®å€¼å¯¹ï¼Œå…ƒç´ æŒ‰å…³é”®å­—æœ‰åºï¼Œå†…éƒ¨çº¢é»‘æ ‘ &#x2F;&#x2F; mapç©ºé—´å ç”¨ç‡é«˜ map&lt;string,int&gt; m; m[key]&#x3D;value; m.insert(make_pair(key,value)); m.erase(key); m.erase(it); m.clear(); m.size(); map&lt;string,int&gt;::iterator it; for(it&#x3D;mp.begin();it!&#x3D;mp.end();++it)&#123; cout&lt;&lt;it-&gt;first&lt;&lt;&quot; &quot;&lt;&lt;it-&gt;second&lt;&lt;endl; &#125; &#x2F;&#x2F; unordered_map æ•ˆç‡è¾ƒé«˜ å†…éƒ¨å“ˆå¸Œè¡¨ &#x2F;&#x2F; å¯¹äºæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_mapä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ï¼Œå› æ­¤é‡åˆ°æŸ¥æ‰¾é—®é¢˜ï¼Œå¸¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨unordered_map set æ— é‡å¤ï¼ŒæŒ‰é”®å€¼è‡ªåŠ¨æ’åº æ•°æ®ç»“æ„ä¸ºçº¢é»‘æ ‘ã€‚ä»¥èŠ‚ç‚¹å½¢å¼ä¿å­˜ï¼ˆåŠ¨æ€)ï¼Œç”¨è¿­ä»£å™¨è®¿é—® set&lt;int&gt; s; s.begin(); s.end(); s.clear(); s.empty(); s.erase(x); s.find(x); s.insert(x); s.size(); s.lower_bound(value); &#x2F;&#x2F;è¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äºvalueçš„å®šä½å™¨ s.upper_bound(value); &#x2F;&#x2F;è¿”å›æœ€åä¸€ä¸ªå¤§äºç­‰äºvalueçš„å®šä½å™¨ set&lt;int&gt;::iterator it; for(it&#x3D;s.begin();it!&#x3D;s.end();it++) cout&lt;&lt;*it&lt;&lt;&quot; &quot;; list é“¾è¡¨ å¦‚æœä½ éœ€è¦é«˜æ•ˆçš„éšå³å­˜å–ï¼Œè€Œä¸åœ¨ä¹æ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ï¼Œä½¿ç”¨vector å¦‚æœä½ éœ€è¦å¤§é‡çš„æ’å…¥å’Œåˆ é™¤ï¼Œè€Œä¸å…³å¿ƒéšå³å­˜å–ï¼Œåˆ™åº”ä½¿ç”¨list å¦‚æœä½ éœ€è¦éšå³å­˜å–ï¼Œè€Œä¸”å…³å¿ƒä¸¤ç«¯æ•°æ®çš„æ’å…¥å’Œåˆ é™¤ï¼Œåˆ™åº”ä½¿ç”¨deque list&lt;int&gt; a(n); list&lt;int&gt; a&#123;1,2,3,4&#125;; a.push_back(x); a.push_front(x); a.empty(); a.resize(n); a.clear(); a.front(); a.back(); a.reverse(); a.merge(b); &#x2F;&#x2F;bå˜ç©ºï¼Œaå°¾æ’å…¥b a.insert(pos,x); a.insert(pos,b.begin(),b.end()); a.erase(a.begin(),a.end()); a.remove(x); bitset å­˜æ”¾äºŒè¿›åˆ¶0/1çš„å®¹å™¨ï¼Œå¯ä»¥å£°æ˜éå¸¸å¤§çš„äºŒè¿›åˆ¶ä½è€Œä¸é™äº64ï¼Œç”¨æ¥ä¼˜åŒ– bitset&lt;N&gt; b; &#x2F;&#x2F;è¡¨ç¤ºé•¿ä¸ºNçš„äºŒè¿›åˆ¶ä¸² &#x2F;&#x2F; é€šè¿‡b[pos]è®¿é—® b.any(); &#x2F;&#x2F;å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½ b.none(); &#x2F;&#x2F;ä¸å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½ b.count(); &#x2F;&#x2F;ç½®1çš„äºŒè¿›åˆ¶ä½çš„ä¸ªæ•° b.size(); b.test(pos); &#x2F;&#x2F;åœ¨posä½å¤„æ˜¯å¦ä¸º1 b.set(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®1 b.set(pos); b.reset(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®0 b.reset(pos); b.flip(); &#x2F;&#x2F;é€ä½å–å b.flip(pos); functions æŸ¥æ‰¾ &#x2F;&#x2F; å¯¹äºsort(a, a + n) å‡åºæ’åˆ— lower_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½® upper_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºxçš„ä½ç½® &#x2F;&#x2F; å¯¹äºsort(a, a + n, greater&lt;int&gt;()) é™åºæ’åˆ— lower_bound(a,a+n,x,greater&lt;int&gt;(); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äºxçš„ä½ç½® upper_bound(a,a+n,x,greater&lt;int&gt;(); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºxçš„ä½ç½® find(); rfind(); æ’åº sort(a,a+n,cmp); &#x2F;&#x2F;é»˜è®¤ASC ä¿®æ”¹ swap(a,b); &#x2F;&#x2F;äº¤æ¢ replace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢ unique(a,a+n); &#x2F;&#x2F;å»é™¤ç›¸é‚»çš„é‡å¤å…ƒç´ ,ä¼šæŠŠé‡å¤çš„è—åˆ°æœ«å°¾ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆæ’åº æ’åˆ— next_permutation(a,a+n); &#x2F;&#x2F;ä¸‹ä¸€ä¸ªå…¨æ’åˆ— prev_permutation(a,a+n); &#x2F;&#x2F;ä¸Šä¸€ä¸ªå…¨æ’åˆ— &#x2F;&#x2F;å‡½æ•°è¿”å›boolå€¼ï¼Œä¸€èˆ¬é…åˆwhile() å…¶ä»– __builtin_popcount(n); &#x2F;&#x2F;è¿”å›nçš„äºŒè¿›åˆ¶1çš„ä¸ªæ•° isalpha(char x); &#x2F;&#x2F;å°å†™å­—æ¯è¿”å›2ï¼Œå¤§å†™å­—æ¯1ï¼Œéå­—æ¯0 tolower(char x); toupper(char x); &#x2F;&#x2F;è¿”å›å°å†™ï¼Œå¤§å†™å­—æ¯çš„ASCIIå€¼ï¼Œéå­—æ¯åˆ™ç›¸ç­‰ &#x2F;&#x2F;æµ·ä¼¦å…¬å¼ p&#x3D;(a+b+c)&#x2F;2; s&#x3D;sqrt(p*(p-a)*(p-b)*(p-c)); abs(int x); &#x2F;&#x2F;åªç”¨äºæ•´æ•° fabs(double x); &#x2F;&#x2F;ç²¾åº¦æ›´é«˜ æš‚æ—¶å°±è¿™äº›äº†ï¼Œå¯„ï¼","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"æˆ‘ç¡®å®ä¸ä¼šçº¿æ®µæ ‘","slug":"algorithm/learn/çº¿æ®µæ ‘","date":"2021-08-06T08:14:31.000Z","updated":"2022-07-13T09:05:32.640Z","comments":true,"path":"/post/algorithm/learn/çº¿æ®µæ ‘.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"çº¿æ®µæ ‘ Segment Tree ä¸€ä¸ªé—®é¢˜ï¼Œåªè¦èƒ½åŒ–æˆå¯¹ä¸€äº›è¿ç»­ç‚¹lçš„ä¿®æ”¹å’Œç»Ÿè®¡é—®é¢˜ï¼ŒåŸºæœ¬å°±å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥è‰¹äº† åŸç†ï¼šå°†[1,n]åˆ†è§£æˆè‹¥å¹²ç‰¹å®šçš„å­åŒºé—´(æ•°é‡ä¸è¶…è¿‡4*n),ç„¶åï¼Œå°†æ¯ä¸ªåŒºé—´[L,R]éƒ½åˆ†è§£ä¸ºå°‘é‡ç‰¹å®šçš„å­åŒºé—´ï¼Œé€šè¿‡å¯¹è¿™äº›å°‘é‡å­åŒºé—´çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ï¼Œæ¥å®ç°å¿«é€Ÿå¯¹[L,R]çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ã€‚æ¯ä¸€ä¸ªéå¶ç»“ç‚¹æ‰€è¡¨ç¤ºçš„ç»“ç‚¹[a,b]ï¼Œå…¶å·¦å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[a,(a+b)/2]ï¼Œå³å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[(a+b)/2,b]ã€‚","text":"çº¿æ®µæ ‘ Segment Tree ä¸€ä¸ªé—®é¢˜ï¼Œåªè¦èƒ½åŒ–æˆå¯¹ä¸€äº›è¿ç»­ç‚¹lçš„ä¿®æ”¹å’Œç»Ÿè®¡é—®é¢˜ï¼ŒåŸºæœ¬å°±å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥è‰¹äº† åŸç†ï¼šå°†[1,n]åˆ†è§£æˆè‹¥å¹²ç‰¹å®šçš„å­åŒºé—´(æ•°é‡ä¸è¶…è¿‡4*n),ç„¶åï¼Œå°†æ¯ä¸ªåŒºé—´[L,R]éƒ½åˆ†è§£ä¸ºå°‘é‡ç‰¹å®šçš„å­åŒºé—´ï¼Œé€šè¿‡å¯¹è¿™äº›å°‘é‡å­åŒºé—´çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ï¼Œæ¥å®ç°å¿«é€Ÿå¯¹[L,R]çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ã€‚æ¯ä¸€ä¸ªéå¶ç»“ç‚¹æ‰€è¡¨ç¤ºçš„ç»“ç‚¹[a,b]ï¼Œå…¶å·¦å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[a,(a+b)/2]ï¼Œå³å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[(a+b)/2,b]ã€‚ ä½œç”¨ï¼šå¯¹ç¼–å·è¿ç»­çš„ä¸€äº›ç‚¹çš„åŒºé—´ä¿¡æ¯è¿›è¡Œä¿®æ”¹æˆ–è€…ç»Ÿè®¡æ“ä½œï¼Œç”¨çº¿æ®µæ ‘ç»Ÿè®¡çš„ä¸œè¥¿ï¼Œå¿…é¡»ç¬¦åˆåŒºé—´åŠ æ³•ã€‚ä¸æ ‘çŠ¶æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œçº¿æ®µæ ‘ä¸æ­¢é€‚ç”¨äºåŒºé—´æ±‚å’Œçš„æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡ŒåŒºé—´æœ€å¤§å€¼ï¼ŒåŒºé—´æœ€å°å€¼ï¼Œæˆ–è€…åŒºé—´å¼‚æˆ–å€¼çš„æŸ¥è¯¢ã€‚ ä¸»è¦æ“ä½œï¼šåŒºé—´æŸ¥è¯¢ã€ç‚¹æ›´æ–°ã€åŒºé—´æ›´æ–° ä¾‹å¦‚ï¼š ç»™å®šså’Œtï¼Œæ±‚å…¶åŒºé—´ä¸Šçš„æœ€å°å€¼ ç»™å®šiå’Œxï¼ŒæŠŠaiçš„å€¼æ”¹æˆx æ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢çš„å¤æ‚åº¦éƒ½æ˜¯ O(log(N)) æ“ä½œ build, update(å†…å«push_down), query å»ºæ ‘ (build) çº¿æ®µæ ‘æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯¹åº”ä¸€æ¡çº¿æ®µ(åŒºé—´)ï¼Œåä¹‹ä¸æˆç«‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³å­èŠ‚ç‚¹çš„ç¼–å·åˆ†åˆ«ä¸º å’Œ ï¼Œå‡å¦‚èŠ‚ç‚¹ å‚¨å­˜åŒºé—´ çš„å’Œï¼Œè®¾ ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«å‚¨å­˜ å’Œ çš„å’Œã€‚å¯ä»¥å‘ç°ï¼Œå·¦èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´é•¿åº¦ï¼Œä¸å³èŠ‚ç‚¹ç›¸åŒæˆ–è€…æ¯”ä¹‹æ°å¥½å¤š ã€‚ æ•…å»ºæ ‘å¯è€ƒè™‘é€’å½’è¿›è¡Œï¼š void build(ll l = 1, ll r = n, ll p = 1) { if (l == r) // åˆ°è¾¾å¶å­èŠ‚ç‚¹ tree[p]=A[l]; // ç”¨æ•°ç»„ä¸­çš„æ•°æ®èµ‹å€¼ else{ ll mid = (l + r) / 2; build(l, mid, p * 2); // å…ˆå»ºç«‹å·¦å³å­èŠ‚ç‚¹ build(mid + 1, r, p * 2 + 1); tree[p] = tree[p * 2] + tree[p * 2 + 1]; // è¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºå·¦å³å­èŠ‚ç‚¹ä¹‹å’Œ } } è¿™é‡ŒğŸ‘´å·äº†ä¸ª gif æ¥æ¼”ç¤ºä¸€ä¸‹è¿‡ç¨‹ (è™½ç„¶å¤§éƒ¨åˆ†éƒ½æ˜¯å·çš„ğŸ¤¡) åŒºé—´ä¿®æ”¹(update) é¦–å…ˆå®šä¹‰\"æ‡’æ ‡è®°\"(å³â€œå»¶è¿Ÿæ ‡è®°â€) mark[]ï¼š å¯¹äºåŒºé—´ä¿®æ”¹ï¼Œæœ´ç´ çš„æƒ³æ³•æ˜¯ç”¨é€’å½’çš„æ–¹å¼ä¸€å±‚å±‚ä¿®æ”¹ï¼ˆç±»ä¼¼äºçº¿æ®µæ ‘çš„å»ºç«‹ï¼‰ï¼Œä½†è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ã€‚ä½¿ç”¨æ‡’æ ‡è®°åï¼Œå¯¹äºé‚£äº›æ­£å¥½æ˜¯çº¿æ®µæ ‘èŠ‚ç‚¹çš„åŒºé—´ï¼Œæˆ‘ä»¬ä¸ç»§ç»­é€’å½’ä¸‹å»ï¼Œè€Œæ˜¯æ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå°†æ¥è¦ç”¨åˆ°å®ƒçš„å­åŒºé—´çš„æ—¶å€™ï¼Œå†å‘ä¸‹ä¼ é€’ ç›´æ¥ä¸ŠğŸ´ (éæœ€ç®€): void update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n) { if (cl &gt; r || cr &lt; l) // åŒºé—´æ— äº¤é›† return; // å‰ªæ else if (cl &gt;= l &amp;&amp; cr &lt;= r) // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´åŒ…å«åœ¨ç›®æ ‡åŒºé—´ä¸­ { tree[p] += (cr - cl + 1) * d; // æ›´æ–°å½“å‰åŒºé—´çš„å€¼ if (cr &gt; cl) // å¦‚æœä¸æ˜¯å¶å­èŠ‚ç‚¹ mark[p] += d; // ç»™å½“å‰åŒºé—´æ‰“ä¸Šæ ‡è®° } else // ä¸ç›®æ ‡åŒºé—´æœ‰äº¤é›†ï¼Œä½†ä¸åŒ…å«äºå…¶ä¸­ { ll mid = (cl + cr) / 2; mark[p * 2] += mark[p]; // æ ‡è®°å‘ä¸‹ä¼ é€’ mark[p * 2 + 1] += mark[p]; tree[p * 2] += mark[p] * (mid - cl + 1); // å¾€ä¸‹æ›´æ–°ä¸€å±‚ tree[p * 2 + 1] += mark[p] * (cr - mid); mark[p] = 0; // æ¸…é™¤æ ‡è®° update(l, r, d, p * 2, cl, mid); // é€’å½’åœ°å¾€ä¸‹å¯»æ‰¾ update(l, r, d, p * 2 + 1, mid + 1, cr); tree[p] = tree[p * 2] + tree[p * 2 + 1]; // æ ¹æ®å­èŠ‚ç‚¹æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼ } } æ›´æ–°æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä»æœ€å¤§çš„åŒºé—´å¼€å§‹ï¼Œé€’å½’å‘ä¸‹å¤„ç†ã€‚æ³¨æ„åˆ°ï¼Œä»»ä½•åŒºé—´éƒ½æ˜¯çº¿æ®µæ ‘ä¸ŠæŸäº›èŠ‚ç‚¹çš„å¹¶é›†ã€‚äºæ˜¯æˆ‘ä»¬è®°ç›®æ ‡åŒºé—´ä¸º ï¼Œå½“å‰åŒºé—´ä¸º ï¼Œ å½“å‰èŠ‚ç‚¹ä¸º ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸‰ç§æƒ…å†µï¼š å½“å‰åŒºé—´ä¸ç›®æ ‡åŒºé—´æ²¡æœ‰äº¤é›†ï¼š ç›´æ¥ç»“æŸé€’å½’ å½“å‰åŒºé—´è¢«åŒ…æ‹¬åœ¨ç›®æ ‡åŒºé—´é‡Œï¼š å¯ä»¥æ›´æ–°åŒºé—´ï¼Œä¸èƒ½å¿˜è®°ä¹˜ä¸ŠåŒºé—´é•¿åº¦ tree[p] += (cr - cl + 1) * d; ç„¶åæ‰“ä¸Šæ‡’æ ‡è®°ï¼ˆå¶å­èŠ‚ç‚¹å¯ä»¥ä¸æ‰“æ ‡è®°ï¼Œå› ä¸ºä¸ä¼šå†å‘ä¸‹ä¼ é€’äº†ï¼‰ mark[p] += d; //è¡¨ç¤ºâ€œè¯¥åŒºé—´ä¸Šæ¯ä¸€ä¸ªç‚¹éƒ½è¦åŠ ä¸Šdâ€ã€‚å› ä¸ºåŸæ¥å¯èƒ½å­˜åœ¨æ ‡è®°ï¼Œæ‰€ä»¥æ˜¯+=è€Œä¸æ˜¯= å½“å‰åŒºé—´ä¸ç›®æ ‡åŒºé—´ç›¸äº¤ï¼Œä½†ä¸åŒ…å«äºå…¶ä¸­: è¿™æ—¶æŠŠå½“å‰åŒºé—´ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚å¦‚æœå­˜åœ¨æ‡’æ ‡è®°ï¼Œè¦å…ˆæŠŠæ‡’æ ‡è®°ä¼ é€’ç»™å­èŠ‚ç‚¹ï¼ˆæ³¨æ„ä¹Ÿæ˜¯+=ï¼Œå› ä¸ºåŸæ¥å¯èƒ½å­˜åœ¨æ‡’æ ‡è®°) ll mid = (cl + cr) / 2; mark[p * 2] += mark[p]; mark[p * 2 + 1] += mark[p]; ä¸¤ä¸ªå­èŠ‚ç‚¹çš„å€¼ä¹Ÿå°±éœ€è¦ç›¸åº”çš„æ›´æ–°ï¼ˆåé¢ä¹˜çš„æ˜¯åŒºé—´é•¿åº¦) :[p * 2] += mark[p] * (mid - cl + 1); tree[p * 2 + 1] += mark[p] * (cr - mid); ä¸è¦å¿˜è®°æ¸…é™¤è¯¥èŠ‚ç‚¹çš„æ‡’æ ‡è®°ï¼š mark[p]=0; å› ä¸ºè´µæ ‡è®°å’ŒğŸ‘´ä¸€æ ·æ˜¯ä¸ªæ‡’è›‹ï¼Œåªå¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸æ˜¯é€’å½’çš„ï¼Œä»¥åè¦ç”¨å†æ‰ç»§ç»­ä¼ é€’ã€‚å…¶å®æˆ‘ä»¬å¸¸å¸¸æŠŠè¿™ä¸ªä¼ é€’è¿‡ç¨‹å°è£…æˆä¸€ä¸ªå‡½æ•°æ‰‘å±è£† : inline void push_down(ll p, ll len){ mark[p * 2] += mark[p]; mark[p * 2 + 1] += mark[p]; tree[p * 2] += mark[p] * (len - len / 2); tree[p * 2 + 1] += mark[p] * (len / 2); // å³è¾¹çš„åŒºé—´å¯èƒ½è¦çŸ­ä¸€ç‚¹ mark[p] = 0; } //è¿™æ ·å„¿ update() é‡Œé¢è°ƒç”¨çš„æ—¶å€™ç›´æ¥ push_down(p, cr - cl + 1); å°±å½³äº ä¼ é€’å®Œæ ‡è®°åï¼Œå†é€’å½’åœ°å»å¤„ç†å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹å°±å½³äºä¹ ä¸‹é¢å„¿ğŸ‘´åˆå·äº†ä¸ªè§†é¢‘å±•ç¤ºä¸€ä¸‹åŒºé—´ åŠ ä¸Š çš„è¿‡ç¨‹ï¼š è‡³äºå•ç‚¹ä¿®æ”¹ï¼Œåªéœ€è¦ä»¤å·¦å³ç«¯ç‚¹ç›¸ç­‰å³å¯~ åŒºé—´æŸ¥è¯¢(query) è¿˜å°±é‚£ä¸ªç›´æ¥ä¸ŠğŸ´ ll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){ if (cl &gt; r || cr &lt; l) return 0; else if (cl &gt;= l &amp;&amp; cr &lt;= r) return tree[p]; else{ ll mid = (cl + cr) / 2; push_down(p, cr - cl + 1); return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr); // ä¸Šä¸€è¡Œæ‹†æˆä¸‰è¡Œå†™å°±å’ŒåŒºé—´ä¿®æ”¹æ ¼å¼ä¸€è‡´äº† } } ä¸€æ ·çš„é€’å½’ï¼Œä¸€æ ·è‡ªé¡¶è‡³åº•åœ°å¯»æ‰¾ï¼Œä¸€æ ·çš„åˆå¹¶ä¿¡æ¯ï¼Œå³æ’å³ç”¨ğŸ˜ æ¨¡æ¿ source : æ´›è°·P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1 é¢˜ç›®æè¿° å¦‚é¢˜ï¼Œå·²çŸ¥ä¸€ä¸ªæ•°åˆ—ï¼Œä½ éœ€è¦è¿›è¡Œä¸‹é¢ä¸¤ç§æ“ä½œï¼š 1.å°†æŸåŒºé—´æ¯ä¸€ä¸ªæ•°åŠ ä¸Šx 2.æ±‚å‡ºæŸåŒºé—´æ¯ä¸€ä¸ªæ•°çš„å’Œ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nã€Mï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥æ•°åˆ—æ•°å­—çš„ä¸ªæ•°å’Œæ“ä½œçš„æ€»ä¸ªæ•°ã€‚ ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°å­—è¡¨ç¤ºæ•°åˆ—ç¬¬ié¡¹çš„åˆå§‹å€¼ã€‚ æ¥ä¸‹æ¥Mè¡Œæ¯è¡ŒåŒ…å«3æˆ–4ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼š æ“ä½œ1ï¼š æ ¼å¼ï¼š1 x y k å«ä¹‰ï¼šå°†åŒºé—´[x,y]å†…æ¯ä¸ªæ•°åŠ ä¸Šk æ“ä½œ2ï¼š æ ¼å¼ï¼š2 x y å«ä¹‰ï¼šè¾“å‡ºåŒºé—´[x,y]å†…æ¯ä¸ªæ•°çš„å’Œ è¾“å‡ºæ ¼å¼ è¾“å‡ºåŒ…å«è‹¥å¹²è¡Œæ•´æ•°ï¼Œå³ä¸ºæ‰€æœ‰æ“ä½œ2çš„ç»“æœã€‚ tips: æœ¬æ¨¡æ¿åˆ†ä¸ºé¾™é¸£ç‰ˆå’Œè´µæ—ç‰ˆ é¾™é¸£version (æ­¤é¾™é¸£éå½¼é¾™é¸£ï¼Œæ„ä¸ºæŠŠä¸Šé¢çš„é¾™é¸£ğŸ´æ•´åˆèµ·æ¥): #define MAXN 100005 ll n, m, A[MAXN], tree[MAXN * 4], mark[MAXN * 4]; inline void push_down(ll p, ll len){ mark[p * 2] += mark[p]; mark[p * 2 + 1] += mark[p]; tree[p * 2] += mark[p] * (len - len / 2); tree[p * 2 + 1] += mark[p] * (len / 2); mark[p] = 0; } void build(ll l = 1, ll r = n, ll p = 1){ if (l == r) tree[p] = A[l]; else{ ll mid = (l + r) / 2; build(l, mid, p * 2); build(mid + 1, r, p * 2 + 1); tree[p] = tree[p * 2] + tree[p * 2 + 1]; } } void update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n){ if (cl &gt; r || cr &lt; l) return; else if (cl &gt;= l &amp;&amp; cr &lt;= r){ tree[p] += (cr - cl + 1) * d; if (cr &gt; cl) mark[p] += d; } else{ ll mid = (cl + cr) / 2; push_down(p, cr - cl + 1); update(l, r, d, p * 2, cl, mid); update(l, r, d, p * 2 + 1, mid + 1, cr); tree[p] = tree[p * 2] + tree[p * 2 + 1]; } } ll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){ if (cl &gt; r || cr &lt; l) return 0; else if (cl &gt;= l &amp;&amp; cr &lt;= r) return tree[p]; else{ ll mid = (cl + cr) / 2; push_down(p, cr - cl + 1); return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr); } } int main(){ n = read(); m = read(); for (int i = 1; i &lt;= n; ++i) A[i] = read(); build(); for (int i = 0; i &lt; m; ++i){ ll opr = read(), l = read(), r = read(); if (opr == 1){ ll d = read(); update(l, r, d); } else printf(\"%lld\\n\", query(l, r)); } return 0; } è´µæ—version è±ªåå‡çº§plusï¼Œæœ¬æ¥æƒ³åŠ ä¸ªä¹˜é™¤çš„å‘ç°æ¿å­ä¸å…¼å®¹ï¼ŒğŸ‘´æ˜¯æ‡’ç‹— const int MAXN = 1e5 + 5; ll tree[MAXN &lt;&lt; 2], mark[MAXN &lt;&lt; 2], n, m, A[MAXN]; void push_down(int p, int len){ tree[p &lt;&lt; 1] += mark[p] * (len - len / 2); mark[p &lt;&lt; 1] += mark[p]; tree[p &lt;&lt; 1 | 1] += mark[p] * (len / 2); mark[p &lt;&lt; 1 | 1] += mark[p]; mark[p] = 0; } void build(int p = 1, int cl = 1, int cr = n){ if (cl == cr) { tree[p] = A[cl]; return; } int mid = (cl + cr) &gt;&gt; 1; build(p &lt;&lt; 1, cl, mid); build(p &lt;&lt; 1 | 1, mid + 1, cr); tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1]; } ll query(int l, int r, int p = 1, int cl = 1, int cr = n){ if (cl &gt;= l &amp;&amp; cr &lt;= r) return tree[p]; push_down(p, cr - cl + 1); ll mid = (cl + cr) &gt;&gt; 1, ans = 0; if (mid &gt;= l) ans += query(l, r, p &lt;&lt; 1, cl, mid); if (mid &lt; r) ans += query(l, r, p &lt;&lt; 1 | 1, mid + 1, cr); return ans; } void update(int l, int r, int d, int p = 1, int cl = 1, int cr = n){ if (cl &gt;= l &amp;&amp; cr &lt;= r) { tree[p] += d * (cr - cl + 1), mark[p] += d; return; } push_down(p, cr - cl + 1); int mid = (cl + cr) &gt;&gt; 1; if (mid &gt;= l) update(l, r, d, p &lt;&lt; 1, cl, mid); if (mid &lt; r) update(l, r, d, p &lt;&lt; 1 | 1, mid + 1, cr); tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1]; } å¸¸è§æ¨¡å‹ æ­¥éª¤ï¼š å°†é—®é¢˜è½¬åŒ–æˆç‚¹ä¿¡æ¯å’Œç›®æ ‡ä¿¡æ¯ å°†ç›®æ ‡ä¿¡æ¯æ ¹æ®éœ€è¦æ‰©å……æˆåŒºé—´ä¿¡æ¯ å¢åŠ ä¿¡æ¯ç¬¦åˆåŒºé—´åŠ æ³• å¢åŠ æ ‡è®°æ”¯æŒåŒºé—´æ“ä½œ ä»£ç ä¸­çš„ä¸»è¦æ¨¡å—ï¼šåŒºé—´åŠ æ³•ï¼Œæ ‡è®°ä¸‹æ¨ï¼Œç‚¹ä¿¡æ¯-&gt;åŒºé—´ä¿¡æ¯ï¼Œå„ç§æ“ä½œ(ä¿®æ”¹ã€æŸ¥è¯¢â€¦) å­—ç¬¦ä¸²å“ˆå¸Œ URAL1989 Subpalindromes é¢˜è§£ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²(é•¿åº¦&lt;=100000)ï¼Œæœ‰ä¸¤ä¸ªæ“ä½œã€‚ 1ï¼šæ”¹å˜æŸä¸ªå­—ç¬¦ã€‚ 2ï¼šåˆ¤æ–­æŸä¸ªå­ä¸²æ˜¯å¦æ„æˆå›æ–‡ä¸² åˆ†æï¼š ç›´æ¥åˆ¤æ–­ä¼šè¶…æ—¶ï¼Œæ­¤å¤„ç”¨ çº¿æ®µæ ‘ç»´æŠ¤å­—ç¬¦ä¸²å“ˆå¸Œ å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²å®ƒå¯¹åº”çš„å“ˆå¸Œå‡½æ•°ä¸º å†ç»´æŠ¤ä¸€ä¸ªä»å³å¾€å·¦çš„å“ˆå¸Œå€¼ï¼š è‹¥æ˜¯å›æ–‡ä¸²ï¼Œåˆ™å·¦å³çš„å“ˆå¸Œå€¼ä¼šç›¸ç­‰ã€‚è€Œå·¦å³å“ˆå¸Œå€¼ç›¸ç­‰ï¼Œåˆ™å¾ˆå¤§å¯èƒ½è¿™æ˜¯å›æ–‡ä¸²ã€‚ è‹¥å‡ºç°è¯¯åˆ¤ï¼Œå¯ä»¥å†ç”¨ä¸€ä¸ªK2ï¼Œè¿›è¡ŒäºŒæ¬¡å“ˆå¸Œåˆ¤æ–­ï¼Œå¯ä»¥å‡å°è¯¯åˆ¤æ¦‚ç‡ã€‚å®ç°ä¸Šï¼Œå“ˆå¸Œå€¼æœ€å¥½å¯¹æŸä¸ªè´¨æ•°å–ä½™æ•°ï¼Œè¿™æ ·åˆ†å¸ƒæ›´å‡åŒ€ã€‚ è§£é¢˜æ¨¡å‹ï¼š ç›®æ ‡ä¿¡æ¯ï¼šæŸä¸ªåŒºé—´çš„å·¦ï¼Œå³å“ˆå¸Œå€¼ ç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦ ç›®æ ‡ä¿¡æ¯å·²ç»ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥åŒºé—´ä¿¡æ¯=ç›®æ ‡ä¿¡æ¯ æ•…çº¿æ®µæ ‘ç»“æ„ï¼š åŒºé—´ä¿¡æ¯ï¼šåŒºé—´å“ˆå¸Œå€¼ ç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦ æ ¸å¿ƒï¼šå°±æ˜¯æ‰¾åˆ°åŒºé—´ä¿¡æ¯ï¼Œ å†™å¥½åŒºé—´åŠ æ³• æœ€é•¿è¿ç»­é›¶ Codeforces 527C Glass Carving é¢˜è§£ ç»™å®šä¸€ä¸ªçŸ©å½¢ï¼Œä¸åœåœ°çºµå‘/æ¨ªå‘åˆ‡å‰²ï¼Œé—®æ¯æ¬¡åˆ‡å‰²åï¼Œæœ€å¤§çš„çŸ©å½¢é¢ç§¯æ˜¯å¤šå°‘ åˆ†æï¼š æœ€å¤§çŸ©å½¢é¢ç§¯=æœ€é•¿çš„é•¿*æœ€å®½çš„å®½ é•¿å®½èŒƒå›´å‡ä¸º1e5ï¼Œæ•…ç”¨01åºåˆ—è¡¨ç¤ºæ¯ä¸ªç‚¹æ˜¯å¦è¢«åˆ‡å‰² æœ€é•¿çš„é•¿å°±æ˜¯é•¿çš„æœ€é•¿è¿ç»­0çš„æ•°é‡+1ï¼Œå®½åŒç†ï¼Œäºæ˜¯å¯ç”¨ç”¨çº¿æ®µæ ‘ç»´æŠ¤æœ€é•¿è¿ç»­é›¶ è§£é¢˜æ¨¡å‹ï¼š ç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´æœ€é•¿è¿ç»­é›¶çš„ä¸ªæ•° ç‚¹ä¿¡æ¯ï¼š0æˆ–1 ç”±äºç›®æ ‡ä¿¡æ¯ä¸ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥è¦æ‰©å……ç›®æ ‡ä¿¡æ¯ æ•…çº¿æ®µæ ‘ç»“æ„ï¼š åŒºé—´ä¿¡æ¯ï¼šä»å·¦ï¼Œå³å¼€å§‹çš„æœ€é•¿è¿ç»­é›¶ï¼Œæœ¬åŒºé—´æ˜¯å¦å…¨é›¶ï¼Œæœ¬åŒºé—´æœ€é•¿è¿ç»­é›¶ ç‚¹ä¿¡æ¯ï¼š0æˆ–1 è®¡æ•°æ’åº Codeforces 558E A Simple Task é¢˜è§£ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡1e5çš„å­—ç¬¦ä¸²ï¼ˆå°å†™è‹±æ–‡å­—æ¯ï¼‰ï¼Œå’Œä¸è¶…è¿‡5000ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œ L R K è¡¨ç¤ºç»™åŒºé—´[L,R]çš„å­—ç¬¦ä¸²æ’åºï¼ŒK=1ä¸ºå‡åºï¼ŒK=0ä¸ºé™åºã€‚ æœ€åè¾“å‡ºæœ€ç»ˆçš„å­—ç¬¦ä¸² è§£é¢˜æ¨¡å‹ï¼š ç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æ’åºç»“æœ ç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦ ç›®æ ‡ä¿¡æ¯æ˜¯ç¬¦åˆåŒºé—´åŠ æ³•çš„ï¼Œä½†æ˜¯ä¸ºäº†æ”¯æŒåŒºé—´æ“ä½œï¼Œè¿˜æ˜¯éœ€è¦æ‰©å……ä¿¡æ¯ æ•…çº¿æ®µæ ‘ç»“æ„ï¼š ç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æ’åºç»“æœï¼Œæ’åºæ ‡è®°ï¼Œæ’åºç§ç±»ï¼ˆå‡é™ï¼‰ ç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦ To be continuedâ€¦","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"åšå¼ˆè®º","slug":"algorithm/learn/åšå¼ˆè®º","date":"2021-07-31T01:51:28.000Z","updated":"2022-07-13T09:05:00.714Z","comments":true,"path":"/post/algorithm/learn/åšå¼ˆè®º.html","link":"","permalink":"https://maskros.top/post/algorithm/learn/%E5%8D%9A%E5%BC%88%E8%AE%BA.html","excerpt":"åšå¼ˆè®º Game Theory Nimæ¸¸æˆ å±äº ICG (Impartial Combinatorial Games) çš„ä¸€ç§ï¼Œæ»¡è¶³æ¡ä»¶å¦‚ä¸‹ï¼š ä¸¤åé€‰æ‰‹äº¤æ›¿ç§»åŠ¨ï¼Œåœ¨æœ‰é™çš„åˆæ³•ç§»åŠ¨é›†åˆä¸­ä»»é€‰ä¸€ç§è¿›è¡Œç§»åŠ¨ å¯¹äºä»»ä½•ä¸€ç§å±€é¢ï¼Œåˆæ³•çš„ç§»åŠ¨é›†åˆåªå–å†³äºå±€é¢æœ¬èº« åˆ°è°æ— æ³•ç§»åŠ¨è°å°±è¾“äº† ä»¥ä¸‹ç»™å‡º P/N çš„å®šä¹‰ï¼š","text":"åšå¼ˆè®º Game Theory Nimæ¸¸æˆ å±äº ICG (Impartial Combinatorial Games) çš„ä¸€ç§ï¼Œæ»¡è¶³æ¡ä»¶å¦‚ä¸‹ï¼š ä¸¤åé€‰æ‰‹äº¤æ›¿ç§»åŠ¨ï¼Œåœ¨æœ‰é™çš„åˆæ³•ç§»åŠ¨é›†åˆä¸­ä»»é€‰ä¸€ç§è¿›è¡Œç§»åŠ¨ å¯¹äºä»»ä½•ä¸€ç§å±€é¢ï¼Œåˆæ³•çš„ç§»åŠ¨é›†åˆåªå–å†³äºå±€é¢æœ¬èº« åˆ°è°æ— æ³•ç§»åŠ¨è°å°±è¾“äº† ä»¥ä¸‹ç»™å‡º P/N çš„å®šä¹‰ï¼š P-Positionï¼šå…ˆæ‰‹å¿…è´¥ç‚¹ (Previous) N-Positionï¼šå…ˆæ‰‹å¿…èƒœç‚¹ (Next) å¯çŸ¥æ‰€æœ‰ç»ˆç»“ç‚¹éƒ½æ˜¯Pç‚¹ï¼Œä¸€æ­¥å°±èƒ½åˆ°Pç‚¹çš„ä¸€å®šæ˜¯Nç‚¹ï¼Œé€šè¿‡ä¸€æ­¥åªèƒ½åˆ°Nç‚¹çš„ä¸€å®šæ˜¯Pç‚¹ ä¸‹é¢æ¥è¯´è¯´Nimæ¸¸æˆï¼šâ€œæœ‰è‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œåˆæ³•çš„ç§»åŠ¨æ˜¯â€œé€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢—ï¼ˆä¸èƒ½ä¸æ‹¿ï¼‰â€ï¼Œå¦‚æœè½®åˆ°æŸä¸ªäººæ—¶æ‰€æœ‰çš„çŸ³å­å †éƒ½å·²ç»è¢«æ‹¿ç©ºäº†ï¼Œåˆ™åˆ¤è´Ÿï¼ˆå› ä¸ºæ²¡æœ‰ä»»ä½•åˆæ³•çš„ç§»åŠ¨ï¼‰â€œï¼Œç®€å•æ¥æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ä¸ªé€’å½’çš„ç®—æ³•ï¼šå¯¹äºå½“å‰çš„å±€é¢ï¼Œé€’å½’è®¡ç®—å®ƒçš„æ‰€æœ‰å­å±€é¢çš„æ€§è´¨ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªå­å±€é¢æ˜¯Pï¼Œé‚£ä¹ˆå‘è¿™ä¸ªå­å±€é¢çš„ç§»åŠ¨å°±æ˜¯å¿…èƒœç­–ç•¥ã€‚è¿™å…¶ä¸­æœ‰å¤§é‡çš„é‡å å­é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥ç”¨DPæˆ–è€…è®°å¿†åŒ–æœç´¢çš„æ–¹æ³•ä»¥æé«˜æ•ˆç‡ã€‚ ä½†æ˜¯ğŸ‘´ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªnbçš„ç»“è®ºï¼š å¯¹äºä¸€ä¸ªNimæ¸¸æˆçš„å±€é¢(a1,a2,â€¦,an)ï¼Œå®ƒæ˜¯P-positionå½“ä¸”ä»…å½“a1^a2^â€¦^an=0ï¼Œå…¶ä¸­^è¡¨ç¤ºå¼‚æˆ–(xor)è¿ç®— æ ¹æ®è¿™ä¸ªå®šç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…åˆ¤æ–­ä¸€ä¸ªNimçš„å±€é¢çš„æ€§è´¨ï¼Œä¸”å¦‚æœå®ƒæ˜¯N-positionï¼Œä¹Ÿå¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…æ‰¾åˆ°æ‰€æœ‰çš„å¿…èƒœç­–ç•¥ã€‚Nimé—®é¢˜å°±è¿™æ ·åŸºæœ¬ä¸Šå®Œç¾çš„è§£å†³äº†ã€‚ Sprague-Grundyå‡½æ•° ICGçš„æŠ½è±¡æ¨¡å‹ï¼šç»™å®šä¸€ä¸ªæœ‰å‘æ— ç¯å›¾å’Œä¸€ä¸ªèµ·å§‹é¡¶ç‚¹ä¸Šçš„ä¸€æšæ£‹å­ï¼Œä¸¤åé€‰æ‰‹äº¤æ›¿çš„å°†è¿™æšæ£‹å­æ²¿æœ‰å‘è¾¹è¿›è¡Œç§»åŠ¨ï¼Œæ— æ³•ç§»åŠ¨è€…åˆ¤è´Ÿ é¦–å…ˆå®šä¹‰mex(minimal excludnt) è¿ç®—ï¼š æ–½åŠ äºé›†åˆï¼Œè¡¨ç¤ºæœ€å°çš„ä¸å±äºè¿™ä¸ªé›†åˆçš„éè´Ÿæ•´æ•°ï¼Œexp: mex{0,1,2,4}=3ã€mex{2,3,5}=0ã€mex{}=0ã€‚ ä¸‹é¢ç»™å‡ºSGå‡½æ•°çš„å®šä¹‰ï¼š å¯¹äºä¸€ä¸ªç»™å®šçš„æœ‰å‘æ— ç¯å›¾ï¼Œå®šä¹‰å…³äºå›¾çš„æ¯ä¸ªé¡¶ç‚¹çš„Sprague-Garundyå‡½æ•°å¦‚ä¸‹ï¼šsg(x)=mex{ sg(y) | yæ˜¯xçš„åç»§ }ã€‚ ç»“è®ºï¼šå½“SG[x] = 0æ—¶ï¼Œxä¸ºå¿…è´¥çŠ¶æ€ï¼›å½“SG[x] &gt; 0æ—¶ï¼Œxä¸ºå¿…èƒœçŠ¶æ€ æ‰€ä»¥ä»1~nçš„SGå‡½æ•°å€¼åº”è¯¥å¦‚ä½•è®¡ç®—å‘¢ï¼Ÿ ä½¿ç”¨ æ•°ç»„ f[ ] å°†å¯æ”¹å˜å½“å‰çŠ¶æ€ çš„æ–¹å¼è®°å½•ä¸‹æ¥ ç„¶åæˆ‘ä»¬ä½¿ç”¨ å¦ä¸€ä¸ªæ•°ç»„ S[ ] å°†å½“å‰çŠ¶æ€x çš„åç»§çŠ¶æ€æ ‡è®° æ¨¡æ‹Ÿmexè¿ç®—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æ ‡è®°å€¼ä¸­ æœç´¢ æœªè¢«æ ‡è®°å€¼ çš„æœ€å°å€¼ï¼Œå°†å…¶èµ‹å€¼ç»™SG(x) ä¸æ–­é‡å¤ 2-3 çš„æ­¥éª¤ï¼Œå³å®Œæˆè®¡ç®— 1-n çš„SGå‡½æ•°å€¼ SGå®šç†ï¼šSG(G)=SG(G1)^SG(G2)^â€¦^SG(Gn)ï¼ŒåŸæ¸¸æˆçš„SGå‡½æ•°å€¼æ˜¯å®ƒçš„æ‰€æœ‰å­æ¸¸æˆçš„SGå‡½æ•°å€¼çš„å¼‚æˆ– è§£é¢˜æ¨¡å‹ æŠŠåŸæ¸¸æˆåˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„å­æ¸¸æˆï¼Œåˆ™åŸæ¸¸æˆçš„SGå‡½æ•°å€¼å°±å˜ä¸ºSG(G)=SG(G1)^SG(G2)^â€¦^Sg(Gn) åˆ†åˆ«è€ƒè™‘æ¯ä¸€ä¸ªå­æ¸¸æˆï¼Œè®¡ç®—å…¶SGå€¼ SGå€¼çš„è®¡ç®—æ–¹æ³•ï¼ˆimportantï¼‰ï¼š â€‹ a. å¯é€‰æ­¥æ•°ä¸º1~mçš„è¿ç»­æ•´æ•°ï¼Œç›´æ¥å–æ¨¡å³å¯ï¼ŒSG(x) = x % (m+1) ï¼ˆBash gameï¼‰ â€‹ b. å¯é€‰æ­¥æ•°ä¸ºä»»æ„æ­¥ï¼ŒSG(x) = xï¼ˆNim gameï¼‰ â€‹ c. å¯é€‰æ­¥æ•°ä¸ºä¸€ç³»åˆ—ä¸è¿ç»­çš„æ•°ï¼Œç”¨æ¨¡æ¿è®¡ç®— æ¿å­ é¦–é€‰æ‰“è¡¨é¢„å¤„ç†ï¼Œæ‰“è¡¨æ²¡æ³•ä½¿çš„æ—¶å€™å°±æ€¼dfs â˜†æ‰“è¡¨ &#x2F;&#x2F;æ‰“è¡¨ int f[N],SG[MAXN],S[MAXN]; &#x2F;&#x2F; f[] å¯æ”¹å˜å½“å‰çŠ¶æ€çš„æ–¹å¼(å¯å–èµ°çŸ³å­ä¸ªæ•°) S[] å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€é›†åˆ void getSG(int n) &#123; int i,j; memset(SG,0,sizeof(SG)); for(i&#x3D;1;i&lt;&#x3D;n;i++) &#123; memset(S,0,sizeof(S)); for(j&#x3D;0; f[j]&lt;&#x3D;i &amp;&amp; j&lt;&#x3D;N;j++) S[SG[i-f[j]]]&#x3D;1; &#x2F;&#x2F;S[]æ•°ç»„æ¥ä¿å­˜å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€é›†åˆ for(j&#x3D;0;j&lt;&#x3D;n;j++)&#123; if(!S[j])&#123;&#x2F;&#x2F;æ¨¡æ‹Ÿmexè¿ç®— SG[i]&#x3D;j; break; &#125; &#125; &#125; &#125; æ·±æœ &#x2F;&#x2F;æ³¨æ„ fæ•°ç»„è¦æŒ‰ä»å°åˆ°å¤§æ’åº SGå‡½æ•°è¦åˆå§‹åŒ–ä¸º-1 å¯¹äºæ¯ä¸ªé›†åˆåªéœ€åˆå§‹åŒ–1é &#x2F;&#x2F;næ˜¯é›†åˆfçš„å¤§å° f[i]æ˜¯å®šä¹‰çš„ç‰¹æ®Šå–æ³•è§„åˆ™çš„æ•°ç»„ int f[110],SG[10010],n; int SG_dfs(int x)&#123; int i; if(SG[x]!&#x3D;-1) return SG[x]; bool vis[110]; memset(vis,0,sizeof(vis)); for(i&#x3D;0;i&lt;n;i++)&#123; if(x&gt;&#x3D;f[i])&#123; SG_dfs(x-f[i]); vis[SG[x-f[i]]]&#x3D;1; &#125; &#125; int e; for(i&#x3D;0;;i++) if(!vis[i])&#123; e&#x3D;i; break; &#125; return SG[x]&#x3D;e; &#125; å¸¸è§åšå¼ˆ Bash Game åªæœ‰ä¸€å †nä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµå–ç‰©ï¼Œæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œæœ€å¤šå–mä¸ªã€‚æœ€åå–å…‰è€…å¾—èƒœï¼ˆè°æ‹¿äº†æœ€åä¸€ä¸ªè°èµ¢ï¼‰ ç»“è®ºï¼šæœ€ä¼˜é€‰æ‹©ä¸ºä¿æŒç»™å¯¹æ‰‹ç•™ä¸‹ m+1 çš„å€æ•° if(n%(m+1) != 0) åˆ™å…ˆæ‰‹å¿…èµ¢ if(n%(m+1) == 0) åˆ™åæ‰‹å¿…èµ¢ Wythoff Game å„ä½ğŸ‘´å±å®ğŸ®ï¼Œé»„é‡‘åˆ†å‰²æ•°ï¼ˆ1+âˆš5ï¼‰/2 = 1.618 éƒ½ç»™æ•´ä¸Šäº† æœ‰ä¸¤å †å„è‹¥å¹²ä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»æŸä¸€å †å–ç‰©æˆ–åŒæ—¶ä»ä¸¤å †ä¸­å–åŒæ ·å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åå–å…‰è€…å¾—èƒœ è¿™é‡Œç”¨ï¼ˆakï¼Œbkï¼‰ï¼ˆak â‰¤ bk ,k=0ï¼Œ1ï¼Œ2ï¼Œâ€¦,n)è¡¨ç¤ºä¸¤å †ç‰©å“çš„æ•°é‡å¹¶ç§°å…¶ä¸ºå±€åŠ¿ ç”±akï¼Œbkç»„æˆçš„çŸ©å½¢è¿‘ä¼¼ä¸ºé»„é‡‘çŸ©å½¢ ç»“è®ºï¼š (int)((bk-ak)*(1+sqrt(5.0))/2) != ak , å…ˆæ‰‹å¿…èµ¢ (int)((bk-ak)*(1+sqrt(5.0))/2) == ak , åæ‰‹å¿…èµ¢ Nim Game è‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œä¸¤ä¸ªäººå¯ä»¥é€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢— ç»“è®ºï¼šxor ç•¥ Fibonacci Nim æœ‰ä¸€å †ä¸ªæ•°ä¸ºnçš„çŸ³å­ï¼Œæ¸¸æˆåŒæ–¹è½®æµå–çŸ³å­ï¼Œæ»¡è¶³: (1)å…ˆæ‰‹ä¸èƒ½åœ¨ç¬¬ä¸€æ¬¡æŠŠæ‰€æœ‰çš„çŸ³å­å–å®Œ (2)æ¯æ¬¡å¯ä»¥å–çš„çŸ³å­æ•°ä»‹äº1åˆ°å¯¹æ‰‹åˆšå–çš„çŸ³å­æ•°çš„2å€ä¹‹é—´(åŒ…å«) (3) å–èµ°æœ€åä¸€ä¸ªçŸ³å­çš„äººä¸ºèµ¢å®¶ ç»“è®ºï¼šå½“nä¸ºFibonacciæ•°çš„æ—¶å€™ï¼Œå¿…è´¥ f[i]ï¼š1,2,3,5,8,13,21,34,55,89â€¦â€¦","categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"åšå¼ˆ","slug":"åšå¼ˆ","permalink":"https://maskros.top/tags/%E5%8D%9A%E5%BC%88/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"}]},{"title":"sqlå­¦ä¹ ç¬”è®°","slug":"note/sql","date":"2021-07-28T16:07:28.000Z","updated":"2022-01-22T09:36:48.564Z","comments":true,"path":"/post/note/sql.html","link":"","permalink":"https://maskros.top/post/note/sql.html","excerpt":"Structured Query Language","text":"SQL ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€-Structured Query Language @authorï¼šMaskros Type ç±»å‹ å­—ç¬¦å‹ VARCHARå‹å’ŒCHARå‹ æ–‡æœ¬å‹ TEXT æ•°å€¼å‹ æ•´æ•°INT ã€å°æ•°NUMERICã€é’±æ•°MONEY) é€»è¾‘å‹ BIT æ—¥æœŸå‹ DATETIME Operation æ“ä½œ å¢åˆ æ”¹æŸ¥ CURD tips : ä¸åŒºåˆ†å¤§å°å†™ï¼Œåˆ—åè¡¨åå‰``å¯ä»¥çœç•¥ SELECT(FROM) SELECT COLUMN æŸ¥è¯¢å•ä¸ªåˆ— SELECT `column_name` FROM `table_name`; SELECT COLUMN, COLUMN æŸ¥è¯¢å¤šä¸ªåˆ— SELECT `column_name_1`, `column_name_2` FROM `table_name`; ä½¿ç”¨ SELECT * æŸ¥è¯¢æ‰€æœ‰åˆ— SELECT * FROM `table_name`; ä½¿ç”¨ SELECT DISTINCT æŸ¥è¯¢ä¸åŒè¡Œ SELECT DISTINCT `column_name` FROM `table_name` â€‹ å¸Œæœ›æŸ¥è¯¢çš„å€¼éƒ½æ˜¯å”¯ä¸€ä¸é‡å¤çš„ SELECT WHERE å¯¹è¡Œè¿›è¡Œç­›é€‰è¿‡æ»¤ SELECT `column_name1`,`column_name2`â€¦ FROM `table_name` WHERE `column_name` operator `value`; INSERT(INTO) INSERT INTO åœ¨ä¸æŒ‡å®šåˆ—çš„æƒ…å†µä¸‹æ’å…¥æ•°æ® INSERT INTO `table_name` VALUES (value1, value2, value3,...); # 'value' INSERT INTO åœ¨æŒ‡å®šçš„åˆ—ä¸­æ’å…¥æ•°æ® INSERT INTO `table_name` (`column1`, `column2`, `column3`,...) VALUES (value1, value2, value3,...); UPDATE(SET) UPDATE æ›´æ–°æ•°æ® UPDATE `table_name` SET `column1`=value1,`column2`=value2,... WHERE `some_column`=some_value; # WHERE å¯ä»¥çœç•¥ DELETE(FROM) DELETE åˆ é™¤æ•°æ® DELETE FROM `table_name` WHERE `some_column` = `some_value`; TRUNCATE TABLE æ¸…ç©ºè¡¨ Condition æ¡ä»¶ æ¯”è¾ƒè¿ç®—ç¬¦ WHERE A OPERATOR B tips: &lt;&gt; , != å‡ä¸ºä¸ç­‰äºï¼Œä½†ç”¨æ³•ä¸åŒ é€»è¾‘è¿ç®—ç¬¦ AND è¿æ¥å¤šæ¡ä»¶ OR è¿æ¥å¤šæ¡ä»¶ NOT è¿‡æ»¤ä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ® SELECT `column_name` FROM `table_name` WHERE NOT `condition`; # (condition1 operator condition2) ç‰¹æ®Šæ¡ä»¶ IN æŸ¥è¯¢å¤šæ¡ä»¶ Where `column_name1` IN (condition) # condition ä¸­ä¹Ÿå¯ä»¥å†™ IN (select `column_name1` xxxxxxxx) NOT IN æ’é™¤ SELECT * FROM `table_name` WHERE `column_name` (NOT) IN `value`; # ï¼ˆvalue1, value2ï¼‰ BETWEEN AND æŸ¥è¯¢ä¸¤å€¼é—´çš„æ•°æ®èŒƒå›´ SELECT * FROM `table_name` WHERE `column_name` BETWEEN `value` AND `value`; IS NULL æŸ¥è¯¢ç©ºæ•°æ® ä½¿ç”¨ LIKE æ¨¡ç³ŠæŸ¥è¯¢ SELECT * FROM `table_name` WHERE `column_name` LIKE `value`; # LIKE `D%` # 'D%' è¡¨ç¤ºä»¥Då¼€å¤´çš„æ‰€æœ‰å•è¯ï¼Œ% è¡¨ç¤ºä¸ºé€šé…ç¬¦ï¼Œå¯ä»¥æ›¿ä»£0~nä¸ªå­—ç¬¦ ORDER BY &amp; LIMIT ORDER BY å¯¹æ•°æ®è¿›è¡Œæ’åºï¼ˆä¸€åˆ—/å¤šåˆ—(å¤šåˆ—æŒ‰SELECTé¡ºåº)ï¼‰ ASC (ascend)å‡åº(é»˜è®¤) | DESC(descend) é™åº SELECT &#96;column_name&#96;, &#96;column_name&#96; FROM &#96;table_name&#96; # WHERE XXXX ORDER BY &#96;column_name&#96;, &#96;column_name&#96; ASC|DESC; ä½¿ç”¨ LIMIT é™åˆ¶è¾“å‡ºè¡Œæ•° offset ï¼šæ˜¯è¿”å›é›†çš„åˆå§‹æ ‡æ³¨ï¼Œèµ·å§‹ç‚¹æ˜¯0 count ï¼šåˆ¶å®šè¿”å›çš„æ•°é‡ SELECT `column_name`, `column_name` FROM `table_name` # ORDER BY XXXX LIMIT `offset` , `count`; # offsetå’Œcounté€šå¸¸åªç”¨ä¸€ä¸ªcountï¼šLIMIT (0,)1 Function å‡½æ•° ç®—æ•°å‡½æ•° AVG() å‡½æ•°æ±‚æ•°å€¼åˆ—çš„å¹³å‡å€¼ SELECT AVG(`column_name`) # AS `column2_name` FROM `table_name`; MAX() å‡½æ•°è¿”å›æŒ‡å®šåˆ—ä¸­çš„æœ€å¤§å€¼ MIN() å‡½æ•°è¿”å›æŒ‡å®šåˆ—ä¸­çš„æœ€å°å€¼ SUM() å‡½æ•°ç»Ÿè®¡æ•°å€¼åˆ—çš„æ€»æ•° ROUND() å‡½æ•°å°†æ•°å€¼å››èˆäº”å…¥ ROUND() è¿”å›å€¼æ•°æ®ç±»å‹ä¼šè¢«å˜æ¢ä¸ºä¸€ä¸ªBIGINT ã€‚ å½“ decimals ä¸ºæ­£æ•°æ—¶ï¼Œcolumn_name å››èˆäº”å…¥ä¸º decimals æ‰€æŒ‡å®šçš„å°æ•°ä½æ•°ã€‚çœç•¥decimalsè‡ªåŠ¨ä¿ç•™å››èˆäº”å…¥åçš„æ•´æ•°ã€‚å½“ decimals ä¸ºè´Ÿæ•°æ—¶ï¼Œcolumn_name åˆ™æŒ‰ decimals æ‰€æŒ‡å®šçš„åœ¨å°æ•°ç‚¹çš„å·¦è¾¹å››èˆäº”å…¥ã€‚ SELECT ROUND(`column_name`, `decimals`) FROM `table_name`; #decimals è§„å®šè¦è¿”å›çš„å°æ•°ä½æ•° NULL() å‡½æ•°åˆ¤æ–­ç©ºå€¼ ISNULL() SELECT ISNULL(`column_name`) FROM `table_name`; # è¿”å› 0 æˆ– 1 IFNULL() SELECT IFNULL(`column_name`, `value`) FROM `table_name`; # æ˜¯ NULL åˆ™è¿”å› value å€¼ï¼Œä¸æ˜¯åˆ™è¿”å›å¯¹åº”å†…å®¹ COUNT() å‡½æ•°è®¡æ•° # COUNT(column_name) å¯¹åˆ—å…·æœ‰çš„è¡Œæ•°è¿›è¡Œè®¡æ•° é™¤å»å€¼ä¸º NULL çš„è¡Œ # ä¸»è¦ç”¨äºæŸ¥çœ‹å„åˆ—æ•°æ®çš„æ•°é‡æƒ…å†µï¼Œä¾¿äºç»Ÿè®¡æ•°æ®çš„ç¼ºå¤±å€¼ SELECT COUNT(`column_name`) FROM `table_name`; # COUNT(*) å¯¹è¡¨ä¸­è¡Œçš„æ•°ç›®è¿›è¡Œè®¡æ•°,åŒ…æ‹¬ NULL æ‰€åœ¨è¡Œå’Œé‡å¤é¡¹æ‰€åœ¨è¡Œ # ä¸»è¦ç”¨äºæŸ¥çœ‹è¡¨ä¸­çš„è®°å½•æ•° SELECT COUNT(*) FROM `table_name`; # COUNT(DISTINCT column_name) å‡½æ•°è¿”å›æŒ‡å®šåˆ—çš„ä¸åŒå€¼çš„æ•°ç›® SELECT COUNT(DISTINCT `column_name`) FROM `table_name`; æ—¶é—´å‡½æ•° NOW()ï¼ŒCURDATE()ã€CURTIME() è·å–å½“å‰æ—¶é—´ NOW() è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´ YYYY-MM-DD hh:mm:ss CURDATE() è¿”å›å½“å‰æ—¥æœŸ YYYY-MM-DD CURTIME() è¿”å›å½“å‰æ—¶é—´ hh:mm:ss è¦ç²¾ç¡®çš„ç§’ä»¥åçš„æ—¶é—´çš„è¯ï¼Œå¯ä»¥åœ¨ () ä¸­åŠ æ•°å­—ï¼ŒåŠ å¤šå°‘ï¼Œå°±è¡¨ç¤ºç²¾ç¡®åˆ°ç§’åå¤šå°‘ä½ DATE()ã€TIME() å‡½æ•°æå–æ—¥æœŸå’Œæ—¶é—´ EXTRACT() å‡½æ•°æå–æŒ‡å®šçš„æ—¶é—´ä¿¡æ¯ FROM è¿”å›æ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ† unit : YEAR (å¹´)ã€MONTH (æœˆ)ã€DAY (æ—¥)ã€HOUR (å°æ—¶)ã€MINUTE (åˆ†é’Ÿ)ã€ SECOND (ç§’) SELECT EXTRACT(unit FROM date) # unit ä¸ºå•ç‹¬éƒ¨åˆ†å FROM `table` # date - åˆæ³•column DATE_FORMAT() æ ¼å¼åŒ–è¾“å‡ºæ—¥æœŸ %Y å¹´ä»½ %m æœˆä»½ %d æ—¥æœŸ %w æ˜ŸæœŸ %H å°æ—¶ %i åˆ†é’Ÿ %s ç§’ å°å†™y è¡¨ç¤ºå¹´ä»½åä¸¤ä½ï¼Œå°å†™hè¡¨ç¤º12å°æ—¶è®¡çš„å°æ—¶ SELECT DATE_FORMAT(date,'format'); DATE_ADD() å¢åŠ æ—¶é—´ INTERVAL å‘æ—¥æœŸæ·»åŠ æŒ‡å®šçš„æ—¶é—´é—´éš” expr æ˜¯å¸Œæœ›æ·»åŠ çš„æ—¶é—´é—´éš”çš„æ•°å€¼ type : MICROSECOND , SECOND , MINUTE , HOUR , DAY , WEEK , MONTH , QUARTER , YEAR SELECT DATE_ADD(date, INTERVAL expr type) FROM table_name DATE_SUB() å‡å°‘æ—¶é—´ DATEDIFF() å’Œ TIMESTAMPDIFF() è®¡ç®—æ—¥æœŸå·® æ—¶é—´1-æ—¶é—´2 DATEDIFF() é»˜è®¤åªèƒ½è®¡ç®—å¤©æ•°å·® SELECT DATEDIFF(æ—¶é—´1,æ—¶é—´2) AS date_diff FROM courses; TIMESTAMPDIFF() è®¡ç®—ç›¸å·®å¹´æœˆå‘¨æ—¥æ—¶ ç±»å‹YEAR,MONTH,WEEK,DAY,HOUR SELECT TIMESTAMPDIFF (ç±»å‹,æ—¶é—´1,æ—¶é—´2) AS year_diffï¼› Constraints çº¦æŸ NOT NULL éç©ºçº¦æŸ å¼ºåˆ¶åˆ—ä¸æ¥å— NULL å€¼ # å»ºè¡¨ CREATE TABLE &#96;Persons&#96; ( &#96;ID&#96; int NOT NULL, &#96;LastName&#96; varchar(255) ); # å·²å»ºè¡¨ ALTER TABLE &#96;Persons&#96; MODIFY &#96;Age&#96; int NOT NULL; # æ’¤é”€ ALTER TABLE &#96;Persons&#96; MODIFY &#96;Age&#96; int NULL; UNIQUE å”¯ä¸€çº¦æŸ ä¸å¸Œæœ›å‡ºç°é‡å¤è®°å½• CONSTRAINT å‘½å DROP æ’¤é”€ # å»ºè¡¨ ## MySQL CREATE TABLE `Persons`( `P_Id` int NOT NULL, UNIQUE (`P_Id`) ) ## SQL Server / Oracle / MS Access CREATE TABLE `Persons`( `P_Id` int NOT NULL UNIQUE, ) ## å‘½å+å¤šåˆ— CREATE TABLE `Persons`( `P_Id` int NOT NULL, `LastName` varchar(255) NOT NULL, CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`) ) # å·²å»º ALTER TABLE `Persons` ADD UNIQUEï¼ˆ`P_Id`ï¼‰ ## å¤šåˆ— ALTER TABLE `Persons` ADD CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`) # æ’¤é”€ ## MySQL ALTER TABLE `Persons` DROP INDEX uc_PersonID ## SQL Server / Oracle / MS Access ALTER TABLE `Persons` DROP CONSTRAINT uc_PersonID PRIMARY KEY ä¸»é”®çº¦æŸ ç®€å•çš„è¯´ï¼ŒPRIMARY KEY = UNIQUE + NOT NULL NOT NULL UNIQUE å¯ä»¥å°†è¡¨çš„ä¸€åˆ—æˆ–å¤šåˆ—å®šä¹‰ä¸ºå”¯ä¸€æ€§å±æ€§ï¼Œè€Œ PRIMARY KEY è®¾ä¸ºå¤šåˆ—æ—¶ï¼Œä»…èƒ½ä¿è¯å¤šåˆ—ä¹‹å’Œæ˜¯å”¯ä¸€çš„ï¼Œå…·ä½“åˆ°æŸä¸€åˆ—å¯èƒ½ä¼šé‡å¤ã€‚ PRIMARY KEY å¯ä»¥ä¸å¤–é”®é…åˆï¼Œä»è€Œå½¢æˆä¸»ä»è¡¨çš„å…³ç³» PRIMARY KEY ä¸€èˆ¬åœ¨é€»è¾‘è®¾è®¡ä¸­ç”¨ä½œè®°å½•æ ‡è¯†ï¼Œè¿™ä¹Ÿæ˜¯è®¾ç½® PRIMARY KEY çš„æœ¬æ¥ç”¨æ„ï¼Œè€Œ UNIQUE åªæ˜¯ä¸ºäº†ä¿è¯åŸŸ/åŸŸç»„çš„å”¯ä¸€æ€§ # å»ºè¡¨ ## MySQL CREATE TABLE `Persons( `P_Id` int NOT NULL, PRIMARY KEY (`P_Id`) ); ## SQL Server / Oracle / MS Access CREATE TABLE `Persons`( `P_Id` int NOT NULL PRIMARY KEY, ) ## å‘½å+å¤šåˆ— CONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`) # å·²å»º ALTER TABLE `Persons` ADD PRIMARY KEY (`P_Id`) ## å¤šåˆ— ALTER TABLE `Persons` ADD CONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`) # æ’¤é”€ ## MySQL ALTER TABLE `Persons` DROP PRIMARY KEY ## SQL Server / Oracle / MS Access ALTER TABLE `Persons` DROP CONSTRAINT pk_PersonID FOREIGN KEY å¤–é”®çº¦æŸ ä¸€ä¸ªè¡¨ä¸­çš„ FOREIGN KEY æŒ‡å‘å¦ä¸€ä¸ªè¡¨ä¸­çš„ UNIQUE KEY ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ åœ¨ä¸¤ä¸ªè¡¨ä¹‹é—´å»ºç«‹å…³ç³»ï¼Œéœ€è¦æŒ‡å®šå¼•ç”¨ä¸»è¡¨çš„å“ªä¸€åˆ—ï¼ŒREFERENCES è¡¨ç¤ºå¼•ç”¨ä¸€ä¸ªè¡¨ # å»ºè¡¨ ## MySQL CREATE TABLE `Orders`( `P_Id` int, FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) ## SQL Server / Oracle / MS Access CREATE TABLE `Orders`( P_Id int FOREIGN KEY REFERENCES Persons(P_Id) ) ## å‘½å+å¤šåˆ— CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) # å·²å»º ALTER TABLE `Orders` ADD FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ## å‘½å ALTER TABLE `Orders` ADD CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) # æ’¤é”€ ## MySQL ALTER TABLE `Orders` DROP FOREIGN KEY fk_PerOrders ## SQL Server / Oracle / MS Access ALTER TABLE `Orders` DROP CONSTRAINT fk_PerOrders CHECK æ£€æŸ¥çº¦æŸ é™åˆ¶åˆ—ä¸­çš„å€¼çš„èŒƒå›´ï¼Œè¯„ä¼°æ’å…¥æˆ–ä¿®æ”¹åçš„å€¼ã€‚æ»¡è¶³æ¡ä»¶æ’å…¥ï¼Œå¦ä¸æ’ å¯ä»¥ä¸ºåŒä¸€åˆ—æŒ‡å®šå¤šä¸ª CHECK çº¦æŸ # å»ºè¡¨ CREATE TABLE `courses`( `student_count` int, â€¦ CHECK (Condition1 AND Condition2) ) ## å‘½å CONSTRAINT chk_courses CHECK (`student_count` > 0); # å·²å»º ALTER TABLE `courses` ADD CHECK ( `student_count` > 0); ## ADD CONSTRAINT XXX CHECK (Condition); # æ’¤é”€ ## MySQL ALTER TABLE `courses` DROP CHECK chk_courses ## SQL Server / Oracle / MS Access ALTER TABLE `courses` DROP CONSTRAINT chk_courses DEFAULT é»˜è®¤çº¦æŸ `City` varchar(255) DEFAULT 'Sandnes' `OrderDate` date DEFAULT GETDATE() # å¯ä»¥ç”¨å‡½æ•° ALTER TABLE `Persons` ALTER `City` SET DEFAULT 'SANDNES' ADD CONSTRAINT ab_c DEFAULT 'SANDNES' for `City` ALTER `City` DROP DEFAULT ALTER COLUMN `City` DROP DEFAULT Join å¤šè¡¨è”ç»“ è”ç»“ åœ¨ä¸€æ¡ SELECT è¯­å¥ä¸­å…³è”å¤šä¸ªè¡¨ï¼Œè¿”å›ä¸€ç»„è¾“å‡º ä¸¤å¤§ä¸»è§’ : ä¸»é”® (PRIMARY KEY) å’Œå¤–é”® (FOREIGN KEY) ä½¿ç”¨å®Œå…¨é™å®šåˆ—åï¼ˆç”¨ä¸€ä¸ªç‚¹åˆ†éš”è¡¨åå’Œåˆ—åï¼‰ # condition `table1`.`common_field` = `table2`.`common_field` JOIN è¿æ¥å­å¥ INNER JOIN å†…è¿æ¥ï¼šå¦‚æœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ OUTER JOIN å¤–è¿æ¥ LEFT JOINï¼šå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å·¦è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ RIGHT JOINï¼šå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å³è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ FULL JOIN å…¨è¿æ¥ï¼šåªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ CROSS JOIN äº¤å‰è¿æ¥ï¼šåˆç§°ç¬›å¡å°”ç§¯ï¼Œä¸¤ä¸ªè¡¨æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œè¿”å›ç»“æœçš„è¡Œæ•°ç­‰äºä¸¤ä¸ªè¡¨è¡Œæ•°çš„ä¹˜ç§¯ INNER JOIN å†…è¿æ¥ åˆç§°ä¸ºEQUIJOIN ç­‰å€¼è¿æ¥ å†…è¿æ¥å°±æ˜¯å–ä¸¤ä¸ªè¡¨çš„äº¤é›†ï¼Œè¿”å›çš„ç»“æœå°±æ˜¯è¿æ¥çš„ä¸¤å¼ è¡¨ä¸­éƒ½æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ† SELECT `table1`.`column1`, `table2`.`column2`... FROM `table1` (INNER) JOIN `table2` # INNER å¯çœç•¥ä¸å†™ ON `table1`.`common_field` = `table2`.`common_field`; # ON CONDITION # exp SELECT `c`.`id`, `c`.`name` AS `course_name`, `t`.`name` AS `teacher_email` FROM `courses` `c` (INNER) JOIN `teachers` `t` ON `c`.`teacher_id` = `t`.`id`; courses c ç­‰åŒäº courses AS c ï¼Œç»™courses è¡¨å–åˆ«åä¸º c OUTER JOIN å¤–è¿æ¥ åˆ†ä¸ºå·¦å¤–è¿æ¥ å³å¤–è¿æ¥ å…¨å¤–è¿æ¥ å¤–è¿æ¥å¯ä»¥å°†æŸä¸ªè¡¨æ ¼ä¸­ï¼Œåœ¨å¦å¤–ä¸€å¼ è¡¨æ ¼ä¸­æ— å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ä¹Ÿèƒ½å°†æ•°æ®åŒ¹é…å‡ºæ¥ SELECT column_name 1,column_name 2 ... column_name n FROM table1 LEFT | RIGHT | FULL (OUTER) JOIN table2 ON CONDITION; LEFT JOIN : ä»¥å·¦è¡¨ä¸ºå‚è€ƒè¡¨ï¼Œè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼ŒåŠ ä¸Šå³è¡¨ä¸­åŒ¹é…åˆ°çš„è®°å½• RIGHT JOIN : ä»¥å³è¡¨ä¸ºå‚è€ƒè¡¨ FULL JOIN : åªè¦å·¦è¡¨å’Œå³è¡¨å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ tips : MySQL æ•°æ®åº“ä¸æ”¯æŒå…¨è¿æ¥ï¼Œæƒ³è¦å®ç°å…¨è¿æ¥å¯ä»¥ä½¿ç”¨ UNION ALL æ¥å°†å·¦è¿æ¥å’Œå³è¿æ¥ç»“æœç»„åˆåœ¨ä¸€èµ·å®ç°å…¨è¿æ¥ UNION : è”åˆï¼ŒæŠŠä¸¤æ¬¡æˆ–å¤šæ¬¡æŸ¥è¯¢ç»“æœåˆå¹¶èµ·æ¥ è¦æ±‚ï¼šä¸¤æ¬¡æŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»ä¸€è‡´ï¼ŒåŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒ UNION ä¼šå»æ‰é‡å¤çš„è¡Œã€‚ å¦‚æœä¸æƒ³å»æ‰é‡å¤çš„è¡Œï¼Œå¯ä»¥ä½¿ç”¨ UNION ALL å¦‚æœå­å¥ä¸­æœ‰ order by , limitï¼Œéœ€ç”¨æ‹¬å·()åŒ…èµ·æ¥ã€‚æ¨èæ”¾åˆ°æ‰€æœ‰å­å¥ä¹‹åï¼Œå³å¯¹æœ€ç»ˆåˆå¹¶çš„ç»“æœæ¥æ’åºæˆ–ç­›é€‰ SELECT column_name 1,column_name 2 ... column_name n FROM table1 LEFT JOIN table2 ON CONDITION UNION SELECT column_name 1,column_name 2 ... column_name n FROM table1 RIGHT JOIN table2 ON CONDITION ; CROSS JOIN äº¤å‰è¿æ¥ ç»“æœä¹Ÿç§°ä½œç¬›å¡å°”ç§¯ è¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå·¦è¡¨ä¸­çš„æ¯ä¸€è¡Œä¸å³è¡¨ä¸­çš„æ‰€æœ‰è¡Œç»„åˆã€‚å³å°†ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œå…¶æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸ºå·¦è¡¨ä¸­çš„è¡Œæ•°ä¹˜ä»¥å³è¡¨ä¸­çš„è¡Œæ•°ã€‚ # éšå¼è¿æ¥ ä¸éœ€è¦ä½¿ç”¨ CROSS JOIN å…³é”®å­— SELECT `table1`.`column1`, `table2`.`column2`... FROM `table1`,`table2`; # æ˜¾å¼è¿æ¥ SELECT `table1`.`column1`, `table2`.`column2`... FROM `table1` CROSS JOIN `table2`; é€šè¿‡å¢åŠ è”ç»“æ¡ä»¶ï¼Œä½¿ç”¨ WHERE å­å¥å¸®åŠ©ç­›é€‰è¿‡æ»¤æ— æ•ˆçš„æ•°æ® Advanced Select åˆ†ç»„æŸ¥è¯¢ GROUP BY å­å¥ å¯¹åŒç±»çš„æ•°æ®è¿›è¡Œåˆ†ç±» SELECT `column_name`, aggregate_function(`column_name`) FROM `table_name` WHERE `column_name` operator value GROUP BY `column_name`; HAVING å­å¥ ä½¿ç”¨ WHERE æ¡ä»¶å­å¥æ—¶ä¸èƒ½ä¸èšåˆå‡½æ•°è”åˆä½¿ç”¨ HAVING å­å¥ç»å¸¸ä¸ GROUP BY è”åˆä½¿ç”¨ï¼ŒHAVING å­å¥å°±æ˜¯å¯¹åˆ†ç»„ç»Ÿè®¡å‡½æ•°è¿›è¡Œè¿‡æ»¤çš„å­å¥ HAVING å­å¥å¯¹äº GROUP BY å­å¥è®¾ç½®æ¡ä»¶çš„æ–¹å¼å…¶å®ä¸ WHERE å­å¥ä¸ SELECT çš„æ–¹å¼ç±»ä¼¼ï¼Œè¯­æ³•ç›¸è¿‘ï¼Œä½† WHERE å­å¥æœç´¢æ¡ä»¶æ˜¯åœ¨åˆ†ç»„æ“ä½œä¹‹å‰ï¼Œè€Œ HAVING åˆ™æ˜¯åœ¨ä¹‹å SELECT `column_name`, aggregate_function(`column_name`) FROM `table_name` WHERE `column_name` operator value GROUP BY `column_name` HAVING aggregate_function(`column_name`) operator value; ex: æŸ¥è¯¢æ•™å¸ˆè¡¨ teachersè®¡ç®—ä¸åŒå›½ç±æ•™å¸ˆçš„å¹³å‡å¹´é¾„å’Œæ‰€æœ‰æ•™å¸ˆçš„å¹³å‡å¹´é¾„ï¼Œæ¯”è¾ƒä¸¤è€…çš„å¤§å°ï¼Œæœ€åè¿”å›å¤§äºæ‰€æœ‰æ•™å¸ˆå¹³å‡å¹´é¾„çš„ä¸åŒå›½ç±ä¸‹çš„å…¨éƒ¨æ•™å¸ˆä¿¡æ¯ # å­æŸ¥è¯¢ SELECT * FROM teachers WHERE country IN (SELECT country FROM teachers GROUP BY country HAVING AVG(age) > (SELECT AVG(age) FROM teachers)) å­æŸ¥è¯¢(Base) SELECT è¯­å¥ä¸­çš„å­æŸ¥è¯¢ SELECT `column_name(s)` FROM `table_name` WHERE `column_name` OPERATOR ( SELECT `column_name(s)` FROM `table_name` ); INSERT è¯­å¥ä¸­çš„å­æŸ¥è¯¢ INSERT INTO `table_name` SELECT `colnum_name(s)` FROM `table_name` [ WHERE VALUE OPERATOR ] UPDATE è¯­å¥ä¸­çš„å­æŸ¥è¯¢ UPDATE `table_name` SET `column_name` = `new_value` WHERE `column_name` OPERATOR (SELECT `column_name` FROM `table_name` [WHERE] ) DELETE è¯­å¥ä¸­çš„å­æŸ¥è¯¢ DELETE FROM `table_name` WHERE `column_name` OPERATOR (SELECT `column_name` FROM `table_name` [WHERE] ) å­æŸ¥è¯¢(Adv.) å†…è”è§†å›¾å­æŸ¥è¯¢ å°†æŸ¥è¯¢çš„ç»“æœé›†ä½œä¸ºä¸€ä¸ªæŸ¥è¯¢è¡¨ï¼Œç»§ç»­è¿›è¡ŒæŸ¥è¯¢æ“ä½œ SELECT * FROM ( SELECT * xxxx ) `T` WHERE xxx = ( SELECT xxxx ); IN æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢ / NOT IN ANY æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢ åœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ANY ï¼Œè¡¨ç¤ºä¸å­æŸ¥è¯¢è¿”å›çš„ä»»ä½•å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›çœŸ SELECT `column_name(s)` FROM `table_name` WHERE `column_name` OPERATOR ANY(SELECT column_name FROM table_name) ALL æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢ åœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ALL ï¼Œè¡¨ç¤ºä¸å­æŸ¥è¯¢è¿”å›çš„æ‰€æœ‰å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›çœŸ å¤šåˆ—å­æŸ¥è¯¢ HAVING å­å¥ä¸­çš„å­æŸ¥è¯¢","categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"sql","slug":"sql","permalink":"https://maskros.top/tags/sql/"}]},{"title":"ç«èµ›è®°å½•","slug":"life/ç«èµ›è®°å½•","date":"2019-08-24T16:00:01.000Z","updated":"2022-11-06T14:06:37.810Z","comments":true,"path":"/post/life/ç«èµ›è®°å½•.html","link":"","permalink":"https://maskros.top/post/life/%E7%AB%9E%E8%B5%9B%E8%AE%B0%E5%BD%95.html","excerpt":"ç®—æ³•åºŸç‰©çš„æ‰“é“è®°å½•","text":"ç«èµ›è®°å½• = ç‚¼é“œ/æ‰“é“è®°å½• 2022.11.6 CCPC(å¨æµ·)çº¿ä¸Šèµ›æ‰“é“œ 5é¢˜ï¼Œç¬¬ä¸€æ¬¡å°æ¦œåAé¢˜ 2022.10.30 CCPC(æ¡‚æ—)çº¿ä¸Šèµ›æ‰“é“œ 4é¢˜é“œé¦– 2022.6.18 è“æ¡¥æ¯å›½èµ›Aç»„å›½äºŒ å¸Œæœ›å¤§å®¶éƒ½æ¥å‚åŠ åœˆé’±æ¯æ 2022.5.22 ICPCå±±ä¸œçœèµ›æ‰“é“¶ é“¶é¦–ï¼Œå¯æƒœäº†è®¡ç®—å‡ ä½•æ²¡è°ƒå‡ºæ¥ 2022.5 å¤©æ¢¯èµ›Aç»„çœä¸€ 2022.4.17 ICPC(æ˜†æ˜)çº¿ä¸Šèµ›æ‰“é“œ äº²æ‰‹Aæ‰é“œç‰Œé¢˜ï¼Œæˆ‘ä»¬æ˜¯å† å†› 2022.4 è“æ¡¥æ¯Aç»„çœä¸€ 2021.12 CCSPåˆ†èµ›é“œé¦– åä¸œrk71ï¼Œå¡é“¶ç‰Œçº¿æ 2021.11.28 ICPC(ä¸Šæµ·)çº¿ä¸Šèµ›æ‰“é“ å¡æ ‘ä¸ŠDPç­¾åˆ°ï¼ŒDPå˜å½¢ 2021.10 CCPCç½‘ç»œèµ›é‡èµ›æ‰“é“ 2021.9 ICPCç½‘ç»œé¢„é€‰èµ›æ‰“é“ 2021.8 CCPCç½‘ç»œé¢„é€‰èµ›æ‰“é“ 2021.8.21 ç™¾åº¦ä¹‹æ˜Ÿå¤èµ›æ‰“é“ 2021.4.18 è“æ¡¥æ¯Aç»„çœäºŒæ‰“é“ 2021.5.16 ICPC(é“¶å·)ç°åœºèµ›æ‰“é“ é˜…è¯»ç­¾åˆ°WA32ï¼Œå¡è¡Œæœ«ç©ºæ ¼AC+6ï¼ŒTrieå½“æ—¶æ²¡æŒæ¡ 2020.12 ICPC(å—äº¬)çº¿ä¸Šèµ›æ‰“é“ 2020.11 åä¸ºæ¯æ ¡èµ›ä¸‰ç­‰ 2020.10.17 è“æ¡¥æ¯Aç»„çœäºŒæ‰“é“ 2020.10 CCPC(å¨æµ·)çº¿ä¸Šèµ›æ‰“é“","categories":[{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"}],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"}]}],"categories":[{"name":"NOTE","slug":"NOTE","permalink":"https://maskros.top/categories/NOTE/"},{"name":"LIFE","slug":"LIFE","permalink":"https://maskros.top/categories/LIFE/"},{"name":"ALGORITHMS","slug":"ALGORITHMS","permalink":"https://maskros.top/categories/ALGORITHMS/"},{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","permalink":"https://maskros.top/categories/ALGORITHM-TRAINING/"},{"name":"SOLUTIONS","slug":"SOLUTIONS","permalink":"https://maskros.top/categories/SOLUTIONS/"},{"name":"PROJECT","slug":"PROJECT","permalink":"https://maskros.top/categories/PROJECT/"}],"tags":[{"name":"note","slug":"note","permalink":"https://maskros.top/tags/note/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://maskros.top/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"https://maskros.top/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"},{"name":"python","slug":"python","permalink":"https://maskros.top/tags/python/"},{"name":"Life","slug":"Life","permalink":"https://maskros.top/tags/Life/"},{"name":"numpy","slug":"numpy","permalink":"https://maskros.top/tags/numpy/"},{"name":"ACM","slug":"ACM","permalink":"https://maskros.top/tags/ACM/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://maskros.top/tags/%E6%95%B0%E5%AD%A6/"},{"name":"algorithm","slug":"algorithm","permalink":"https://maskros.top/tags/algorithm/"},{"name":"OpenCV","slug":"OpenCV","permalink":"https://maskros.top/tags/OpenCV/"},{"name":"è§†è§‰","slug":"è§†è§‰","permalink":"https://maskros.top/tags/%E8%A7%86%E8%A7%89/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"https://maskros.top/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"},{"name":"java","slug":"java","permalink":"https://maskros.top/tags/java/"},{"name":"springBoot","slug":"springBoot","permalink":"https://maskros.top/tags/springBoot/"},{"name":"string","slug":"string","permalink":"https://maskros.top/tags/string/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"https://maskros.top/tags/%E4%BA%8C%E5%88%86/"},{"name":"hash","slug":"hash","permalink":"https://maskros.top/tags/hash/"},{"name":"STL","slug":"STL","permalink":"https://maskros.top/tags/STL/"},{"name":"dp","slug":"dp","permalink":"https://maskros.top/tags/dp/"},{"name":"dfs","slug":"dfs","permalink":"https://maskros.top/tags/dfs/"},{"name":"solutions","slug":"solutions","permalink":"https://maskros.top/tags/solutions/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"https://maskros.top/tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"nowcoder","slug":"nowcoder","permalink":"https://maskros.top/tags/nowcoder/"},{"name":"äºŒè¿›åˆ¶æšä¸¾","slug":"äºŒè¿›åˆ¶æšä¸¾","permalink":"https://maskros.top/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%9E%9A%E4%B8%BE/"},{"name":"codeforces","slug":"codeforces","permalink":"https://maskros.top/tags/codeforces/"},{"name":"æ€ç»´","slug":"æ€ç»´","permalink":"https://maskros.top/tags/%E6%80%9D%E7%BB%B4/"},{"name":"bfs","slug":"bfs","permalink":"https://maskros.top/tags/bfs/"},{"name":"è®¨è®º","slug":"è®¨è®º","permalink":"https://maskros.top/tags/%E8%AE%A8%E8%AE%BA/"},{"name":"å·®åˆ†","slug":"å·®åˆ†","permalink":"https://maskros.top/tags/%E5%B7%AE%E5%88%86/"},{"name":"æ„é€ ","slug":"æ„é€ ","permalink":"https://maskros.top/tags/%E6%9E%84%E9%80%A0/"},{"name":"LCA","slug":"LCA","permalink":"https://maskros.top/tags/LCA/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://maskros.top/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"},{"name":"æ¬§æ‹‰é™å¹‚","slug":"æ¬§æ‹‰é™å¹‚","permalink":"https://maskros.top/tags/%E6%AC%A7%E6%8B%89%E9%99%8D%E5%B9%82/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"https://maskros.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"name":"åšå¼ˆ","slug":"åšå¼ˆ","permalink":"https://maskros.top/tags/%E5%8D%9A%E5%BC%88/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"https://maskros.top/tags/%E6%A8%A1%E6%8B%9F/"},{"name":"STè¡¨","slug":"STè¡¨","permalink":"https://maskros.top/tags/ST%E8%A1%A8/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://maskros.top/tags/%E5%9B%BE%E8%AE%BA/"},{"name":"é€†å…ƒ","slug":"é€†å…ƒ","permalink":"https://maskros.top/tags/%E9%80%86%E5%85%83/"},{"name":"euler","slug":"euler","permalink":"https://maskros.top/tags/euler/"},{"name":"WeRoBot","slug":"WeRoBot","permalink":"https://maskros.top/tags/WeRoBot/"},{"name":"ComputerNetwork","slug":"ComputerNetwork","permalink":"https://maskros.top/tags/ComputerNetwork/"},{"name":"Trie","slug":"Trie","permalink":"https://maskros.top/tags/Trie/"},{"name":"kmp","slug":"kmp","permalink":"https://maskros.top/tags/kmp/"},{"name":"CCPC","slug":"CCPC","permalink":"https://maskros.top/tags/CCPC/"},{"name":"æ‰“è¡¨","slug":"æ‰“è¡¨","permalink":"https://maskros.top/tags/%E6%89%93%E8%A1%A8/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://maskros.top/tags/%E8%B4%AA%E5%BF%83/"},{"name":"Dijkstra","slug":"Dijkstra","permalink":"https://maskros.top/tags/Dijkstra/"},{"name":"gcd","slug":"gcd","permalink":"https://maskros.top/tags/gcd/"},{"name":"Crawler","slug":"Crawler","permalink":"https://maskros.top/tags/Crawler/"},{"name":"requests","slug":"requests","permalink":"https://maskros.top/tags/requests/"},{"name":"springMVC","slug":"springMVC","permalink":"https://maskros.top/tags/springMVC/"},{"name":"sql","slug":"sql","permalink":"https://maskros.top/tags/sql/"}]}