{"title":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘","uid":"9c59719004482610a68ff40b9f6386dd","slug":"note/WeRoBot","date":"2021-12-27T17:24:28.000Z","updated":"2022-01-22T17:29:00.674Z","comments":true,"path":"api/articles/note/WeRoBot.json","keywords":null,"cover":[],"content":"<link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css\"><h1><span id=\"åˆ©ç”¨werobotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘\">åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘</span></h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å¯„ç½‘å°å®éªŒï¼Œå®ç°èµ·æ¥ä¸éš¾ï¼Œè®°å½•ä¸€ä¸‹ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼ŒåŒ…æ‹¬ä¸€äº›å¯¹Tokençš„ç†è§£</p></blockquote>\n<h2><span id=\"å‡†å¤‡\">å‡†å¤‡</span></h2><p>å¾®ä¿¡å…¬ä¼—å·ã€äº‘æœåŠ¡å™¨ã€Xftp&amp;Xshell (Replaceable)ã€WeRoBot 1.13.1</p>\n<h2><span id=\"æ€»ä½“æµç¨‹\">æ€»ä½“æµç¨‹</span></h2><p><strong>step1</strong> : æ³¨å†Œå¾®ä¿¡å…¬ä¼—å·</p>\n<p><strong>step2</strong> : é€šè¿‡éªŒè¯Tokenå°†å…¬ä¼—å·ä¸æœåŠ¡å™¨ç»‘å®š</p>\n<p><strong>step3</strong> : åœ¨æœåŠ¡å™¨ä»£ç é‡ŒåŠ å…¥å…¬ä¼—å·å®ç°çš„åŠŸèƒ½</p>\n<h2><span id=\"å…³äºwerobot\">å…³äºWeRoBot</span></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>WeRoBotå®˜æ–¹æ–‡æ¡£: <a href=\"https://werobot.readthedocs.io/zh_CN/latest/index.html\">link</a></p></blockquote>\n<p><strong>WeRoBot</strong> æ˜¯ä¸€ä¸ªåŸºäºPythonçš„å¾®ä¿¡æœºå™¨äººæ¡†æ¶ï¼Œé‡‡ç”¨MITåè®®å‘å¸ƒã€‚å¯ä»¥å°†å¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯è¿›è¡Œè§£æå’Œè½¬æ¢ï¼Œä½¿ç”¨ Session è®°å½•ç”¨æˆ·çŠ¶æ€ï¼ŒåŒ…æ‹¬å¼€å‘è‡ªå®šä¹‰èœå•ç­‰åŠŸèƒ½ï¼Œå¯¹åˆå­¦è€…æ¥è®²ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚WeRoBot å¯ä»¥ä½œä¸ºç‹¬ç«‹æœåŠ¡è¿è¡Œï¼Œä¹Ÿå¯ä»¥é›†æˆåœ¨å…¶ä»– Web æ¡†æ¶ä¸­ä¸€åŒè¿è¡Œã€‚ä»¥ä¸‹ç®€å•ä¸¾ä¾‹ï¼š</p>\n<h3><span id=\"0x01-hello-world\">0x01 Hello World</span></h3><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># ç»™æ”¶åˆ°çš„æ¯ä¸€æ¡ä¿¡æ¯å›å¤ Hello World</span>\n<span class=\"token keyword\">import</span> werobot\n\nrobot <span class=\"token operator\">=</span> werobot<span class=\"token punctuation\">.</span>WeRoBot<span class=\"token punctuation\">(</span>token<span class=\"token operator\">=</span><span class=\"token string\">'tokenhere'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>handler</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello World!'</span>\n\n<span class=\"token comment\"># è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80</span>\nrobot<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'HOST'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'0.0.0.0'</span>\nrobot<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'PORT'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">80</span>\nrobot<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3><span id=\"0x02-æ¶ˆæ¯å¤„ç†\">0x02 æ¶ˆæ¯å¤„ç†</span></h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>WeRoBot ä¼šè§£æå¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯ï¼Œ å¹¶å°†æ¶ˆæ¯è½¬æ¢æˆæˆ <a href=\"https://werobot.readthedocs.io/zh_CN/latest/messages.html#message\">Message</a> æˆ–è€…æ˜¯ <a href=\"https://werobot.readthedocs.io/zh_CN/latest/events.html#event\">Event</a> ã€‚ <a href=\"https://werobot.readthedocs.io/zh_CN/latest/messages.html#message\">Message</a> è¡¨ç¤ºç”¨æˆ·å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æ–‡æœ¬æ¶ˆæ¯ã€å›¾ç‰‡æ¶ˆæ¯ï¼› <a href=\"https://werobot.readthedocs.io/zh_CN/latest/events.html#event\">Event</a> åˆ™è¡¨ç¤ºç”¨æˆ·è§¦å‘çš„äº‹ä»¶ï¼Œ å¦‚å…³æ³¨äº‹ä»¶ã€æ‰«æäºŒç»´ç äº‹ä»¶ã€‚ åœ¨æ¶ˆæ¯è§£æã€è½¬æ¢å®Œæˆåï¼Œ WeRoBot ä¼šå°†æ¶ˆæ¯è½¬äº¤ç»™ <a href=\"https://werobot.readthedocs.io/zh_CN/latest/handlers.html#handler\">Handler</a> è¿›è¡Œå¤„ç†ï¼Œå¹¶å°† <a href=\"https://werobot.readthedocs.io/zh_CN/latest/handlers.html#handler\">Handler</a> çš„è¿”å›å€¼è¿”å›ç»™å¾®ä¿¡æœåŠ¡å™¨</p></blockquote>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>handler</span> <span class=\"token comment\">#robot ä¼šå°†æ‰€æœ‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬äº¤ç»™è¿™ä¸ª Handler æ¥å¤„ç†</span>\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>text</span>  <span class=\"token comment\"># @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯</span>\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>image</span>  <span class=\"token comment\"># @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯</span>\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>subscribe</span> <span class=\"token comment\"># ç”¨æˆ·å…³æ³¨åæ‰§è¡Œè¯¥æ“ä½œ</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h3><span id=\"0x03-demo\">0x03 demo</span></h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å®éªŒè¯¾åŸå‘³ğŸ´, ç®€å•å®Œæˆäº†æ¶ˆæ¯å¤„ç†ï¼Œè°ƒäº†ä¸ªæ¥å£ï¼Œè°ƒäº†ä¸ªç‹—å±ä¸é€šæ–‡æœ¬ç”Ÿæˆå™¨ï¼Œ ç³™çš„ä¸€ï¼Œç•™åšçºªå¿µ</p></blockquote>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> werobot\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> gpbtwzbuilder <span class=\"token keyword\">as</span> gp\n\nrobot <span class=\"token operator\">=</span> werobot<span class=\"token punctuation\">.</span>WeRoBot<span class=\"token punctuation\">(</span>token<span class=\"token operator\">=</span><span class=\"token string\">'qwertyuiopasdfghjkl'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># æ˜¯å¦èœå•æ¨¡å¼</span>\nisMenu <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token comment\"># åŠŸèƒ½æ¨¡å¼åºå·</span>\nfunCode <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token comment\"># åˆæ³•æ“ä½œ</span>\ncodelist <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">menu</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"æ¬¢è¿ä½¿ç”¨æœ¬å…¬ä¼—å·ï¼\\n æœ¬å…¬ä¼—å·å…±æœ‰ä¸¤ä¸ªæ¨¡å¼ï¼šèœå•æ¨¡å¼å’ŒåŠŸèƒ½æ¨¡å¼ \\n \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"åŠŸèƒ½é€‰æ‹©æ¨¡å¼ï¼š\\n menu - æŸ¥çœ‹èœå• \\n 1 - æŸ¥è¯¢åŸå¸‚çš„å¤©æ°”çŠ¶å†µ \\n 2 - è‡ªè¨€è‡ªè¯­æ¨¡å¼\\n 3 - ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"åŠŸèƒ½æ¨¡å¼ï¼š\\n 0 - é€€å‡ºåŠŸèƒ½æ¨¡å¼è¿”å›èœå•\"</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">check</span><span class=\"token punctuation\">(</span>fcode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> codelist\n    <span class=\"token keyword\">global</span> isMenu\n    <span class=\"token keyword\">if</span> fcode <span class=\"token keyword\">in</span> codelist<span class=\"token punctuation\">:</span>\n        isMenu <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">if</span> fcode <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span> \n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"è¾“å…¥åŸå¸‚åæŸ¥è¯¢å¤©æ°”\"</span>\n        <span class=\"token keyword\">elif</span> fcode <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"è‡ªè¨€è‡ªè¯­ï¼\"</span>\n        <span class=\"token keyword\">elif</span> fcode <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"è¾“å…¥'æ–‡ç« ä¸»é¢˜&amp;å­—æ•°(&lt;=600)'å¼€å§‹ç‹—å±ä¸é€š\"</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Wrong Operation. Input 'menu' to know more!ğŸ˜…\"</span>\n\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>subscribe</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> menu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯</span>\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>text</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">echo</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> session<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> isMenu\n    <span class=\"token keyword\">global</span> funCode \n\n    <span class=\"token keyword\">if</span> <span class=\"token string\">'first'</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> session<span class=\"token punctuation\">:</span>\n        isMenu <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    session<span class=\"token punctuation\">[</span><span class=\"token string\">'first'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\n    msgtext <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>content\n    <span class=\"token keyword\">if</span> isMenu <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token string\">\"menu\"</span> <span class=\"token keyword\">in</span> msgtext <span class=\"token keyword\">or</span> <span class=\"token string\">\"Menu\"</span> <span class=\"token keyword\">in</span> msgtext<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> menu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            funCode <span class=\"token operator\">=</span> msgtext\n            <span class=\"token keyword\">return</span> check<span class=\"token punctuation\">(</span>funCode<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> msgtext <span class=\"token operator\">==</span> <span class=\"token string\">'0'</span> <span class=\"token keyword\">or</span> <span class=\"token string\">\"menu\"</span> <span class=\"token keyword\">in</span> msgtext <span class=\"token keyword\">or</span> <span class=\"token string\">\"Menu\"</span> <span class=\"token keyword\">in</span> msgtext<span class=\"token punctuation\">:</span>\n            isMenu <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"é€€å‡ºæˆåŠŸï¼\"</span> <span class=\"token operator\">+</span> menu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">if</span> funCode <span class=\"token operator\">==</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n            addr <span class=\"token operator\">=</span> msgtext\n            url <span class=\"token operator\">=</span> <span class=\"token string\">'http://wthrcdn.etouch.cn/weather_mini?city='</span> <span class=\"token operator\">+</span> addr\n            response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span>url<span class=\"token punctuation\">)</span>\n            result <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n            <span class=\"token comment\">#è§£æjson</span>\n            data <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">]</span>\n            high <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"high\"</span><span class=\"token punctuation\">]</span>\n            fengli <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"fengli\"</span><span class=\"token punctuation\">]</span>\n            low <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"low\"</span><span class=\"token punctuation\">]</span>\n            fengxiang <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"fengxiang\"</span><span class=\"token punctuation\">]</span>\n            tian <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"forecast\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"æ—¶é—´ï¼š\"</span> <span class=\"token operator\">+</span> data <span class=\"token operator\">+</span> <span class=\"token string\">\"\\næœ€å¥½æ°”æ¸©ï¼š\"</span> <span class=\"token operator\">+</span> high <span class=\"token operator\">+</span> <span class=\"token string\">\"\\næœ€ä½æ°”æ¸©ï¼š\"</span> <span class=\"token operator\">+</span> low <span class=\"token operator\">+</span> <span class=\"token string\">\"\\né£å‘ï¼š\"</span> <span class=\"token operator\">+</span> fengxiang <span class=\"token operator\">+</span> <span class=\"token string\">\"\\nå¤©æ°”ï¼š\"</span> <span class=\"token operator\">+</span> tian\n        \n        <span class=\"token keyword\">elif</span> funCode <span class=\"token operator\">==</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> msgtext\n\n        <span class=\"token keyword\">elif</span> funCode <span class=\"token operator\">==</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n            ret <span class=\"token operator\">=</span> msgtext<span class=\"token punctuation\">.</span>partition<span class=\"token punctuation\">(</span><span class=\"token string\">'&amp;'</span><span class=\"token punctuation\">)</span>\n            xx <span class=\"token operator\">=</span> ret<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> xx<span class=\"token punctuation\">:</span>\n                tmp <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                maxlength <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">if</span> maxlength <span class=\"token operator\">></span> <span class=\"token number\">600</span><span class=\"token punctuation\">:</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token string\">\"å­—æ•°è¶…äº†ğŸ˜…ï¼Œçœ‹ä¸æ‡‚ä¸­å›½è¯æ˜¯8ğŸ˜…\"</span>\n                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> maxlength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                    åˆ†æ”¯ <span class=\"token operator\">=</span> gp<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> åˆ†æ”¯ <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\n                        tmp <span class=\"token operator\">+=</span> gp<span class=\"token punctuation\">.</span>å¦èµ·ä¸€æ®µ<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">elif</span> åˆ†æ”¯ <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span><span class=\"token punctuation\">:</span>\n                        tmp <span class=\"token operator\">+=</span> gp<span class=\"token punctuation\">.</span>æ¥ç‚¹åäººåè¨€<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                        tmp <span class=\"token operator\">+=</span> <span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>gp<span class=\"token punctuation\">.</span>ä¸‹ä¸€å¥åºŸè¯<span class=\"token punctuation\">)</span>\n            tmp <span class=\"token operator\">=</span> tmp<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> xx<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> tmp\n\n<span class=\"token comment\"># @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯</span>\n<span class=\"token decorator annotation punctuation\">@robot<span class=\"token punctuation\">.</span>image</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">img</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> message<span class=\"token punctuation\">.</span>img\n\n\n<span class=\"token comment\"># è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80</span>\nrobot<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'HOST'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'0.0.0.0'</span>\nrobot<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'PORT'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">80</span>\nrobot<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2><span id=\"å…³äºtoken\">å…³äºToken</span></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>æœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç«  : <a href=\"https://blog.csdn.net/tc979907461/article/details/106288099?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164285971216780269811917%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=164285971216780269811917&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-3-106288099.first_rank_v2_pc_rank_v29&amp;utm_term=token&amp;spm=1018.2226.3001.4187\">link</a>ï¼Œä»¥ä¸‹å†…å®¹éƒ¨åˆ†å€Ÿé‰´ </p></blockquote>\n<p>Tokenï¼šèº«ä»½è®¤è¯ä¸­ä»£æŒ‡<strong>ä»¤ç‰Œ</strong></p>\n<h3><span id=\"tokenéªŒè¯è¿‡ç¨‹\">TokenéªŒè¯è¿‡ç¨‹</span></h3><p>Step1 : ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚ã€‚</p>\n<p>Step2 : æœåŠ¡å™¨ç«¯ç¨‹åºéªŒè¯ã€‚</p>\n<p>Step3 : æœåŠ¡å™¨ç«¯ç¨‹åºè¿”å›ä¸€ä¸ª<strong>å¸¦ç­¾å</strong>çš„<code>token</code> ç»™å®¢æˆ·ç«¯ã€‚</p>\n<p>Step4 : å®¢æˆ·ç«¯å‚¨å­˜<code>token</code>,å¹¶ä¸”æ¯æ¬¡è®¿é—®<code>API</code>éƒ½æºå¸¦<code>Token</code>åˆ°æœåŠ¡å™¨ç«¯çš„ã€‚</p>\n<p>Step5 : æœåŠ¡ç«¯éªŒè¯<code>token</code>ï¼Œæ ¡éªŒæˆåŠŸåˆ™è¿”å›è¯·æ±‚æ•°æ®ï¼Œæ ¡éªŒå¤±è´¥åˆ™è¿”å›é”™è¯¯ç ã€‚</p>\n<p><img src=\"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg2018.cnblogs.com%2Fblog%2F918077%2F201809%2F918077-20180915075353669-515340818.png&amp;refer=http%3A%2F%2Fimg2018.cnblogs.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1645453080&amp;t=346a8756f4e12f8afb7416671f0e0c3e\" alt=\"img\"></p>\n<h3><span id=\"tokençš„ä¼˜åŠ¿\">Tokençš„ä¼˜åŠ¿</span></h3><ul>\n<li><p><strong>æ— çŠ¶æ€ï¼Œå¯æ‰©å±•</strong></p>\n<p>åœ¨å®¢æˆ·ç«¯å­˜å‚¨çš„<code>Token</code>æ— çŠ¶æ€ã€å¯æ‰©å±•(èƒ½å¤Ÿåˆ›å»ºä¸å…¶å®ƒç¨‹åºå…±äº«æƒé™çš„ç¨‹åº)ã€‚åŸºäºè¿™ç§æ— çŠ¶æ€å’Œä¸å­˜å‚¨<code>Session</code>ä¿¡æ¯ï¼Œè´Ÿè½½è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿå°†ç”¨æˆ·ä¿¡æ¯ä»ä¸€ä¸ªæœåŠ¡ä¼ åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚<code>tokens</code>è‡ªå·±æºå¸¦äº†ç”¨æˆ·çš„éªŒè¯ä¿¡æ¯ã€‚</p>\n</li>\n<li><p><strong>å®‰å…¨æ€§</strong>ï¼š<strong>é˜²æ­¢CSRF</strong></p>\n<p>è¯·æ±‚ä¸­å‘é€<code>token</code>è€Œéå‘é€<code>cookie</code>èƒ½å¤Ÿé˜²æ­¢<code>CSRF</code>(è·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚å³ä½¿åœ¨å®¢æˆ·ç«¯ä½¿ç”¨<code>cookie</code>å­˜å‚¨<code>token</code>ï¼Œ<code>cookie</code>ä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨æœºåˆ¶è€Œä¸æ˜¯ç”¨äºè®¤è¯ã€‚ä¸å°†ä¿¡æ¯å­˜å‚¨åœ¨<code>Session</code>ä¸­ï¼Œè®©æˆ‘ä»¬å°‘äº†å¯¹<code>session</code>æ“ä½œã€‚</p>\n<p>psï¼š<code>token</code>æ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œä¸€æ®µæ—¶é—´ä¹‹åç”¨æˆ·éœ€è¦é‡æ–°éªŒè¯ã€‚</p>\n</li>\n<li><p><strong>å¤šå¹³å°è·¨åŸŸ</strong></p>\n<p>è¿™é‡Œå¼•å…¥<code>CORS</code>(è·¨åŸŸèµ„æºå…±äº«)çš„æ¦‚å¿µï¼šå½“æˆ‘ä»¬éœ€è¦è®©æ•°æ®è·¨å¤šå°ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨æ—¶ï¼Œè·¨åŸŸèµ„æºçš„å…±äº«ä¼šæ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚åœ¨ä½¿ç”¨<code>Ajax</code>æŠ“å–å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œå°±å¯ä»¥ä¼šå‡ºç°ç¦æ­¢è¯·æ±‚çš„æƒ…å†µã€‚</p>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ä»¥ä¸Šåªæ˜¯å…³äºTokençš„ç²—ç•¥æè¿°ï¼Œå…³äºå…¶ä»–èº«ä»½è®¤è¯æœºåˆ¶æŒ–å‘å¾…å¡«ğŸ˜…</p></blockquote>\n<h2><span id=\"é™„ä¸€äº›linuxå‘½ä»¤\">é™„ï¼šä¸€äº›Linuxå‘½ä»¤</span></h2><ul>\n<li><p>ä½¿ç”¨ <code>nohup</code> å‘½ä»¤ä½¿ç¨‹åºåœ¨æœåŠ¡å™¨ä¿æŒåå°è¿è¡Œ</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sudo nohup python .&#x2F;webserver.py &amp;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>æ€æ‰ <code>nohup</code> è¿›ç¨‹</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ps -aux | grep python\nkill -9 pid\t<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>End.</p></blockquote>\n","text":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘ å¯„ç½‘å°å®éªŒï¼Œå®ç°èµ·æ¥ä¸éš¾ï¼Œè®°å½•ä¸€ä¸‹ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼ŒåŒ…æ‹¬ä¸€äº›å¯¹Tokençš„ç†è§£ å‡†å¤‡å¾®ä¿¡å…¬ä¼—å·ã€äº‘æœåŠ¡å™¨ã€Xftp&amp;Xshell (Replaceable)ã€WeRoBot 1.13.1 æ€»ä½“æµç¨‹step1 : æ³¨å†Œå¾®ä¿¡å…¬ä¼—å· ste...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"NOTE","slug":"NOTE","count":5,"path":"api/categories/NOTE.json"}],"tags":[{"name":"python","slug":"python","count":3,"path":"api/tags/python.json"},{"name":"note","slug":"note","count":11,"path":"api/tags/note.json"},{"name":"WeRoBot","slug":"WeRoBot","count":1,"path":"api/tags/WeRoBot.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">å‡†å¤‡</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">æ€»ä½“æµç¨‹</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">å…³äºWeRoBot</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">0x01 Hello World</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">0x02 æ¶ˆæ¯å¤„ç†</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">0x03 demo</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">å…³äºToken</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">TokenéªŒè¯è¿‡ç¨‹</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\">Tokençš„ä¼˜åŠ¿</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">é™„ï¼šä¸€äº›Linuxå‘½ä»¤</span></a></li></ol></li></ol>","author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}},"mapped":true,"prev_post":{"title":"Codeforces Round 767 (Div.2)","uid":"e01b09fa443fa76e0e60ac67459e983b","slug":"codeforces/cf 767","date":"2022-01-23T05:15:00.000Z","updated":"2022-01-24T04:25:29.824Z","comments":true,"path":"api/articles/codeforces/cf 767.json","keywords":null,"cover":null,"text":"Codeforces Round #767 (Div.2) è’åºŸäº†æœŸæœ«è€ƒè¯•æœˆçš„åº·å¤è®­ç»ƒç¬¬ä¸€åœº A_Download More RAM æ°´é¢˜ï¼Œæ’åºå³å¯ pair&lt;int,int> pr[105]; bool cmp(pair&lt;int,int> a, pair&lt;in...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"SOLUTIONS","slug":"SOLUTIONS","count":16,"path":"api/categories/SOLUTIONS.json"}],"tags":[{"name":"solutions","slug":"solutions","count":15,"path":"api/tags/solutions.json"},{"name":"codeforces","slug":"codeforces","count":10,"path":"api/tags/codeforces.json"},{"name":"ACM","slug":"ACM","count":25,"path":"api/tags/ACM.json"},{"name":"æ€ç»´","slug":"æ€ç»´","count":11,"path":"api/tags/æ€ç»´.json"}],"author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}}},"next_post":{"title":"Notes on Kurose's Computer Networkingï¼šA TOP-DOWN APPROACH","uid":"73cfcb86305a1dc05f8e11e3779f31e9","slug":"note/ComputerNetwork_Note","date":"2021-12-10T05:44:28.000Z","updated":"2021-12-25T07:11:55.191Z","comments":true,"path":"api/articles/note/ComputerNetwork_Note.json","keywords":null,"cover":[],"text":"Notes on Kuroseâ€™s Computer NetworkingA TOP-DOWN APPROACH Thanks to æˆ‘çˆ¹çš„åšå®¢ï¼Œè®©æˆ‘å·äº†ä¸å°‘ğŸ˜‹ Chapter 1 Computer Networks and the Internet1.1 What is the...","link":"","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"NOTE","slug":"NOTE","count":5,"path":"api/categories/NOTE.json"}],"tags":[{"name":"note","slug":"note","count":11,"path":"api/tags/note.json"},{"name":"ComputerNetwork","slug":"ComputerNetwork","count":1,"path":"api/tags/ComputerNetwork.json"}],"author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}}}}