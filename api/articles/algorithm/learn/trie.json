{"title":"Trie","uid":"f9c5a67ed89813cc4d2fda9f690375dd","slug":"algorithm/learn/trie","date":"2021-11-27T03:55:50.000Z","updated":"2022-01-22T09:37:06.172Z","comments":true,"path":"api/articles/algorithm/learn/trie.json","keywords":null,"cover":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage.bubuko.com%2Finfo%2F202001%2F20200113201445546817.jpg&refer=http%3A%2F%2Fimage.bubuko.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1640577246&t=4f6b0ed3fef63f86e86da00e1973e1f0","content":"<link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css\"><h1><span id=\"trie\">Trie</span></h1><p>å­—å…¸æ ‘/å‰ç¼€æ ‘</p>\n<h2><span id=\"ä»€ä¹ˆæ˜¯trie\">ä»€ä¹ˆæ˜¯Trie</span></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿æ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²</p></blockquote>\n<ul>\n<li>å¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š</li>\n</ul>\n<p><img src=\"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.it610.com%2Fimage%2Finfo10%2F79c48fdd65894af5beaf368abfb8f106.jpg&refer=http%3A%2F%2Fimg.it610.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1640527949&t=d07f070c79ac3a5b4b2cee80f1a87692\" alt=\"img\" style=\"zoom:50%;\"></p>\n<h2><span id=\"æ“ä½œ\">æ“ä½œ</span></h2><ul>\n<li><p><strong>æ’å…¥å­—ç¬¦ä¸² insert</strong> </p>\n<ol>\n<li><p>åˆå§‹åŒ– <code>root = 0</code> , éå†å­—ç¬¦ä¸², å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦, è®¡ç®—å…¶æ˜ å°„å€¼ <code>id</code></p>\n</li>\n<li><p>æ£€æŸ¥<code>Trie[root][id] == 0</code> æ˜¯å¦æˆç«‹ï¼š</p>\n<p>è‹¥æˆç«‹, åˆ™è¿›è¡Œæ’å…¥,  <code>Trie[root][id] = ++cnt</code></p>\n<p>è‹¥ä¸æˆç«‹,è¯´æ˜è¯¥ä½ç½®å·²ç»æœ‰è¯¥å­—ç¬¦,ç›´æ¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦åº”æ’å…¥çš„ä½ç½®: <code>root = trie[root][id]</code>.</p>\n</li>\n<li><p>é‡å¤ä¸Šè¿°æ­¥éª¤,ç›´åˆ°å­—ç¬¦ä¸²å®Œå…¨æ’å…¥Trieæ ‘.</p>\n</li>\n</ol>\n</li>\n<li><p><strong>åŒ¹é…å­—ç¬¦ä¸² search</strong></p>\n<ol>\n<li><p>åˆå§‹åŒ–<code>root = 0</code>,éå†å­—ç¬¦ä¸²,å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦,è®¡ç®—å…¶æ˜ å°„å€¼<code>id</code></p>\n</li>\n<li><p>æ£€æŸ¥<code>Trie[root][id] == 0</code>æ˜¯å¦æˆç«‹ï¼š</p>\n<p>è‹¥æˆç«‹, åˆ™è¯´æ˜Trieæ ‘å½“å‰è·¯å¾„ä¸å­˜åœ¨è¯¥å­—ç¬¦,è¿”å›åŒ¹é…å¤±è´¥</p>\n<p>è‹¥ä¸æˆç«‹,åˆ™è¯´æ˜å½“å‰è·¯å¾„å­˜åœ¨è¯¥å­—ç¬¦,æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®: <code>root = trie[root][id]</code></p>\n</li>\n<li><p>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè‹¥é¡ºåˆ©åŒ¹é…å®Œæ•´ä¸ªå­—ç¬¦ä¸²,åˆ™åº”è¯¥æ£€æŸ¥å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®åœ¨Trieæ ‘ä¸­æ˜¯å¦æ˜¯ç»“æŸæ ‡å¿—ï¼Œ<code>flag[root] == true</code>æˆç«‹,è¡¨æ˜æ˜¯ç»“æŸæ ‡å¿—,åˆ™è¿”å›åŒ¹é…æˆåŠŸ,å¦åˆ™è¿”å›åŒ¹é…å¤±è´¥</p>\n</li>\n</ol>\n</li>\n</ul>\n<h2><span id=\"æ¨¡æ¿\">æ¨¡æ¿</span></h2><ul>\n<li><strong>é™„ï¼šå­—ç¬¦æ•°ç»„æ“ä½œ</strong></li>\n</ul>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">char s1[maxn], s2[maxn];\nstrcpy(s1, s2);\t\t&#x2F;&#x2F;å¤åˆ¶å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1ã€‚\nstrcat(s1, s2);\t\t&#x2F;&#x2F;è¿æ¥å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1 çš„æœ«å°¾ã€‚\nstrlen(s1);\t\t\t&#x2F;&#x2F;è¿”å›å­—ç¬¦ä¸² s1 çš„é•¿åº¦ã€‚\nstrcmp(s1, s2);\t\t&#x2F;&#x2F;å¦‚æœ s1 å’Œ s2 æ˜¯ç›¸åŒçš„ï¼Œåˆ™è¿”å› 0ï¼›å¦‚æœ s1&lt;s2 åˆ™è¿”å›å€¼å°äº 0ï¼›å¦‚æœ s1&gt;s2 åˆ™è¿”å›å€¼å¤§äº 0ã€‚\nstrchr(s1, ch);\t\t&#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ ch çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚\nstrstr(s1, s2);\t\t&#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ä¸² s2 çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><strong>æ¨¡æ‹Ÿ</strong></li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å¯¹ç»“æ„ä½“Trieè¿›è¡Œæ’å…¥å’ŒæŸ¥è¯¢æ“ä½œ</p>\n<p>val[i] &gt; 0 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå•è¯ç»“ç‚¹</p></blockquote>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">#define maxn 41000\n#define sigmasize 26  &#x2F;&#x2F; å­—ç¬¦é›†çš„å¤§å° ex: å…¨ä½“å°å†™å­—æ¯ï¼š26\nstruct Trie&#123;\n    int ch[maxn][sigmasize];\n    int val[maxn];  &#x2F;&#x2F; ç»“ç‚¹iå¯¹åº”çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªå­—ç¬¦ä¸²çš„æƒå€¼, å¦‚val[i]&gt;0 å½“ä¸”ä»…å½“ç»“ç‚¹iæ˜¯å•è¯ç»“ç‚¹\n    int sz;            &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    Trie() &#123; sz &#x3D; 1; memset(ch[0], 0, sizeof(ch[0]));&#125;   &#x2F;&#x2F;åˆå§‹åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹\n    int idx(char c) &#123; return c - &#39;a&#39;; &#125;  &#x2F;&#x2F;å­—ç¬¦cçš„ç¼–å·\n\n    &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²s, é™„åŠ ä¿¡æ¯ä¸ºvã€‚vå¿…é¡»é0, 0 ä»£è¡¨â€œæœ¬ç»“ç‚¹ä¸æ˜¯å•è¯ç»“ç‚¹â€\n    inline void insert(char *s, int v) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (!ch[u][c]) &#123;  &#x2F;&#x2F;ç»“ç‚¹ä¸å­˜åœ¨\n                memset(ch[sz], 0, sizeof(ch[sz]));\n                val[sz] &#x3D; 0;      &#x2F;&#x2F;ä¸­é—´èŠ‚ç‚¹çš„é™„åŠ ä¿¡æ¯ä¸º0\n                ch[u][c] &#x3D; sz++;  &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹\n            &#125;\n            u &#x3D; ch[u][c];  &#x2F;&#x2F;å¾€ä¸‹èµ°\n        &#125;\n        val[u] &#x3D; v;  &#x2F;&#x2F;å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„é™„åŠ ä¿¡æ¯ä¸ºv\n    &#125;\n    &#x2F;&#x2F; æŸ¥æ‰¾å­—ç¬¦ä¸²s\n    inline bool search(char *s) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (ch[u][c] &#x3D;&#x3D; 0) return false;\n            u &#x3D; ch[u][c];\n        &#125;\n        if (val[u] &#x3D;&#x3D; 0)\n            return false;\n        return true;\n    &#125;\n&#125;trie;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><strong>ç‰ˆæœ¬2</strong></li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å¯ä»¥ç”¨ <code>find(str)</code> åˆ¤æ–­å­—å…¸æ ‘ä¸­æ˜¯å¦æœ‰ä»¥ str ä½œå‰ç¼€çš„å•è¯</p></blockquote>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\"><span class=\"token comment\">//å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘</span>\n<span class=\"token comment\">//å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸²</span>\n<span class=\"token keyword\">const</span> <span class=\"token keyword\">int</span> maxn <span class=\"token operator\">=</span> <span class=\"token number\">2e6</span> <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//å¦‚æœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§</span>\n<span class=\"token keyword\">int</span> tree<span class=\"token punctuation\">[</span>maxn<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">30</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">//tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·</span>\n<span class=\"token keyword\">bool</span> flagg<span class=\"token punctuation\">[</span>maxn<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">//è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯</span>\n<span class=\"token keyword\">int</span> tot<span class=\"token punctuation\">;</span>                   <span class=\"token comment\">//æ€»èŠ‚ç‚¹æ•°</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">insert_</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span><span class=\"token operator\">*</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">int</span> len <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> root <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">int</span> id <span class=\"token operator\">=</span> str<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tree<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            tree<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">++</span>tot<span class=\"token punctuation\">;</span>\n        root <span class=\"token operator\">=</span> tree<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    flagg<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">bool</span> <span class=\"token function\">find_</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span><span class=\"token operator\">*</span> str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>  <span class=\"token comment\">//æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨</span>\n    <span class=\"token keyword\">int</span> len <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> root <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">int</span> id <span class=\"token operator\">=</span> str<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tree<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        root <span class=\"token operator\">=</span> tree<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>flagg<span class=\"token punctuation\">[</span>root<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> i<span class=\"token operator\">==</span>len<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é…</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span> \n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> tot<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        flagg<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n            tree<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    tot <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><p><strong>ä¼˜åŒ–trieæ ‘</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å½“ç»“ç‚¹æ¯”è¾ƒå¤šï¼Œsigma_sizeæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œé‡‡ç”¨å·¦å„¿å­-å³å…„å¼Ÿå»ºç«‹trie</p></blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">struct Trie &#123;\n    int head[maxn];  &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å·\n    int next[maxn];  &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å·\n    char ch[maxn];   &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦\n    int sz;             &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    void clear() &#123;\n        sz &#x3D; 1;\n        tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0;\n    &#125;\n    void insert(const char* s) &#123;\n        int u &#x3D; 0, v, n &#x3D; strlen(s);\n        tot[0]++;\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            bool found &#x3D; false;\n            for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                if (ch[v] &#x3D;&#x3D; s[i]) &#123;\n                    found &#x3D; true;\n                    break;\n                &#125;\n            if (!found) &#123;\n                v &#x3D; sz++;\n                tot[v] &#x3D; 0;\n                ch[v] &#x3D; s[i];\n                next[v] &#x3D; head[u];\n                head[u] &#x3D; v;\n                head[v] &#x3D; 0;\n            &#125;\n            u &#x3D; v;\n            tot[u]++;\n        &#125;\n    &#125;\n&#125;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2><span id=\"é¢˜å•\">é¢˜å•</span></h2><p><a href=\"http://maskros.icu/2021/11/27/trie_problem/\">solution</a></p>\n<ul>\n<li><p>0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 <a href=\"https://acm.dingbacode.com/showproblem.php?pid=1251\">link</a></p>\n</li>\n<li><p>0x02 èƒŒå•è¯ LA 3942 <a href=\"https://vjudge.net/problem/UVALive-3942\">link</a></p>\n</li>\n<li><p>0x03 strcmp()å‡½æ•° UVa 11732 <a href=\"https://vjudge.net/problem/UVA-11732\">link</a></p>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>å‡å¦‚å†æ¥ä¸€éé“¶å·</p></blockquote>\n","text":"Trieå­—å…¸æ ‘/å‰ç¼€æ ‘ ä»€ä¹ˆæ˜¯Trie ä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿æ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸² å¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š æ“ä½œ æ’å…¥å­—ç¬¦ä¸² insert åˆå§‹åŒ– root = 0 , éå†å­—ç¬¦ä¸², å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦, è®¡ç®—å…¶æ˜ å°„å€¼ id...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"ALGORITHMS","slug":"ALGORITHMS","count":6,"path":"api/categories/ALGORITHMS.json"}],"tags":[{"name":"ACM","slug":"ACM","count":28,"path":"api/tags/ACM.json"},{"name":"string","slug":"string","count":5,"path":"api/tags/string.json"},{"name":"note","slug":"note","count":11,"path":"api/tags/note.json"},{"name":"algorithm","slug":"algorithm","count":8,"path":"api/tags/algorithm.json"},{"name":"Trie","slug":"Trie","count":2,"path":"api/tags/Trie.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\">Trie</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">ä»€ä¹ˆæ˜¯Trie</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">æ“ä½œ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">æ¨¡æ¿</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\">é¢˜å•</span></a></li></ol></li></ol>","author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}},"mapped":true,"prev_post":{"title":"Trieä¸“é¢˜è®­ç»ƒ","uid":"845d8d8490a208e5b118592a6863cd87","slug":"algorithm/exercise/trie_problem","date":"2021-11-27T04:20:00.000Z","updated":"2022-01-22T09:37:15.580Z","comments":true,"path":"api/articles/algorithm/exercise/trie_problem.json","keywords":null,"cover":null,"text":"Trie ä¸“é¢˜è®­ç»ƒ0.0 0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 link é¢˜æ„ï¼šç»™äº†ä¸€å †å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡ä»¥æ¨¡å¼ä¸²ä½œå‰ç¼€å‡ºç°çš„å•è¯ä¸ªæ•° trieå…¥é—¨é¢˜ï¼Œå­˜ç»“ç‚¹æ—¶ç»Ÿè®¡ä¸€ä¸‹è¿‡å½“å‰ç»“ç‚¹çš„å•è¯ä¸ªæ•°å³å¯ &#x2F;&#x2F;å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘ &...","link":"","photos":[],"count_time":{"symbolsCount":"7.1k","symbolsTime":"6 mins."},"categories":[{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","count":2,"path":"api/categories/ALGORITHM-TRAINING.json"}],"tags":[{"name":"ACM","slug":"ACM","count":28,"path":"api/tags/ACM.json"},{"name":"string","slug":"string","count":5,"path":"api/tags/string.json"},{"name":"dp","slug":"dp","count":6,"path":"api/tags/dp.json"},{"name":"algorithm","slug":"algorithm","count":8,"path":"api/tags/algorithm.json"},{"name":"Trie","slug":"Trie","count":2,"path":"api/tags/Trie.json"},{"name":"dfs","slug":"dfs","count":1,"path":"api/tags/dfs.json"}],"author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}}},"next_post":{"title":"kmpä¸“é¢˜è®­ç»ƒ","uid":"eb0105647eb3a218c386b75ad79d5f5a","slug":"algorithm/exercise/kmp_problem","date":"2021-11-26T13:59:50.000Z","updated":"2021-11-27T04:15:38.843Z","comments":true,"path":"api/articles/algorithm/exercise/kmp_problem.json","keywords":null,"cover":null,"text":"kmp/ekmp ä¸“é¢˜è®­ç»ƒ ğŸ´ç³™äººè ¢å‡‘åˆçœ‹ 0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087 link çº¯çº¯kmpè£¸é¢˜ï¼Œä¸å¯é‡å è®¡æ•° #include&lt;bits&#x2F;stdc++.h&gt; using namespace std; void kmp_pre(string p, ...","link":"","photos":[],"count_time":{"symbolsCount":"6.8k","symbolsTime":"6 mins."},"categories":[{"name":"ALGORITHM TRAINING","slug":"ALGORITHM-TRAINING","count":2,"path":"api/categories/ALGORITHM-TRAINING.json"}],"tags":[{"name":"ACM","slug":"ACM","count":28,"path":"api/tags/ACM.json"},{"name":"string","slug":"string","count":5,"path":"api/tags/string.json"},{"name":"dp","slug":"dp","count":6,"path":"api/tags/dp.json"},{"name":"algorithm","slug":"algorithm","count":8,"path":"api/tags/algorithm.json"},{"name":"kmp","slug":"kmp","count":1,"path":"api/tags/kmp.json"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","count":3,"path":"api/tags/å‰ç¼€å’Œ.json"}],"author":{"name":"Maskros","slug":"blog-author","avatar":"/img/logo_Maskros.jpg","link":"/","description":"Be Legendary within the hasty keys","socials":{"github":"https://github.com/Maskros-new","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"iconfont icon-bilibili-line","link":"https://space.bilibili.com/355516889"},"codeforces":{"icon":"iconfont icon-codeforces","link":"https://codeforces.com/profile/1ronMaker"},"mail":{"icon":"iconfont icon-mail","link":"mailto:1164528260@qq.com"}}}}}}