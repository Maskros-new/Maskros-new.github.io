[{"id":"209d4aa443164abd6c9f9dea419ff4cc","title":"Java Syntax in ç®—æ³•ç«èµ›","content":"Java Syntax for ACM\n\n\n\n\n\n\n\n\nä¸´é˜µç£¨æª\n0x00 Headerimport java.util.*;\nimport java.math.*;\nimport java.io.*;\npublic class Main&#123;\n\tpublic static void main(String[] args)&#123; // hot key : main\n    &#125;\n&#125;\n0x01 I/OScanner cin = new Scanner(System.in);\nScanner cin = new Scanner(new BufferedInputStream(System.in));  // more fast\n// most fast\n// main å‡½æ•°è¦ throw IOException æ¯æ¬¡è¾“å…¥å‰ cin.nextToken()\n// æ•°å­—è¾“å…¥cin.nval å­—ç¬¦ä¸²cin.sval\nstatic StreamTokenizer cin = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in))); \n// æ³¨æ„ sval å¦‚æœå­—ç¬¦ä¸²çº¯æ•°å­—ä¼šè¿”å›ä¸ºnull åº”æå‰è½¬ä¹‰\ncin.ordinaryChars('0', '9') ;\ncin.wordChars('0', '9');\n    \nint n = cin.nextInt();\nString s = cin.next();\ndouble t = cin.nextDouble();\nString s = cin.nextLine(); \t// è¯»ä¸€æ•´è¡Œ\nchar[] c = cin.next().toCharArray();\n\n// å¤šè¡Œè¾“å…¥\nwhile (cin.hasNextInt())\nwhile (cin.hasNext())\nwhile (cin.nextToken() != StreamTokenizer.TT_EOF) // æ–‡ä»¶æœ«å°¾\n\n// è¯»å…¥ä¸€è¡Œï¼Œåˆ†å‰²å­—ç¬¦ä¸²\nString s = cin.nextLine();\nString[] split = s.split(\" \");\nPrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));  // more fast\nout.printf();\nout.flush(); // åœ¨ä»£ç çš„æœ€åout.flush()\n\t\nSystem.out.println(); //sout\nSystem.out.printf();\n0x02 Common API vs STL\n\n\n\n\n\n\n\n\nä¸‰çº§æ ‡é¢˜æ‹¬å·å†…å®¹å³å¯¹åº”c++ STLå†…å®¹\n0. è¿›åˆ¶è½¬æ¢String s = Integer.toString(a, x); //æŠŠintå‹æ•°æ®è½¬æ¢ä¹˜Xè¿›åˆ¶æ•°å¹¶è½¬æ¢æˆstringå‹ x âˆˆ [2, 36]\nint b = Integer.parseInt(s, x); //æŠŠå­—ç¬¦ä¸²å½“ä½œXè¿›åˆ¶æ•°è½¬æ¢æˆintå‹\n1. sorté»˜è®¤æ’åº (å¯¹åŸºæœ¬ç±»å‹å¦‚int char)\nArrays.sort(int[] a, int fromIndex, int toIndex); // é»˜è®¤æ’åº å‡åº\nå®ç°Comparatoræ¥å£è‡ªå®šä¹‰æ¯”è¾ƒå™¨ (è¦ä½¿ç”¨åŸºæœ¬ç±»å‹æ‰€å¯¹åº”çš„ç±»ï¼š(Integer, Character) ) \n@Override  public int compare(type x, type y)\nArrays.sort(a, 1, n + 1, Collections.reverseOrder()); // é™åºçš„ç®€ä¾¿å†™æ³•\n\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        //æ³¨æ„ï¼Œè¦æƒ³æ”¹å˜é»˜è®¤çš„æ’åˆ—é¡ºåºï¼Œä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼ˆint,double,charï¼‰è€Œè¦ä½¿ç”¨å®ƒä»¬å¯¹åº”çš„ç±»\n        Integer[] a = &#123;9, 8, 7, 2, 3, 4, 1, 0, 6, 5&#125;;\n        //å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»Mycmpçš„å¯¹è±¡\n        Comparator cmp = new MyCmp();\n        Arrays.sort(a, cmp);\t\t\n    &#125;\n&#125;\n// æ”¾åœ¨Mainç±»å¤–é¢\n// Comparatoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»MyComparatorè¦implentsè¯¥æ¥å£\nclass Mycmp implements Comparator&lt;Integer>&#123;\n    //è¿”å›å€¼ä¸ºè´Ÿåˆ™xæ’åœ¨yå‰é¢ï¼Œåä¹‹åœ¨åé¢ï¼Œä¸º0åˆ™è¡¨ç¤ºç›¸ç­‰\n    @Override\n\tpublic int compare(Integer x, Integer y) &#123;\n\t\tif (x &lt; y) return 1;\n\t\tif (x > y) return -1;\n\t\treturn 0;\n\t&#125;\n&#125;\n\nå®ç°Comparableæ¥å£è‡ªå®šä¹‰ç±»æ’åº \n@Override public int compareTo(classname x)\nclass Point implements Comparable&lt;Point>&#123;\n    int x,y;\n    //è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ï¼Œè·Ÿ2çš„è¯­æ³•ç±»ä¼¼ï¼Œæ­¤ä¾‹ä¸­å…ˆxåyä»å°åˆ°å¤§æ’åº\n    @Override\n    public int compareTo(Point o) &#123;\n        return x!=o.x? x-o.x: y-o.y;\n    &#125;\n&#125;\n\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        //Javaé‡Œçš„æ•°ç»„è¦å…ˆnewæ•°ç»„ï¼Œå†newæ¯ä¸ªå…ƒç´ ï¼Œä¸æ˜¯æ•°ç»„æœ‰äº†æ¯ä¸ªå…ƒç´ ä¹Ÿå°±æœ‰äº†\n        Point[] p = new Point[10];\n        //å…¶å®åº”è¯¥åœ¨Pointé‡Œé‡è½½æœ‰å‚çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥åœ¨newçš„æ—¶å€™åˆå§‹åŒ–ï¼Œè¿™æ ·ä»£ç ç®€æ´äº›\n\t\tfor (int i = 1; i &lt;= n; i++) &#123;\n\t\t\tp[i] = new Point(); //ä¸æŠŠæ¯ä¸ªå…ƒç´ newå‡ºæ¥ç›´æ¥è¿›è¡Œä¸‹é¢çš„èµ‹å€¼ä¼šç©ºæŒ‡é’ˆçš„\n\t\t\tp[i].x = cin.nextInt();\n\t\t\tp[i].y = cin.nextInt();\n\t\t&#125;\n        Arrays.sort(p, 1, n + 1);//å…ˆxåyä»å°åˆ°å¤§æ’åº\n    &#125;\n&#125;\n2. StringString s; char[] c;\ns = s.toCharArray(); // å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„\ns.charAt(idx); // è¿”å›ä¸‹æ ‡å¯¹åº”çš„å­—ç¬¦\ns.equals(str); // æ¯”è¾ƒ\ns.split(str); // æ ¹æ®stråˆ†å‰²s, è¿”å›Stringæ•°ç»„\ns.substring(i, j); // æˆªå–å­ä¸²\n3. HashMap/TreeMap (map)æ— åºHashMap å¯¹åº” unordered_map\nHashMap&lt;Character, Integer> mp = new HashMap&lt;Character, Integer>();\nmp.put(c, x); // å­˜\nmp.get(x); // å–ï¼Œkeyä¸å­˜åœ¨åˆ™è¿”å›null\nmp.remove(c); // åˆ \nmp.replace(c, x) // æ”¹, keyä¸å­˜åœ¨åˆ™æ— äº‹å‘ç”Ÿ\n// ç”¨è¿­ä»£å™¨éå†\nIterator&lt;Entry&lt;Character, Integer> > it = mp.entrySet().iterator();\nwhile (it.hasNext()) &#123;\n\tMap.Entry&lt;Character, Integer> e = it.next();\n\tSystem.out.println(e.getKey() + \" \" + e.getValue());\n&#125;\n// ç”¨for-eachå¾ªç¯éå† æ›´ä¾¿æ·\n// entry ä½¿ç”¨ getKey() å’Œ getvalue() æ–¹æ³•æ¥è·å¾—é”®å€¼\nfor (Map.Entry&lt;Character, Integer> e : mp.entrySet()) &#123;\n\tSystem.out.println(e.getKey() + \" \" + e.getValue());\n&#125;\n\n\n\n// æ£€æŸ¥é”®å€¼æ˜¯å¦å­˜åœ¨ è¿”å›boolean\nmp.containsKey(c);\nmp.containsValue(x);\næœ‰åºTreemap - map\n// åŸºæœ¬æ“ä½œåŒä¸Šï¼Œå¤šäº†æŸ¥æ‰¾æ–¹æ³•\nTreeMap&lt;K, V> mp = new TreeMap&lt;K,V>();\n// è¿”å›K æˆ– Map.Entry&lt;K,V>\nmp.ceilingKey(K key); //ç¬¬ä¸€ä¸ªå¤§äºç­‰äºkey\nmp.floorKey(K key); //ç¬¬ä¸€ä¸ªå°äºç­‰äºkey\nmp.lowerKey(K, key); //ç¬¬ä¸€ä¸ªå°äºkey\nmp.higherKey(K, key); //ç¬¬ä¸€ä¸ªå¤§äºkey\n4. ArrayList (vector)ArrayList&lt;Integer> v = new ArrayList&lt;Integer>();\n// äºŒç»´\nArrayList[] v = new ArrayList[n + 1];\nfor (int i = 0; i &lt; n; i++) &#123;\n\tv[i] = new ArrayList&lt;Integer>();\n&#125;\n\nv.add(1); // å¢\nv.remove(idx); // åˆ é™¤\nv.remove(Integer.valueOf(1)); // åˆ é™¤å€¼ä¸º1çš„å…ƒç´ \nv.set(idx, 1); // æ”¹\nv.get(idx); // æŸ¥\n5. ArrayDeque/PriorityQueue ((queue/stack/deque)/priority_queue)ArrayDeque\nArrayDeque&lt;Integer> q = new ArrayDeque&lt;Integer>();\n// æ— è®ºå¦‚ä½•éƒ½å¯ä»¥Foreachéå†\nfor(Integer x : q) &#123;...&#125;\n\n// queue\nq.offer(x); // å…¥é˜Ÿ\nq.peek(); // é˜Ÿå¤´\nq.pop(); // å‡ºé˜Ÿï¼ŒåŒæ—¶è¿”å›å€¼\nwhile (!q.isEmpty()) &#123;\n\tSystem.out.println(q.pop()); // å¼¹å‡ºçš„åŒæ—¶å¯ä»¥è¿”å›é˜Ÿå¤´å…ƒç´ ï¼Œä¸åƒc++æ˜¯voidçš„\n&#125;\n\n// stack\ns.push(x); // å…¥æ ˆ\ns.peek(); // æ ˆé¡¶\ns.pop(); // å¼¹å‡ºæ ˆé¡¶ï¼ŒåŒæ—¶è¿”å›å€¼\n\n// deque\nd.addFirst(x); d.addLast(x); // å…¥é˜Ÿ\nd.getFirst(); d.getLast(); // é˜Ÿå¤´é˜Ÿå°¾\nd.removeFirst(); d.removeLast(); // åˆ \nPriorityQueue\n// é»˜è®¤ä»å°åˆ°å¤§ foreachéå†ä¸æŠ¥é”™ ä½†ä¹±åº\nPriorityQueue&lt;Integer> q = new PriorityQueue&lt;Integer>();\nq.offer(x); // å¢\nq.peek(); //è·å¾—ç¬¬ä¸€ä¸ªå…ƒç´ \nq.poll(); //è·å–å¹¶ç§»é™¤ç¬¬ä¸€ä¸ª\nq.remove(x); //ç§»é™¤æŒ‡å®šå…ƒç´ \n\n// è‡ªå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—æ¯”è¾ƒå™¨ï¼šå®ç°Comparatoræ¥å£å³å¯\nclass Mycmp implements Comparator&lt;Integer> &#123;\n\t@Override\n\tpublic int compare(Integer x, Integer y) &#123;\n\t\treturn y - x;\n\t&#125;\n&#125;\t\nPriorityQueue&lt;Integer> q = new PriorityQueue&lt;Integer>(new Mycmp());\n6. HashSet/TreeSet (set)HashSetæ— åº TreeSetæœ‰åº ä»¥ä¸‹ç”¨TreeSetæ¼”ç¤º\nTreeSet&lt;Integer> s = new TreeSet&lt;Integer>();\ns.add(x);\ns.contains(x); // è¿”å›booleanæ˜¯å¦å­˜åœ¨\ns.remove(x);\ns.ceiling(x); s.floor(x); s.higher(x); s.lower(x);\ns.headSet(x); // å°äºxç»„æˆçš„set\ns.tailSet(x); // å¤§äºxç»„æˆçš„set\ns.subset(x, false, y, true); // (x, y]ç»„æˆçš„set\n7. BigInter/BigDemicalå¤§æ•´æ•°/é«˜ç²¾åº¦ (ç›´æ¥æ ¹æ®è‡ªåŠ¨è¡¥å…¨åç§°ä½¿ç”¨å¯¹åº”æ–¹æ³•å³å¯)\n8. Math// é™¤åŸºæœ¬çš„Math.max, min, abs, sqrt, powå¤–\nMath.ceil(x); // å‘ä¸Šå–æ•´\nMath.floor(x); // å‘ä¸‹å–æ•´\nMath.round(x); // å››èˆäº”å…¥\nMath.random(); // ç”Ÿæˆ[0, 1) ä¹‹é—´çš„doubleä¼ªéšæœºæ•°\nMath.cos(x); Math.acos(x); Math.sin(x); Math.asin(x); Math.tan(x); Math.atan(x); // ä¸‰è§’å‡½æ•°\nMath.acos(-1) = pi;\t\n\n\n\n\n\n\n\n\n\nok\n","slug":"note/java syntax","date":"2022-04-06T17:07:28.000Z","categories_index":"NOTE","tags_index":"note,java,ACM,STL","author_index":"Maskros"},{"id":"c1674dcde231b8c3c1543f6e1e510906","title":"Use Eclipse as a Coding IDE","content":"Eclipse for Lanqiao\n\n\n\n\n\n\n\n\nä¸å’‹ç”¨Eclipse ä¸ºäº†å‚åŠ è“æ¡¥è®°å½•ä¸€ä¸‹\nEclipse Config0x01 è‡ªåŠ¨è¡¥å…¨Window â€”&gt; Preferences â€”&gt; Java â€”&gt; Editor â€”&gt; Content Assist\nAuto activation triggers for Java : .qwertyuiopasdfghjklzxcvbnm\nDisable insertion triggers except â€˜Enterâ€™  [Y] // è¡¨ç¤ºåªæœ‰å›è½¦æ—¶æ‰è§¦å‘è‡ªåŠ¨è¡¥å…¨\nProject â€”&gt; Build Automatically å–æ¶ˆå‹¾é€‰ å…³é—­è‡ªåŠ¨ç¼–è¯‘\n0x02 æ–°å»ºæ–‡ä»¶New â€”&gt; Java Project â€”&gt; input your project name â€”&gt; new package â€”&gt; new Class â€”&gt; input your Class name â€”&gt; public static void main(String[] args) [Y]\n0x03 å¿«æ·é”®\n\n\n\nKeys\nFeatures\n\n\n\n\nAlt+â†‘/â†“\nå°†å½“å‰è¡Œå†…å®¹å¾€ä¸Š/ä¸‹ç§»åŠ¨\n\n\nCtrl+shift+F\næ ¼å¼åŒ–\n\n\nCtrl+D\nåˆ é™¤å½“å‰è¡Œ\n\n\nAlt+/\nä»£ç åŠ©æ‰‹\n\n\nCtrl+/\næ³¨é‡Š\n\n\nCtrl+F11\nè¿è¡Œ\n\n\nCtrl+Alt+â†‘/â†“\nå¤åˆ¶å½“å‰è¡Œ\n\n\n\n\n","slug":"note/Eclipse","date":"2022-04-04T16:07:28.000Z","categories_index":"NOTE","tags_index":"note","author_index":"Maskros"},{"id":"01ccf27eadefb4f7ce999a374dcf896b","title":"æ•°ä½dpä¸“é¢˜è®­ç»ƒ","content":"æ•°ä½dpä¸“é¢˜è®­ç»ƒçŒ›ç»ƒï¼\n0x00 Digit\n\n\n\n\n\n\n\n\nlink æ´›è°·æ¿å­é¢˜\né¢˜æ„ï¼šå®šä¹‰ä¸€ä¸ªæ­£æ•´æ•°çš„ä»·å€¼æ˜¯æŠŠè¿™ä¸ªæ•°çš„åè¿›åˆ¶å†™å‡ºæ¥ä¹‹åï¼Œæœ€é•¿çš„ç­‰å·®å­ä¸²çš„é•¿åº¦ã€‚æ±‚  èŒƒå›´å†…æ•°å­—ä»·å€¼çš„æ€»å’Œã€‚\n/*\nå®šä¹‰ä¸€ä¸ªæ­£æ•´æ•°çš„ä»·å€¼æ˜¯æŠŠè¿™ä¸ªæ•°çš„åè¿›åˆ¶å†™å‡ºæ¥ä¹‹åï¼Œæœ€é•¿çš„ç­‰å·®å­ä¸²çš„é•¿åº¦ã€‚\næ±‚[l,r]èŒƒå›´å†…æ•°å­—ä»·å€¼çš„æ€»å’Œã€‚\n*/\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nint T, n, m, len, a[20];\nll l, r, dp[20][15][25][25][20];\nll dfs(int pos, int pre, ll st, ll sum, int d, int lead, int limit)\n//posæœåˆ°çš„ä½ç½®\n//preå‰ä¸€ä½æ•°\n//stå½“å‰å…¬å·®æœ€å¤§å·®å€¼\n//sumæ•´ä¸ªæ•°å­—çš„æœ€å¤§ä»·å€¼\n//då…±å·®\n//leadåˆ¤æ–­æ˜¯å¦æœ‰å‰å¯¼0\n//limitåˆ¤æ–­æ˜¯å¦æœ‰æœ€é«˜ä½é™åˆ¶\n{\n    if (pos &gt; len) return sum; //dpç»“æŸ\n    //è®°å½•çŠ¶æ€ï¼ˆè®¡åˆ’æœç´¢ï¼‰\n    //æ³¨æ„dæœ‰è´Ÿæ•°ï¼Œæœ€å°å¯ä»¥åˆ°-9ï¼Œæ‰€ä»¥è®°å½•æ—¶æ•°ç»„ä¸‹æ ‡æ˜¯d+10\n    if ((dp[pos][pre][st][sum][d + 10] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][st][sum][d + 10];\n    ll ret = 0;\n    int res = limit ? a[len - pos + 1] : 9; //æœ€é«˜ä½æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++)\n    {\n        //æœ‰å‰å¯¼0ä¸”è¿™ä½ä¹Ÿæ˜¯å‰å¯¼0ï¼Œä¸€åˆ‡ä¸å˜åªæœ‰ä½æ•°å˜åŒ–\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 0, -38, 1, limit &amp;&amp; (i == res));\n        //æœ‰å‰å¯¼0ä½†è¿™ä½ä¸æ˜¯å‰å¯¼0ï¼ˆè¿™ä½æ˜¯æ•°å­—çš„æœ€é«˜ä½ï¼‰å¼€å§‹æœ‰å‰ä¸€ä½ï¼Œä¸€ä¸ªæ•°å½¢æˆç­‰å·®æ•°åˆ—\n        else if (i &amp;&amp; lead) ret += dfs(pos + 1, i, 1, 1, -38, 0, limit &amp;&amp; (i == res));\n        //ä¹‹å‰åˆšæœåˆ°1ä½è¿˜æ²¡æœ‰å…±å·®ï¼Œä¸¤ä½æ•°å½¢æˆç­‰å·®æ•°åˆ—ï¼Œè®°å½•å…±å·®\n        else if (d &lt; -9) ret += dfs(pos + 1, i, 2ll, 2ll, i - pre, 0, limit &amp;&amp; (i == res));\n        //æœåˆ°2ä½ä»¥åï¼Œå…±å·®è‹¥ä¸å‰ä¸¤ä½ç›¸åŒå½“å‰ç­‰å·®æ•°åˆ—é•¿åº¦å¢åŠ ï¼Œè‹¥å…¬å·®å˜åŒ–åˆ™æ›´æ–°æ•´ä¸ªæ•°å­—çš„æœ€å¤§ä»·å€¼ï¼Œç­‰å·®æ•°åˆ—é•¿åº¦åˆå˜ä¸º2\n        else if (d &gt;= -9) ret += dfs(pos + 1, i, (i - pre == d) ? st + 1 : 2, max(sum, (i - pre == d) ? st + 1 : 2), (i - pre == d) ? d : i - pre, 0, limit &amp;&amp; (i == res));\n    }\n    //æ²¡æœ‰å‰å¯¼0å’Œæœ€é«˜é™åˆ¶æ—¶å¯ä»¥ç›´æ¥è®°å½•å½“å‰dpå€¼ä»¥ä¾¿ä¸‹æ¬¡æœåˆ°åŒæ ·çš„æƒ…å†µå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚\n    return (!limit &amp;&amp; !lead) ? dp[pos][pre][st][sum][d + 10] = ret : ret;\n}\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof(dp));\n    return dfs(1, 0, 0, 0, -38, 1, 1); //-38æ˜¯éšä¾¿èµ‹çš„å…¶å®èµ‹æˆ-10å°±è¡Œäº†â€¦â€¦\n}\nint main() {\n    cin &gt;&gt; T;\n    while (T--) {\n        cin &gt;&gt; l &gt;&gt; r;\n        //læ˜¯0çš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„ï¼\n        if(l) cout &lt;&lt; (part(r) - part(l - 1)) &lt;&lt; '\\n';\n        else cout &lt;&lt; part(r) - part(l) + 1 &lt;&lt; '\\n';\n    }\n    return 0;\n}\n0x01 HDU2089 ä¸è¦62\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nå…¥é—¨é¢˜ï¼Œç»Ÿè®¡åŒºé—´å†…ä¸å«4æˆ–62çš„æ•°å­—ä¸ªæ•°\nint a[10], len;\nll l, r;\nll dp[15][15];\nll dfs(int pos, int pre, int lead, int limit) {\n    if (pos &gt; len) return 1; //å‰ªæ\n    if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n        if (i == 4) continue;\n        //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit);\n        //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½\n        else {\n            if (i == 2 &amp;&amp; pre == 6) continue;\n            ret += dfs(pos + 1, i, 0, i == res &amp;&amp; limit);\n        }\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\n//æŠŠæ•°æŒ‰ä½æ‹†åˆ†\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ\n}\nint main() {\n    while(cin &gt;&gt; l &gt;&gt; r) {\n        if(!l &amp;&amp; !r) break;\n        cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n';\n    }\n}\n0x02 æ•°ä½å°å­©\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªæ•°åŒæ—¶æ»¡è¶³ï¼šæ¯ç›¸é‚»ä¸¤ä¸ªæ•°ä½å’Œä¸ºç´ æ•°ï¼Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªæ•°ä½ä¸º1ï¼Œä¸”æ²¡æœ‰å‰å¯¼0\nint a[20], len;\nll l, r;\nbool prime[25];\nll dp[20][20];\nll dfs(int pos, int pre, bool one, int lead, int limit) //è®°æœ\n{\n    if (pos &gt; len) if (one) return 1; else return 0; //å‰ªæ\n    if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead) &amp;&amp; one)) return dp[pos][pre]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n        bool nextone = one;\n        if (i == 1 || pre == 1) nextone = 1;\n        //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit);\n        //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½\n        if (i &amp;&amp; lead) ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit);\n        // else\n        else {\n            if (!prime[i + pre]) continue;\n            ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit);\n        }\n    }\n    if (!limit &amp;&amp; !lead &amp;&amp; one) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\n//æŠŠæ•°æŒ‰ä½æ‹†åˆ†\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, 0, 1, 1); //è¿›å…¥è®°æœ\n}\nvoid pr(int x) { prime[x] = 1; }\nvoid init() {\n    pr(2), pr(3), pr(5), pr(7), pr(11), pr(13), pr(17), pr(19);\n}\nint main() {\n    init();\n    cin &gt;&gt; l &gt;&gt; r;\n    cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n';\n}\n0x03 AT4540 Digit Sum\n\n\n\n\n\n\n\n\n link\né¢˜æ„ï¼š\nåŒºé—´ â€‹ å†…æœ‰å¤šå°‘ä¸ªæ•°ï¼Œä½¿å¾—åè¿›åˆ¶è¡¨ç¤ºçš„æ•°å­—ä¹‹å’Œæ˜¯ D çš„å€æ•°ï¼Ÿ ç­”æ¡ˆå¯¹ 1e9 + 7 å–æ¨¡ï¼ŒK &lt; 1e10000. D &lt; 1e2\né¢˜è§£ï¼šåªéœ€ç»´æŠ¤å‰ç¼€å’Œnumå³å¯ï¼Œpreéƒ½ç”¨ä¸åˆ°ï¼Œæ³¨æ„è¾“å…¥æ•°å­—è¾ƒå¤§ï¼Œçˆ†longlongè¦ç”¨stringç¿»è½¬å¤„ç†ï¼Œ(å¼€å§‹æ²¡ç¿»è½¬è¿‡æ¥waäº†åŠå¤©â€¦)\nint a[maxn], len;\nll l, r, D;\nll dp[maxn][115];\nll dfs(int pos, int num, int lead, int limit) {\n    if (pos &gt; len) return num == 0; //å‰ªæ\n    if ((dp[pos][num] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][num] % mod; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n        int num_ = (num + i) % D;\n        //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0\n        if ((!i) &amp;&amp; lead) ret = (ret + dfs(pos + 1, num_, 1, i == res &amp;&amp; limit) % mod) % mod;\n        //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½\n        else if (i &amp;&amp; lead) ret = (ret + dfs(pos + 1, num_, 0, i == res &amp;&amp; limit) % mod) % mod;\n        else {\n            ret = (ret + dfs(pos + 1, num_, 0, i == res &amp;&amp; limit) % mod) % mod;\n        }\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][num] = ret % mod; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret % mod;\n}\nll part(string x) {\n    len = x.size();\n    // reverse\n    for (int i = 0; i &lt; x.size(); i++) {\n        a[len - i] = x[i] - '0';\n    }\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ\n}\nint main() {\n    string s; \n    cin &gt;&gt; s; cin &gt;&gt; D;\n    cout &lt;&lt; (part(s) - part(\"0\") + mod) % mod &lt;&lt; '\\n';\n}\n0x04 SAC#1 - èŒæ•°\n\n\n\n\n\n\n\n\n link\n é¢˜æ„ï¼š\n åªæœ‰æ»¡è¶³â€œå­˜åœ¨é•¿åº¦è‡³å°‘ä¸º2çš„å›æ–‡å­ä¸²â€çš„æ•°æ˜¯èŒçš„ï¼Œæ±‚åŒºé—´å†…èŒæ•°çš„ä¸ªæ•°ã€‚\n é¢˜è§£ï¼š\n æ­£éš¾åˆ™åï¼Œå½“ä¸€ä¸ªæ•°çš„ä»»æ„ä¸€ä½éƒ½ä¸å’Œå‰ä¸¤ä½çš„æ•°å­—ç›¸åŒæ—¶ï¼Œè¿™ä¸ªæ•°å°±ä¸å«å›æ–‡ä¸²\n æ•…dp[pos][pre][ppre]ï¼Œpreè¡¨ç¤ºä¸Šä¸€ä½ï¼Œppreè¡¨ç¤ºä¸ŠäºŒä½çš„æ•°å­—ã€‚\n ä½†æ˜¯ç”±äºè¾“å…¥èŒƒå›´è¶…è¿‡llï¼Œæ‰€ä»¥éœ€è¯»å…¥stringï¼Œå¹¶ä¸”ç”¨æ€»é•¿åº¦å‡å»dpæ±‚å¾—çš„æ–¹æ¡ˆæ•°ã€‚\n åœ¨è¿™é‡Œæ²¡æœ‰æ›´åŠ ç®€æ´ä¼˜åŒ–è‡ªå·±çš„ä»£ç ï¼Œå†™äº†ä¸ªä¸‘é™‹çš„å¤§æ•°å‡æ³•ï¼Œè™½ç„¶ACäº†ä½†æ˜¯å¾…ä¼˜åŒ–ã€ã€\nä¼˜åŒ–ç»†èŠ‚ï¼š\n\nç”±äºç­”æ¡ˆæ˜¯ sum[r] - sum[l - 1] é‚£ä¹ˆå¯¹äº ï¼šéœ€è¦å†™é«˜ç²¾åº¦å‡æ³•å—ï¼Ÿ\nä¸ç”¨ã€‚ç›´æ¥æ±‚sum[r] å’Œ sum[l] ç„¶åç‰¹åˆ¤ä¸€ä¸‹  è¿™ä¸ªå·¦è¾¹ç•Œæ˜¯å¦åˆæ³•å°±è¡Œã€‚\n\nç”±äºæ­£éš¾åˆ™åï¼Œå–è¡¥é›†ï¼Œéœ€è¦ä½¿ç”¨  å†å‡å»ç­”æ¡ˆï¼Œéœ€è¦å†™é«˜ç²¾åº¦å—ï¼Ÿ\nä¸ç”¨ã€‚ç›´æ¥å¯¹  å’Œ  å–æ¨¡ç„¶åç›¸å‡ï¼Œå¾—å‡ºçš„ç»“æœä¸  ä¸€è‡´ã€‚\n\n\nstring l, r;\nint len, a[maxn];\nint dp[maxn][15][15];\t// pos pre ppre\n\nll dfs(int pos, int pre, int ppre, int lead, int limit) {\n    if (pos &gt; len) return 1; //å‰ªæ\n    if ((dp[pos][pre][ppre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][ppre] % mod; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n        if ((!i) &amp;&amp; lead) ret = (ret + dfs(pos + 1, 0, -1, 1, i == res &amp;&amp; limit) % mod) % mod;\n        else if (i &amp;&amp; lead) ret = (ret + dfs(pos + 1, i, -1, 0, i == res &amp;&amp; limit) % mod) % mod;\n        else {\n        \tif (pre == ppre || i == pre || i == ppre) continue;\n        \tret = (ret + dfs(pos + 1, i, pre, 0, i == res &amp;&amp; limit) % mod) % mod;\n        }\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][pre][ppre] = ret % mod; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret % mod;\n}\nll part(string x, bool flag) {\n    len = x.size();\n    rep(i, 0, len) {\n    \ta[len - i] = x[i] - '0';\n    }\n    if(flag) {\n    \tif(len == 1 &amp;&amp; a[1] == 0) { a[1] = 0; }\n    \telse {\n    \t\tint idx = 1;\n    \t\twhile (idx &lt;= len) {\n    \t\t\tif(a[idx] &gt; 0) { a[idx]--; break; }\n    \t\t\telse a[idx] = 9, idx++;\n    \t\t}\n    \t}\n    }\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, -1, 1, 1); //è¿›å…¥è®°æœ\n}\n// y - x + 1\nint ret[maxn];\nll calc(string x, string y) {\n\tint lead = 1;\n\tint leny = y.size(), lenx = x.size();\n\tif(lenx == 1 &amp;&amp; x[0] == '0') lead = 0;\n\trep(i, 1, lenx + 1) {\n\t\tint tmp = y[leny - i] - '0' - (x[lenx - i] - '0') + lead;\n\t\tif(tmp &gt;= 10) { lead = 1; tmp = tmp % 10; }\n\t\telse if(tmp &lt; 0)  { lead = -1; tmp = tmp + 10; }\n\t\telse lead = 0;\n\t\tret[i] = tmp;\n\t}\n\trep(i, lenx + 1, leny + 1) {\n\t\tint tmp = y[leny - i] - '0' + lead;\n\t\tif(tmp &gt;= 10) { lead = 1; tmp = tmp % 10; }\n\t\telse if(tmp &lt; 0)  { lead = -1; tmp = tmp + 10; }\n\t\tret[i] = tmp;\n\t}\n\tll ans = 0;\n\tred(i, leny + 1, 1) {\n\t\tans = (ans * 10 % mod + ret[i]) % mod;\n\t}\n\treturn ans;\n}\nsigned main() {\n\tcin &gt;&gt; l &gt;&gt; r;\n    cout &lt;&lt; (calc(l, r) - (part(r, 0) - part(l, 1) + mod) % mod + mod) % mod &lt;&lt; '\\n';\n}\n0x05 [ZJOI2010]æ•°å­—è®¡æ•°\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼šç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´å†…æ¯ä¸ªæ•°å„ä½æ•°å­—å‡ºç°çš„æ¬¡æ•°\næ€è·¯ï¼šå¯¹0~9æ¯ä¸ªæ•°å­—å•ç‹¬è®°æœ\n#define int ll\nll l, r;\nint len, a[20];\nint dp[20][20];\t// pos\nint num = 0;\nll dfs(int pos, int cnt, int lead, int limit) {\n    if (pos &gt; len) return cnt;//å‰ªæ\n    if ((dp[pos][cnt] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][cnt]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n    \t// ret += dfs(pos + 1, cnt + ((i == num) &amp;&amp; (i || !lead)), lead &amp;&amp; (i == 0), i == res &amp;&amp; limit);\n    \tint cnt_ = (i == num) ? cnt + 1 : cnt;\t\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit);\n        else if (i &amp;&amp; lead) ret += dfs(pos + 1, cnt_, 0, i == res &amp;&amp; limit);\n        else ret += dfs(pos + 1, cnt_, 0, i == res &amp;&amp; limit);\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][cnt] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, 1, 1); //è¿›å…¥è®°æœ\n}\nsigned main() {\n\tcin &gt;&gt; l &gt;&gt; r;\n\twhile(num &lt;= 9)\n\t    cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; ' ', num++;\n}\n0x06 [AHOI2009] åŒç±»åˆ†å¸ƒ\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼šç»Ÿè®¡åŒºé—´å†…æ¯ä¸ªæ•°å„ä½æ•°å­—ä¹‹å’Œèƒ½æ•´é™¤åŸæ•°çš„æ•°çš„ä¸ªæ•°ï¼Œl, r &lt; 1e18\næ€è·¯ï¼šæ¨¡æ•°å°±æ˜¯å„ä½æ•°å­—ä¹‹å’Œã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆç¡®å®šè¿™ä¸ªå€¼å†æœã€‚å¯ä»¥æšä¸¾å„ä½æ•°å­—ä¹‹å’Œã€‚é‚£ä¹ˆæœ€åçš„æƒ…å†µå°±æ˜¯10^18-1ï¼Œå„ä½æ•°å­—å’Œä¸º17 * 9=153ï¼Œæ‰€ä»¥æˆ‘ä»¬æšä¸¾153æ¬¡å³å¯ã€‚\ndpæ•°ç»„ç»´æŠ¤å„ä½æ•°å­—ä¹‹å’Œd, ä»¥åŠæ•°å­—å¯¹modå–æ¨¡çš„å€¼sumå³å¯ï¼Œå‰ªææ¡ä»¶ä¸º d == mod &amp;&amp; sum == 0\n#define int ll\nll l, r;\nint len, a[25];\nint dp[25][180][180];\t// pos sum d\nint mod;\nll dfs(int pos, int sum, int d, int lead, int limit) {\n    if (pos &gt; len) return d == mod &amp;&amp; sum == 0;//å‰ªæ\n    if ((dp[pos][sum][d] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][sum][d]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n    \tif(d + i &gt; mod) break;\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit);\n        else if (i &amp;&amp; lead) ret += dfs(pos + 1, i % mod, i, 0, i == res &amp;&amp; limit);\n        else ret += dfs(pos + 1, (sum * 10 + i) % mod, d + i, 0, i == res &amp;&amp; limit);\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][sum][d] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    ll ans = 0;\n    rep(i, 1, 9 * len + 1) {\n    \tmemset(dp, -1, sizeof dp); \n    \tmod = i;\n    \tans += dfs(1, 0, 0, 1, 1);\n    }\n    return ans;\n}\nsigned main() {\n\tcin &gt;&gt; l &gt;&gt; r;\n\tcout &lt;&lt; part(r) - part(max(0ll, l - 1));\n}\n0x07 P4317 èŠ±ç¥çš„æ•°è®ºé¢˜\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š è¡¨ç¤º  çš„äºŒè¿›åˆ¶ä¸­  çš„ä¸ªæ•°ï¼Œç»™å®š , æ±‚ä»  åˆ°  ,  çš„ä¹˜ç§¯ã€‚å¯¹ 1e7 + 7 å–æ¨¡ï¼ŒN &lt; 1e15\næ€è·¯ï¼š\nå°†  æŒ‰ç…§äºŒè¿›åˆ¶å­˜å‚¨ï¼Œæ ¹æ®èŒƒå›´1e15å¯çŸ¥ï¼Œä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶æœ‰50ä½1ï¼Œäºæ˜¯æˆ‘ä»¬æšä¸¾1çš„ä¸ªæ•°ï¼Œdp[pos][cnt] ç»´æŠ¤1çš„ä¸ªæ•°cntï¼Œå‰ªææ—¶cnt=æšä¸¾ä¸ªæ•°å³å¯è¿”å›è®¡æ•°ã€‚å¯¹æšä¸¾çš„æ¯ç§æƒ…å†µè¿›è¡Œè®¡æ•°ç”¨ksmä¹˜å³å¯ã€‚\nll qpow(ll a, ll b) {\n    ll ans = 1;\n    for (; b; b &gt;&gt;= 1) {\n        if (b &amp; 1)\n            ans = ans * a % mod;\n        a = a * a % mod;\n    }\n    return ans;\n}\nll l, r;\nint len, a[70], tmp;\nint dp[70][70];\t// pos cnt\nll dfs(int pos, int cnt, int lead, int limit) {\n\tif (pos &gt; len) return cnt == tmp;\n\tif ((dp[pos][cnt] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][cnt];\n\tll ret = 0; \n\tint res = limit ? a[len - pos + 1] : 1; \n\tfor (int i = 0; i &lt;= res; i++) {\n\t\tif ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 1, i == res &amp;&amp; limit);\n\t\telse if (i &amp;&amp; lead) ret += dfs(pos + 1, i == 1, 0, i == res &amp;&amp; limit);\n\t\telse ret += dfs(pos + 1, (i == 1) + cnt, 0, i == res &amp;&amp; limit);\n\t}\n\tif (!limit &amp;&amp; !lead) dp[pos][cnt] = ret;\n\treturn ret;\n}\nll part(ll x) {\n\tlen = 0;\n\twhile (x) a[++len] = x &amp; 1 ? 1 : 0, x /= 2;\n\tll ans = 1;\n\trep(i, 1, 70) {\n\t\ttmp = i;\n\t\tmemset(dp, -1, sizeof dp);\n\t\tint fuck = dfs(1, 0, 1, 1);\n\t\tans = ans * qpow(i, fuck) % mod;\n\t}\n\treturn ans;\n}\nsigned main() {\n\tcin &gt;&gt; r;\n\tcout &lt;&lt; part(r);\n}\n","slug":"algorithm/exercise/æ•°ä½dp_problem","date":"2022-03-23T12:30:00.000Z","categories_index":"ALGORITHM TRAINING","tags_index":"ACM,dp,algorithm,dfs","author_index":"Maskros"},{"id":"f07c6ac12cfa8281f76441776167f8cd","title":"æ•°ä½dp","content":"æ•°ä½dpæ•°ä½dpæ˜¯åœ¨èŒƒå›´å†…æŒ‰ä½é€’æ¨å‡ºæœ€å¤§å€¼çš„å¿«æ·ç®—æ³•ï¼Œç”±äºæ˜¯æŒ‰ä½dpï¼Œæ‰€ä»¥æ•°çš„å¤§å°å¯¹å¤æ‚åº¦å½±å“å¾ˆå°\nref: blog in luogu\nå¯¼\n\n\n\n\n\n\n\n\nç»å…¸é¢˜é¢ï¼š æ±‚å‡ºä¸€æ®µåŒºé—´  ä¸­ï¼Œæ»¡è¶³æŸä¸€ç‰¹æ®Šæ¡ä»¶çš„æ•°æœ‰å¤šå°‘ä¸ªï¼Œæ¡ä»¶ä¸€èˆ¬ä¸æ•°çš„å¤§å°æ— å…³è€Œä¸æ•°å­—çš„ç»„æˆæœ‰å…³\næ•°ä½dpè¾ƒæ™®é€šdpæ¯”è¾ƒå†·é—¨ï¼Œä½†æ˜¯ä¸ä¼šå†™å°±åªèƒ½æš´åŠ›éª—åˆ† = =\næ³¨ï¼šL, R å·¨å¤§çˆ†longlongæ—¶è¦ç”¨å­—ç¬¦ä¸²å¤„ç†\næ³¨ï¼šç”±äºæœç´¢çš„é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®é¢˜æ„è€ƒè™‘æšä¸¾æ¯ç§æƒ…å†µååˆ†åˆ«è¿›è¡Œè®°æœè®¡æ•°ï¼Œæœ€åå†æ±‡æ€»ã€‚\nåŸºæœ¬åŸç†\n\n\n\n\n\n\n\n\né€šè¿‡è®°å¿†åŒ–æœç´¢æ¥å®ç°åŠ¨æ€è§„åˆ’ï¼Œç›¸æ¯”æ­£é¢é€’æ¨åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´ç®€æ´ã€‚\n0X01 è®°å¿†åŒ–æœç´¢ä»èµ·ç‚¹å‘ä¸‹æœç´¢ï¼Œåˆ°æœ€åº•å±‚å¾—åˆ°æ–¹æ¡ˆæ•°ï¼Œä¸€å±‚ä¸€å±‚å‘ä¸Šè¿”å›ç­”æ¡ˆç´¯åŠ ï¼Œæœ€ç»ˆä»æœç´¢èµ·ç‚¹å¾—åˆ°æœ€ç»ˆç­”æ¡ˆã€‚\nå¯¹äºåŒºé—´  , ä¸€èˆ¬è½¬åŒ–æˆä¸¤æ¬¡æ•°ä½dpï¼Œå³æ‰¾  å’Œ  ä¸¤æ®µï¼Œç»“æœç›¸å‡å³å¯ã€‚\n0x02 çŠ¶æ€è®¾è®¡\n\n\n\n\n\n\n\n\nè€ƒè™‘åœ¨å“ªä¸€å±‚ï¼Œåˆ¤æ–­å½“å‰çš„çŠ¶æ€\næ•°ä½dpçš„çŠ¶æ€èƒ½è®°å½•çš„æœ€å¥½éƒ½è®°å½•ä¸Š\ndfs()å‡½æ•°çš„ä¸€äº›å‚é‡ï¼š\n\næ•°å­—ä½æ•° , è®°å½•ç­”æ¡ˆçš„ , æœ€é«˜ä½é™åˆ¶ \n\nåˆ¤æ–­å‰å¯¼0çš„æ ‡è®° \n\nç”±äºæ•°ä½dpè§£å†³çš„å¤§å¤šæ˜¯æ•°å­—ç»„æˆé—®é¢˜ï¼Œæ‰€ä»¥ç»å¸¸è¦æ¯”è¾ƒå½“å‰ä½å’Œå‰ä¸€ä½æˆ–å‰å‡ ä½çš„å…³ç³»ï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨ dfs() ä¸­ä¹Ÿè¦è®°å½•å‰ä¸€ä½æˆ–å‰å‡ ä½æ•° â€‹\n\nå‚é‡è§£é‡Šï¼š\n\nå‰å¯¼0æ ‡è®° \n\n\n\n\n\n\n\n\n\næœ‰çš„æ—¶å€™å‰å¯¼0ä¸éœ€è¦åˆ¤æ–­ï¼Œæ ¹æ®é¢˜æ„å³å¯\nç”±äºæˆ‘ä»¬è¦æœçš„æ•°å¯èƒ½å¾ˆé•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›´æ¥æœ€é«˜ä½æœèµ·\nä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚æˆ‘ä»¬è¦ä»æ‰¾ä»»æ„ç›¸é‚»ä¸¤æ•°ç›¸ç­‰çš„æ•°\næ˜¾ç„¶ç­‰ç­‰æ˜¯ç¬¦åˆé¢˜æ„çš„æ•°\nä½†æ˜¯æˆ‘ä»¬å‘ç°å³ç«¯ç‚¹æ˜¯å››ä½æ•°\nå› æ­¤æˆ‘ä»¬æœç´¢çš„èµ·ç‚¹æ˜¯ï¼Œè€Œä¸‰ä½æ•°çš„è®°å½•éƒ½æ˜¯ç­‰ç­‰\nè€Œè¿™ç§æƒ…å†µä¸‹å¦‚æœæˆ‘ä»¬ç›´æ¥æ‰¾ç›¸é‚»ä½ç›¸ç­‰åˆ™ç¬¦åˆé¢˜æ„è€Œéƒ½ä¸ç¬¦åˆé¢˜æ„äº†\næ‰€ä»¥æˆ‘ä»¬è¦åŠ ä¸€ä¸ªå‰å¯¼0æ ‡è®°ï¼š\n\nå½“å‰ä½  = 1 ä¸”å½“å‰ä½ç½®ä¸º0ï¼Œé‚£ä¹ˆå½“å‰ä½ç½®ä¹Ÿæ˜¯å‰å¯¼0ï¼Œä½¿  + 1 ç»§ç»­æœ\nå½“å‰ä½  = 1 ä½†å½“å‰ä½ä¸æ˜¯0ï¼Œé‚£ä¹ˆæœ¬ä½ä¸ºå½“å‰æ•°å­—çš„æœ€é«˜ä½ï¼Œ + 1 ç»§ç»­æœ\n\n\næœ€é«˜ä½æ ‡è®° \næˆ‘ä»¬çŸ¥é“åœ¨æœç´¢çš„æ•°ä½æœç´¢èŒƒå›´å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼›\nä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬åœ¨æœç´¢  çš„æ•°æ—¶ï¼Œæ˜¾ç„¶æœ€é«˜ä½æœç´¢èŒƒå›´æ˜¯  ~ ï¼Œè€Œåé¢çš„ä½æ•°çš„å–å€¼èŒƒå›´ä¼šæ ¹æ®ä¸Šä¸€ä½å‘ç”Ÿå˜åŒ–ï¼šå½“æœ€é«˜ä½æ˜¯  ~  æ—¶ï¼Œç¬¬äºŒä½å–å€¼ä¸º ; å½“æœ€é«˜ä½æ˜¯  æ—¶ï¼Œç¬¬äºŒä½å–å€¼ä¸º ï¼ˆå†å¾€ä¸Šå–å°±è¶…å‡ºå³ç«¯ç‚¹èŒƒå›´äº†ï¼‰\nä¸ºäº†åˆ†æ¸…è¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¼•å…¥äº†  æ ‡è®°ï¼š\n\nå½“å‰ä½  = 1 è€Œä¸”å·²ç»å–åˆ°äº†èƒ½å–åˆ°çš„æœ€é«˜ä½æ—¶ï¼Œä¸‹ä¸€ä½  = 1ï¼›\nå½“å‰ä½  = 1 ä½†æ˜¯æ²¡æœ‰å–åˆ°èƒ½å–åˆ°çš„æœ€é«˜ä½æ—¶ï¼Œä¸‹ä¸€ä½  = 0ï¼›\nå½“å‰ä½  = 0 åˆ™ä¸‹ä¸€ä½ä¹Ÿä¸º0ã€‚\n\næˆ‘ä»¬è®¾è¿™ä¸€ä½çš„æ ‡è®°ä¸º ï¼Œè¿™ä¸€ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼ä¸º ï¼Œåˆ™ä¸‹ä¸€ä½çš„æ ‡è®°å°±æ˜¯i == res &amp;&amp; limit ( â€‹ æšä¸¾è¿™ä¸€ä½å¡«çš„æ•°)\n\n\n0x03 dpæ•°ä½dpåœ¨è®°å¿†åŒ–æœç´¢çš„æ¡†æ¶ä¸‹è¿›è¡Œï¼Œæ¯æ‰¾åˆ°ä¸€ç§æƒ…å†µæˆ‘ä»¬å°±å°†è¿™ç§æƒ…å†µè®°å½•ä¸‹æ¥ï¼Œç­‰åˆ°åé¢æœåˆ°ç›¸åŒæƒ…å†µæ—¶ç›´æ¥ä½¿ç”¨å½“å‰è®°å½•çš„å€¼å³å¯ã€‚\ndpæ•°ç»„çš„ä¸‹æ ‡ï¼šè¡¨ç¤ºä¸€ç§çŠ¶æ€ã€‚åªè¦å½“å‰çŠ¶æ€å’Œä¹‹å‰æœè¿‡çš„æŸä¸ªçŠ¶æ€å®Œå…¨ä¸€æ ·ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›åŸæ¥å·²ç»è®°å½•ä¸‹çš„dpå€¼ã€‚\n\n\n\n\n\n\n\n\n\né‡è¦çš„ä¾‹å­ï¼š\nåŒºé—´ï¼š\næœåˆ°  æ—¶ï¼Œdfsä»ä¸‹è¿”å›ä¸Šæ¥çš„æ•°å€¼å°±æ˜¯ å½“å‰ä½æ˜¯ç¬¬5ä½ï¼Œå‰ä¸€ä½æ˜¯0çš„æ–¹æ¡ˆæ•°ï¼Œæœå®Œä¹‹åè®°å½•æ–¹æ¡ˆæ•°å­—ã€‚\nå½“æœåˆ°  æ—¶ï¼Œå°±å‘ç°å½“å‰çŠ¶æ€ä¸€æ ·æ˜¯ æœåˆ°ç¬¬5ä½ï¼Œä¸”å‰ä¸€ä½æ˜¯0ï¼Œä¸ä¹‹å‰è®°å½•æƒ…å†µå®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥å°±ä¸ç”¨å‘ä¸‹æœï¼Œç›´æ¥è¿”å›ä¸Šæ¬¡dpå€¼å³å¯ã€‚\nå¦‚æœæœåˆ° ï¼Œä¸èƒ½ç›´æ¥è¿”å›å½“å‰ä½æ˜¯ç¬¬5ä½ï¼Œå‰ä¸€ä½æ˜¯4çš„dpå€¼ã€‚ å› ä¸ºè¿™ä¸ªçŠ¶æ€çš„dpå€¼è¢«è®°å½•æ—¶ï¼Œå½“å‰ä½ä¹Ÿå°±æ˜¯ç¬¬5ä½çš„å–å€¼æ˜¯ ï¼Œè€Œè¿™æ¬¡å½“å‰ä½çš„å–å€¼æ˜¯â€‹ï¼Œæ–¹æ¡ˆæ•°ä¸€å®šæ¯”ä¹‹å‰è®°å½•çš„dpå€¼è¦å°ã€‚å½“å‰  = 1, æœ€é«˜ä½æœ‰å–å€¼çš„é™åˆ¶ã€‚\nç»“è®ºï¼š å½“  = 1æ—¶ï¼Œä¸èƒ½è®°å½•å’Œå–ç”¨dpå€¼ï¼ŒåŒç†  = 1 æ—¶ä¹Ÿä¸è¡Œã€‚\næ¿å­ll dfs(int pos, int pre, int st, â€¦â€¦, int lead, int limit) //è®°æœ\n{\n    if (pos &gt; len) return st; //å‰ªæ\n    if ((dp[pos][pre][st]â€¦â€¦[â€¦â€¦] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead))) return dp[pos][pre][st]â€¦â€¦[â€¦â€¦]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++)\n    {\n        //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, â€¦â€¦, 1, i == res &amp;&amp; limit);\n        //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½\n        else if (i &amp;&amp; lead) ret += dfs(pos + 1, i, â€¦â€¦, 0, i == res &amp;&amp; limit);\n        else if (æ ¹æ®é¢˜æ„è€Œå®šçš„åˆ¤æ–­) ret += dfs(â€¦â€¦, â€¦â€¦, 0, i == res &amp;&amp; limit);\n    }\n    if (!limit &amp;&amp; !lead) dp[pos][pre][st]â€¦â€¦[â€¦â€¦] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\nll part(ll x)//æŠŠæ•°æŒ‰ä½æ‹†åˆ†\n{\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, â€¦â€¦, â€¦â€¦, 1, 1); //è¿›å…¥è®°æœ\n}\nint main()\n{\n\tcin &gt;&gt; l &gt;&gt; r;\n    cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n';\n    return 0;\n}\né¢˜å•solution\n\n0x00 Digit link\n0x01 HDU2089 ä¸è¦62 link\n0x02 æ•°ä½å°å­© link\n0x03 AT4540 Digit Sum link\n0x04 SAC#1 - èŒæ•° link\n0x05 [ZJOI2010]æ•°å­—è®¡æ•° link\n0x06 [AHOI2009] åŒç±»åˆ†å¸ƒ link\n\n0x07 P4317 èŠ±ç¥çš„æ•°è®ºé¢˜ link\n\n\n","slug":"algorithm/learn/æ•°ä½dp","date":"2022-03-17T15:00:00.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,dp,algorithm","author_index":"Maskros"},{"id":"17ca7321ffda1126ed9a39aad0df3311","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥5","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥5\n\n\n\n\n\n\n\n\nè¡¥ä¸€ä¸‹æ‰“çš„æœ€çƒ‚çš„ä¸€åœº\nA ç–«è‹—å°å­© (äºŒåˆ†)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šé•¿ä¸º n çš„01ä¸²ï¼Œ0è¡¨ç¤ºå¯ä»¥æ‰“ç–«è‹—ï¼Œæœ€å¤šå¯ä»¥æ‰“ä¸‰é’ˆï¼Œæ¯ä¸¤é’ˆç›¸å·®kå¤©æ—¶å¯ä»¥è´¡çŒ®wï¼Œæ¯å¤šç›¸å·®xå¤©æˆ–è€…å°‘ç›¸å·®xå¤©ï¼Œè´¡çŒ®éƒ½ä¼šå‡å°‘ä¸º w-q*xï¼Œé—®æœ€å¤§è´¡çŒ®æ˜¯å¤šå°‘\næ€è·¯ï¼š\nå¯ä»¥å‘ç°1é’ˆå’Œ0é’ˆçš„è´¡çŒ®éƒ½ä¸º0ï¼Œæ‰€ä»¥ç›´æ¥è€ƒè™‘2é’ˆåŠä»¥ä¸Šçš„æƒ…å†µæšä¸¾ç¬¬äºŒé’ˆæ‰€åœ¨çš„ä½ç½®posï¼ŒäºŒåˆ†æ‰¾åˆ°ç¦» pos+k å’Œ pos-k æœ€è¿‘çš„ä¸¤ä¸ªç‚¹è®¡ç®—æœ€å¤§è´¡çŒ®å³å¯\nä½¿ç”¨ lower_bound å‡½æ•°ï¼Œ å¤æ‚åº¦ \n#define int ll\nint a[maxn];\nvoid solve() {\n\tint n; cin &gt;&gt; n;\n\tint cnt = 0;\n\trep(i, 1, n + 1) {\n\t\tchar t; cin &gt;&gt; t;\n\t\tif(t == '0') a[++cnt] = i;\n\t} \t\n\tint k, w, q; cin &gt;&gt; k &gt;&gt; w &gt;&gt; q;\n\tint ans = 0;\n\trep(i, 2, cnt + 1) {\n\t\t// first &gt;=\n\t\tint pos1 = lower_bound(a + 1, a + cnt + 1, a[i] - k) - a;\n\t\tint pos2 = lower_bound(a + 1, a + cnt + 1, a[i] + k) - a;\n\t\tint mn1 = min(abs(a[i] - k - a[pos1]), abs(a[i] - k - a[max(1ll, pos1 - 1)]));\n\t\tint mn2 = min(abs(a[i] + k - a[pos2]), abs(a[i] + k - a[max(1ll, pos2 - 1)]));\n\t\tint tmp1 = max(0ll, w - q * mn1), tmp2 = max(0ll, w - q * mn2);\n\t\tif(i == cnt) tmp2 = 0;\n\t\tans = max(ans, tmp1 + tmp2);\n\t}\n\tcout &lt;&lt; ans;\n}\n*C æˆ˜æ——å°å­© (äºŒè¿›åˆ¶æšä¸¾)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nn, k, s è¡¨ç¤ºæ¸¸æˆå±€æ•°ï¼Œå¯ä»¥è·å¾—é¢å¤–æœºä¼šçš„æ¬¡æ•°å’Œèµ·å§‹åˆ†æ•°ï¼Œéšåä¸€è¡Œ n ä¸ªæ•° pi ä¸ºæ¯ä¸€å±€ç»“æŸåçš„ä¸€ä¸ªç‰¹å®šåˆ†æ•°ï¼Œå¦‚æœè¯¥å±€ç»“æŸååˆ†æ•°å¤§äºç­‰äºè¯¥ç‰¹å®šåˆ†æ•°ï¼Œå°±é«˜å…´ä¸€æ¬¡ï¼Œpi é¡ºåºä¸èƒ½æ”¹å˜ã€‚æ¥ä¸‹æ¥ n è¡Œä¸ºæ¯å±€ç»“æŸååˆ†æ•°çš„å˜åŒ–deltaå’Œå¦‚æœæ˜¯ç”¨é¢å¤–æœºä¼šåˆ†æ•°çš„å˜åŒ–deltaã€‚å¯ä»¥å˜æ¢ n å±€æ¸¸æˆçš„é¡ºåºï¼Œé—®æœ€å¤šèƒ½é«˜å…´å‡ æ¬¡ã€‚ 0= &lt; k &lt; n &lt;= 20\næ€è·¯ï¼š\nç”±äº n å¾ˆå°ï¼Œé‡‡ç”¨äºŒè¿›åˆ¶æšä¸¾ï¼Œ1çš„ä¸ªæ•°ä¸ºä½¿ç”¨é¢å¤–æœºä¼šçš„æ¬¡æ•°ï¼Œå¤„ç†ä¸€ä¸‹æ¯å±€å¯èƒ½è·å¾—çš„æœ€å¤§å€¼ï¼Œæ¯æ¬¡é€‰æ‹©æœ€å¤§å€¼è®¡ç®—å³å¯ã€‚\n__builtin_popcount(n) è¡¨ç¤º n å†…äºŒè¿›åˆ¶ä½ä¸º1çš„ä¸ªæ•°\nint n, k, s;\nint p[maxn], v[maxn], w[maxn];\nint h[maxn];\nint cal(int x) {\n\trep(i, 0, n) {\n\t\tif((x &gt;&gt; i) &amp; 1) h[i + 1] = w[i + 1];\n\t\telse h[i + 1] = v[i + 1];\n\t}\n\tsort(h + 1, h + n + 1, greater&lt;int&gt;() );\n\tint tmp = s;\n\tint ret = 0;\n\trep(i, 1, n + 1) {\n\t\ttmp += h[i];\n\t\tif(tmp &gt;= p[i]) ret++;\n\t}\n\treturn ret;\n}\nvoid solve() {\n\tcin &gt;&gt; n &gt;&gt; k &gt;&gt; s;\n\tint ans = 0;\n\trep(i, 1, n + 1) cin &gt;&gt; p[i];\n\trep(i, 1, n + 1) {\n\t\tint a, b, c, d; cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;\n\t\tv[i] = max(a, b);\n\t\tw[i] = max({v[i], c, d});\n\t}\n\tint mx = 1 &lt;&lt; n;\n\trep(i, 0, mx) {\n\t\tif (__builtin_popcount(i) == k) ans = max(ans, cal(i));\n\t}\n\tcout &lt;&lt; ans;\n}\nD æ•°ä½å°å­© (æ•°ä½dp)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š \nç»™å®šåŒºé—´ï¼Œç»Ÿè®¡åŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªæ•°åŒæ—¶æ»¡è¶³ï¼šæ¯ç›¸é‚»ä¸¤ä¸ªæ•°ä½å’Œä¸ºç´ æ•°ï¼Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªæ•°ä½ä¸º1ï¼Œä¸”æ²¡æœ‰å‰å¯¼0\næ€è·¯ï¼š\nå¥—æ•°ä½dpæ¿å­å³å¯\nint a[20], len;\nll l, r;\nbool prime[25];\nll dp[20][20];\nll dfs(int pos, int pre, bool one, int lead, int limit) //è®°æœ\n{\n    if (pos &gt; len) if (one) return 1; else return 0; //å‰ªæ\n    if ((dp[pos][pre] != -1 &amp;&amp; (!limit) &amp;&amp; (!lead) &amp;&amp; one)) return dp[pos][pre]; //è®°å½•å½“å‰å€¼\n    ll ret = 0; //æš‚æ—¶è®°å½•å½“å‰æ–¹æ¡ˆæ•°\n    int res = limit ? a[len - pos + 1] : 9; //reså½“å‰ä½èƒ½å–åˆ°çš„æœ€å¤§å€¼\n    for (int i = 0; i &lt;= res; i++) {\n        bool nextone = one;\n        if (i == 1 || pre == 1) nextone = 1;\n        //æœ‰å‰å¯¼0å¹¶ä¸”å½“å‰ä½ä¹Ÿæ˜¯å‰å¯¼0\n        if ((!i) &amp;&amp; lead) ret += dfs(pos + 1, 0, 0, 1, i == res &amp;&amp; limit);\n        //æœ‰å‰å¯¼0ä½†å½“å‰ä½ä¸æ˜¯å‰å¯¼0ï¼Œå½“å‰ä½å°±æ˜¯æœ€é«˜ä½\n        if (i &amp;&amp; lead) ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit);\n        // else\n        else {\n            if (!prime[i + pre]) continue;\n            ret += dfs(pos + 1, i, nextone, 0, i == res &amp;&amp; limit);\n        }\n    }\n    if (!limit &amp;&amp; !lead &amp;&amp; one) dp[pos][pre] = ret; //å½“å‰çŠ¶æ€æ–¹æ¡ˆæ•°è®°å½•\n    return ret;\n}\n//æŠŠæ•°æŒ‰ä½æ‹†åˆ†\nll part(ll x) {\n    len = 0;\n    while (x) a[++len] = x % 10, x /= 10;\n    memset(dp, -1, sizeof dp); //åˆå§‹åŒ–-1ï¼ˆå› ä¸ºæœ‰å¯èƒ½æŸäº›æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°æ˜¯0ï¼‰\n    return dfs(1, 0, 0, 1, 1); //è¿›å…¥è®°æœ\n}\nvoid pr(int x) { prime[x] = 1; }\nvoid init() {\n    pr(2), pr(3), pr(5), pr(7), pr(11), pr(13), pr(17), pr(19);\n}\nint main() {\n    init();\n    cin &gt;&gt; l &gt;&gt; r;\n    cout &lt;&lt; part(r) - part(max(0ll, l - 1)) &lt;&lt; '\\n';\n}\nG 163å°å­©\n\n\n\n\n\n\n\n\næ’åˆ—ç»„åˆ\nint ans = C(13, 2) * 2 + C(13, 3) * 3 + C(13, 2) + C(13, 3) * 6\n\t + C(13, 4) * 4 + C(13, 3) + C(13, 4) * C(4, 2) +\n\t  C(13, 5) * 5 + C(13, 6);\nI å…”å´½å°å­© (å‰ç¼€å’Œ/äºŒåˆ†)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nnæ¡è¯´è¯´ï¼Œqæ¬¡è¯¢é—®ï¼Œæ¯æ¡è¯´è¯´æœ‰å›ºå®šçš„å‘é€æ—¶é—´tï¼Œæ¯æ¬¡è¯¢é—®k, p;  kè¡¨ç¤ºå…¥ç¡æ—¶é—´ï¼Œpè¡¨ç¤ºè¦æ±‚çš„æ€»ç¡çœ æ—¶é—´ï¼Œå¦‚æœæœ€åæ€»ç¡çœ æ—¶é—´å°äºpåˆ™è¾“å‡ºNOï¼Œ å¦åˆ™YES\næ€è·¯ï¼š\nå¯¹æ—¶é—´å·®å€¼æ’åºï¼Œç»´æŠ¤å‰ç¼€å’Œï¼Œå¯¹æ¯æ¬¡è¯¢é—®äºŒåˆ†æŸ¥æ‰¾åˆ°å¤§äºkçš„ä¸‹æ ‡ï¼Œåˆ©ç”¨å‰ç¼€å’Œæ•°ç»„åŒºé—´æ±‚å’Œè¿›è¡Œè®¡ç®—å³å¯ã€‚\nint t[maxn];\nint a[maxn], pre[maxn];\nvoid solve() {\n    int n, q;\n    cin &gt;&gt; n &gt;&gt; q;\n    int len = 0;\n    rep(i, 0, n) {\n        cin &gt;&gt; t[i];\n        if (i)\n            a[++len] = t[i] - t[i - 1];\n    }\n    sort(a + 1, a + len + 1, greater&lt;int&gt;());\n    pre[1] = a[1];\n    rep(i, 2, len + 1) {\n        pre[i] = pre[i - 1] + a[i];\n    }\n    rep(i, 0, q) {\n        int k, p;\n        cin &gt;&gt; k &gt;&gt; p;\n        int idx = lower_bound(a + 1, a + 1 + len, k, greater&lt;int&gt;()) - a;\n        int tmp = pre[idx - 1] - (idx - 1) * k;\n        tmp &gt;= p ? puts(\"Yes\") : puts(\"No\");\n    }\n}\nJ ä¸‰å›½å°å­©æ²™æ¯”é¢˜ï¼Œç•¥äº†\n","slug":"nowcoder/2022winter/round5","date":"2022-03-16T15:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,äºŒåˆ†,dp,nowcoder,å‰ç¼€å’Œ,äºŒè¿›åˆ¶æšä¸¾","author_index":"Maskros"},{"id":"fe758aa173e3b630968b9d21e110c476","title":"Codeforce Edu 124 & Round 777 Problem D","content":"Codeforce Edu 124 &amp; Round 777 Problem DEdu 124 D Nearest_Excluded_Points (BFS)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š  ä¸ªç‚¹çš„åæ ‡ï¼Œå¯¹äºæ¯ä¸ªç‚¹ï¼Œæ‰“å°å“ˆå¯†é¡¿è·ç¦»æœ€è¿‘ä¸”ä¸åŒ…å«åœ¨è¯¥  ä¸ªç‚¹ä¸­çš„ç‚¹çš„åæ ‡ã€‚\næ€è·¯ï¼š\nä»å¤–å¾€é‡Œbfsã€‚å¦‚æœä¸€ä¸ªç‚¹æ²¡è¢«å›´æ­»ï¼Œé‚£ä¹ˆæ€»æœ‰ä¸€ä¸ªç›¸é‚»çš„ç‚¹ä¸ºç­”æ¡ˆï¼Œè¢«å›´æ­»äº†åˆ™å¤–å›´çš„ç‚¹ä¹Ÿæœ‰ç­”æ¡ˆã€‚\né¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰ä¸è‡³å°‘ä¸€ä¸ªä¸å±äºè¿™ä¸ªé›†åˆçš„ç‚¹ç›¸é‚»çš„ç‚¹æ‰¾åˆ°ç­”æ¡ˆã€‚è¿™äº›ç‚¹çš„è·ç¦»æ˜¾ç„¶æ˜¯1ï¼ˆè¿™æ˜¯æˆ‘ä»¬èƒ½å¾—åˆ°çš„æœ€å°çš„ç­”æ¡ˆï¼‰ã€‚åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰ä¸æ‰¾åˆ°ç­”æ¡ˆçš„ç‚¹ç›¸é‚»çš„ç‚¹è®¾å®šç­”æ¡ˆï¼ˆå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¸å±äºé›†åˆçš„é‚»å±…ï¼Œæ‰€ä»¥å®ƒä»¬çš„è·ç¦»è‡³å°‘æ˜¯2ï¼‰ã€‚å“ªä¸€ä¸ªç‚¹å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥å¦‚æœç‚¹iä¸ç­”æ¡ˆä¸º1çš„ç‚¹jç›¸é‚»ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç‚¹içš„ç­”æ¡ˆè®¾ç½®ä¸ºç‚¹jçš„ç­”æ¡ˆã€‚å°±ä»£ç è€Œè¨€ï¼Œè¿™å¯ä»¥é€šè¿‡å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰æ¥å®Œæˆã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸ºè·ç¦»ä¸º1çš„ç‚¹è®¾ç½®ç­”æ¡ˆï¼Œç„¶åå°†è¿™äº›ç­”æ¡ˆæŒ‰è·ç¦»å¢åŠ çš„é¡ºåºæ¨ç»™æ‰€æœ‰ç›¸é‚»çš„ç‚¹ï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°æ‰€æœ‰ç­”æ¡ˆã€‚\nint n;\nint dx[] = {0, 0, -1, 1};\nint dy[] = {-1, 1, 0, 0};\nvoid solve() {\n    cin &gt;&gt; n;  \n    vector&lt;pii&gt; v;\n    rep(i, 0, n) {\n        int x, y; cin &gt;&gt; x &gt;&gt; y;\n        v.pb({x, y});\n    }\n    set&lt;pii&gt; st(v.begin(), v.end());\n    map&lt;pii, pii&gt; ans;\n    queue&lt;pii&gt; q;\n    for(auto [x, y] : v) {\n        rep(i, 0, 4) {\n            int nx = x + dx[i], ny = y + dy[i];\n            if(st.count({nx, ny})) continue;\n            ans[{x, y}] = {nx, ny};\n            q.push({x, y});\n            break;\n        }\n    }\n\n    while(!q.empty()) {\n        auto it = q.front();\n        int x = it.fst, y = it.sec;\n        q.pop();\n        rep(i, 0, 4) {\n            int nx = x + dx[i], ny = y + dy[i];\n            if(!st.count({nx, ny}) || ans.count({nx, ny})) continue;\n            ans[{nx, ny}] = ans[{x, y}];\n            q.push({nx, ny}); \n        }\n    }\n\n    for(auto [x, y] : v) {\n        auto it = ans[{x, y}];\n        cout &lt;&lt; it.fst &lt;&lt; \" \" &lt;&lt; it.sec &lt;&lt; '\\n';\n    }\n\n}\ncf 777 D Madoka_and_the_Best_School_in_Russia\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š  ,  , åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æŠŠ  ä»»æ„æ‹†æˆ  (1 ~ n)ä¸ªæ•°ï¼Œä½¿å¾—æ‹†å‡ºæ¥çš„æ¯ä¸ªæ•°éƒ½å¯ä»¥æ•´é™¤  ï¼Œä½†ä¸èƒ½æ•´é™¤  (n &gt;= 2) ï¼Œèƒ½åˆ™è¾“å‡ºYESï¼Œå¦åˆ™è¾“å‡ºNO\næ€è·¯ï¼š\nåˆ†ç±»è®¨è®ºï¼š\nâ‘  å¦‚æœ x ä¸èƒ½æ•´é™¤ d*d ï¼Œåˆ™é“å®šä¸ºNO\nå¯¹ x ä¸æ–­é™¤ dï¼Œå…±åˆ†è§£æˆ div ä¸ª d (div &gt;= 2)  å’Œå‰©ä½™çš„å› å­ x\nâ‘¡ å¦‚æœ x ä¸ä¸ºè´¨æ•°ï¼Œåˆ™è‡³å°‘æœ‰ä¸¤ç§åˆ†è§£æ–¹å¼ï¼Œä¸€å®šèƒ½å‡‘å‡ºä¸¤ç§æƒ…å†µï¼Œä¸ºYES\nâ‘¢ å¦‚æœ x ä¸ºè´¨æ•°ï¼Œä¸” d è¢«å”¯ä¸€åˆ†è§£ä¸º x * xï¼Œå½“ä¸”ä»…å½“ div = 3 æ—¶ï¼Œä¸ºNO\nâ‘£ å¦‚æœ x ä¸ºè´¨æ•°ï¼Œd ä¸ä¸ºè´¨æ•°ä¸” div &gt; 2ï¼Œä¸ºYES\nâ‘¤ å…¶ä½™æƒ…å†µä¸ºNO\nint prime(int x) {\n    for (int i = 2; i &lt;= sqrt(x); i++) {\n        if(x % i == 0) return i;\n    } return -1;\n}\nvoid solve() {\n    int x, d; cin &gt;&gt; x &gt;&gt; d;\n    int dd = d * d;\n    if(x % dd != 0) { puts(\"NO\"); return; }\n    int div = 0;\n    while(x % d == 0) x /= d, div++;\n    if(prime(x) != -1) { puts(\"YES\"); return; }\n    if(prime(d) != -1 &amp;&amp; d == prime(d) * prime(d)) {\n        if(x == prime(d) &amp;&amp; div == 3) { puts(\"NO\"); return; }\n    }\n    if(div &gt; 2 &amp;&amp; prime(d) != -1) { puts(\"YES\"); return; }\n    puts(\"NO\");\n}\n","slug":"codeforces/cf Edu 124 & 777 D","date":"2022-03-13T13:20:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,codeforces,bfs,è®¨è®º","author_index":"Maskros"},{"id":"042db1f923ca587c1cde6dd016acd4b3","title":"CSP202109-2 éé›¶æ®µåˆ’åˆ†","content":"CSP 202109-2 éé›¶æ®µåˆ’åˆ† (å·®åˆ†)\n\n\n\n\n\n\n\n\nlink\nèµ›æ—¶æ²¡æƒ³æ˜ç™½ï¼Œå†™äº†ä¸ªæš´åŠ›70åˆ†ï¼Œä¸€ç›´æƒ¦è®°ç€è¿™ä¸ªé¢˜ï¼Œæ•…åœ¨æ­¤é‡åš\né¢˜é¢A1,A2,â‹¯,An æ˜¯ä¸€ä¸ªç”± n ä¸ªè‡ªç„¶æ•°ï¼ˆéè´Ÿæ•´æ•°ï¼‰ç»„æˆçš„æ•°ç»„ã€‚æˆ‘ä»¬ç§°å…¶ä¸­ Ai,â‹¯,Aj æ˜¯ä¸€ä¸ªéé›¶æ®µï¼Œå½“ä¸”ä»…å½“ä»¥ä¸‹æ¡ä»¶åŒæ—¶æ»¡è¶³ï¼š\n\n1â‰¤iâ‰¤jâ‰¤nï¼›\nå¯¹äºä»»æ„çš„æ•´æ•° kï¼Œè‹¥ iâ‰¤kâ‰¤jï¼Œåˆ™ Ak&gt;0ï¼›\ni=1 æˆ– Aiâˆ’1=0ï¼›\nj=n æˆ– Aj+1=0ã€‚\n\nä¸‹é¢å±•ç¤ºäº†å‡ ä¸ªç®€å•çš„ä¾‹å­ï¼š\n\nA=[3,1,2,0,0,2,0,4,5,0,2] ä¸­çš„ 4 ä¸ªéé›¶æ®µä¾æ¬¡ä¸º [3,1,2]ã€[2]ã€[4,5] å’Œ [2]ï¼›\nA=[2,3,1,4,5] ä»…æœ‰ 1 ä¸ªéé›¶æ®µï¼›\nA=[0,0,0] åˆ™ä¸å«éé›¶æ®µï¼ˆå³éé›¶æ®µä¸ªæ•°ä¸º 0ï¼‰ã€‚\n\nç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„ A è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼šä»»é€‰ä¸€ä¸ªæ­£æ•´æ•° pï¼Œç„¶åå°† A ä¸­æ‰€æœ‰å°äº p çš„æ•°éƒ½å˜ä¸º 0ã€‚è¯•é€‰å–ä¸€ä¸ªåˆé€‚çš„ pï¼Œä½¿å¾—æ•°ç»„ A ä¸­çš„éé›¶æ®µä¸ªæ•°è¾¾åˆ°æœ€å¤§ã€‚è‹¥è¾“å…¥çš„ A æ‰€å«éé›¶æ®µæ•°å·²è¾¾æœ€å¤§å€¼ï¼Œå¯å– p=1ï¼Œå³ä¸å¯¹ A åšä»»ä½•ä¿®æ”¹ã€‚\nè§„å®šï¼š å…¨éƒ¨çš„æµ‹è¯•æ•°æ®æ»¡è¶³ nâ‰¤5e5ï¼Œä¸”æ•°ç»„ A ä¸­çš„æ¯ä¸€ä¸ªæ•°å‡ä¸è¶…è¿‡ 1e4\né¢˜è§£éé›¶æ®µå¯ä»¥ç†è§£ä¸ºå­¤ç«‹çš„å²›å±¿ï¼Œä¸åŒçš„å²›å±¿ä¹‹é—´ç”¨ 0 åˆ†éš”å¼€ã€‚é€‰æ‹©ä¸€ä¸ªæ­£æ•´æ•° p ï¼Œå°†æ‰€æœ‰å°äº p çš„æ•°éƒ½å˜ä¸º 0 ï¼Œå¯ä»¥ç†è§£ä¸ºæµ·å¹³é¢ä¸Šæ¶¨åˆ° p çš„ä½ç½®ï¼Œp  ä»¥ä¸‹çš„éƒ¨åˆ†éƒ½è¢«æ·¹æ²¡ï¼Œæ±‚å­¤ç«‹å²›å±¿æ•°æœ€å¤§æ˜¯å¤šå°‘ã€‚å¯ä»¥å…ˆè€ƒè™‘ p = 10001 çš„æƒ…å†µï¼šæ‰€æœ‰æ•°å­—éƒ½è¢«æµ·æ°´æ·¹æ²¡äº†ï¼Œæ˜¾ç„¶åªæœ‰ 0 00 ä¸ªå²›å±¿ã€‚ç„¶åæµ·å¹³é¢é€æ¸ä¸‹é™ï¼Œè§‚å¯Ÿå²›å±¿æ•°é‡çš„å˜åŒ–ã€‚å¯ä»¥çœ‹å‡ºï¼šæ¯å½“ä¸€ä¸ªå‡¸å³°å‡ºç°ï¼Œå²›å±¿æ•°å°±å¤šäº†ä¸€ä¸ªï¼›è€Œæ¯å½“ä¸€ä¸ªå‡¹è°·å‡ºç°ï¼ŒåŸæœ¬ç›¸é‚»çš„ä¸¤ä¸ªå²›å±¿å°±è¢«è¿™ä¸ªå‡¹è°·è¿æ¥åœ¨äº†ä¸€èµ·ï¼Œå²›å±¿æ•°å‡å°‘ä¸€ä¸ªã€‚å‡¸å³°ç‚¹å’Œå‡¹è°·ç‚¹çš„åˆ¤æ–­éœ€è¦æ³¨æ„å¹³é¢ï¼ˆå¦‚ 1 2 2 1 ï¼‰çš„å­˜åœ¨ï¼šè‹¥è¿ç»­ä¸€æ®µæ•°å­—ç›¸åŒï¼Œå¯ä»¥æŠŠä»–ä»¬åˆå¹¶æˆä¸€ä¸ªç‚¹ï¼ˆ1 2 1ï¼‰ï¼Œè¿™æ ·å¯¹ç­”æ¡ˆä¸ä¼šäº§ç”Ÿå½±å“ï¼Œå¯ä»¥ä½¿ç”¨ std::unique() å‡½æ•°æ¥å»æ‰ç›¸é‚»é‡å¤å…ƒç´ ã€‚\nğŸ´vector&lt;int&gt; v;\nint high[100005], low[100005], cnt[100005];\nvoid solve(){\n    int n; cin &gt;&gt; n;\n    v.pb(0);\n    rep(i, 0, n) {\n        int t; cin &gt;&gt; t;\n        if(i &amp;&amp; t != v[v.size() - 1] || i == 0) v.pb(t); \n    }\n    v.pb(0);\n    rep(i, 1, v.size() - 1) {\n        if(v[i] &gt; v[i - 1] &amp;&amp; v[i] &gt; v[i + 1]) high[v[i]]++;\n        if(v[i] &lt; v[i - 1] &amp;&amp; v[i] &lt; v[i + 1]) low[v[i]]++;\n    }\n    cnt[100001] = 0;\n    int ans = 0;\n    red(i, 100001, 0) {\n        cnt[i] = cnt[i + 1] + high[i] - low[i];\n        ans = max(ans, cnt[i]);\n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\n","slug":"probs/CSPéé›¶æ®µåˆ’åˆ†","date":"2022-03-01T14:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"å·®åˆ†,æ€ç»´","author_index":"Maskros"},{"id":"c274ea4c473124c2ac8534153c8cc713","title":"Codeforces Round 773 (Div.2)","content":"Codeforces Round #773 (Div.2)\n\n\n\n\n\n\n\n\nrk 293 ABå„è‡ªç™½ç»™äº†ä¸€å‘ï¼Œä½†æ˜¯ä¸Šå¤§åˆ†ï¼Œå˜»å˜»\nA_Hard_Way\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼Œä¸€å¼€å§‹æ²¡è¯»æ‡‚é¢˜ç›´æ¥çŒœç­”æ¡ˆçŒœé”™äº†WA1ï¼Œæ€¥äº†å¤§ç«\nvoid solve() {\n    int x1, y1, x2, y2, x3, y3;\n    cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;\n    double ans = 0;\n    if (y1 == y2) ans = (y3 &lt; y2) ? abs(x2 - x1) : 0;\n    eif(y2 == y3) ans = (y1 &lt; y3) ? abs(x3 - x2) : 0;\n    eif(y1 == y3) ans = (y2 &lt; y3) ? abs(x3 - x1) : 0;\n    printf(\"%.9f\\n\", ans);\n}\nB_Power_Walking\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼Œå¿˜è®° map.clear()äº†ï¼Œç™½wa1å‘ï¼Œçº¯ä¸¢äºº\nmap&lt;int, int&gt; mp;\nvoid solve() {\n    mp.clear();\n    int n; cin &gt;&gt; n;\n    rep(i, 1, n + 1) {\n        int t; cin &gt;&gt; t;\n        mp[t]++;\n    }\n    int mx = mp.size();\n    rep(i, 1, n + 1) cout &lt;&lt; max(i, mx) &lt;&lt; ' ';\n    en;\n}\nC_Great_Sequence\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šé•¿ä¸º  çš„æ•°ç»„ ï¼Œç»™å®š ï¼Œä½ å¯ä»¥å‘æ•°ç»„ä¸­æ·»åŠ ä¸€äº›æ•°ï¼Œä½¿å¾—æ•°ç»„ä¸­çš„æ•°ä¸¤ä¸¤ä¸€ç»„ï¼Œå¹¶ä¸”æ»¡è¶³ ï¼Œè¯¢é—®è‡³å°‘æ·»åŠ å¤šå°‘ä¸ªæ•°ã€‚\næ€è·¯ï¼š\næš´åŠ›è´ªå¿ƒå³å¯ï¼Œæ»¡è¶³çš„ç›´æ¥æ‰¬äº†ï¼Œç”¨ multiset ç»´æŠ¤ä¸€ä¸‹ï¼Œ:)\nmultiset&lt;ll&gt; s;\nvoid solve() {\n    s.clear();\n    int n, x; cin &gt;&gt; n &gt;&gt; x;\n    int t;\n    rep(i, 0, n) {cin &gt;&gt; t; s.insert(t);}\n    multiset&lt;ll&gt;::iterator it;\n    int ans = 0;\n    for (it = s.begin(); it != s.end(); it++) {\n        ll tmp = (*it) * x;\n        if(s.find(tmp) != s.end()) {        \n            s.erase(s.find(tmp));\n        }else ans++;\n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\nD_Repetitions_Decoding (æ„é€ )\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œæ“ä½œï¼šåœ¨æŸä¸€ä½ç½®è¿ç»­æ’å…¥ä¸¤ä¸ªç›¸åŒæ•°å­—ã€‚æœ€ç»ˆä½¿å¾—è¯¥æ•°ç»„æŒ‰é¡ºåºå˜æˆ  å¯¹é‡å¤åºåˆ— â€‹ ã€‚(tandem repeats: ä¸²è”é‡å¤åºåˆ—ï¼Œå¦‚ï¼š1 2 3 1 2 3 | 4 7 5 4 7 5 | 6 6 ) \næœ€ç»ˆæŒ‡å®šæ ¼å¼åˆ†åˆ«æ‰“å°ï¼šæ“ä½œæ•°ã€æ“ä½œå†…å®¹ã€ã€æœ€ç»ˆåºåˆ—çš„ç»„æˆç»“æ„ã€‚å¦‚æœä¸èƒ½æ„é€ è¾“å‡º -1.\næ€è·¯ï¼š\nç”±äºé¢˜å¹²è¯´åªè¦æ„é€ æˆåŠŸå°±å¯ä»¥ï¼Œä¸è¿½æ±‚æœ€å°æ“ä½œæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è´ªå¿ƒå³å¯ã€‚\né¦–å…ˆç”±äºæ¯æ¬¡æ“ä½œæ’å…¥çš„éƒ½æ˜¯ä¸¤ä¸ªç›¸åŒæ•°å­—ï¼Œæ•…å¦‚æœåŸåºåˆ—ä¸­æŸä¸ªæ•°åªæœ‰å¥‡æ•°ä¸ªï¼Œæ˜¯ä¸èƒ½æ„æˆ â€‹ å¯¹é‡å¤åºåˆ—çš„ï¼Œç‰¹åˆ¤ä¸€ä¸‹ï¼›\næ„é€ æ—¶ä½¿ç”¨ vector ç»´æŠ¤ï¼ŒåŒæŒ‡é’ˆ ,  æ‰«æåºåˆ—ã€‚ä»å¤´å¼€å§‹ï¼Œåœ¨åºåˆ—ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸  ä¸€æ ·çš„æ•°çš„ä½ç½®ï¼Œæ ‡è®°ä¸º  (right_begin)ï¼ŒéšååŒæ—¶å‘å³æ‰«æï¼Œå¦‚æœ  =  ï¼Œåˆ™è·³è¿‡ï¼Œå¦‚æœä¸ç­‰ï¼Œåˆ™åœ¨ä¸‹æ ‡ä¸º  çš„ä½ç½®æ’å…¥  ã€‚å½“å·¦ä¾§åºåˆ—æŒ‡é’ˆ  æ‰«æåˆ°å³ä¾§åºåˆ—èµ·ç‚¹å¤„  æ—¶ ï¼Œåˆ™æ„æˆäº†ä¸€å¯¹é‡å¤åºåˆ—ï¼Œè®°å½•ä¸€ä¸‹ç­”æ¡ˆåï¼Œä½¿  =  ç»§ç»­å‘åæ‰«æå³å¯ã€‚\nå†™çš„æ—¶å€™ç”±äºå¯¹ä¸‹æ ‡çš„æ··æ·†ç»“æœå¡äº†ä¸€ä¼šï¼Œæœ€åè¿‡çš„æ—¶å€™å±…ç„¶div2å…¨åœºåªè¿‡äº†200äººï¼Œå¼€å¿ƒå—¨äº† :) \nvector&lt;int&gt; v;\nvector&lt;pair&lt;int,int&gt; &gt; op;\nvector&lt;int&gt; ans;\nmap&lt;int, int&gt; mp;\nmap&lt;int, int&gt;::iterator it;\nvector&lt;int&gt;::iterator pos;\n\nvoid debug() {\n    en; for(auto x : v) de(x); en; en;\t\n}\nvoid solve() {\n    mp.clear(); v.clear(); op.clear(); ans.clear();\n    int n; cin &gt;&gt; n;\n    rep(i, 0, n) {\n        int t; cin &gt;&gt; t;\n        v.pb(t);\n        mp[t]++;\n    }   \n    bool flag = 1;\n    for(it = mp.begin(); it != mp.end(); it++) {\n        if(it-&gt;sec &amp; 1) { flag = 0; break;} \n    }\n    if(!flag) {cout &lt;&lt; -1 &lt;&lt; '\\n'; return;}\n    else {\n        int bg = 0, rbg, r;\n        bool is = false;\n        rep(i, 0, v.size()) {\n            r++;\n            if(!is) {\n                pos = find(v.begin() + i + 1, v.end(), v[i]);\n                bg = i;\n                rbg = pos - v.begin();\n                r = rbg;\n                is = true;\n            } else {\n                if(i == rbg) {\n                    i = r - 1;\n                    ans.pb(r - bg);\n                    is = false;\n                    continue;\n                } \n                if(r &gt;= v.size()) {\n                    v.pb(v[i]);\n                    v.pb(v[i]);\n                    op.pb(mpr(r + 1 - 1, v[i]));\n                    continue;\n                }\n                if(v[i] != v[r]) {\n                    v.insert(v.begin() + r, v[i]);\n                    v.insert(v.begin() + r, v[i]);\n                    op.pb(mpr(r + 1 - 1, v[i]));\n                }  \n            }\n        }\n    }\n\n    if(op.empty()) cout &lt;&lt; 0 &lt;&lt; '\\n';\n    else {\n        cout &lt;&lt; op.size() &lt;&lt; '\\n';\n        for (auto x : op) cout &lt;&lt; x.fst &lt;&lt; \" \" &lt;&lt; x.sec &lt;&lt; \" \"; en;   \n    }\n    if(ans.empty()) cout &lt;&lt; 1 &lt;&lt; '\\n' &lt;&lt; v.size() &lt;&lt; '\\n';\n    else {\n        cout &lt;&lt; ans.size() &lt;&lt; '\\n';\n        for(auto x : ans) cout &lt;&lt; x &lt;&lt; ' '; en;\n    }\n} \n\n\n\n\n\n\n\n\n\n\nè¿™åœºå› ä¸ºdiv1, div2åŒæ—¶è¿›è¡Œåˆ†äº†æ³¢æµï¼Œå·äº†ä¸ªä¸Šåˆ†æœºä¼šï¼Œå˜è‰²ï¼\n","slug":"codeforces/cf 773","date":"2022-02-23T14:30:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,codeforces,æ„é€ ","author_index":"Maskros"},{"id":"045000bcb794e65427ee1198aea3c925","title":"LCAæ¿å­","content":"LCALowest Common Ancestor æœ€è¿‘å…¬å…±ç¥–å…ˆ\nå®šä¹‰ä¸€èˆ¬æŒ‡å›¾è®ºä¸­æœ‰å‘æ— ç¯å›¾DAGæˆ–æ ‘ä¸­çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„LCAåœ¨ä¸¤ç‚¹é—´çš„è·¯å¾„ä¸Š\nå››ç§æ±‚è§£æ¿å­\n\n\n\n\n\n\n\n\nåœ¨çº¿ç®—æ³•ï¼šé—®ä¸€æ¬¡å›ç­”ä¸€æ¬¡\nç¦»çº¿ç®—æ³•ï¼šé—®å®Œäº†ä¸€æ¬¡æ€§å›ç­”\n0x01 æ ‘å‰– åœ¨çº¿\n\n\n\n\n\n\n\n\næ ‘é“¾å‰–åˆ†æ±‚è§£LCAçš„è¿‡ç¨‹å°±æ˜¯è½»é‡é“¾çš„è·³è½¬ï¼Œè·Ÿæ ‘å‰–æ±‚ä»»æ„ä¸¤ç‚¹é—´çš„è·ç¦»ä¸€æ ·çš„æ“ä½œï¼Œåªä¸è¿‡ä¸ç”¨çº¿æ®µæ ‘å»ç»´æŠ¤disäº†\n#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\ntypedef long long ll;\nconst int N = 1e6 + 10;\n\nint head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1;\nint sz[N], dep[N], fa[N], son[N], top[N];\nint n, m;\n\ninline int read() {\n    int f = 1, x = 0;\n    char c = getchar();\n    while(c &gt; '9' || c &lt; '0') {\n        if(c == '-')    f = -1;\n        c = getchar();\n    }\n    while(c &gt;= '0' &amp;&amp; c &lt;= '9') {\n        x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48);\n        c = getchar();\n    }\n    return f * x;\n}\n\nvoid add(int x, int y) {\n    to[cnt] = y;\n    nex[cnt] = head[x];\n    head[x] = cnt++;\n}\n\nvoid dfs1(int rt, int f) {\n    dep[rt] = dep[f] + 1;\n    sz[rt] = 1, fa[rt] = f;\n    for(int i = head[rt]; i; i = nex[i]) {\n        if(to[i] == f)  continue;\n        dfs1(to[i], rt);\n        if(!son[rt] || sz[to[i]] &gt; sz[son[rt]])\n            son[rt] = to[i];\n        sz[rt] += sz[to[i]];\n    }\n}\n\nvoid dfs2(int rt, int t) {\n    top[rt] = t;\n    if(!son[rt])    return ;\n    dfs2(son[rt], t);\n    for(int i = head[rt]; i; i = nex[i]) {\n        if(to[i] == fa[rt] || to[i] == son[rt]) continue;\n        dfs2(to[i], to[i]);\n    }\n}\n\nint solve(int x, int y) {\n    while(top[x] != top[y]) {\n        if(dep[top[x]] &lt; dep[top[y]]) swap(x, y);\n        x = fa[top[x]];\n    }\n    return dep[x] &lt; dep[y] ? x : y;\n}\n\nint main() {\n    n = read(), m = read();\n    int rt = read();\n    int x, y;\n    for(int i = 1; i &lt; n; i++) {\n        x = read(), y = read();\n        add(x, y);\n        add(y, x);\n    }\n    dfs1(rt, 0);\n    dfs2(rt, rt);\n    for(int i = 1; i &lt;= m; i++) {\n        x = read(), y = read();\n        printf(\"%d\\n\", solve(x, y));\n    }\n    return 0;\n}\n0x02 Tarjan ç¦»çº¿\n\n\n\n\n\n\n\n\nååºDFS+å¹¶æŸ¥é›†\næœ¬è´¨å°±æ˜¯åˆ©ç”¨äº†dfsçš„èŠ‚ç‚¹é¡ºåºï¼Œå½“æˆ‘ä»¬æ­£åœ¨é€’å½’ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ—¶ï¼Œæ˜¾ç„¶è¿™ä¸¤ä¸ªç‚¹æ˜¯å±äºå…¶å­æ ‘çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡éå†å®Œä¸¤ä¸ªéœ€è¦æ±‚è§£çš„ä¸¤ä¸ªç‚¹æ—¶ï¼Œå…¶æœ€è¿‘çš„å°šæœªè¢«å®Œå…¨éå†å®Œå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å°±æ˜¯ä»–ä»¬ä¸¤ä¸ªçš„æœ€è¿‘å…¬å…±ç¥–å…ˆ\n#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\ntypedef long long ll;\nconst int N = 5e5 + 10;\n\nint head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1;\nint visit[N], fa[N], n, m;\nint qhead[N], qto[N &lt;&lt; 1], qnex[N &lt;&lt; 1], qcnt = 1, qid[N &lt;&lt; 1], ans[N];\n\ninline int read() {\n    int f = 1, x = 0;\n    char c = getchar();\n    while(c &gt; '9' || c &lt; '0') {\n        if(c == '-')    f = -1;\n        c = getchar();\n    }\n    while(c &gt;= '0' &amp;&amp; c &lt;= '9') {\n        x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48);\n        c = getchar();\n    }\n    return f * x;\n}\n\nvoid add_edge(int x, int y) {\n    to[cnt] = y;\n    nex[cnt] = head[x];\n    head[x] = cnt++;\n}\n\nvoid add_query(int x, int y, int w) {\n    qto[qcnt] = y;\n    qnex[qcnt] = qhead[x];\n    qid[qcnt] = w;\n    qhead[x] = qcnt++;\n}\n\nint find(int rt) {\n    return rt == fa[rt] ? rt : fa[rt] = find(fa[rt]);\n}\n\nvoid tarjan(int rt, int f) {\n    for(int i = head[rt]; i; i = nex[i]) {\n        if(to[i] == f)  continue;\n        tarjan(to[i], rt);\n        fa[to[i]] = rt;\n    }\n    visit[rt] = 1;\n    for(int i = qhead[rt]; i; i = qnex[i]) {\n        if(!visit[qto[i]])  continue;\n        ans[qid[i]] = find(qto[i]);\n    }\n}\n\nint main() {\n    // freopen(\"in.txt\", \"r\", stdin);\n    n = read(), m = read();\n    int rt = read();\n    for(int i = 1; i &lt; n; i++) {\n        int x = read(), y = read();\n        add_edge(x, y);\n        add_edge(y, x);\n    }\n    for(int i = 1; i &lt;= n; i++) fa[i] = i;\n    for(int i = 1; i &lt;= m; i++) {\n        int x = read(), y = read();\n        add_query(x, y, i);\n        add_query(y, x, i);\n    }\n    tarjan(rt, 0);\n    for(int i = 1; i &lt;= m; i++)\n        printf(\"%d\\n\", ans[i]);\n    return 0;\n}\n0x03 STè¡¨+RMQ åœ¨çº¿\n\n\n\n\n\n\n\n\nå…ˆåºDFS+ST\nRMQ(Range Mini/Maximum Query) åŒºé—´æœ€å€¼æŸ¥è¯¢\nåˆ©ç”¨dfsçš„éå†ï¼Œåœ¨éå†ä¸¤ä¸ªç‚¹çš„æ—¶å€™ï¼Œä¸€å®šä¼šåœ¨ä¸­é—´è¿”å›åˆ°å…¶æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œè¿™ä¸ªæ—¶å€™çš„å…¬å…±ç¥–å…ˆä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªç‚¹çš„éå†ä¸­çš„æœ€å°å€¼\n#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\ntypedef long long ll;\n\ninline ll read() {\n    ll f = 1, x = 0;\n    char c = getchar();\n    while(c &gt; '9' || c &lt; '0') {\n        if(c == '-')    f = -1;\n        c = getchar();\n    }\n    while(c &gt;= '0' &amp;&amp; c &lt;= '9') {\n        x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48);\n        c = getchar();\n    }\n    return f * x;\n}\n\nconst int N = 5e5 + 10;\n\nint head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1;\nint id[N], tot, last;\nint st[N &lt;&lt; 2][30];\n\nvoid add(int x, int y) {\n    to[cnt] = y;\n    nex[cnt] = head[x];\n    head[x] = cnt++;\n}\n\nvoid dfs(int rt, int fa) {\n    id[rt] = last = ++tot;\n    st[tot][0] = rt;\n    for(int i = head[rt]; i; i = nex[i]) {\n        if(to[i] == fa) continue;\n        dfs(to[i], rt);\n        st[++tot][0] = rt;\n    }\n}\n\nint MIN(int a, int b) {\n    return id[a] &lt; id[b] ? a : b;\n}\n\nint main() {\n    // freopen(\"in.txt\", \"r\", stdin);\n    int n = read(), m = read(), rt = read();\n    for(int i = 1; i &lt; n; i++) {\n        int x = read(), y = read();\n        add(x, y);\n        add(y, x);\n    }\n    dfs(rt, 0);\n    int k = log(last) / log(2);\n    for(int j = 1; j &lt;= k; j++)\n        for(int i = 1; i + (1 &lt;&lt; j) - 1 &lt;= last; i++)\n            st[i][j] = MIN(st[i][j - 1], st[i + (1 &lt;&lt; (j - 1))][j - 1]);\n    for(int i = 1; i &lt;= m; i++) {\n        int x = read(), y = read();\n        x = id[x], y = id[y];\n        if(x &gt; y)   swap(x, y);\n        int k = log(y - x + 1) / log(2);\n        printf(\"%d\\n\", MIN(st[x][k], st[y - (1 &lt;&lt; k) + 1][k]));\n    }\n    return 0;\n}\n0x04 å€å¢\n\n\n\n\n\n\n\n\nç±»ä¼¼äºå¿«é€Ÿå¹‚ï¼Œé€šè¿‡äºŒè¿›åˆ¶æ•°çš„ç»„åˆæ¥è¾¾åˆ°  çº§åˆ«çš„ä¼˜åŒ–ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„å…¶ä¸­è¿›åˆ¶çš„æšä¸¾å¤§å°é¡ºåº\n#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\ntypedef long long ll;\n\ninline ll read() {\n    ll f = 1, x = 0;\n    char c = getchar();\n    while(c &gt; '9' || c &lt; '0') {\n        if(c == '-')    f = -1;\n        c = getchar();\n    }\n    while(c &gt;= '0' &amp;&amp; c &lt;= '9') {\n        x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (c ^ 48);\n        c = getchar();\n    }\n    return f * x;\n}\n\nconst int N = 5e5 + 10;\n\nint head[N], to[N &lt;&lt; 1], nex[N &lt;&lt; 1], cnt = 1;\nint fa[N][21], dep[N], n, m;\n\n\nvoid add(int x, int y) {\n    to[cnt] = y;\n    nex[cnt] = head[x];\n    head[x] = cnt++;\n}\n\nvoid dfs(int rt, int f) {\n    dep[rt] = dep[f] + 1;\n    fa[rt][0] = f;\n    for(int i = 1; 1 &lt;&lt; i &lt;= dep[rt]; i++)//è¿›åˆ¶ç”±å°åˆ°å¤§é€’æ¨\n        fa[rt][i] = fa[fa[rt][i - 1]][i - 1];\n    for(int i = head[rt]; i; i = nex[i]) {\n        if(to[i] == f)  continue;\n        dfs(to[i], rt);\n    }\n}\n\nint LCA(int x, int y) {\n    if(dep[x] &lt; dep[y]) swap(x, y);\n    for(int i = 20; i &gt;= 0; i--)//è¿›åˆ¶ç”±å¤§åˆ°å°å¼€å§‹ç»„åˆï¼Œ\n        if(dep[fa[x][i]] &gt;= dep[y])\n            x = fa[x][i];\n    if(x == y)  return x;//æ³¨æ„ç‰¹åˆ¤\n    for(int i = 20; i &gt;= 0; i--)//è¿›åˆ¶ä»å°åˆ°å¤§å¼€å§‹ç»„åˆï¼Œ\n        if(fa[x][i] != fa[y][i])\n            x = fa[x][i], y = fa[y][i];\n    return fa[x][0];//è¿™ä¸€æ­¥å°¤å…¶è€ƒè™‘ï¼Œä¸ºä»€ä¹ˆx, yä¸çŸ¥LCA,è€Œå…¶çˆ¶èŠ‚ç‚¹å°±ä¸€å®šæ˜¯LCAï¼Œ\n}\n\nint main() {\n    // freopen(\"in.txt\", \"r\", stdin);\n    int n = read(), m = read(), rt = read();\n    for(int i = 1; i &lt; n; i++) {\n        int x = read(), y = read();\n        add(x, y);\n        add(y, x);\n    }\n    dfs(rt, 0);\n    for(int i = 1; i &lt;= m; i++) {\n        int x = read(), y = read();\n        printf(\"%d\\n\", LCA(x, y));\n    }\n    return 0;\n}\n","slug":"algorithm/learn/LCA","date":"2022-02-08T16:00:00.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,algorithm,LCA","author_index":"Maskros"},{"id":"2374ac7d70a7b483937f962c5fdeefd3","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥4","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥4\n\n\n\n\n\n\n\n\nAC  11 / 12 \nA R (äºŒåˆ†/å‰ç¼€å’Œ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šé•¿ä¸º  çš„å­—ç¬¦ä¸² , ç»™å®š , æ±‚å­—ç¬¦ä¸²ä¸­å« â€˜Râ€™ ä¸ªæ•°å¤§äºç­‰äº  ä¸”ä¸å«å­—ç¬¦ â€˜Pâ€™ çš„å­ä¸²ä¸ªæ•°\næ€è·¯ï¼š\nå‰ç¼€å’Œå‚¨å­˜ R å’Œ P çš„ä¸ªæ•°ï¼Œæšä¸¾å·¦ç«¯ç‚¹ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æœ€è¿‘å³ç«¯ç‚¹é•¿åº¦å’Œæœ€è¿œå³ç«¯ç‚¹ï¼Œä½œå·®å³ä¸ºè´¡çŒ®å€¼ã€‚\nint n, k; \nchar s[maxn];\nint R[maxn], P[maxn];\n\nbool checkR(int l, int r) {\n    int cnt_R = R[r] - R[l - 1]; \n    if(cnt_R &gt;= k) return 1;\n    else return 0;\n}\nbool checkP(int l, int r) { \n    int cnt_P = P[r] - P[l - 1];\n    if(cnt_P == 0) return 1;\n    else return 0;\n}\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; k;\n    R[0] = 0, P[0] = 0;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; s[i];\n        R[i] = R[i - 1], P[i] = P[i - 1];\n        if(s[i] == 'R') R[i]++;\n        eif(s[i] == 'P') P[i]++;\n    }\n    ll ans = 0;\n    rep(i, 1, n + 1) {\n        int l = i, r = n;\n        int rmx = 0, lmn = 0;\n        while(l &lt;= r) {\n            int mid = (l + r) / 2;\n            if(checkP(i, mid)) {\n                rmx = mid;\n                l = mid + 1;\n            } else r = mid - 1;\n        } \n        if(rmx == 0) continue;\n        l = i, r = rmx;\n        while(l &lt;= r) {\n            int mid = (l + r) / 2;\n            if(checkR(i, mid)) {\n                lmn = mid;\n                r = mid - 1;\n            } else l = mid + 1;\n        }\n        if(lmn == 0) continue;\n        int len = rmx - lmn + 1;\n        ans += len;\n    } \n    cout &lt;&lt; ans &lt;&lt; '\\n';\n\n}\n*B è¿›åˆ¶ (çº¿æ®µæ ‘)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\né•¿åº¦ä¸º  çš„å­—ç¬¦ä¸²  (only include â€˜0â€™ ~ â€˜9â€™)ï¼Œæœ‰  æ¬¡ä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š\n\nè¾“å…¥ 1 x y, ä¿®æ”¹ç¬¬  ä¸ªå­—ç¬¦ä¸º  ï¼Œå³ \nè¾“å‡º 2 x y, ä»£è¡¨æŸ¥è¯¢åŒºé—´ [, ]ï¼Œè¯¥åŒºé—´å­ä¸²èƒ½è¡¨ç¤ºçš„æŸè¿›åˆ¶çš„æœ€å°å€¼ (äºŒè¿›åˆ¶åˆ°åè¿›åˆ¶ä¹‹é—´)ï¼Œå¯¹ 1e9 + 7 å–æ¨¡\n\næ€è·¯ï¼š\nåŒºé—´æœ€å¤§æ•°å­—ä¸º â€‹ åˆ™å¯¹åº” â€‹ è¿›åˆ¶å³ä¸ºæ‰€æ±‚ï¼Œç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å¤§å€¼ï¼ŒåŒæ—¶ç»´æŠ¤åœ¨ 2 ~ 10 è¿›åˆ¶ä¸‹æ¯ä¸ªåŒºé—´çš„å€¼ã€‚ ä¸€ä¸ªåŒºé—´çš„å€¼ = å·¦åŒºé—´çš„å€¼ * pow(è¿›åˆ¶, å³åŒºé—´é•¿åº¦) * å³åŒºé—´çš„å€¼ \nint n, q;\nint s[maxn];\nll qpow(ll a, ll b) {\n    ll res = 1;\n    for(; b; b &gt;&gt;= 1) {\n        if(b &amp; 1) res = res * a % mod;\n        a = a * a % mod;\n    }\n    return res;\n}\nstruct SegTree {\n    int l, r;\n    ll a[15];\n    int m;\n}tree[maxn &lt;&lt; 2];\nvoid build(int u, int l, int r) {\n    if(l == r) {\n        tree[u].l = tree[u].r = l;\n        int tmp = s[l];\n        tree[u].m = tmp;\n        rep(i, max(2, tmp + 1), 11) {\n            tree[u].a[i] = tmp;\n        }        \n    } else {\n        int mid = l + r &gt;&gt; 1;\n        build(u * 2, l, mid);\n        build(u * 2 + 1, mid + 1, r);\n        tree[u].m = max(tree[u * 2].m, tree[u * 2 + 1].m);\n        rep(i, max(2, tree[u].m + 1), 11) {\n            tree[u].a[i] = (tree[u * 2].a[i] * qpow(i, r - mid) % mod + tree[u * 2 + 1].a[i]) % mod;\n        }\n    }\n}\nvoid update(int u, int l, int r, int x, int y) {\n    if(l == r) {\n        tree[u].m = y;\n        rep(i, max(2, y + 1), 11) {\n            tree[u].a[i] = y;\n        }\n    } else {\n        int mid = l + r &gt;&gt; 1;\n        if(x &lt;= mid) update(u * 2, l, mid, x, y);\n        else update(u * 2 + 1, mid + 1, r, x, y);\n        tree[u].m = max(tree[u * 2].m, tree[u * 2 + 1].m);\n        rep(i, max(2, tree[u].m + 1), 11) {\n            tree[u].a[i] = (tree[u * 2].a[i] * qpow(i, r - mid) % mod + tree[u * 2 + 1].a[i]) % mod;\n        }\n    }   \n}\nint querymax(int u, int l, int r, int x, int y) {\n    if(x &lt;= l &amp;&amp; r &lt;= y) return tree[u].m;\n    int mid = l + r &gt;&gt; 1;\n    if(y &lt;= mid) return querymax(u * 2, l, mid, x, y);\n    eif(x &gt; mid) return querymax(u * 2 + 1, mid + 1, r, x, y);\n    else return max(querymax(u * 2, l, mid, x, y), querymax(u * 2 + 1, mid + 1, r, x, y));\n}\nll query(int u, int l, int r, int x, int y, int z) {\n    if(x &lt;= l &amp;&amp; r &lt;= y) return tree[u].a[z];\n    int mid = l + r &gt;&gt; 1;\n    if(y &lt;= mid) return query(u * 2, l, mid, x, y, z);\n    eif(x &gt; mid) return query(u * 2 + 1, mid + 1, r, x, y, z);\n    else return (query(u * 2, l, mid, x, mid, z) * qpow(z, y - mid) % mod + query(u * 2 + 1, mid + 1, r, mid + 1, y, z)) % mod;\n}\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; q;\n    rep(i, 1, n + 1) {\n        char t; cin &gt;&gt; t;\n        s[i] = t - '0';\n    }\n    build(1, 1, n);\n    rep(i, 0, q) {\n        int op, x, y;\n        cin &gt;&gt; op &gt;&gt; x &gt;&gt; y;\n        if(op == 1) update(1, 1, n, x, y);\n        else {\n            int z = querymax(1, 1, n, x, y);\n            cout &lt;&lt; query(1, 1, n, x, y, z + 1) &lt;&lt; '\\n';\n        }\n    }\n}\nC è“å½—æ˜Ÿ (å·®åˆ†)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nè¾“å…¥ ,  è¡¨ç¤ºå½—æ˜Ÿçš„æ•°é‡å’Œæ¯ä¸ªå½—æ˜Ÿçš„æŒç»­æ—¶é—´ï¼Œè¾“å‡ºä¸€ä¸ªé•¿  çš„åªæœ‰ â€˜Bâ€™ å’Œ â€˜Râ€™ ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½—æ˜Ÿé¢œè‰²ï¼ŒBä¸ºè“è‰²Rä¸ºçº¢è‰²ã€‚\nè¾“å…¥  ä¸ªæ•´æ•° ï¼Œè¡¨ç¤ºæ¯é¢—å½—æ˜Ÿçš„å¼€å§‹æ—¶åˆ»ï¼Œæ±‚èƒ½çœ‹åˆ°è“å½—æ˜Ÿä¸”çœ‹ä¸åˆ°çº¢å½—æ˜Ÿçš„æ€»ç§’æ•°ã€‚\n1 &lt;=  &lt;= 1e5\næ€è·¯ï¼š\nç»´æŠ¤ä¸¤ä¸ªå·®åˆ†æ•°ç»„è¡¨ç¤ºè“å½—æ˜Ÿå’Œçº¢å½—æ˜Ÿçš„æŒç»­æ—¶é—´ï¼ŒæŒ‰æ—¶é—´é¡ºåºå¼€å§‹éå†ï¼Œåˆ†åˆ«è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„å‰ç¼€å’Œæ¥çœ‹å½“å‰æ—¶é—´æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œç¬¦åˆåˆ™è®¡æ•°ã€‚\n#define N 100005\nchar s[N];\nint a[N], red[2 * N], blue[2 * N];\nvoid solve(){\n    int n, t;\n    cin &gt;&gt; n &gt;&gt; t;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; s[i];\n    }\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; a[i];\n        if(s[i] == 'B') blue[a[i]]++, blue[a[i] + t]--;\n        else red[a[i]]++, red[a[i] + t]--;\n    }\n    int ans = 0;\n    int redcnt = 0, bluecnt = 0;\n    rep(i, 1, 2 * N) {\n        redcnt += red[i];\n        bluecnt += blue[i];\n        if(bluecnt &amp;&amp; !redcnt) ans++;\n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\nD é›ªè‰²å…‰æ™• (äºŒç»´å‡ ä½•)\n\n\n\n\n\n\n\n\nè®¡ç®—ç‚¹åˆ°çº¿æ®µçš„æœ€çŸ­è·ç¦»ï¼Œå¥—æ¿å­\n//square of a double\ninline double sqr(double x){return x*x;}\nint sgn(double x){\n    if(fabs(x) &lt; eps)return 0;\n    if(x &lt; 0)return -1;\n    else return 1;\n}\nstruct Point{\n    double x,y;\n    Point(){}\n    Point(double _x,double _y){\n        x = _x;\n        y = _y;\n    }\n    bool operator==(Point b) const {\n        return sgn(x - b.x) == 0 &amp;&amp; sgn(y - b.y) == 0;\n    }\n    bool operator&lt;(Point b) const {\n        return sgn(x - b.x) == 0 ? sgn(y - b.y) &lt; 0 : x &lt; b.x;\n    }\n    Point operator-(const Point&amp; b) const {\n        return Point(x - b.x, y - b.y);\n    }\n    //å‰ç§¯\n    double operator^(const Point&amp; b) const {\n        return x * b.y - y * b.x;\n    }\n    //ç‚¹ç§¯\n    double operator*(const Point&amp; b) const {\n        return x * b.x + y * b.y;\n    }\n    //è¿”å›é•¿åº¦\n    double len() {\n        return hypot(x, y);  //åº“å‡½æ•°\n    }\n    //è¿”å›é•¿åº¦çš„å¹³æ–¹\n    double len2() {\n        return x * x + y * y;\n    }\n    //è¿”å›ä¸¤ç‚¹çš„è·ç¦»\n    double distance(Point p) {\n        return hypot(x - p.x, y - p.y);\n    }\n};\nstruct Line{\n    Point s,e;\n    Line(){}\n    Line(Point _s,Point _e){\n        s = _s;\n        e = _e;\n    }\n    //æ±‚çº¿æ®µé•¿åº¦\n    double length() {\n        return s.distance(e);\n    }\n    //ç‚¹åˆ°ç›´çº¿çš„è·ç¦»\n    double dispointtoline(Point p) {\n        return fabs((p - s) ^ (e - s)) / length();\n    }\n    //ç‚¹åˆ°çº¿æ®µçš„è·ç¦»\n    double dispointtoseg(Point p) {\n        if (sgn((p - s) * (e - s)) &lt; 0 || sgn((p - e) * (s - e)) &lt; 0)\n            return min(p.distance(s), p.distance(e));\n        return dispointtoline(p);\n    }\n};\nvoid solve() {\n    int n; double x0,y0,x,y; cin&gt;&gt;n&gt;&gt;x0&gt;&gt;y0&gt;&gt;x&gt;&gt;y;\n    Point p0=Point(x,y),p=Point(x0,y0);\n    double dis=p0.distance(p);\n    double xx,yy;\n    rep(i,0,n){\n        cin&gt;&gt;xx&gt;&gt;yy;\n        Point p1=Point(x0+xx,y0+yy);\n        Line l1=Line(p,p1);\n        dis=min(l1.dispointtoseg(p0),dis);\n        x0+=xx; y0+=yy;\n        p=Point(x0,y0);\n    }\n    printf(\"%.8lf\",dis);\n}\nG å­åºåˆ—æƒå€¼ä¹˜ç§¯ (å¿«é€Ÿå¹‚/æ¬§æ‹‰é™å¹‚)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå°çº¢å®šä¹‰ä¸€ä¸ªæ•°ç»„çš„æƒå€¼ä¸ºè¯¥æ•°ç»„çš„æœ€å¤§å€¼ä¹˜ä»¥æœ€å°å€¼ã€‚ä¾‹å¦‚æ•°ç»„ [4,1,3] çš„æƒå€¼æ˜¯ 41=4ã€‚å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªæ•°ç»„ã€‚å¥¹æƒ³çŸ¥é“ï¼Œè¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰ *éç©ºå­åºåˆ— çš„æƒå€¼çš„ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿç”±äºè¯¥æ•°è¿‡å¤§ï¼Œè¯·å¯¹ 1e9+7 å–æ¨¡ã€‚ \nå­åºåˆ—çš„å®šç†ï¼šå¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œåˆ é™¤å…¶ä¸­æŸäº›æ•°ä¹‹åï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰å¾—åˆ°çš„æ•°ç»„ã€‚å­åºåˆ—ä¸­çš„æ•°çš„ç›¸å¯¹é¡ºåºå¿…é¡»å’ŒåŸæ•°ç»„ä¸­çš„é¡ºåºç›¸åŒ\nexp: æ•°ç»„ [1,3,2] çš„éç©ºå­åºåˆ—æœ‰ [1] [3] [2] [1,3] [1,2] [3,2] [1,3,2] å…±7ä¸ªã€‚\næ€è·¯ï¼š\nå…ˆæ’åºï¼Œéšåéå†æ•°ç»„ï¼Œä»å½“å‰ä½ç½®ä¸åé¢æ‰€æœ‰åºåˆ—ç»„æˆçš„åºåˆ—çš„æœ€å°å€¼éƒ½æ˜¯ä»–ï¼Œä¸å‰é¢æ‰€æœ‰åºåˆ—ç»„æˆçš„åºåˆ—çš„æœ€å¤§å€¼éƒ½æ˜¯ä»–ï¼Œç”¨å¿«é€Ÿå¹‚è®¡ç®—è´¡çŒ®å³å¯ï¼Œæ³¨æ„æŒ‡æ•°éƒ¨åˆ†å–æ¨¡è¦é‡‡ç”¨æ¬§æ‹‰é™å¹‚ï¼Œå³ % mod -  1\nè®¡ç®—è´¡çŒ®ï¼šqpow(a[i], qpow(2, n - i, mod - 1), mod) % mod * qpow(a[i], qpow(2, i - 1, mod - 1), mod);\nint n, a[maxn];\nll qpow(ll a, ll b, ll _mod) {\n    ll ans = 1;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * a % _mod;\n        a = a * a % _mod;\n        b &gt;&gt;= 1;\n    }\n    return ans;\n}\nvoid solve() {\n    cin &gt;&gt; n;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; a[i];\n    }\n    sort(a + 1, a + n + 1);\n\n    ll ans = 1;\n    rep(i, 1, n + 1) {\n        ans = ans * qpow(a[i], qpow(2, n - i, mod - 1), mod) % mod * qpow(a[i], qpow(2, i - 1, mod - 1), mod) % mod;\n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\nI çˆ†ç‚¸çš„ç¬¦å¡æ´‹æ´‹æ´’æ´’ (dp)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå°çº¢æ­£åœ¨ç ”ç©¶å¦‚ä½•æŠŠç¬¦å¡ç»„åˆå‡ºå°½å¯èƒ½å¤§å¨åŠ›çš„ç»„åˆé­”æ³•ã€‚ \nå°çº¢å…±æœ‰ â€‹ ç§ç¬¦å¡å¯ä»¥é€‰æ‹©ï¼Œæ¯ç§ç¬¦å¡æœ€å¤šåªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œæ¯ä¸ªç¬¦å¡çš„é­”åŠ›æ¶ˆè€—ä¸º â€‹ï¼Œå¨åŠ›ä¸º â€‹ã€‚å¦‚æœå°†å¤šä¸ªç¬¦å¡è¿›è¡Œç»„åˆï¼Œåˆ™å¯ä»¥å‘åŠ¨ä¸€ä¸ªç»„åˆé­”æ³•ã€‚ç»„åˆé­”æ³•çš„é­”åŠ›æ¶ˆè€—ä¸ºé€‰æ‹©çš„ç¬¦å¡çš„é­”åŠ›æ¶ˆè€—çš„æ€»å’Œï¼Œå…¶å¨åŠ›ä¸ºé€‰æ‹©çš„ç¬¦å¡çš„å¨åŠ›çš„æ€»å’Œã€‚å°çº¢å¿…é¡»ä¿è¯æœ€ç»ˆç¬¦å¡çš„é­”åŠ›æ¶ˆè€—æ€»å’Œä¸º â€‹â€‹ çš„å€æ•°ã€‚å°çº¢æƒ³çŸ¥é“ï¼Œè‡ªå·±èƒ½å‘åŠ¨çš„ç»„åˆé­”æ³•æœ€å¤§çš„å¨åŠ›æ˜¯å¤šå°‘ï¼Ÿ,  &lt; 1e3;  ,  &lt; 1e9\næ€è·¯ï¼š\n01èƒŒåŒ…ï¼Œdp[i][j] è¡¨ç¤ºä¸ºå‰ i å¼ å¡é­”åŠ›æ¶ˆè€—æ¨¡ k ä¸º j çš„ç¬¦å¡å¨åŠ›çš„æœ€å¤§å€¼ã€‚\nint a[1005], b[1005];\nll dp[1005][1005];\nvoid solve() {\n    int n, k; cin &gt;&gt; n &gt;&gt; k;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; a[i] &gt;&gt; b[i];\n        a[i] %= k;\n    }\n\n    rep(i, 1, n + 1) {\n        dp[i][a[i]] = b[i];\n        rep(j, 0, k) {\n            dp[i][j] = max(dp[i - 1][j], dp[i][j]);\n            if(dp[i - 1][(j - a[i] + k) % k]) dp[i][j] = max(dp[i][j], dp[i - 1][(j - a[i] + k) % k] + b[i]); \n        }\n    }\n    if(dp[n][0]) cout &lt;&lt; dp[n][0];\n    else cout &lt;&lt; -1;\n}\nJ åŒºé—´åˆæ•°çš„æœ€å°å…¬å€æ•° (æ•°å­¦)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ±‚åŒºé—´  ä¸­æ‰€æœ‰åˆæ•°çš„æœ€å°å…¬å€æ•°å¯¹ 1e9 + 7 å–æ¨¡, ,  &lt; 3e5\næ€è·¯ï¼š\né¢„å¤„ç†æ‰€æœ‰çš„ç´ æ•°ï¼Œæ ¹æ®å”¯ä¸€åˆ†è§£å®šç†å¯çŸ¥æ‰€æœ‰çš„åˆæ•°å¯ä»¥åˆ†è§£æˆç´ æ•°çš„å¹‚çš„ä¹˜ç§¯ï¼Œæ±‚æœ€å°å…¬å€æ•° lcm åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªmapï¼Œå¯¹æ¯ä¸ªç´ å› å­å–æœ€é«˜æ¬¡å¹‚å³å¯ï¼Œå¿«é€Ÿå¹‚è®¡ç®—æœ€å°å…¬å€æ•°ã€‚\nll qpow(int a, int b) {\n    ll ans = 1;\n    for(; b; b &gt;&gt;= 1) {\n        if(b &amp; 1) ans = ans * a % mod;\n        a = a * a % mod; \n    }\n    return ans;\n}\nvector&lt;int&gt; prime;\nbool notprime[maxn];\nvoid getprime() {\n    notprime[1] = 1;\n    rep(i, 2, maxn) {\n        if(!notprime[i]) {\n            prime.pb(i);\n            for(int j = i * i; j &lt;= maxn; j += i) notprime[j] = 1;\n        }\n    }  \n}\nmap&lt;int, int&gt; mp;\nvoid solve() {\n    int l, r;\n    cin &gt;&gt; l &gt;&gt; r;\n    ll ans = 1;\n    getprime();\n    rep(i, l, r + 1) {\n        if(!notprime[i]) continue;\n        int tmp = i;\n        for(auto x : prime) {\n            int cnt = 0;\n            while(tmp % x == 0) {\n                tmp /= x;\n                cnt++;\n            }\n            mp[x] = max(mp[x], cnt);\n            if(tmp == 1) break;\n        }\n    }\n    for(auto &amp;it : mp) {\n        ans = ans * qpow(it.fst, it.sec) % mod;\n    }\n    if(ans == 1) cout &lt;&lt; -1 &lt;&lt; '\\n';\n    else cout &lt;&lt; ans &lt;&lt; '\\n';\n}\n","slug":"nowcoder/2022winter/round4","date":"2022-02-08T13:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,äºŒåˆ†,æ•°å­¦,dp,nowcoder,å‰ç¼€å’Œ,çº¿æ®µæ ‘,æ¬§æ‹‰é™å¹‚","author_index":"Maskros"},{"id":"3f765706eda214206e9b130ed8644b66","title":"Codeforces Round 770 (Div.2)","content":"Codeforces Round #770 (Div.2)\n\n\n\n\n\n\n\n\nè¢«äº¤äº’é¢˜å¹²ç¢ï¼ŒhackçœŸå¥½ç©\nA_Reverse_and_Concatenate\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int n, k; cin &gt;&gt; n &gt;&gt; k;\n    string s, ss; cin &gt;&gt; s; ss = s;\n    reverse(s.begin(), s.end());\n    if (ss == s || k == 0) cout &lt;&lt; 1 &lt;&lt; \"\\n\";\n    else cout &lt;&lt; 2 &lt;&lt; \"\\n\";\n}\nB_Fortune_Telling (xor)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šä¸€ä¸ª  æ•°ç»„ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªéè´Ÿæ•´æ•°  éå†æ•°ç»„  (ä» 1 åˆ° n) åšå¦‚ä¸‹æ“ä½œ:  æˆ–è€…  ã€‚\nAlice ä»  å¼€å§‹ï¼ŒBob ä»  å¼€å§‹ï¼Œå·²çŸ¥è¾“å…¥æ•°æ®ä¸€å®šåˆæ³•ï¼Œè¯¢é—® Alice å’Œ Bob è°èƒ½éå†æ•°ç»„åå¾—åˆ° \næ€è·¯ï¼š\né‡è¦æ€§è´¨ï¼š å’Œ  çš„å¥‡å¶æ€§ä¸ä¼šæ”¹å˜\næ ¹æ®é¢˜æ„ï¼Œ å’Œ  çš„å¥‡å¶æ€§å›ºç„¶ä¸åŒï¼Œéå†åˆ¤æ–­å¥‡å¶æ€§å³å¯ã€‚\nvoid solve() {\n    ll n, x, y; cin &gt;&gt; n &gt;&gt; x &gt;&gt; y;\n    x = x &amp; 1 ? 1 : 0;\n    rep (i, 0, n){\n        int t; cin &gt;&gt; t; \n        x = (x + t) &amp; 1 ? 1 : 0;\n    }\n    if ((x &amp; 1) == (y &amp; 1)) puts(\"Alice\");\n    else puts(\"Bob\");\n}\nC_OKEA (æ„é€ )\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š , ï¼Œæ„é€ è¿™æ ·ä¸€ä¸ªä»  åˆ°  çš„çŸ©é˜µï¼Œè¦æ±‚æ¯è¡Œçš„ç›¸é‚»  ä¸ªæ•°çš„å’Œè¦è¢«  æ•´é™¤ï¼Œä¸èƒ½æ„é€ è¾“å‡º NOï¼Œå¦åˆ™è¾“å‡º YES å’Œæ„é€ æ–¹æ¡ˆã€‚\næ€è·¯ï¼šå—¯æ„é€ ï¼Œæ³¨æ„ä¸€ä¸‹ä¸ºNOçš„æ¡ä»¶ä¸º (n * k) % (2 * k) != 0 &amp;&amp; k != 1 å³å¯\nvoid solve() {\n    int n, k; cin &gt;&gt; n &gt;&gt; k;\n    if((n * k) % (2 * k) &amp;&amp; k != 1) { puts(\"NO\"); return ;}\n    puts(\"YES\");\n    rep(i, 1, n + 1){\n        rep(j, 0, k){\n            cout &lt;&lt; i + j * n &lt;&lt; \" \"; \n        } en;\n    }\n}\nD_Finding_Zero\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\näº¤äº’é¢˜, å¾…è¡¥\nè¿™åœºå› ä¸ºäº¤äº’é¢˜å¡çš„äººè¿˜æŒºå¤šï¼Œç»“æœå»hackäº†åˆ«äººçš„Aï¼Œhackçš„æŒºçˆ½ï¼Œä¸Šäº†ä¸€æ³¢å°åˆ†\n","slug":"codeforces/cf 770","date":"2022-02-08T10:30:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,codeforces,æ„é€ ,ä½è¿ç®—","author_index":"Maskros"},{"id":"e2ac4861d604a0866410e8860947b013","title":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ)","content":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ)\n\n\n\n\n\n\n\n\nlink\né¢˜é¢å°çº¢å’Œç´«å‡†å¤‡ç©ä¸€ä¸ªæ¸¸æˆã€‚å¥¹ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸² ã€‚ä¸¤äººè½®æµå°†ä¸€ä¸ªå°å†™å­—æ¯æ·»åŠ åˆ°ä¸€ä¸ªæ–°ä¸²  çš„ç»“å°¾ï¼Œå¿…é¡»ä¿è¯tæ—¶åˆ»éƒ½æ˜¯  çš„ä¸€ä¸ªå­åºåˆ—ã€‚è°å…ˆæ— æ³•æ“ä½œåˆ™è¾“æ‰æ¸¸æˆã€‚ åˆå§‹æ˜¯ä¸€ä¸ªç©ºä¸²ã€‚å°çº¢å…ˆæ‰‹æ·»åŠ ï¼Œå‡è®¾ä¸¤äººéƒ½è¶³å¤Ÿèªæ˜ï¼Œè¯·é—®è°æœ€ç»ˆèƒ½è·å¾—èƒœåˆ©ï¼Ÿ \nå­åºåˆ— Defâ€˜ï¼šè‹¥ä¸€ä¸ªå­—ç¬¦ä¸²  åˆ é™¤éƒ¨åˆ†å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰åå¾—åˆ°å­—ç¬¦ä¸² ï¼Œé‚£ä¹ˆç§°  æ˜¯  çš„å­åºåˆ—ã€‚\nå¦‚æœå°çº¢è·å¾—èƒœåˆ©ï¼Œåˆ™è¾“å‡º â€œkouâ€ï¼Œå¦åˆ™è¾“å‡º â€œyukariâ€\né¢˜è§£é¦–å…ˆï¼Œæœ€åä¸€ä¸ªå­—æ¯æ˜¯å¿…èƒœä½ç½®ï¼Œé‚£ä¹ˆä¸æœ€åä¸€ä¸ªå­—æ¯ç›¸åŒçš„ä½ç½®åˆ°æœ€åä¸€ä¸ªå­—æ¯ä¹‹é—´éƒ½æ˜¯å¿…è´¥åŒºé—´ï¼Œå› ä¸ºåœ¨è¿™ä¸­é—´é€‰ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å¯¹æ‰‹è‡³éœ€è¦é€‰æœ€åä¸€ä¸ªå­—æ¯å³å¯è·èƒœã€‚\né‚£ä¹ˆï¼Œå°±ä¼šå½¢æˆ  ,  ä»£è¡¨å¿…è´¥åŒºé—´ï¼Œ ä»£è¡¨å¿…èƒœåŒºé—´\né‚£ä¹ˆè€ƒè™‘ç”±å¿…èƒœä½œä¸ºç¬¬ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆå°çº¢åªéœ€è¦å…ˆæ‰‹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆå°±ä¼šå°†å¯¹æ‰‹é€¼å…¥å¿…è´¥\nä¸å®Œæ•´çš„å¿…è´¥åŒºé—´ä½œä¸ºå¼€å¤´ï¼Œå°çº¢ä¹Ÿå¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªå¿…èƒœç‚¹ï¼Œè½¬ä¸ºæƒ…å†µ1\nåªæœ‰å½“å®Œæ•´çš„å¿…è´¥åŒºé—´ï¼ˆæ‰¾åˆ°äº†ä¸ä¹‹åç¬¬ä¸€ä¸ªå¿…è´¥åŒºé—´ç›¸åŒçš„å­—æ¯ï¼‰ä½œä¸ºå¼€å¤´ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°çº¢åªèƒ½åœ¨å¿…è´¥åŒºé—´é€‰å–ï¼Œåˆ™æ— æ³•å–èƒœ\nğŸ´void solve(){\n    string s;\n    cin&gt;&gt;s;\n    int i,j=s.length()-1;\n    for(i=j-1;i&gt;=0;i--){\n        if(s[i]==s[j])j=i-1,i=j;\n    }\n    if(j==-1) puts(\"yukari\");\n    else puts(\"kou\");\n}\n\n\n\n\n\n\n\n\n\nå¦‚æœè¦æ±‚æ¯æ¬¡æ·»åŠ çš„æ—¶å€™téƒ½æ˜¯sçš„å­ä¸²ï¼Œè§£æ³•æ˜¯åç¼€è‡ªåŠ¨æœºnextæŒ‡é’ˆdagå›¾ä¸Šæ±‚sgå‡½æ•° &gt;~&lt;\n","slug":"probs/æ˜¥è”sg","date":"2022-02-04T15:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,åšå¼ˆ","author_index":"Maskros"},{"id":"0f192f3641159c577af21cb3e8d1d8d5","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥3","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥3\n\n\n\n\n\n\n\n\nAC  7 / 12 è¶Šæ‰“è¶Šèœ\nB æ™ºä¹ƒä¹°ç“œ (èƒŒåŒ…)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ™ºä¹ƒæ¥åˆ°æ°´æœæ‘Šå‰ä¹°ç“œï¼Œæ°´æœæ‘Šä¸Šè´©å–ç€  ä¸ªä¸åŒçš„è¥¿ç“œï¼Œç¬¬  ä¸ªè¥¿ç“œçš„é‡é‡ä¸º ã€‚æ™ºä¹ƒå¯¹äºæ¯ä¸ªç“œéƒ½å¯ä»¥é€‰æ‹©ä¹°ä¸€ä¸ªæ•´ç“œæˆ–è€…æŠŠç“œåŠˆå¼€ä¹°åŠä¸ªç“œï¼ŒåŠä¸ªç“œçš„é‡é‡ä¸º  ã€‚ä¿è¯æ‰€æœ‰ç“œçš„é‡é‡éƒ½æ˜¯ä¸€ä¸ªæ­£å¶æ•°ã€‚å¦‚æœä»–æƒ³è¦è´­ä¹°è¥¿ç“œçš„é‡é‡å’Œåˆ†åˆ«ä¸º  æ—¶ï¼Œæœ‰å¤šå°‘ç§è´­ä¹°è¥¿ç“œçš„æ–¹æ¡ˆï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡\né¢˜è§£ï¼š\nåˆ†ç»„èƒŒåŒ…ï¼Œæ¯ä¸ªç“œæœ‰ä¸‰ç§å†³ç­–ï¼šä¹°ä¸€ä¸ª/åŠä¸ª/ä¸ä¹°ï¼Œ è¡¨ç¤ºå‰  ä¸ªç“œï¼Œé‡é‡ä¸º  çš„æ–¹æ¡ˆæ•°ï¼Œæ•…å¯åˆ—å‡ºè½¬ç§»æ–¹ç¨‹ï¼š \n// dp[1005][2005]\nint dp[1005][2005];\nint w[1005];\nvoid solve() {\n    int N, M; cin &gt;&gt; N &gt;&gt; M;\n    rep(i, 1, N + 1) cin &gt;&gt; w[i]; \n    rep(i, 1, N + 1) {\n        dp[i][w[i]]++;\n        dp[i][w[i] / 2]++;\n        rep(j, 1, M + 1) {\n            dp[i][j] += dp[i - 1][j];\n            if(j - w[i] &gt;= 0) dp[i][j] = (dp[i - 1][j - w[i]] + dp[i][j]) % mod;\n            if(j - w[i] / 2 &gt;= 0) dp[i][j] = (dp[i - 1][j - w[i]/2] + dp[i][j]) % mod; \n        }\n    }\n    rep(i, 1, M + 1) {\n        cout &lt;&lt; dp[N][i] &lt;&lt; ' ';\n    }\n}\n\n// dp[2005] another version\nint dp[2005];\nint w[1005];\nvoid solve() {\n    int N, M; cin &gt;&gt; N &gt;&gt; M;\n    rep(i, 1, N + 1) cin &gt;&gt; w[i]; \n    rep(i, 1, N + 1) {\n        red(j, M + 1, 1) {\n            if(j - w[i] &gt;= 0) dp[j] = (dp[j - w[i]] + dp[j]) % mod;\n            if(j - w[i] / 2 &gt;= 0) dp[j] = (dp[j - w[i] / 2] + dp[j]) % mod; \n        }\n        dp[w[i]]++;\n        dp[w[i] / 2]++;\n    }\n    rep(i, 1, M + 1) {\n        cout &lt;&lt; dp[i] &lt;&lt; ' ';\n    }\n}\n*C æ™ºä¹ƒä¹°ç“œ v2 (dp)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nBé¢˜çš„åè½¬ï¼Œç»™å®šè´¨é‡ä»  åˆ°  çš„ä¹°ç“œæ–¹æ¡ˆæ•°ï¼Œè®©ä½ è¿˜åŸè¥¿ç“œçš„ä¸ªæ•°å’Œè´¨é‡ã€‚\næ€è·¯ï¼š\né¦–å…ˆå®¹æ˜“çŸ¥é“  çš„ä¸ªæ•°æ˜¯ç¡®å®šçš„ã€‚ä¸æ”¾å€’ç€è€ƒè™‘ï¼Œåœ¨Bé¢˜ä¸­dp[i, j]çš„æ–¹æ¡ˆæ•°æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Œè¿™é‡Œå°±æ€ä¹ˆå‡å»ã€‚æ€è·¯å°±æ˜¯åœ¨æŠŠä¸€ä¸ªä¸ªdpæ–¹æ¡ˆæ•°å˜ä¸º â€‹ çš„è¿‡ç¨‹ä¸­ä¸æ–­å°†ä½¿ç”¨çš„é‡é‡æ”¾åˆ°ç­”æ¡ˆvectorä¸­ã€‚ä»å‰å¾€åéå†dpæ•°ç»„ï¼Œå¦‚æœä¸€ä¸ªä½ç½®çš„å€¼ä¸ä¸º0ï¼Œè¯´æ˜è¿™äº›å‰©ä¸‹çš„è¿™ä¸ªé‡é‡iå¯¹åº”çš„æ–¹æ¡ˆæ•°åªèƒ½ç”± i*2 è¿™ä¸ªè¥¿ç“œ/2æ¥æä¾›ã€‚æ­¤æ—¶å°±æŠŠä¸€ä¸ªi*2æ”¾å…¥ansï¼Œç„¶åæ›´æ–°åé¢çš„dpæ•°ç»„éƒ¨åˆ†\nTIPS: i==j æ—¶å°±æ˜¯å¤„ç† dp[i]ï¼Œå‰©ä¸‹çš„æ–¹æ¡ˆæ•°ç”±dp[i]ä¸ªi*2çš„ç“œæä¾›ï¼Œå› æ­¤dp[0]è¦è®¾ç½®ä¸º1ï¼Œå³æ¯æ¬¡éƒ½è¦å‡1ã€‚\nint dp[2005];\nvector&lt;int&gt; w;\nvoid solve() {\n    int M; cin &gt;&gt; M;\n    rep(i, 1, M + 1) cin &gt;&gt; dp[i];\n    dp[0] = 1; // important\n    rep(i, 1, M + 1) {\n        while(dp[i]) {\n            w.pb(2 * i);\n            rep(j, i, M + 1) {\n                dp[j] = (dp[j] - dp[j - i] + mod) % mod;\n                if(j - 2 * i &gt;= 0) dp[j] = (dp[j] - dp[j - i * 2] + mod) % mod; \n            } \n        }\n    }\n    cout &lt;&lt; w.size() &lt;&lt; \"\\n\";\n    for (auto v : w) cout &lt;&lt; v &lt;&lt; ' ';\n}\nD æ™ºä¹ƒçš„01ä¸²æ‰“ä¹±\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int n; cin &gt;&gt; n;\n    string s; cin &gt;&gt; s;\n    rep(i, 1, s.size()){\n        if(s[i] != s[0]) { swap(s[0], s[i]); break;}\n    } \n    cout &lt;&lt; s; \n}\nE æ™ºä¹ƒçš„æ•°å­—ç§¯æœ¨ ezv\n\n\n\n\n\n\n\n\nè´ªå¿ƒæš´åŠ›å³å¯\nint n, m, k;\nchar s[100005];\nint a[100005];\nll cal() {\n    ll ret = s[0] - '0';\n    rep(i, 1, n) {\n        ret = (ret * 10 + s[i] - '0') % mod;\n    }\n    return ret;\n}\nvoid op() {\n    int idx = 0;\n    rep(i, 1, n) {\n        if (a[i] != a[idx]) {\n            sort(s + idx, s + i, greater&lt;char&gt;() );\n            idx = i;\n        }\n    }\n    sort(s + idx, s + n, greater&lt;char&gt;() );\n    cout &lt;&lt; cal() &lt;&lt; '\\n'; \n}\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k &gt;&gt; s;\n    a[0] = 0;\n    rep(i, 0, n) cin &gt;&gt; a[i];\n    op();\n    rep(i, 0, k) {\n        int x, y; cin &gt;&gt; x &gt;&gt; y;\n        rep(i, 0, n) {\n            if(a[i] == x) a[i] = y;\n        }\n        op();\n    }\n}\nG æ™ºä¹ƒçš„æ ‘æ—‹è½¬ ezv\n\n\n\n\n\n\n\n\nç®€å•çš„æ ‘çš„æ€§è´¨\nint fa[1005];\nvoid solve() {\n    int n; cin &gt;&gt; n;\n    rep(i, 1, n + 1) fa[i] = i;\n    int x1, x2;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; x1 &gt;&gt; x2;\n        if (x1) fa[x1] = i;\n        if (x2) fa[x2] = i;\n    }\n    int ans = 0;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; x1 &gt;&gt; x2;\n        if (x1 &amp;&amp; fa[i] == x1) ans = x1;\n        if (x2 &amp;&amp; fa[i] == x2) ans = x2;\n    }\n    if(ans) cout &lt;&lt; 1 &lt;&lt; '\\n' &lt;&lt; ans;\n    else cout &lt;&lt; 0;\n}\nI æ™ºä¹ƒçš„å¯†ç  (äºŒåˆ†/å‰ç¼€å’Œ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå¯†ç æ˜¯ä»…åŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šç¬¦å·çš„å­—ç¬¦ä¸²ï¼›å¯†ç çš„é•¿åº¦ä¸å°‘äº  ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ä¸å¤šäº  ä¸ªå­—ç¬¦ã€‚å¯†ç ä¸­åº”è¯¥è‡³å°‘åŒ…æ‹¬â‘ å¤§å†™è‹±æ–‡å­—æ¯ã€â‘¡å°å†™è‹±æ–‡å­—æ¯ã€â‘¢æ•°å­—ã€â‘£ç‰¹æ®Šç¬¦å·è¿™å››ç±»å­—ç¬¦ä¸­çš„ä¸‰ç§ã€‚  \nç°åœ¨æ™ºä¹ƒæœ‰ä¸€ä¸ªé•¿åº¦å¤§å°ä¸º  çš„å­—ç¬¦ä¸²  ï¼Œå¥¹æƒ³çŸ¥é“ â€‹ ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­ä¸²æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å¯†ç ï¼Œè¯·ä½ å¸®åŠ©æ™ºä¹ƒç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„å¯†ç æ•°ç›®\næ€è·¯ï¼š\nå‰ç¼€å’Œå¤„ç†å­—ç¬¦ä¸²ï¼Œéå†æšä¸¾å·¦ç«¯ç‚¹ï¼ŒäºŒåˆ†æ‰¾ç¬¦åˆæ¡ä»¶æœ€è¿‘è·ç¦»çš„å³ç«¯ç‚¹ï¼Œè®¡ç®—è´¡çŒ®å€¼ã€‚\nint n, l, r;\nchar s[100005];\nint pre[100005][5];\nbool check(int ll, int rr) {\n    int checksum = min(pre[rr][0] - pre[ll - 1][0], 1) +\n                 min(pre[rr][1] - pre[ll - 1][1], 1) + \n                 min(pre[rr][2] - pre[ll - 1][2], 1) +\n                 min(pre[rr][3] - pre[ll - 1][3], 1);\n    if(checksum &gt;= 3) return 1;\n    return 0;\n}\nvoid solve() {\n    cin &gt;&gt; n &gt;&gt; l &gt;&gt; r;\n    rep(i, 1, n + 1) cin &gt;&gt; s[i];\n    pre[0][0] = pre[0][1] = pre[0][2] = pre[0][3] = 0;\n    rep(i, 1, n + 1) {\n        rep(j, 0, 4) pre[i][j] = pre[i - 1][j];\n        if(s[i] &lt;= '9' &amp;&amp; s[i] &gt;= '0') pre[i][0]++;\n        eif(s[i] &lt;= 'Z' &amp;&amp; s[i] &gt;= 'A') pre[i][1]++;\n        eif(s[i] &lt;= 'z' &amp;&amp; s[i] &gt;= 'a') pre[i][2]++;\n        else pre[i][3]++;\n    }\n    ll ans = 0;\n    rep(i, 1, n + 1) {\n        if(i + l - 1 &gt; n) break;\n        int mnpos = 0;\n        int L = l - 1, R = min(r - 1, n - i);  \n        while(L &lt;= R) {\n            int mid = (L + R) / 2;\n            if(check(i, i + mid)) {\n                R = mid - 1;\n                mnpos = min(r - 1, n - i) - mid + 1;\n            }else L = mid + 1;\n        }\n        ans += mnpos;\n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\nJ æ™ºä¹ƒçš„Cè¯­è¨€æ¨¡é™¤æ–¹ç¨‹ (åˆ†ç±»è®¨è®º)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ¨¡é™¤æ˜¯ä¸€ç§ä¸å…·äº¤æ¢æ€§çš„äºŒå…ƒè¿ç®—ã€‚æ¨¡é™¤ï¼ˆåˆç§°æ¨¡æ•°ã€å–æ¨¡æ“ä½œã€å–æ¨¡è¿ç®—ç­‰ï¼Œè‹±è¯­ï¼š æˆ– ã€‚å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ•°é™¤ä»¥å¦ä¸€ä¸ªæ•°çš„ä½™æ•°ï¼Œç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼šè¢«é™¤æ•°  å’Œé™¤æ•° ï¼Œå¾—åˆ°çš„æ˜¯ä½¿ç”¨æ¬§å‡ é‡Œå¾·é™¤æ³•æ—¶  çš„ä½™æ•°ã€‚è€Œå½“  å’Œ  å‡ºç°è´Ÿæ•°æ—¶ï¼Œé€šå¸¸çš„å®šä¹‰å°±ä¸é€‚ç”¨äº†ï¼Œc/c++è¯­è¨€ä¸­ï¼Œå½“è¢«é™¤æ•°  æˆ–è€…  å‡ºç°è´Ÿæ•°æ—¶ï¼Œè¿ç®—çš„è¿‡ç¨‹ä¸­é¦–å…ˆå°†  å’Œ  ä½œä¸ºéè´Ÿæ•´æ•°è¿›è¡Œè¿ç®—ï¼Œç„¶åå¾—å‡ºç»“æœæ—¶ç¬¦å·ä¸è¢«é™¤æ•°  ä¿æŒä¸€è‡´ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚  è€Œ ã€‚\nç°åœ¨æ™ºä¹ƒæœ‰ä¸€ä¸ªæ¨¡é™¤æ–¹ç¨‹ï¼š ï¼Œ å…¶ä¸­  ä¸ºæœªçŸ¥æ•°,  ä¸ºç»™å®šå¸¸æ•°,  å¯ä¸ºåŒºé—´  å†…çš„ä»»æ„æ•´æ•°ï¼Œè¿ç®—éµå¾ªc/c++ä¸­æ¨¡é™¤è¿ç®—çš„è¿ç®—æ³•åˆ™ã€‚\næ˜¾ç„¶è¿™ä¸ªæ–¹ç¨‹çš„è§£å¹¶ä¸ä¸ºä¸€ï¼Œæ‰€ä»¥æ™ºä¹ƒç°åœ¨ç»™ä½ åˆ’å®šäº†ä¸€ä¸ªæ•´æ•°ç­”æ¡ˆåŒºé—´ ï¼Œè¯¢é—®ç­”æ¡ˆåŒºé—´  å†…æœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„æ•´æ•°  èƒ½ä½¿å¾—ç­‰å¼ â€‹ æˆç«‹ã€‚\næ€è·¯ï¼šåˆ†ç±»è®¨è®º\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\nint P, l, r, L, R;\ntypedef long long ll;\nll ans;\nll calc(ll a, ll b, ll c, ll d) {  //è®¡ç®—ç¬¦åˆæ¡ä»¶çš„åŒºé—´é•¿\n    if (b &lt; c || d &lt; a)\n        return 0ll;\n    ll r = min(b, d), l = max(a, c);\n    return r - l + 1;\n}\nll query(ll u) {  //[0,u]ä¸­ç¬¦åˆæ¡ä»¶çš„ä¸ªæ•°\n    // u/pä»½ æ¯ä»½æ‰€åœ¨æ€»åŒºé—´ä¸º[0,P-1]\n    // u%p ä½™æ•°ä¸º[1,u%p] 0%p=0 æ€»åŒºé—´[0,p]\n    if (u &gt;= 0)\n        return 1ll * (u / P) * calc(0, P - 1, l, r) + 1ll * calc(0, u % P, l, r);\n    else\n        return 1ll * abs(u) / P * calc(1 - P, 0, l, r) + 1ll * calc(u % P, 0, l, r);\n}\nint main() {\n    cin &gt;&gt; P &gt;&gt; l &gt;&gt; r &gt;&gt; L &gt;&gt; R;\n    P = abs(P);\n    if (L &gt;= 0 &amp;&amp; R &gt;= 0)\n        ans = query(R) - query(L - 1);\n    else if (L &lt;= 0 &amp;&amp; R &gt;= 0)\n        ans = query(R) + query(L) - query(0);\n    else\n        ans = query(L) - query(R + 1);\n    cout &lt;&lt; ans &lt;&lt; endl;\n    return 0;\n}\nL æ™ºä¹ƒçš„æ•°æ®åº“ (æ¨¡æ‹Ÿ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ¨¡æ‹ŸSQLè¯­å¥: SELECT COUNT(*) FROM Table GROUP BY ...;\næ€è·¯ï¼š\næ¨¡æ‹Ÿå³å¯ï¼Œæ³¨æ„ç»†å¿ƒä¸è¦å†™é”™\nint N, M;\nmap&lt;string, int&gt; mp;\nvector&lt;int&gt; order;\nstruct node {\n    int data[maxn];\n} a[maxn];\nbool cmp(node x, node y){\n    rep(i, 0, order.size()) {\n        int idx = order[i];\n        if(x.data[idx] == y.data[idx]) continue;\n        else return x.data[idx] &lt; y.data[idx];\n    }\n    return x.data[0] &lt; y.data[0];\n}\nvoid solve() {\n    cin &gt;&gt; N &gt;&gt; M;\n    string s;\n    rep(i, 0, M) { cin &gt;&gt; s; mp[s] = i;}\n    rep(i, 0, N) {\n        rep(j, 0, M) {\n            cin &gt;&gt; a[i].data[j]; \n        }\n    }\n    rep(i, 0, 7) cin &gt;&gt; s;\n    int bg = 0;\n    rep(i, 0, s.size()) {\n        if(s[i] == ',' || s[i] == ';') {\n            string key = s.substr(bg, i - bg);\n            bg = i + 1;\n            order.pb(mp[key]);\n        }\n    }\n    sort(a, a + N, cmp);\n\n    int cnt = 1;\n    vector&lt;int&gt; ret;\n    rep(i, 1, N) {\n        rep(j, 0, order.size()) {\n            int idx = order[j];\n            if(a[i].data[idx] != a[i - 1].data[idx]) {\n                ret.pb(cnt);\n                cnt = 0;\n                break;\n            }\n        }\n        cnt++;\n    }\n    ret.pb(cnt);\n    cout &lt;&lt; ret.size() &lt;&lt; '\\n';\n    for (auto x : ret) cout &lt;&lt; x &lt;&lt; ' ';\n}\n","slug":"nowcoder/2022winter/round3","date":"2022-02-03T13:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,äºŒåˆ†,æ¨¡æ‹Ÿ,dp,nowcoder,å‰ç¼€å’Œ","author_index":"Maskros"},{"id":"eab67807fa309d91eefd3f16abe7f52b","title":"Codeforces Round 769 (Div.2)","content":"Codeforces Round #769 (Div.2)\n\n\n\n\n\n\n\n\nvirtual participant\nA_ABC\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int t; cin&gt;&gt;t;\n    string s; cin&gt;&gt;s;\n    if(t&gt;=3){puts(\"NO\");}\n    else{\n        if(t==1) puts(\"YES\");\n        eif(t==2&amp;&amp;s[0]==s[1]) puts(\"NO\");\n        else puts(\"YES\"); \n    }\n}\nB_Fun_with_Even_Subarrays (æ„é€ /xor)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nä»  ~  ä»£è¡¨  ä¸ªè¿ç»­æŸ±å­çš„é«˜åº¦ï¼Œç°åœ¨éœ€è¦æ„é€ ä¸€ä¸ªæ’åˆ—ï¼Œæ„å»ºçš„æˆæœ¬ä¸ºç›¸é‚»æŸ±å­å¼‚æˆ–çš„æœ€å¤§å€¼ï¼Œå³ ï¼Œç°åœ¨è¦ä½¿æˆæœ¬æœ€å°ã€‚\næ€è·¯ï¼š\næ— è®ºå¦‚ä½•å¼‚æˆ–çš„æœ€å¤§å€¼éƒ½ç”±æœ€é«˜ä½å†³å®šï¼Œæ³¨æ„æŠŠä»–å’Œä½ä½çš„å…¨1æ•°é”™å¼€å³å¯\nvoid solve() {\n    int n; cin&gt;&gt;n;\n    int mx;\n    rep(i,1,20){\n        int p=pow(2,i);\n        if(p==n-1) {mx=p; break;}\n        eif(p&gt;n-1) {mx=pow(2,i-1); break;}\n    }\n    rep(i,1,mx) cout&lt;&lt;i&lt;&lt;\" \";\n    cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;mx&lt;&lt;\" \";\n    rep(i,mx+1,n) cout&lt;&lt;i&lt;&lt;\" \";\n    en;\n}\nC_Strange_Test (or)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š  å’Œ  (a&lt;b)ï¼Œå¯ä»¥åšä»»æ„æ¬¡æ“ä½œï¼š\n\n  \nâ€‹ \n\n\nè¯¢é—®è‡³å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿  ?\næ€è·¯ï¼š\nç”±äºoræ“ä½œçš„æ€§è´¨ï¼Œ ä¸€å®šå¤§äº  å’Œ ï¼Œæ•…æˆ–æ“ä½œæœ€å¤šæ‰§è¡Œä¸€æ¬¡ã€‚æ‰€ä»¥åªéœ€åˆ¤æ–­æ˜¯å…ˆ  è‡ªåŠ å† or è¿˜æ˜¯å…ˆ  è‡ªåŠ å† or å³å¯ã€‚\n// åªå¯èƒ½å…ˆa++å†orï¼Œæˆ–è€…å…ˆb++å†or\nvoid solve() {\n    int a, b; cin &gt;&gt; a &gt;&gt; b;\n    int x = a, y = b;\n    int ans1 = 1, ans2 = 1;\n    while((x|y) != y &amp;&amp; x &lt;= y) x++, ans1++;\n    if(x == y) ans1--;\n    while((a|b) != b) b++, ans2++;\n    cout &lt;&lt; min(ans1, ans2) &lt;&lt; \"\\n\";\n}\nD_New_Year_Concert (STè¡¨/äºŒåˆ†)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\n ä¸ªå­¦æ ¡ä»  åˆ°  ç¼–å·ï¼Œç¬¬  ä¸ªç­çº§å‡†å¤‡äº†æ—¶é•¿ä¸º  çš„èŠ‚ç›®ï¼Œå¯¹äºå‰  ä¸ªèŠ‚ç›®ï¼Œå¦‚æœå­˜åœ¨ ,  () ä¸”  ï¼Œè§‚ä¼—å°±ä¼šæ„Ÿè§‰æ— èŠï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½ å¯ä»¥ä¿®æ”¹ä»»æ„èŠ‚ç›®çš„æ—¶é•¿ä¸ºä»»æ„æ­£æ•´æ•°ã€‚\nè§„å®š  ä¸ºå‰  ä¸ªèŠ‚ç›®éœ€è¦ä¿®æ”¹çš„æœ€å°æ¬¡æ•°ï¼Œæ‰“å° \næ€è·¯ï¼š\næ³¨æ„åˆ°ï¼Œaä¸ªæ•°çš„GCDä¸€å®šä¸å°äºa+1ä¸ªæ•°çš„GCDï¼Œå› æ­¤å…¶å…·æœ‰å•è°ƒæ€§ï¼ˆæ»¡è¶³äºŒåˆ†æ¡ä»¶ï¼‰ã€‚ä¸”æ¯æ¬¡æ“ä½œçš„é‚£ä¸ªæ•°å¯ä»¥æ›¿æ¢ä¸ºä»»æ„å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥å–ä¸€ä¸ªå¤§ç´ æ•°ã€‚ä¸”få€¼å…·æœ‰æ‰¿è¢­æ€§ã€‚é‚£ä¹ˆè€ƒè™‘è¿™æ ·ä¸€ä¸ªåšæ³•ï¼š\néå†1åˆ°nï¼Œè®¾å½“å‰ä¸ºiï¼Œlstä¸ºä¸Šä¸€æ¬¡è¿›è¡Œæ“ä½œçš„ä½ç½®+1ã€‚å¦‚æœå½“å‰a[i] = 1ï¼Œå¿…ç„¶è¦è¿›è¡Œæ›´æ”¹ï¼›å¦åˆ™åŸºäºä¸Šé¢æåˆ°çš„nä¸ªæ•°GCDçš„æ€§è´¨ï¼ŒäºŒåˆ†æ‰¾[lst, i]è¿™æ®µåŒºé—´æ˜¯å¦å­˜åœ¨æŸä¸ªå­—åŒºé—´[x, i]æ»¡è¶³ã€‚å¦‚æœæœ‰çš„è¯åˆ™è®© ï¼ŒåŒæ—¶  æ›´æ–°ä¸º  ï¼›å¦‚æœæ²¡æœ‰åˆ™è®©  å³å¯ï¼ŒäºŒåˆ†checkä½¿ç”¨STè¡¨æŸ¥è¯¢åŒºé—´GCDã€‚\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint a[200009], st[200009][30];\n\nint gcd(int a, int b) {\n    if(b == 0) return a;\n    return gcd(b, a % b);\n}\n\nint query(int l, int r) {\n    int k = log2(r - l + 1);\n    return gcd(st[l][k], st[r-(1&lt;&lt;k)+1][k]);\n}\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    for(int i = 1; i &lt;= n; i++) {\n        scanf(\"%d\", &amp;a[i]);\n        st[i][0] = a[i];\n    }\n    for(int j = 1; j &lt;= 20; j++) {\n        for(int i = 1; i &lt;= n; i++) {\n            if(i + (1 &lt;&lt; j) - 1 &gt; n) continue;\n            st[i][j] = gcd(st[i][j-1], st[i+(1&lt;&lt;(j-1))][j-1]);\n        }\n    }\n    int pos = 1, ans = 0;\n    for(int i = 1; i &lt;= n; i++) {\n        int l = pos, r = i;\n        while(l &lt; r) {\n            int mid = (l + r) / 2;\n            if(query(mid, i) &gt;= i - mid + 1) r = mid;\n            else l = mid + 1;\n        }\n        if(query(l, i) == i - l + 1) {\n            ans++;\n            pos = i + 1;\n        }\n        printf(\"%d \", ans);\n    }\n    cout &lt;&lt; endl;\n    return 0;\n}\n","slug":"codeforces/cf 769","date":"2022-02-02T10:30:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,äºŒåˆ†,codeforces,æ„é€ ,ä½è¿ç®—,STè¡¨","author_index":"Maskros"},{"id":"d86326d363487a856acca015612626c4","title":"è®°å¿µäºŒã€‡äºŒä¸€","content":"è®°å¿µäºŒã€‡äºŒä¸€\n\n\n\n\n\n\n\n\nä»¥ä¸‹ Q&amp;Aï¼š\nQï¼šä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€ï¼Ÿ\nAï¼šè¿™ä¸ªè¯å¯¹äºæˆ‘æ¥è¯´æœ€æ—©å‡ºè‡ªé«˜ä¸­å­¦è¿‡çš„ä¸€ç¯‡è¯¾æ–‡ï¼Œé²è¿…çš„ã€Šè®°å¿µåˆ˜å’Œçå›ã€‹ï¼Œå…³äºè¿™ä¸€ç¯‡ä¸ºå•¥æˆ‘è®°å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œè¿™é‡ŒæŒ‰ä¸‹ä¸è¡¨ã€‚å½“æ—¶å°±åœ¨æƒ³ä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€è€Œéâ€œçºªå¿µâ€ï¼Œç„¶åæŸ¥äº†æŸ¥ï¼Œæˆ‘è§‰å¾—æœ€é è°±çš„ç†ç”±å°±æ˜¯ä»–å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ–‡ç™½æ··æ‚ã€ç®€ç¹æ··ç”¨æ‰å†™çš„â€œè®°å¿µâ€ã€‚ä»€ä¹ˆè¯¸å¦‚ç»†ç»†å“å‘³åœ¨ã€Šçº¿ä»£æ±‰è¯­è¯å…¸ã€‹ä¸­è¯æ€§å’Œç”¨æ³•çš„å¾®å¾®å·®å¼‚ï¼Œæˆ‘è§‰å¾—è¿™ç§çJBçŒœçš„éƒ½æ˜¯æ‰¯æ·¡ã€‚ä½†æ˜¯è¯´å›æ­£é¢˜ï¼Œæˆ‘åœ¨è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨â€è®°å¿µâ€œå‘¢ï¼Œå°±æ˜¯å› ä¸ºæƒ³ç”¨äº†ã€‚\nQï¼šä¸ºä»€ä¹ˆå¤§å¹´åˆä¸€æ‰å‘å¹´ç»ˆæ€»ç»“ï¼Œè€Œä¸æ˜¯1æœˆ1å·ï¼Ÿ\nAï¼šè¿™ä¸ªæœ‰å¾ˆå¤šåŸå› ã€‚æˆ‘è¿˜æ˜¯æ›´å€¾å‘äº1æœˆ1å·ä»£è¡¨æ–°çš„ä¸€å¹´ï¼Œæ—¥å†ä¹Ÿå¾—æ¢æœ¬æ–°çš„ï¼Œè™½ç„¶ğŸ‘´ğŸ»ä¸ç”¨å°å†ã€‚é‚£å¤©æ™šä¸Šæƒ³å†™æ¥ç€åˆå› ä¸ºæ„Ÿè§‰æœ‰äº›ä½œä¸šæ²¡å¤„ç†ï¼Œæ¯”è¾ƒå¿™ï¼Œå°±æ²¡å†™ã€‚å®é™…æƒ…å†µæ˜¯å½“å¤©æ™šä¸Šæ‘†äº†ï¼Œå•¥æ­£äº‹æ²¡å¹²ï¼Œè¿‡äº†é‚£å¤©åˆè§‰å¾—å†™æœ‰æ²¡å•¥æ„æ€ï¼Œå°±æ‹–ä¸‹æ¥äº†ã€‚æ€»ç»“ï¼šæ‘†äº†ï¼Œæ²¡æ¥å¾—åŠå†™ã€‚\nOKï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ã€‚\næœ¬æ–‡è´¯å½»æ€»-åˆ†-æ€»çš„è¡Œæ–‡ç»“æ„ï¼Œä»¥ä¸‹å™äº‹æŒ‰æ—¶é—´è½´è¿›è¡Œï¼Œæ— å›¾ï¼ˆå…¶å®å›¾æŒºå¤šçš„è¦æ”¾å›¾ä¹Ÿè¡Œä½†æ˜¯æ‡’å¾—æ”¾ï¼‰ï¼Œæœ€åæ¥ä¸ªæ€»ç»“ï¼Œover. \nï¼ˆä»¥ä¸‹ä¸ºç›®å½•ï¼Œå¦‚æœä½ æ˜¯PCçš„è¯å³è¾¹å„¿ğŸ‘‰ğŸ»ä¹Ÿæœ‰ã€æ’ç‰ˆéƒ¨åˆ†å€Ÿé‰´äº†coinå“¥å“¥ğŸ¥°çš„é£æ ¼ï¼‰\n\n\nä¸€æœˆ\nä¸€äº›æ–°é²œäº‹\nç”Ÿæ—¥\nè€ƒè¯•å‘¨\n\n\näºŒæœˆ\nMCM[1]\næ˜¥æ™š\n\n\nä¸‰æœˆ\nå››æœˆ\nè“è²èŠ±\nTake On me\nThe Dawn\n1ä¸¶æƒŠå–œ\n\n\näº”æœˆ\nè´¥èµ°é“¶å·\næ‘‡æ»šä¹‹å¤œ\n\n\nå…­æœˆ\nå±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£â€\nLivehouse\næ¬§æ´²æ¯\nè€ƒè¯•æœˆ\n\n\nä¸ƒæœˆ\nä½“éªŒç”Ÿæ´»\nNBA Final\nè®­ç»ƒ\n\n\nå…«æœˆ\nä¸œäº¬å¥¥è¿\nğŸ‘©â€™s Birthday\nCR7\n\n\nä¹æœˆ\nWebæ¡†æ¶ç¼–ç¨‹\nå›½èµ›\nè—ä¹¦ç¥¨\n\n\nåæœˆ\nğŸ‘‹ï¼Œæ—§æ‰‹æœº\nVlogğŸ‘¶ğŸ»æ¨ªç©ºå‡ºä¸–\n\n\nåä¸€æœˆ\nEDG\næµ·è¶…[2]\nè´¥èµ°ä¸Šæµ·\n\n\nåäºŒæœˆ\nCCSP\nè½¯ä»¶å·¥ç¨‹\n\n\næ€»ç»“\nè¿·èŒ«\nè½®å»“\nå±•æœ›\n\n\n\n\nä¸€æœˆ\n\n\n\n\n\n\n\n\nè¿‘å¹´çš„ä¸€æœˆéƒ½å¦‚æ­¤èˆ¬ç»å…¸ï¼Œä¸è¿‡ä»Šå¹´æ–°é²œä¸€ç‚¹\nä¸€äº›æ–°é²œäº‹æ¥è‡ªbilibiliå¹´ç»ˆæŠ¥å‘Šï¼šåŸæ¸¸å¤§å¸äººå¯èƒ½æ˜¯ä½ ä»Šå¹´æœ€å–œæ¬¢çš„UPä¸»ï¼Œä½ ä¸€å…±çœ‹äº†TAçš„è§†é¢‘ 718 æ¬¡ï¼Œè¿™æˆ–è®¸è¯æ˜äº†æˆ‘å¯¹é‡‘è½®çš„çˆ±ï¼Œä½†æ˜¯ä¹Ÿä¾§é¢è¯æ˜äº†æŠŠå¾ˆå¤šæ—¶é—´æµªè´¹åˆ°äº†çŸ­è§†é¢‘ä¸Šã€‚\næ¥è‡ªğŸ‘©[1]ï¼šä¸åŒä»¥å¾€çš„æ˜¯ï¼Œæˆ‘åœ¨2020å¹´åº•å› ä¸ºè¯¸å¤šå› ç´ æ”¶è·äº†ä¸€ä¸ªğŸ‘©ï¼Œæ‰€ä»¥ç»™æœ´ç´ çš„ä¸€æœˆå¢æ·»äº†è®¸å¤šæ´»åŠ›ã€‚\n\n[1]ğŸ‘©: æŒ‡ğŸ‘©\nç”Ÿæ—¥\n\n\n\n\n\n\n\n\n2021/1/10\næ¯å¹´ä¸€è¶Ÿçš„ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæœ‰äº†ğŸ‘©çš„æˆ‘åœ¨ğŸ‘©çš„å¸¦é¢†ä¸‹å‡ºå»æ°é¥­ï¼Œç”±äºæœ‰ğŸ‘©ä¹‹å‰æˆ‘ä¸€å‘æ˜¯ä¸å’‹ç¦»æ ¡çš„ï¼Œä¸€æ˜¯å› ä¸ºæ²¡å•¥äººå’Œæˆ‘å‡ºå»ï¼Œè‡ªå·±å‡ºå»ä¹Ÿæ²¡å•¥æ„æ€ï¼›äºŒæ˜¯å‡ºå»è¦ä¹ˆå°±ç»å…¸çŸ³è€äººï¼Œè¿™ä¸ªæˆ‘ä¸å¥½è¯„ä»·ï¼›æ‰€ä»¥ä¸å¾—ä¸è¯„ä»·å‡ºå»æ°é¥­çš„æ„Ÿè§‰è¿˜æŒºå—¨çš„ã€‚\nè€ƒè¯•å‘¨ä¸€å¦‚æ—¢å¾€çš„è€ƒè¯•å‘¨ï¼Œä»Šå¹´æˆ‘æ¢äº†ç­–ç•¥ï¼Œåœ¨ç†Ÿç»ƒè¿ç”¨markdownæŠ€æœ¯åæˆ‘å¿ƒè¡€æ¥æ½®ç”¨markdownç»“åˆè¯¾ä»¶å¼€å§‹çŒ›æ•´å¤ä¹ èµ„æ–™ï¼Œç»“è®ºæ˜¯åŠç”¨æ²¡æœ‰ã€‚æœ‰äº›cvçš„ä¸œè¥¿ä½ cväº†ä¹Ÿæ²¡å•¥å°è±¡ï¼Œæ‰“å°äº†ä¹‹åæ’ç‰ˆå¤§é‡çš„ç©ºä½™ä¹Ÿè®©æˆ‘æ‡’å¾—ç¿»é¡µï¼Œæ‰€ä»¥ä¸å‡ºæ„å¤–çš„è€ƒå¯„äº†ï¼Œè®©ç–«æƒ…ç»™é«˜åˆ†åé‡æ–°å¸¦ç»™æˆ‘çš„ä¿¡å¿ƒåˆç“¦äº†[2]ã€‚\n\n[2] ç“¦äº†ï¼šæŒ‡æ— äº†\näºŒæœˆ\n\n\n\n\n\n\n\n\nä»Šå¹´çš„å¯’å‡æ¯”å¾€å¹´çš„å¯’å‡å……å®ä¸€ç‚¹ã€ã€\nMCM[1]\n\n\n\n\n\n\n\n\n[1] MCM:  The Mathematical Contest in Modelingï¼ŒæŒ‡ç¾å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›ï¼Œåˆåæ°´èµ›\nå¾€å¹´çš„å¯’å‡å¯¹äºæˆ‘æ¥è¯´ç¡®å®æ˜¯çº¯çº¯çš„å‡æœŸï¼Œä½†æ˜¯æ€»æœ‰äººåˆ©ç”¨è¿™æ®µæ—¶é—´å·å·å­¦ä¹ ã€‚æ­£å¦‚å±±ä¸œçœå®éªŒä¸­å­¦æ ¡é•¿ï¼Œå…šå§”ä¹¦è®°éŸ©ç›¸æ²³åœ¨å¼€å­¦å…¸ç¤¼ä¸Šçš„é‡è¦è®²è¯ï¼šâ€œä¸æ€•åŒå­¦æ˜¯å­¦éœ¸ï¼Œå°±æ€•å­¦éœ¸æ”¾ä¹¦æ¶[2] â€ï¼Œæˆ‘æ·±æ„ŸèµåŒã€‚ä½†æ˜¯ä»Šå¹´å¿ƒè¡€æ¥æ½®ï¼Œå†³å®šç¢°ç¢°è¿æ°”ï¼Œäºæ˜¯å¼€å§‹è¿›è¡Œå»ºæ¨¡é€Ÿæˆ[3]ã€‚èµ›å‰ï¼Œæˆ‘åšå¥½äº†å……åˆ†çš„æ—¶é—´è§„åˆ’ï¼Œå‡è£…è‡ªå·±æ˜¯ä¸ªé«˜æ‰‹ã€‚\næœ€ç»ˆèµ›æ—¶åœ¨ä¸¤ä½ğŸ‘´çš„å¸¦é¢†ä¸‹æŒ‰ç…§è®¡åˆ’ï¼Œå®Œæˆäº†ç”±(&gt;60%)Googleç¿»è¯‘æ„æˆçš„ã€å›¾æ–‡å¹¶èŒ‚çš„ã€Šè®ºçœŸèŒã€‹[4]ï¼Œé€šç¯‡çœ‹èµ·æ¥æä¸ºå”¬äººã€‚å½“æ™šæŒ‰æ—¶ä¸Šäº¤ï¼Œç›´æ¥å€’å¤´å°±ç¡ï¼Œå¯’å‡å­¦ä¹ ä¹‹æ—…å‘Šä¸€æ®µè½ï¼Œå®é™…ä¸Šå­¦äº†ä¹Ÿæ²¡å•¥ç”¨ã€‚\n\n[2] ä¹¦æ¶ï¼šé€šâ€æš‘å‡â€œï¼ŒéŸ©ç›¸æ²³æ ¡é•¿ç²¾é€šå±±ä¸œæŸåœ°å£éŸ³ï¼Œæ•…å…¶è®²è¯å£°è°ƒæŠ‘æ‰¬é¡¿æŒ«\n[3] å»ºæ¨¡é€Ÿæˆï¼šæŒ‡è§‚çœ‹Blibiliã€Šç¾èµ›é€Ÿæˆã€‹ç­‰åŸ¹è®­è§†é¢‘(&lt;=2)ï¼›ä¸€æ–¹é¢é…ç½®SumatraPDF+WinEdtçš„LaTexè®ºæ–‡ç¯å¢ƒã€å­¦ä¹ LaTexè¯­æ³•ï¼›ä¸€æ–¹é¢çŸ¥ä¹ç ”è¯»å¾€å¹´Oå¥–è®ºæ–‡(&lt;=3)ï¼Œå¹¶æ·±æ„Ÿéœ‡æ’¼äºç¬”è€…å‡ºè‰²çš„æ’ç‰ˆã€ç»˜å›¾å’Œç¾å·¥æŠ€æœ¯ï¼›ä¸€æ–¹é¢è§‚çœ‹åŠ¨ç”»ç‰‡ã€Šå–œç¾Šç¾Šä¸ç°å¤ªç‹¼ä¹‹ç­å‡ºèƒœåˆ©ã€‹ï¼Œå¤ªç²¾å½©äº†å±äºæ˜¯\n[4] ã€Šè®ºçœŸèŒã€‹ï¼šèµ›æ—¶ç¬”è€…é˜Ÿä¼æ‰€é€‰çš„Aé¢˜ä¸ºçœŸèŒç›¸å…³çš„å»ºæ¨¡ï¼Œè®ºæ–‡å…·ä½“æ ‡é¢˜ä¸ºã€ŠXXXXæ¨¡å‹ï¼šXXXXXXã€‹ï¼Œæ–‡é‡‡è—»é¥°ï¼Œè‡­è¯ä¹±æ‹½ï¼Œçœ‹èµ·æ¥å¾ˆJBé«˜çº§å®åˆ™éƒ½æ˜¯å±è¯\næ˜¥æ™šæ˜¥æ™šå°å“å°±æ˜¯ä¸ªå¯„ï¼Œä¸äºˆè¯„ä»·ã€‚\nä¸‰æœˆ\n\n\n\n\n\n\n\n\nå¼€å­¦ï¼Œå†è§ğŸ‘©ï¼ŒåŠ¨ç‰©å›­ä¹‹æ—…ï¼Œç¬¬ä¸€æ¬¡æ„Ÿå—æµ·åº•æ\næµ·åº•æç¡®å®æœåŠ¡æ¯”è¾ƒå—¨ï¼Œä½†æ˜¯é‚£ä¸ªç”Ÿæ—¥æ­Œå°¬ä¹Ÿæ˜¯å°¬\nå››æœˆ\n\n\n\n\n\n\n\n\nä¸€äº›æ¼”å‡º\nè“è²èŠ±Bassåº·å¤è®­ç»ƒçš„æ›²ç›®ï¼Œæ²¡å•¥éš¾åº¦ï¼Œå…¨æ˜¯loopğŸ˜…ï¼Œä½†æ˜¯å¥½ä¹…æ²¡ä¸Šè¿‡å°äº†ï¼Œè¿˜æ˜¯èµ·åˆ°äº†ä¸¶çƒ­èº«çš„ä½œç”¨\nTake On me\n\n\n\n\n\n\n\n\nå¤§è‰ºå›¢åˆå”±å›¢æœ€åçš„è°¢å¹•ï¼Œåªèƒ½è¯´æœ‰ç‚¹é—æ†¾å§ï¼Œå‡ é¦–é˜¿å¡åˆ°æœ€åä¹Ÿæ²¡è¿‡ä¸€æ¬¡bass solo\n6äººçš„é˜¿å¡è´æ‹‰ï¼Œæ’ç»ƒäº†å¾ˆä¹…çš„ä¸€é¦–å¿«æ­Œï¼Œä»ä¸€å¼€å§‹çš„è¿›åº¦ç¼“æ…¢ã€äº§ç”Ÿçš„ä¸€äº›äº‰æ‰§ã€å†åˆ°æœ€ç»ˆæ¼”å‡ºæ—¶èˆå°çš„ä¸€äº›è®¾æ–½åŸå› ï¼Œæ•´ä¸ªè¿‡ç¨‹å¹¶æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€æ¬¡ç¾å¥½çš„ç»å†ï¼Œæ¼”å‡ºçš„æ•ˆæœä¹Ÿè¿˜ä¸é”™\nã€ŠTake On Meã€‹\nThe Dawnä»è®°å¾—å°æ—¶å€™å¬è¿‡äº¡çµåºæ›²çš„é’¢ç´ç‰ˆï¼Œå½“æ—¶æ·±æ„Ÿéœ‡æ’¼ï¼Œå¦‚ä»Šå¤åˆ»äº†ä¸€ä¸‹ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§è‡´æ•¬                                                                                                        \n1ä¸¶æƒŠå–œMeritorious Winnerï¼Œä¸€ä¸ªæ™®é€šçš„æ—©ä¸Šé†’æ¥ï¼Œé—²çš„æ²¡äº‹å¹²æŸ¥äº†æŸ¥MCMç»“æœï¼Œç›´æ¥ä»åºŠä¸Šåäº†èµ·æ¥\nåªèƒ½è¯´æ˜¯å‚èµ›å³é€€å½¹ï¼Œä½†æ²¡æƒ³åˆ°è¿™ç«Ÿæ˜¯ä»Šå¹´æ‰€æœ‰ç«èµ›çš„ç»å”±ğŸ˜…\näº”æœˆ\n\n\n\n\n\n\n\n\nè‡³ä»Šä»åœ¨åæ‚”ï¼Œæ‚”äºè‡ªå·±çš„åºŸç‰©ï¼Œä½†åæ‚”åˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ\nè´¥èµ°é“¶å·\n\n\n\n\n\n\n\n\nä¼—æ‰€å‘¨çŸ¥ï¼ŒACPC[1]é“¶å·ç«™å°±æ˜¯ä¸ªç¬‘è¯[2]ã€‚åœ¨2021å¹´ä¹‹å‰ï¼Œé“¶å·çš„ç‰Œå­æ˜¯å…¬è®¤å«é‡‘é‡æœ€ä½ï¼Œä¹Ÿæ˜¯æœ€å¥½æ‹¿ç‰Œçš„èµ›ç«™ï¼Œä½†æ˜¯ğŸ‘´åœ¨è¿™é‡Œæ‰“é“äº†\nâ€é‡‘å·é“¶å·ï¼Œä¸å¦‚ğŸ‘´çš„é“å·ã€‚â€œ\n\n\n\n\n\n\n\n\n\n2021/5/14\né’å²›çš„æ™šä¸Šå¤§é›¨æ»‚æ²±ï¼Œæˆ‘åŒ†åŒ†ä»æ‰“å°åº—æ‰“å¥½æœ€åçš„æ¿å­ï¼Œç™»ä¸Šäº†ç¦»å¼€çš„å‡ºç§Ÿè½¦ï¼Œä¸æŒ‡ç¯ç‹ï¼Œæ°å®[3]è¸ä¸Šäº†ç¦»å¼€çš„æ—…ç¨‹ã€‚\nç”±äºä¸€å¤§æ—©çš„é£æœºï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æœºåœºé™„è¿‘æ‰¾ä¸ªäº†ç§â¤ï¸äººâ¤ï¸å½±â¤ï¸é™¢â¤ï¸å‹‰å¼ºåº¦è¿‡ä¸€å¤œï¼Œåœ¨é‚£é‡Œç¬¬ä¸€æ¬¡é‚‚é€…äº†æƒ…è¶£ç¤¼ç›’ï¼Œä¸‰ä¸ªè¡€æ°”æ–¹åˆšçš„å¹´è½»äººè¡¨ç¤ºååˆ†çš„å¥½å¥‡ã€‚ç„¶åå°±æ˜¯ä¸€é¡¿çJBå¹æ°´ï¼Œè¿™æ¯•ç«Ÿæ˜¯æˆ‘ä»¬å¸¦å­¦ç”Ÿæ¶¯çš„ç¬¬ä¸€åœºç°åœºèµ›ï¼Œç¡®å®æ¯”è¾ƒæ¿€åŠ¨ã€‚\n\n\n\n\n\n\n\n\n\n2021/5/15\né£æœºèµ·é£ï¼Œé™è½ã€‚\nç»ˆäºæ¥åˆ°äº†ä¸€ä¸ªæ–°çš„åŸå¸‚ï¼Œä¸€å‡ºæœºé—¨å°±èƒ½çœ‹åˆ°å†’ç€çº¢å…‰çš„æ¸æå®£ä¼ æ¿ï¼ŒåŸå¸‚æ–‡åŒ–äº†å±äºæ˜¯ã€‚\néšåå°±åä¸Šäº†å‰å¾€çŸ³å˜´å±±(å³å®ç†æ‰€åœ¨åŸå¸‚)çš„é¢åŒ…è½¦ï¼Œä¸€è·¯ä¸Šçš„æ™¯è‰²å¹¶ä¸èƒ½ç®—å¾—ä¸Šæ˜¯ä»€ä¹ˆæ™¯è‰²ï¼Œå¬è¯´è¿˜æœ‰ä»€ä¹ˆæ²™æ¹–æ¸¸çš„å®‰æ’ï¼Œæ¯”è¾ƒæ¿€åŠ¨ï¼Œä½†æ˜¯åé¢ç»™å–æ¶ˆäº†ğŸ˜…ï¼Œç°åœ¨æœäº†ä¸€ä¸‹å±…ç„¶æ˜¯AAAAAçº§æ™¯åŒºï¼ŒğŸ´çš„ï¼Œäºäº†ã€‚\nä¸­åˆå»å­¦æ ¡æŠ¥é“ï¼Œæœ‰ä¸¤ä¸ªä¸ªå°æ”¹æ”¹[4]å¸¦ç€æˆ‘ä»¬ç®€å•å‚è§‚äº†ä¸€ä¸‹ï¼Œä¸å¾—ä¸è¯´ï¼Œç¡®å®æŒºå¤§ï¼Œå­¦æ ¡å°±åƒåœ¨ä¸€ä¸ªå°å²›ä¸Šä¸€æ ·ï¼Œå‘¨å›´è¢«ä¸çŸ¥é“æ˜¯æ¹–è¿˜æ˜¯æ²³çš„ä¸œè¥¿å›´èµ·æ¥ï¼Œæ¯”è¾ƒç©ºæ—·åŠ ä¸Šé£è¿˜æŒºå¤§ï¼Œæ‰€ä»¥æ„Ÿè§‰ç©¿çš„è¿˜æœ‰ç‚¹å°‘ï¼ŒæŒºå†·ã€‚åæ¥é¢†äº†ä¸ªç¤¼è¢‹ï¼Œé‡Œé¢é™¤äº†å‚èµ›æœå°±æ˜¯ä¸€ç›’åŒ…è£…è¿˜ç®—å¯ä»¥çš„æ¸æï¼Œæƒ³äº†æƒ³æˆ‘ä¹Ÿç”¨ä¸ä¸Šè¿™ç©æ„ï¼Œæ­£å¥½å¸¦å›å®¶å»ã€‚ä¸´èµ°çš„æ—¶å€™çœ‹è§æœ‰å¹¿æ’­ç«™çš„åœ¨é‚£é‡Œæ‹¿ç€ä¸ªéº¦å…‹é‡‡è®¿ï¼Œå¿ƒè¡€æ¥æ½®å’Œä¸ªæ¥bä¸€æ ·å°±ä¸Šå»äº†ï¼Œè¯´äº†å‡ å¥å°¬è¯åŠ äº†ä¸ªå®ç†ä¹‹å£°å¹¿æ’­ç«™çš„vxæ¶¦äº†ã€‚\nä¸‹åˆçƒ­èº«èµ›ï¼Œå››é“é¢˜å…¨ç»™Aäº†ï¼Œç»“æœåˆ¤é¢˜æœºç‚¸äº†ï¼Œä¸€ç›´ä¸ç»™åˆ¤ï¼Œæ¦œä¹Ÿå¡ç€ï¼Œç„¶åå¾…äº†ä¸€ä¼šå°±æ¶¦äº†ï¼Œæƒ³ç€å›å»æºœè¾¾æºœè¾¾åƒé¡¿å¥½çš„ğŸ¤¡ã€‚\næ™šä¸ŠğŸ”’æ£’å­éª¨ï¼Œæ°ç¾Šèå­ï¼Œæœ‰ç‚¹è¾£ä½†å±å®å—¨ğŸ¤¡ï¼Œéšåé‡‡è´­äº†ç‚¹æœ¬åœ°ç‰¹äº§ï¼Œæäº†ä¸€å¤§å…œå­å›äº†å®¾é¦†ï¼Œé™å¾…ç¬¬äºŒå¤©çš„æ­£èµ›ã€‚\n\n\n\n\n\n\n\n\n\n2021/5/16\næ—©ä¸Šæ»¡æ€€akçš„æ–—å¿—å»äº†ï¼Œåä¸‹å‡³å­ï¼Œå‘ç°æ˜¨å¤©çƒ­èº«èµ›æ¦œä¸Šâ€œä¸­å›½æµ·æ´‹å¤§å­¦ æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7[5]â€ï¼Œæœ‰ç‚¹æ¿€åŠ¨ï¼Œéšåæ‚„ä¹ˆå£°åœ°æŠŠé¡µé¢å…³æ‰ï¼Œé™é™ç­‰å¾…æ¯”èµ›å¼€å§‹ã€‚\næ¯”èµ›è¿‡ç¨‹ä¸æƒ³è¯´äº†ï¼Œå¤§é‡çš„æ— ç”¨æ€è€ƒï¼Œå…¨åœºæœ€ç­¾åˆ°çš„ä¸€é“é¢˜ä¸‰ä¸ªäººä¹ç‰›äºŒè™ä¹‹åŠ›è¯»äº†æ— æ•°ééƒ½è¯»æ¸…æ¥šé¢˜æ„WA[6]32ä¹Ÿæ²¡è¿‡ï¼Œç„¶åæœ‰é“é¢˜å¡äº†è¡Œæœ«ç©ºæ ¼ç™½WAäº†6ï¼Œæœ€åæ—¶é—´èµ°å®Œï¼Œéƒ½æ²¡æ¥å¾—åŠçœ‹å­—å…¸æ ‘çš„ç®€å•é¢˜ï¼Œé“äº†ã€‚\næˆ‘ä»¬è¾¾æˆäº†äº†å‡ ä¹å¾ˆéš¾è¾¾æˆçš„é“¶å·æ‰“é“çš„æˆå°±ï¼Œç°å¤´åœŸè„¸åœ°é€ƒå›äº†é’å²›ã€‚\né™¤äº†è‡ªå·±èœï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€è·ä»Šå·²260å¤©ï¼Œè­¦é’Ÿé•¿é¸£ã€‚\n\n[1] ACPCï¼šæŒ‡ACM-ICPCäºšæ´²åŒºåŸŸèµ›ï¼ŒACM-ACPCä¸ºæœ¬åœºå¼€å¹•å¼ä¸Šå‘è¨€äººçš„é€†å¤©å£è¯­è¡¨è¾¾\n[2] ç¬‘è¯ï¼šä¸»åŠæ–¹å®å¤ç†å·¥å­¦é™¢ä¹ƒæˆ‘å›½è¥¿éƒ¨æ¢çº½ï¼Œå¦‚ä½•çœ‹å¾… 2021 å¹´ ICPC é“¶å·èµ›åŒºä¸»åŠæ–¹å®å¤ç†å·¥å­¦é™¢è·å¾—ä¸€é‡‘ä¸€é“¶ï¼Ÿï¼Œæœ‰ä¸‰äººä¸‰æœºï¼ˆæ¯”èµ›ä¸­åº”ä¸‰äººä¸€æœºï¼‰ï¼Œæ›´æœ‰æ²ˆé˜³ç«™æ’¤ç¡•è¿‡é¢˜ï¼ˆå¦‚ä½•è¯„ä»·å®å¤ç†å·¥å­¦é™¢TS1é˜Ÿå‚åŠ ICPCæ²ˆé˜³ç«™ï¼Œå¹¶åœ¨ä¸Šå•æ‰€ååšå‡ºäº†Hé¢˜ï¼Ÿï¼‰, ä¸å¥½è¯„ä»·\n[3] æŒ‡ç¯ç‹ã€æ°å®ï¼šæŒ‡ä¸¤åé˜Ÿå‹ï¼ŒæŒ‡ç¯ç‹ç½‘åè„‚ç¯ï¼Œå°åæˆ‘çˆ¹ï¼Œæ°å®å–è‡ªäºçœŸåçš„å°¾å­—\n[4] å°æ”¹æ”¹ï¼šå€¼å°å§å§\n[5] æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7ï¼šå‰è€…æŒ‡é„™é˜Ÿé˜Ÿåï¼Œåè€…æŒ‡æ’åå³rank\n[6] WAï¼šæŒ‡Wrong Answerï¼Œå¯¹é¢˜ç›®çš„é”™è¯¯æäº¤ï¼Œåè·Ÿæ•°å­—è¡¨ç¤ºé”™è¯¯æäº¤çš„æ¬¡æ•°\næ‘‡æ»šä¹‹å¤œæœˆæœ«ï¼Œä¹é˜Ÿå‚åŠ äº†æˆ‘æ ¡å‰ä»–ç¤¾çš„æ‘‡æ»šä¹‹å¤œï¼Œä¹Ÿç®—æ˜¯ä¸ºä¸‹ä¸ªæœˆçš„å„å¤§æ¼”å‡ºåšäº†æå‰çš„ä¸€æ¬¡å½©æ’ï¼Œæ•ˆæœä¸é”™ï¼Œåœ¨è¿™é‡Œä¸å¤šèµ˜è¿°ã€‚\nå…­æœˆ\n\n\n\n\n\n\n\n\næ¼”å‡ºæœˆã€è€ƒè¯•æœˆã€æ¬§æ´²æ¯\nå±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£â€\n\n\n\n\n\n\n\n\n2021/06/06\nåº”é‚€å‚åŠ å±±å¸¦ï¼ˆé’å²›ï¼‰â€œå…­æœˆçš„é£â€æ¯•ä¸šæ­Œä¼šï¼Œæ•´äº†ä¸ªè“è²èŠ±å’Œ Itâ€™s my lifeï¼Œåäº†äº”ååˆ†é’Ÿåœ°é“ç»ˆäºåˆ°äº†å±±å¸¦ï¼Œè™½ç„¶åœ¨æ›´åè¿œçš„éƒŠåŒºä½†æ˜¯ä¸å¾—ä¸è¯´å»ºçš„çœŸæ˜¯æ°”æ´¾ï¼Œå®¿èˆæ¡ä»¶ä¹Ÿæ¯”æˆ‘æ ¡å¥½ï¼ˆåŸºæœ¬æ²¡æœ‰æ¯”æˆ‘ä½çš„åœ°æ–¹çƒ‚çš„ï¼‰ï¼Œé‡Œé¢æ•´äº†ä¸ªä¸‰å±‚å°å•†åœˆï¼Œå–çš„ä¸œè¥¿åº”æœ‰å°½æœ‰å±å®çœ‹çš„çœ¼é¦‹ã€‚\nè¿™æ¬¡æ­Œä¼šåœ¨ä¸€å—å°è¶³çƒåœºä¸¾è¡Œï¼Œè‰çš®ä¹Ÿæ˜¯çœŸå¥½ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–°å»ºçš„ä½†æ˜¯ç¡®å®å¥½ï¼Œæ¯”å¾—ä¸Šçœä½“çš„é‚£ä¸ªè¶³çƒå…¬å›­åˆšå»ºå¥½çš„æ—¶å€™é‚£è‰çš®è´¨é‡ï¼Œé‚£äº›è®¾å¤‡ç¡®å®å¼„çš„ä¹ŸæŒºé«˜çº§ï¼Œè¿˜æœ‰ä¸¤å—æŠ•å±ï¼Œå’Œç½‘ä¸Šç›´æ’­æ˜¾ç¤ºçš„ç”»é¢æ˜¯åŒæ­¥çš„ã€‚ä¸‹é¢ä¹Ÿçš„åœºåœ°ä¹Ÿå¸ƒç½®çš„æŒºå¥½çš„ï¼Œåªèƒ½è¯´æ˜¯è§äº†ä¸–é¢ï¼Œæ¯•ç«Ÿå’±ä¹Ÿæ²¡æ¥è¿‡è¿™ç§éœ²å¤©çš„æ¼”å‡ºğŸ˜…\næ¼”å‡ºå¼€å§‹ã€‚å› ä¸ºæ¥è®¾å¤‡éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ğŸ‘´å³å…´å‘è¡¨äº†ä¸€æ®µæ¼”è®²ï¼Œå¤§æœ‰ä¸¤æ ¡æƒ…è°Šé•¿å­˜ä¹‹æ„ï¼Œå®å±å…¨æ˜¯å±è¯ã€‚ä½†æ˜¯è¿™æ®µå®£è¨€å…¨è¢«ç›´æ’­å‡ºå»äº†ï¼Œå®å±è¢«å½“åœºé€®æ•ï¼Œç°åœ¨æœä¸€ä¸‹å½•åƒçœ‹è¿˜æ˜¯è§‰å¾—å¾ˆå°¬ğŸ˜…ï¼Œæ¼”å®Œäº†é¢†äº†ç‚¹é¥­é’±æ¶¦äº†ã€‚\næ¼”å‡ºæ•ˆæœè¿˜è¡Œï¼Œå°±æ˜¯å¯¼æ’­ä¸å¤§æ‡‚ä¹é˜Ÿå¯èƒ½ï¼Œçœ‹åˆ«äººæ¼”åŠ å·æ—…é¦†å‰ä»–soloçš„æ—¶å€™ä¸€ç›´ç»™èŠ‚å¥é•œå¤´ğŸ˜…ğŸ˜…ğŸ˜…\nLivehouse\n\n\n\n\n\n\n\n\n2021/06/12  DMC\næœ¬æ¥æƒ³çš„æ˜¯ä¸ªSo Downtown[1]ä¸€æ ·çš„å¸¦Livehouseï¼Œå»äº†æ‰å‘ç°æ˜¯ä¸ªå°é…’å§ï¼Œä½†æ˜¯é‚£ä¸ªéŸ³ç®±ç¡®å®è›®å¥½çš„ï¼Œç°åœºæ¥äº†å¾ˆå¤šå¾ˆå¥½çš„æœ‹å‹ï¼Œæ°”æ°›ä¹ŸæŒºå—¨çš„ï¼Œæ„Ÿå—åˆ°äº†å¤§åˆå”±ç¯èŠ‚ï¼Œåœ¨å°ä¸Šä¼šè¿›å…¥ä¸€ç§å¿˜æˆ‘çš„å¢ƒç•Œï¼Œæˆ‘å¾ˆäº«å—ã€‚åœ¨è¿™ä¸ªè´¦å·ä¸Šæˆ‘ä»¬å‘å¸ƒäº†å½“å¤©çš„å½•åƒï¼Œå†ä½“å‘³ä¸€éè¿˜æ˜¯ä¸é”™çš„ï¼Œè¿™ç®—æ˜¯ä»Šå¹´ä¹é˜Ÿæ­£å¼æ¼”å‡ºçš„å®Œç¾è°¢å¹•å§ã€‚(ä¸‹åŠå¹´å› ä¸ºå¤§å®¶çš„æ—¶é—´èµ¶ä¸åˆ°ä¸€èµ·å»ï¼Œæ‰€ä»¥æš‚æ—¶åœæ’)\n\n[1] So Downtownï¼šé’å²›æŸçŸ¥åLivehouse\næ¬§æ´²æ¯è‘¡è„ç‰™çš„æ¯”èµ›ä¸€åœºä¸è½çš„çœ‹å®Œï¼Œç¡®å®åœºé¢ä¸å¤ªå¥½çœ‹ï¼Œè¸¢å¾·å›½é‚£åœºä¹Ÿç¡®å®è¢«å¹²ç¢äº†ï¼Œæ·˜æ±°ä¹Ÿæ˜¯æƒ…ç†ä¹‹ä¸­ï¼Œæ²¡æƒ³åˆ°çš„æ˜¯æ­»äº¡ä¹‹ç»„æ³•å¾·è‘¡å…«å¼ºå…¨å¯„äº†ğŸ˜…\nè€ƒè¯•æœˆç»å†äº†ä¸Šæ¬¡è€ƒè¯•çš„æƒ¨ç—›æ•™è®­ï¼Œè¿™æ¬¡æˆ‘åˆæ¢å¤äº†æ‰‹å†™æçº²çš„æ–¹æ³•ï¼Œä¿®ä¹ äº†ä¸‰å¤§æ•°å­¦(å³ç¦»æ•£æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡ç»Ÿè®¡)çš„æˆ‘æœ€åä»ç»“æœæ¥çœ‹æ•´ä½“å·®å¼ºäººæ„ï¼Œå°±æ˜¯è¯¾æœ‰ç‚¹å¤šï¼Œæœ‰å‡ é—¨æ‘†çƒ‚äº†ï¼Œå¤ä¹ çš„å¾ˆå°‘æˆ–è€…æ˜¯æ²¡å¤ä¹ ï¼Œæœç„¶å¯„äº†ğŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€è¾ƒäºä¸Šå­¦æœŸè¿˜æ˜¯æœ‰äº†ä¸€å®šçš„è¿›æ­¥\nä¸ƒæœˆ\n\n\n\n\n\n\n\n\nä¸€äº›ç”Ÿæ´»ç¢ç‰‡\nä½“éªŒç”Ÿæ´»å›å®¶äº†ä¸€é˜µååœ¨é’å²›ä½“éªŒç”Ÿæ´»ï¼Œå¦‚é¢˜ï¼Œä¸è¯¦è¿°ã€‚\nNBA Finalä¼´éšcp3å’ŒSunsä¸€è·¯èµ°æ¥ï¼Œæ‰“åˆ°æ€»å†³èµ›å·²ç»éå¸¸æƒŠå–œï¼Œè™½ç„¶æœ€åä¸æ•Œï¼Œè™½ç„¶æœ‰ä¸€äº›è£åˆ¤å’Œçƒå‘˜çš„å…¶ä»–åŸå› ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒæ»¡è¶³çš„ï¼Œæ¯•ç«Ÿä¸å¯èƒ½æœ‰è¿™ä¹ˆä¸€å¸†é£é¡ºçš„æ—…ç¨‹ï¼Œå¤±è´¥æ°¸è¿œæ˜¯äººç”Ÿçš„ä¸»æ—‹å¾‹ï¼Œé‡å¤´å†æ¥å§ã€‚\nè®­ç»ƒåœ¨æ‰¾åˆ°ç¨³å®šçš„ç”Ÿæ´»èŠ‚å¥å‰ï¼ŒæŒ‰æ—¶æ‰“äº†Nowcoderå¤šæ ¡çš„è®­ç»ƒèµ›è¿˜æœ‰HDUçš„å¤šæ ¡è”èµ›ï¼Œä¸­é—´æ‰“äº†ä¸¤ä¸‰åœºç™¾åº¦â­â­ï¼Œæœ€åæ­¢æ­¥å¤èµ›ã€‚è™½ç„¶æ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªå—åˆ°æ‰“å‡»çš„è¿‡ç¨‹ï¼Œä½†æ˜¯è¿™ä¹Ÿå¸®åŠ©æˆ‘æ›´æœ‰æ•ˆçš„è®¤çŸ¥è‡ªå·±çš„æ°´å¹³ï¼Œä½†æ˜¯å›å¤´æ¥çœ‹ï¼Œåšé¢˜ä¸è¡¥é¢˜ç›¸å½“äºç™½æ‰“ğŸ˜…\nå…«æœˆ\n\n\n\n\n\n\n\n\nä¸€äº›é”è¯„\nä¸œäº¬å¥¥è¿è™½ç„¶å¥¥è¿ä¼šç¡®å®æ˜¯é‚£ç§è®©å¤§å®¶éƒ½èƒ½ä¹å‘µèµ·æ¥çš„å¤§ä¼šï¼Œå¸¦ğŸ”¥äº’ç›¸èŠèŠä¹Ÿæ˜¯æ²¡å•¥æ¯›ç—…çš„ï¼Œä½†æ˜¯è¯¸å¦‚æœ‹å‹åœˆã€å¾®åšç­‰ç­‰ç¤¾äº¤å¹³å°ä¸ŠæŸäº›å•¥éƒ½ä¸æ‡‚å°±åœ¨é‚£ä¹±è¯„å¤´è®ºè¶³è¹­çƒ­åº¦çš„æˆ‘çš„è¯„ä»·æ˜¯çº¯å±å•¥bã€ã€\nğŸ‘©â€™s Birthday\n\n\n\n\n\n\n\n\n2021/08/14\nå‡†å¤‡äº†æŒºä¹…çš„ğŸ‘©ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæˆ‘åªèƒ½è¯´æˆ‘å‡†å¤‡çš„ç¤¼ç‰©ç¡®å®æ˜¯çº¯çº¯çš„åˆ«å‡ºå¿ƒè£ã€‚\nCR7è€ç‰¹æ‹‰ç¦å¾·çš„å® å„¿é‡æ–°å›åˆ°äº†æ¢¦å‰§åœºï¼Œä¸»é˜Ÿä»JUVæ¢åˆ°äº†MNUï¼Œè™½ç„¶çƒ­è¡€æ²¸è…¾ï¼Œä½†ä¸‹åŠå¹´çš„æ›¼è”ä¼¼ä¹æ˜¯çº¯çº¯çš„ğŸ¤¡ã€‚\nä¹æœˆ\n\n\n\n\n\n\n\n\nå¼€å­¦å•¦ã€ã€\nWebæ¡†æ¶ç¼–ç¨‹è®©æˆ‘çŸ¥é“äº†ä¸å°‘é«˜åˆ†ä½èƒ½ç¥äººçš„å­˜åœ¨ï¼Œç¡®å®ä¸èƒ½ç†è§£ğŸ˜…ğŸ˜…ï¼Œä¸ä¼šåˆä¸å­¦å°±å¼€å§‹å½“ä¹ä¸æˆ‘çœŸç¬‘å˜»äº†ğŸ˜…\nå›½èµ›å»ºæ¨¡å›½èµ›ï¼Œç‹—éƒ½ä¸æ‰“ã€‚æœ¬å°±ä¸æƒ³å‚åŠ ä½†è¿˜æ˜¯æ‰“æ‰°äº†ä¸‰å¤©çš„ä½œæ¯ğŸ˜…ğŸ˜…\nè—ä¹¦ç¥¨ä¿®äº†ä¸€é—¨å«åš å¤§å­¦ç¾æœ¯é‰´èµ çš„é€šè¯†è¯¾ï¼Œé‡Œé¢æœ‰ä¸€é¡¹ä½œä¸šæ˜¯æ¯å‘¨æ‰‹ç”»ä¸€å¼ è—ä¹¦ç¥¨ï¼Œæˆ‘è§‰å¾—è¿˜è›®æœ‰æ„æ€çš„ï¼ŒèŠ±ä¸Šä¸‰ä¸ªå°æ—¶é™å¿ƒå®Œæˆä¸€å¹…ä½œå“ç¡®å®å·²ç»å¾ˆä¹…æ²¡å¹²è¿‡äº†ï¼Œè®©æˆ‘æ‰¾å›äº†å°å­¦åˆä¸­çš„é‚£ç§æ„Ÿè§‰ã€‚\nåæœˆ\n\n\n\n\n\n\n\n\næ—§çš„ä¸å»ï¼Œæ–°çš„ä¸æ¥\nğŸ‘‹ï¼Œæ—§æ‰‹æœº\n\n\n\n\n\n\n\n\n2021/10/10\næ‰“äº†åœºCCPCç½‘ç»œèµ›ï¼Œæ‰“å®Œå‘ç°æ—§æ‰‹æœºå¯„äº†ã€‚\nè¿™é‡Œè°ˆä¸€ä¸‹æˆ‘çš„æ—§æ‰‹æœºï¼Œå®ƒæ˜¯é«˜è€ƒç»“æŸåæ¥åˆ°çš„æˆ‘çš„èº«è¾¹ã€‚ä»…ä»…7å¤©ï¼Œä¸€æ¬¡å‡ºé—¨åœ¨å¤–ï¼Œè¿½èµ¶å…¬äº¤è½¦çš„æ—¶å€™ï¼Œçœ¼è§ç€æˆ‘å°±è¦åˆ°å…¬äº¤è½¦é—¨å‰ï¼Œå‘ç”Ÿäº†ä»¥ä¸‹çš„é»˜å‰§ï¼š\nâ€‹    â€œï¼ï¼ï¼â€ï¼ˆå¸ˆå‚…å¼€é—¨ï¼Œè®©æˆ‘ä¸Šè½¦ï¼ï¼‰\nâ€‹    â€œâ€¦â€  (æ‰‹æŒ‡åœ°é¢)\nâ€‹    â€œï¼Ÿï¼Ÿï¼ï¼â€ ï¼ˆå¼€é—¨å•Šï¼Ÿæˆ‘è¦ä¸Šè½¦å•Šï¼ï¼‰\nâ€‹    â€œâ€¦â€\nâ€‹    â€œâ€¦ï¼â€ ï¼ˆå‘ç°æ‰‹æœºå€’æ‰£åœ¨åœ°ä¸Šï¼‰\nâ€‹    â€œï¼ï¼ï¼â€ (wocï¼æ­£é¢ç¢çƒ‚äº†ï¼)\nâ€‹    â€œâ€¦â€ ï¼ˆå…¬äº¤è½¦é©¶å‘è¿œæ–¹ï¼‰\nå¤§è‡´çš„è¿‡ç¨‹å°±æ˜¯æ‰‹æœºå¹²ç¢äº†ï¼Œå…¬äº¤è½¦ä¹Ÿè·‘äº†ï¼Œè¾¾æˆåŒèµ¢ã€‚ç”±äºæ‰‹æœºæ˜¯åˆšä¹°çš„ï¼Œé—®äº†ä¸€ä¸‹ä¿®ä¸ªå±è¦äº”ä¼¯ï¼Œä¿®ä¸¤ä¸‰æ¬¡å°±å¤Ÿæˆ‘å†ä¹°ä¸€ä¸ªäº†ï¼Œäºæ˜¯æˆ‘å†³å®šèŠ‚ä¿­ä¸‹å»ä¸ä¿®ï¼Œè¿™å°±å¯¼è‡´äº†ä¸€äº›å’Œæˆ‘å…±äº‹çš„äººè§åˆ°æˆ‘çš„æ‰‹æœºéƒ½è¦å•§å•§ç§°å¥‡ï¼Œè¿™ä¸€ç”¨å°±æ˜¯ä¸¤å¹´ã€‚\nç»ˆäºï¼Œåœ¨è¿™å¤©ä¸‹åˆï¼Œæˆ‘å‘ç°å®ƒçš„å±å¹•è§£é”åï¼Œåªéœ€è¦äº”ç§’ï¼Œå°±ä¼šé€æ¸å˜é»„ï¼Œå†è¿‡äº”ç§’ï¼Œæ•´ä¸ªå±å¹•å°±å˜æˆäº†ä¸€äº›æ˜æš—äº¤ç»‡çš„æ¡å¸¦ï¼Œå¦‚åŒå¤©ä¸Šçš„é“¶æ²³ã€‚\näºæ˜¯ï¼Œæˆ‘å‘Šåˆ«äº†å®ƒã€‚\nVlogğŸ‘¶ğŸ»æ¨ªç©ºå‡ºä¸–æ¢äº†å½•åƒè®¾å¤‡çš„æˆ‘å¦‚é¢˜ï¼Œå‰ªäº†ä¸€ä¸ªè¿˜ä¸é”™çš„Vlogå¹¶ä¸”æ·±æ·±é™¶é†‰å…¶ä¸­ã€‚\nåä¸€æœˆ\n\n\n\n\n\n\n\n\næ†§æ†¬å°±æ˜¯ç”¨æ¥æ‰“ç ´çš„\nEDG\n\n\n\n\n\n\n\n\n2021/10/07\n EDG 3-2 æˆ˜èƒœäº†DKï¼Œå¤ºå¾—äº†s11çš„å† å†›ã€‚\nå¸¦ç€ğŸ‘©å»æ“åœºæ„Ÿå—çº¿ä¸‹è§‚èµ›çš„çƒ­è¡€ï¼Œç¬¬ä¸€æŠŠèµ¢äº†å·²ç»å‡ºä¹æ„æ–™ï¼Œç°åœºæ°”æ°›æ¥åˆ°äº†é«˜æ½®ï¼Œä½†æ˜¯äºŒä¸‰å±€çš„å¤±åˆ©åˆè®©æˆ‘æœ‰äº›å¤±å»ä¿¡å¿ƒï¼Œç»“æœEDGå±…ç„¶æ²¡è®©æ·€ç²‰å¤±æœ›ï¼Œæœ€ç»ˆç¿»ç›˜å¤ºå† ã€‚\nä»s5å¼€å§‹å½“æ·€ç²‰[1]ï¼Œå…­å¹´äº†ï¼Œç»ˆäºçˆ½äº†ä¸€æŠŠï¼Œæ™šä¸Šåˆ·äº†åŠå¤©æ–°é—»æ‰ç¡ï¼Œçº¯å—¨ã€‚\n\n[1] æ·€ç²‰ï¼šæŒ‡EDGçš„ç²‰ä¸ï¼ŒEDGåˆè¢«æˆç§°â€œä¸­å›½ç”µç«â€ï¼Œæ•…ç²‰ä¸ç¾¤ä½“è¢«ç§°ä¸ºæ·€ç²‰å³â€œç”µç²‰â€\næµ·è¶…[2]\n\n\n\n\n\n\n\n\n[2] æµ·è¶…ï¼šæµ·è¶…ï¼Œå…¨ç§°â€œä¸­å›½æµ·æ´‹å¤§å­¦è¶³çƒè¶…çº§è”èµ›â€\nç»§åˆšæ‰“ä¸€åœºå°±èƒæ­»è…¹ä¸­çš„æ–°ç”Ÿæ¯å®Œæˆçš„å¸½å­æˆæ³•ç»™äºˆæˆ‘ä¿¡å¿ƒä¹‹åï¼Œæˆ‘åŠ å…¥äº†é™¢é˜Ÿï¼Œè¿æ¥äº†æµ·è¶…è”èµ›ã€‚\nä½œä¸ºä»ä¿¡é™¢ç§Ÿå€Ÿåˆ°ç®¡é™¢çš„çƒå‘˜ç¬¬ä¸€åœºé¢å¯¹æ—§ä¸»è¢«å¹²äº†ä¸ª7-0ğŸ˜…ï¼Œæœ‰ç‚¹æ— åŠ›åˆæ·±æ·±å¿æ‚”äºè‡ªå·±çš„å¤±è¯¯ã€‚\nç´§æ¥ç€åœ¨å†·é£å¹ç€çš„å°é›¨ä¸­è¿æ¥äº†ç¬¬äºŒåœºé¢å¯¹æ³•å­¦é™¢çš„æ¯”èµ›ï¼Œè¿™åœºæˆ‘æ”¹å˜äº†ä¸€äº›æ‰“æ³•ï¼Œæƒ³é€šè¿‡å‡å°‘å¸¦çƒæ¥å¢åŠ ä¸€è„šå‡ºçƒå’Œæ— çƒè·‘åŠ¨æ¥æ‰°ä¹±å¯¹æ‰‹çš„åé˜²çº¿ï¼Œæ•ˆæœè¿˜æ˜¯æœ‰ä¸€äº›çš„ã€‚æœ€ç»ˆ4-2æœ‰æƒŠæ— é™©ï¼Œæ²¡æœ‰æ”¶è·è¿›çƒä½†æ˜¯æœ‰ä¸€è„šåŠ©æ”»ï¼Œä¸è¿‡ä¹Ÿæ˜¯æµªè´¹äº†ä¸‰æ¬¡è¿‘åœ¨å’«å°ºçš„è‰¯æœºï¼Œå‰ä¸¤æ¬¡æ˜¯æ²¡æœ‰æŠŠæ¡å‡†ç¬¬äºŒç‚¹ï¼Œä¸­åœºå‰çš„ä¸€è„šæŠ½å°„ä¹Ÿæ˜¯å› ä¸ºå·¦è„šæ²¡æœ‰ç«™ç¨³å¯¼è‡´åŠ›é“ä¸è¶³ï¼Œæ¯”è¾ƒé—æ†¾ï¼Œä½†æ˜¯é‚£ç§äº«å—æ¯”èµ›çš„è¿‡ç¨‹è¿˜æ˜¯ä»¤æˆ‘çƒ­è¡€æ¾æ¹ƒï¼Œæ²¡æƒ³åˆ°çš„æ˜¯åœ¨é›¨é‡Œæ‡‚äº†ä¿©å°æ—¶å›å»å±…ç„¶æ²¡æœ‰æ„Ÿå†’ï¼Œå½³äºã€‚\nè´¥èµ°ä¸Šæµ·\n\n\n\n\n\n\n\n\n2021/11/28\nICPCäºšæ´²åŒºé¢„èµ›ä¸Šæµ·ç«™ï¼Œçº¿ä¸Šèµ›ï¼Œå°±åœ¨ä¿¡é™¢æ‰“ï¼Œæœ€ç»ˆæ‰“é“ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œèƒ½åŠ›ä¸è¶³å°±æ˜¯èƒ½åŠ›ä¸è¶³ã€‚\nå‡†å¤‡äº†å¾ˆä¹…çš„å­—ç¬¦ä¸²æ²¡æœ‰æ´¾ä¸Šç”¨åœºï¼Œæœ€ç»ˆè¢«ä¸¤é“DP[3]å¡äº†ï¼Œäº‹å®è¯æ˜ï¼Œåšå‡ºè¿™ä¸¤é“DPä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ¯•ç«Ÿä¸Šæµ·ç«™å·²ç»å·åˆ°äº†äº”é¢˜é“œç‰Œï¼Œè¿˜æ˜¯éœ€è¦åŠªåŠ›ï¼Œå¸Œæœ›ä¸‹æ¬¡ä¸ç•™é—æ†¾å§ã€‚\n\n[3] DPï¼šDynamic Programmingï¼ŒåŠ¨æ€è§„åˆ’ï¼Œä¸€ç§ç®—æ³•\nåäºŒæœˆ\n\n\n\n\n\n\n\n\næ€¥\nCCSPå‚åŠ äº†CCSPçš„åˆ†èµ›ï¼Œæœ€å10åˆ†é’Ÿè¿‡äº†Bé¢˜30åˆ†ï¼Œæœ€åæ‹¿äº†ä¸ªåä¸œèµ›åŒºrk71é“œé¦–[1]ï¼Œæ ¡æ’ç¬¬5ã€‚\nè™½ç„¶ç»“æœç¡®å®ä»¤æˆ‘è¡€å‹å‡é«˜ï¼Œè¿™ç§é“œé¦–çš„äº‹ä¹Ÿèƒ½è½®åˆ°æˆ‘å¤´ä¸ŠğŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€å¯¹ç»“æœå·²ç»è¾ƒä¸ºæ»¡æ„ï¼Œæ¯•ç«Ÿå¡äº†è¿™ä¹ˆä¹…ï¼Œæ²¡å•¥æ¯›ç—…ï¼Œç»§ç»­åŠªåŠ›å§ã€‚\n\n[1] é“œé¦–ï¼šæŒ‡é“œç‰Œç¬¬ä¸€åï¼Œrk70é“¶ä½†rk71é“œ\nè½¯ä»¶å·¥ç¨‹\n\n\n\n\n\n\n\n\næ°¸è¿œä¸è¦å’ŒåºŸç‰©ç»„é˜Ÿã€‚\nè¿™é—¨è¯¾å°±åƒä»–çš„åå­—ä¸€æ ·ï¼Œå¹³æ—¶æ˜¯è¦è¿›è¡Œå°ç»„åˆ†å·¥å®Œæˆä¸€ä¸ªé¡¹ç›®ä½œä¸ºè¯„åˆ†æŒ‡æ ‡ï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ˜¯å®Œæˆå¯¹å›¾ç‰‡çš„20ç§ç›®æ ‡æ£€æµ‹ã€‚\né„™ç»„ç”±5åæˆå‘˜ç»„æˆï¼Œå®åˆ™ç”±ä¸¤åæˆå‘˜ç»„æˆï¼Œæˆ‘å’Œé˜¿æ˜Šï¼Œä»–æ¥å®Œæˆæ¨¡å‹çš„è®­ç»ƒï¼Œæˆ‘æ¥å®ŒæˆGUIç•Œé¢ï¼Œè¯´æ¥ä¹Ÿæƒ­æ„§ï¼Œæˆ‘è¿™éƒ¨åˆ†çš„åˆ†å·¥æ˜æ˜¾ç®€å•äºä»–ï¼Œä»–ä¸ºè¿™ä¸ªé¡¹ç›®ç¡®å®ä»˜å‡ºäº†æœ€å¤šã€‚\nå› ä¸ºæˆ‘æœ€ç†Ÿæ‚‰C++ï¼Œäºæ˜¯å°±æƒ³æŠŠç”¨pytorchè®­ç»ƒçš„æ¨¡å‹ç§»æ¤åˆ°é€šè¿‡ libtorch+opencv+msvc+qt æ¥å®ç°GUIçš„ç¼–å†™ï¼Œç»“æœé…äº†å¥½å‡ å¤©çš„ç¯å¢ƒï¼Œå‘ç°æ¨¡å‹éƒ¨åˆ†åŠŸèƒ½çš„å®ç°libtorchæ˜¯ä¸æ”¯æŒçš„ï¼Œåªèƒ½å·åœŸé‡æ¥ã€‚æ—¶é—´æµé€ï¼Œå½“æˆ‘é‡æ–°é…å¥½pyqtçš„ç¯å¢ƒå¼€å§‹åŠ¨æ‰‹ç¼–å†™æ—¶ï¼Œè·ç¦»è€ƒè¯•å‘¨å·²ç»æ—¶æ—¥ä¸å¤šã€‚\nå‰©ä¸‹å‡ ä½bç”¨æ²¡æœ‰ï¼Œä¸€è¾¹è¯´ç€ä¸ä¼šï¼Œâ€œæˆ‘ä¹ŸçŸ¥é“ï¼Œæˆ‘è¦æ˜¯ä¼šæˆ‘è‚¯å®šå¹²ç‚¹ä»€ä¹ˆâ€ä¹‹ç±»çš„å±è¯ï¼Œä¸€épä¹Ÿä¸å­¦ï¼Œå¼€å§‹äº†è‡ªå·±çš„æœŸæœ«å¤ä¹ ã€‚\nè¿™ä»¤æˆ‘ååˆ†çƒ¦èºï¼Œæˆ‘æ˜¯ä¸æ˜¯ä¸å¤ä¹ å•Šï¼Œæˆ‘ä»–å—æ˜¯ä¸æ˜¯å°±æ˜¯çº¯é›·é”‹éå¾—åšå¥½äº‹å•Šï¼Œæœ€åé¡¹ç›®æˆ‘ä»¬ä¿©å¹²äº†åŠå¤©ï¼Œåˆ°å¤´æ¥æœ€åä¸€ä¸ªä¸ªçš„éƒ½æ¯”æˆ‘ä»¬åˆ†é«˜æˆ–è€…å’Œæˆ‘ä»¬ä¸€æ ·ï¼Œå‡­ä»€ä¹ˆå‘¢ï¼Œä»–ä»¬é…å—ï¼Ÿäºæ˜¯å°±å‰©ä¸€å¤©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”©äº†è„¸ï¼Œè®©ä»–ä»¬å­¦ç€å¹²ä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚é…ç½®æœåŠ¡å™¨è¿™ç§ç®€å•çš„äº‹æƒ…ã€‚è™½ç„¶å¿ƒé‡Œæƒ³ç€ä»–ä»¬è‚¯å®šå¹²ä¸å®Œï¼Œä½†æ˜¯è‡³å°‘ä¹Ÿå¾—å‡ºç‚¹åŠ›ï¼Œäºæ˜¯æŠŠä»»åŠ¡å¸ƒç½®äº†ä¸‹å»ï¼Œè¿˜æŠ±æœ‰ä¸€ä¸å¿µæƒ³ã€‚ç»“æœæ˜¯ï¼šâ€”â€”åœ¨ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œæœ‰äººé…äº†ä¸€ä¸ªå°æ—¶æ²¡é…æ˜ç™½å°±æ”¾å¼ƒäº†ï¼Œæœ‰çš„äººæ ¹æœ¬æ²¡æ€ä¹ˆçœ‹ã€‚\nåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¦ä¹ˆæ˜¯åƒå·¨å©´ä¸€æ ·é—®ä½çº§é—®é¢˜ï¼Œè¦ä¹ˆå°±æ˜¯å¼€æ‘†ï¼Œè¿æœéƒ½æ‡’å¾—æœã€‚ä¸æƒ³å†åšè¯„ä»·äº†ã€‚\næœ€åé¡¹ç›®çš„ç»“æœæ˜¯ï¼šæˆ‘ä¿©å®Œæˆäº†åˆ†å†…çš„å·¥ä½œï¼Œä½†æ˜¯é¡¹ç›®çš„å®Œæˆåº¦æ¯”ç›®æ ‡æ¥è¯´åªè¾¾æˆäº†60%ï¼Œå‹‰å¼ºåŠæ ¼ç½¢ã€‚\n\n\n\n\n\n\n\n\n\nå¼•ç”¨ Eric Steven Raymond åœ¨ã€Šæé—®çš„æ™ºæ…§ã€‹ä¸­çš„è¯ç»“å°¾ï¼š\næˆ‘ä»¬åªæ˜¯æ¯«æ— æ­‰æ„åœ°é„™è§†é‚£äº›æé—®å‰ä¸æ„¿æ€è€ƒã€ä¸åšåŠŸè¯¾çš„äººã€‚è¿™ç§äººå°±åƒæ—¶é—´é»‘æ´ä¸€æ ·ï¼ŒåªçŸ¥é“ç´¢å–ï¼Œä¸æ„¿æ„ä»˜å‡ºï¼Œä»–ä»¬åœ¨æµªè´¹æˆ‘ä»¬æ—¶é—´ï¼Œè€Œè¿™äº›æ—¶é—´æˆ‘ä»¬æœ¬å¯ç”¨äºå…¶ä»–æ›´æœ‰è¶£çš„é—®é¢˜æˆ–æ›´å€¼å¾—å›ç­”çš„äººèº«ä¸Šã€‚æˆ‘ä»¬å°†è¿™ç§äººå«åš loserã€‚\næ€»ç»“\n\n\n\n\n\n\n\n\néå¸¸ç®€ç•¥çš„æ€»ç»“\nè¿·èŒ«è¿·èŒ«äºè‡ªå·±çš„æœªæ¥ï¼Œè¿·èŒ«äºè‡ªå·±çš„å½“ä¸‹ï¼Œè¿·èŒ«äºè‡ªå·±çš„é€‰æ‹©ï¼Œè¿·èŒ«äºå¯¹é”™ã€‚\nè½®å»“æˆ‘ä¼¼ä¹æ¸æ¸æ‘¸æ¸…äº†ä¸è¿œçš„æœªæ¥çš„è½®å»“ï¼Œå¯¹è‡ªå·±è½®å»“çš„æç»˜ä¹Ÿè¶Šæ¥è¶Šæ¸…æ™°ï¼Œè·Ÿä¸åŒäººä¹‹é—´çš„è½®å»“çš„åŒºåˆ†ã€‚\nå±•æœ›å…‹åˆ¶ï¼Œè§„å¾‹çš„ä½œæ¯ï¼Œæ‰å®åœ°å‰è¿›ã€‚\n\n\n\n\n\n\n\n\n\nå¾ˆè£å¹¸ä½ èƒ½å¤Ÿå¿å—ç€æˆ‘æŠ½è±¡çš„æ–‡å­—ã€åƒæ€¨å¦‡ä¸€æ ·çš„æŠ±æ€¨ã€å’Œä¸€äº›éš¾å¬çš„è¯‹æ¯çœ‹åˆ°è¿™é‡Œï¼Œè°¢è°¢ä½ æˆ‘çš„æœ‹å‹ï¼Œ2022æ–°å¹´å¿«ä¹ã€‚\n","slug":"life/Summary_2021","date":"2022-02-01T15:50:00.000Z","categories_index":"LIFE","tags_index":"Life","author_index":"Maskros"},{"id":"70f4804479b3b25aa00acc2175ae221c","title":"Educational Codeforces Round 122 (Div.2)","content":"Educational Codeforces Round 122 (Rated for Div. 2)\n\n\n\n\n\n\n\n\nvp\nA_Div_7\n\n\n\n\n\n\n\n\nç­¾\nvoid solve() {\n    int n; cin &gt;&gt; n;\n    if(n % 7 == 0) cout &lt;&lt; n &lt;&lt; '\\n';\n    else{\n        if(n &gt;= 990) cout &lt;&lt; 994 &lt;&lt; '\\n';\n        else {\n            n -= n%10;\n            while(n % 7 != 0) n++;\n            cout &lt;&lt; n &lt;&lt; '\\n';\n        }\n    }\n}\nB_Minority\n\n\n\n\n\n\n\n\nç­¾\nvoid solve() {\n    string s; cin &gt;&gt; s;\n    int one = 0, zero = 0, ans = 0;\n    rep(i, 0, s.size()){\n        if(s[i] == '0') zero ++; else one ++;\n        ans = (one == zero)? ans :  min(one, zero); \n    }\n    cout &lt;&lt; ans &lt;&lt; '\\n';\n}\nC_Kill_ the_Monster\n\n\n\n\n\n\n\n\næšä¸¾kçš„åˆ†é…ç§ç±»å³å¯\nceil(double x) ï¼šdouble ç±»å‹å‘ä¸Šå–æ•´\nvoid solve() {\n    double hc, dc, hm, dm, k, w, a;\n    cin &gt;&gt; hc &gt;&gt; dc &gt;&gt; hm &gt;&gt; dm &gt;&gt; k &gt;&gt; w &gt;&gt; a;\n    rep(i, 0, k+1){\n        double hhc = 1.0 * i * a + hc;\n        double ddc = 1.0 * (k - i) * w + dc;\n        if(ceil(hm / ddc) &lt;= ceil(hhc / dm)){\n            cout &lt;&lt; \"YES\\n\";\n            return ; \n        }\n    }\n    cout &lt;&lt; \"NO\\n\";\n}\nD_Make_Them_Equal (dp)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šä¸€ä¸ªé•¿ä¸º  çš„æ•°ç»„ ï¼Œåˆå€¼å…¨ä¸º  ï¼Œä½ å¯ä»¥åšè¿™æ ·çš„æ“ä½œï¼šé€‰æ‹©  å’Œ  (x&gt;0) ï¼Œç„¶åä½¿ \nå¦‚æœæ“ä½œå  ï¼Œä½ å°†å¾—åˆ°  çš„å¥–é‡‘ï¼Œä½ éœ€è¦åœ¨  æ¬¡æ“ä½œå†…ä½¿å¾—å¥–é‡‘æœ€å¤§åŒ–ï¼Œè¾“å‡ºå¥–é‡‘çš„æœ€å¤§å€¼ã€‚è§„å®š   , \næ€è·¯ï¼š\nä»  åˆ°  çš„æ¬¡æ•°æ˜¯å›ºå®šçš„ï¼Œæ ¹æ®  çš„èŒƒå›´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“è¡¨é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ“ä½œæ¬¡æ•°ï¼Œç„¶åè€ƒè™‘01èƒŒåŒ…ï¼Œdp[i][j]è¡¨ç¤ºå‰ i ä¸ªè€—è´¹ä¸º j çš„æœ€å¤§å¥–é‡‘ï¼Œä½†æ˜¯å¼€1e6è‚¯å®šä¼šTï¼Œè§‚å¯Ÿæ‰“è¡¨ç»“æœå‘ç°æœ€å¤§å€¼ä¸º 12ï¼Œè¿™æ ·å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹dpçš„èŒƒå›´ã€‚\nint b[1005], c[1005];\nint pre[1005];\n// 1 -&gt; 1000 æ‰“è¡¨ max = 12\nvoid init() {\n    pre[1] = 0;\n    rep(i, 1, 1001) {\n        rep(j, 1, i + 1) {\n            int tmp = i + i / j;\n            if(tmp &lt;= 1000) pre[tmp] = pre[tmp] ? min(pre[tmp], pre[i] + 1) : pre[i] + 1; \n        }\n    }\n}\nint dp[12005];\nvoid solve() {\n    int n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    rep(i, 1, n + 1) cin &gt;&gt; b[i], b[i] = pre[b[i]];\n    rep(i, 1, n + 1) cin &gt;&gt; c[i];\n    int ans = 0;\n    if(k &gt;= 12 * n) {\n        rep(i, 1, n + 1) ans += c[i]; \n    }else {\n        rep(i, 0, 12 * n) dp[i] = 0;\n        rep (i, 1, n + 1) {\n            red(j, k + 1, 0){\n                if(j - b[i] &gt;= 0) dp[j] = max(dp[j], dp[j - b[i]] + c[i]);\n                else break;\n            }\n        }\n        ans = dp[k];\n    }\n    cout &lt;&lt; ans &lt;&lt; \"\\n\";\n}\n","slug":"codeforces/cf Edu 122","date":"2022-01-31T10:00:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,codeforces,dp","author_index":"Maskros"},{"id":"cecfd7cf2ccfddc88833814024f39f99","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2\n\n\n\n\n\n\n\n\nAC  6 / 12 æˆ‘æ˜¯çº¯åºŸç‰©\n*A å°æ²™çš„ç‚‰çŸ³(äºŒåˆ†/ç»“è®º)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå°æ²™å½“å‰çš„æ‰‹ä¸Šæœ‰nå¼ æ³•æœ¯è¿›æ”»ç‰Œï¼Œæ¯å¼ ç‰Œéƒ½ä¼šæ¶ˆè€—ä¸€ç‚¹æ³•åŠ›ï¼Œé€ æˆä¸€ç‚¹åŸºç¡€ä¼¤å®³ï¼Œæœ‰må¼ æ³•æœ¯å›å¤ç‰Œï¼Œä¸éœ€è¦æ¶ˆè€—æ³•åŠ›å€¼ï¼Œæ¯æ¬¡å¯ä»¥æ¢å¤ä¸€ç‚¹æ³•åŠ›ã€‚å°æ²™ä¸€å¼€å§‹æœ‰ä¸€ç‚¹æ³•åŠ›ï¼Œæ³•åŠ›æ²¡æœ‰ä¸Šé™ã€‚æ³•æœ¯è¿›æ”»ç‰Œçš„ä¼¤å®³å€¼=å½“å‰å‡ºçš„æ˜¯ç¬¬å‡ å¼ ç‰Œã€‚kæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªè¡€é‡xï¼Œé—®èƒ½å¦åšåˆ°ä¼¤å®³åˆšå¥½ç­‰äºè¡€é‡å€¼ï¼Œå³åˆšå¥½æ–©æ€ã€‚\né¢˜è§£ï¼šäºŒåˆ†æ˜¯æœ´ç´ å†™æ³•ï¼Œç»“è®ºä¹Ÿå¾ˆå¥½è¯æ˜ï¼Œè¯æ˜å¦‚ä¸‹ï¼š\né¦–å…ˆæˆ‘ä»¬è¦è¯æ˜ä¸€ä¸ªç‚¹ï¼Œå¯¹äºä½¿ç”¨æ”»å‡»ç‰Œæ˜¯ä¸€ä¸ªå®šå€¼çš„è¯ï¼Œæˆ‘ä»¬çš„æ”»å‡»èŒƒå›´æ˜¯ä¸€ä¸ªåŒºé—´ä¸Šçš„ä»»æ„çš„ä¼¤å®³å€¼ï¼šå½“æˆ‘ä»¬çš„æ”»å‡»ç‰Œä½¿ç”¨æ¬¡æ•°ä¸ºaï¼Œè“é‡ä½¿ç”¨ç‰Œä¸ºbæ—¶ï¼Œå¯¹äºa&lt;=b+1ï¼Œæˆ‘ä»¬çš„æœ€å°æ”»å‡»ä¸€å®šä¸ºæ”»ï¼Œå›å¤ï¼Œæ”»ï¼Œå›å¤â€¦..ç›´åˆ°ç”¨å®Œæ‰€ä»¥æ”»å‡»åè¡¥å…¨å›å¤ã€‚å¯å¾—ç­‰å·®æ•°åˆ—ï¼Œæ±‚å’Œå¯å¾— ã€‚åœ¨æœ€å°æ”»å‡»çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ”»å‡»ç‰Œçš„ä½ç½®å’Œä»–åé¢çš„å›å¤ç‰Œçš„ä½ç½®äº¤æ¢ï¼Œä½¿å¾—ä¼¤å®³+1ã€‚æœ€åå¯å¾—æœ€å¤§ä¼¤å®³ä¸ºï¼šå›å¤ï¼Œå›å¤â€¦..æ”»ï¼Œæ”»ï¼Œæ”»â€¦..æœ€å¤§ï¼Œå¯å¾—ç­‰å·®æ•°åˆ— ,æ±‚å’Œå¯å¾— \nvoid solve() {\n    ll n, m, k, x, q;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    n = min(n, m + 1);\n    for (int i = 0; i &lt; k; i++) {\n        cin &gt;&gt; x;\n        q = sqrt(x);\n        if (q &gt; n) q = n;\n        if (x &lt;= q * (2 * m + q + 1) / 2) puts(\"YES\");\n        else puts(\"NO\");\n    }\n}\nC å°æ²™çš„æ€çƒ\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    ll x,a,b; cin&gt;&gt;x&gt;&gt;a&gt;&gt;b;\n    int ans=0;\n    string s; cin&gt;&gt;s;\n    int len=s.length();\n    rep(i,0,len){\n        if(s[i]=='0') x+=b;\n        else{\n            if(x&gt;=a) {x-=a; ans++;}\n            else x+=b;\n        }\n    }\n    cout&lt;&lt;ans;\n}\n*E å°æ²™çš„é•¿è·¯ (å›¾è®º/æ¬§æ‹‰å›¾)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nâ€‹ é˜¶ç«èµ›å›¾(å¯ä»¥è‡ªå®šä¹‰æ¯æ¡è¾¹çš„æ–¹å‘)ï¼Œæ¯æ¡è¾¹åªèƒ½èµ°ä¸€æ¬¡ï¼Œè¯¢é—®æœ€é•¿è·¯å¾„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼\né¢˜è§£ï¼š\næœ€é•¿è·¯çš„æœ€å°å€¼ï¼šã€‚å¦‚æœå›¾ä¸Šæœ‰ç¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šèƒ½å°½å¯èƒ½å¤šçš„èµ°ç¯ï¼Œè¿™æ ·çš„è¯æˆ‘ä¸€å®šä¼šæ¯”æˆ‘ä¸èµ°ç¯æ›´é•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„é€ çš„å›¾è¦å°½å¯èƒ½çš„æ²¡ç¯ã€‚åœ¨æ²¡ç¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä¼šç»è¿‡æ¯ä¸ªç‚¹å„ä¸€æ¬¡ï¼Œæ‰€ä»¥æ€»é•¿åº¦æ˜¯ \næœ€é•¿è·¯çš„æœ€å¤§å€¼ï¼š ä¸ºå¥‡æ•°ï¼š ;  ä¸ºå¶æ•°ï¼š ã€‚æˆ‘ä»¬è€ƒè™‘å°½å¯èƒ½çš„å°†æ¯ä¸€æ¡è·¯éƒ½èµ°éï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå¯¹ä¸€ä¸ªå®Œå…¨å›¾è¿›è¡Œåˆ è¾¹ï¼Œæˆ‘ä»¬éœ€è¦åˆ å°½å¯èƒ½å°‘çš„è¾¹ï¼Œä»è€Œä½¿ä»–èƒ½å¤Ÿä»å¤´èµ°åˆ°å°¾ï¼Œä¹Ÿå°±æ˜¯æ„é€ å‡ºä¸€ä¸ªæ¬§æ‹‰å›è·¯ã€‚åˆç”±æ¬§æ‹‰å›è·¯çš„å®šä¹‰å¯çŸ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªç‚¹çš„å‡ºå…¥åº¦æ§åˆ¶ä¸ºå¶æ•°å³å¯ç»„æˆæ¬§æ‹‰å›è·¯ï¼Œæ‰€ä»¥å¥‡å¶ç‰¹åˆ¤å³å¯ã€‚ (TIPS: åˆ å»  å³ä¸ºä½¿åŸå›¾ä»…æœ‰ä¸¤ä¸ªå¥‡åº¦é¡¶ç‚¹æ„æˆæ¬§æ‹‰å›¾)\nvoid solve() {\n    ll n; cin&gt;&gt;n;\n    ll mx,mn;\n    mn=n-1;\n    if(n&amp;1) { \n        mx=(n-1)*n/2;   \n    }else{\n        mx=n*(n-1)/2-(n-2)/2;\n    }\n    cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx;\n}\nF å°æ²™çš„ç®—æ•° (æ¨¡æ‹Ÿ/æ¡¶/é€†å…ƒ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™å®šä»…æœ‰+å’ŒÃ—çš„ç®—å¼ï¼Œqæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡å°†ç¬¬xä¸ªç®—æ•°å˜ä¸ºyï¼Œé—®æ¯æ¬¡ä¿®æ”¹ååŸå¼çš„å€¼ä¸ºå¤šå°‘ï¼Ÿç­”æ¡ˆå¯¹1e9+7å–æ¨¡\né¢˜è§£ï¼šç”±äºè¿ç®—æœ‰ä¼˜å…ˆçº§ï¼Œæ¯ä¸ª+åˆ†å¼€å„ä¸ªåŒºé—´ï¼Œæå‰å°†åŒºé—´å†…çš„ä¿¡æ¯æ•´åˆåˆ°æ•°ç»„é‡Œä¿å­˜ï¼Œç„¶åè¿›è¡Œè®¡ç®—å³å¯ï¼Œéœ€è¦ç”¨é€†å…ƒå¤„ç†é™¤æ³•\nint a[maxn], pos[maxn];\nll res[maxn];\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a % mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res % mod;\n        b &gt;&gt;= 1;\n        res = res * res % mod;\n    }\n    return ans % mod;\n}\nll inv(ll x) {\n    return quickpow(x, mod - 2);\n}\nvoid solve(){\n    int n, q;\n    cin &gt;&gt; n &gt;&gt; q;\n    char c;\n    int tmppos = 1;\n    rep(i, 1, n) {\n        cin &gt;&gt; c;\n        if (i == n - 1) {\n            if (c == '+') {\n                pos[i] = tmppos;\n                pos[i + 1] = tmppos + 1;\n            } else {\n                pos[i] = tmppos;\n                pos[i + 1] = tmppos;\n            }\n        } else {\n            if (c == '+') {\n                pos[i] = tmppos;\n                tmppos++;\n            } else {\n                pos[i] = tmppos;\n            }\n        }\n    }\n    ll ans = 0;\n    ll tmp = 1;\n    tmppos = 1;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; a[i];\n        if (pos[i] == tmppos) {\n            tmp = (tmp * (a[i] % mod)) % mod;\n        } else {\n            ans = (ans + tmp) % mod;\n            res[tmppos] = tmp;\n            tmp = a[i] % mod;\n            tmppos++;\n        }\n    }\n    if (tmppos == pos[n]) {\n        ans = (ans + tmp) % mod;\n        res[tmppos] = tmp;\n    }\n    int x, y;\n    rep(i, 0, q) {\n        cin &gt;&gt; x &gt;&gt; y;\n        tmppos = pos[x];\n        ans = (ans - res[tmppos] + mod) % mod;\n        res[tmppos] = (res[tmppos] * inv(a[x] * 1ll) % mod * y) % mod;\n        ans = (ans + res[tmppos]) % mod;\n        a[x] = y;\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n}\nH å°æ²™çš„æ•°æ•° (ä½è¿ç®—)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næœ‰ä¸€ä¸ªaæ•°ç»„ï¼Œæˆ‘ä»¬å·²çŸ¥ä»–çš„é•¿åº¦ä¸ºnï¼Œa[+]çš„å’Œä¸ºmï¼Œè¯·é—®å¦‚æœæˆ‘ä»¬æƒ³è¦a[âŠ•]çš„å€¼æœ€å¤§ï¼Œæ•°ç»„aåœ¨æ»¡è¶³a[+]=mæ—¶æœ‰å¤šå°‘ç§æƒ…å†µï¼Ÿæˆ‘ä»¬å®šä¹‰a[+]æŒ‡a1+a2â€¦.ana_1+a_2â€¦.a_na1+a2â€¦.ançš„å€¼ï¼›a[âŠ•]æŒ‡a1a_1a1âŠ•a2a_2a2âŠ•a3a_3a3â€¦.anâ€¦.a_nâ€¦.ançš„å€¼ï¼Œaæ•°ç»„å…¨éƒ¨ä¸ºéè´Ÿæ•´æ•°\né¢˜è§£ï¼š\nç”±äºåœ¨äºŒè¿›åˆ¶æ‹†ä½æœ€ååŒä½æƒ…å†µä¸‹å¦‚æœå­˜åœ¨ä¸æ­¢ä¸€ä¸ªä¸€ï¼Œé‚£ä¹ˆå¼‚æˆ–ä¹‹åçš„è´¡çŒ®ä¸€å®šå°äºæˆ‘ä»¬çš„è´¹ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯å¯¹äºæ¯ä¸€ä½çš„ä¸ªæ•°è¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ï¼Œè¿™æ ·çš„è¯æ‰èƒ½ä¿è¯a=a[+]ï¼Œéšåæˆ‘ä»¬å‘ç°å¯¹äºæ¯ä¸€ä½æ¥è¯´ï¼Œä»–ä»¬å‡ä¸ç›¸äº’å¹²æ‰°ï¼Œé‚£ä¹ˆä»–ä»¬å¯èƒ½äº§ç”Ÿçš„æƒ…å†µä¾¿éƒ½æ˜¯nç§ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ±‚äºŒè¿›åˆ¶ä¸‹mæœ‰å¤šå°‘ä¸ª1ï¼Œéšåæ±‚n^xæ¬¡æ–¹å³å¯\nint foo(ll x) { //è®¡ç®—äºŒè¿›åˆ¶æœ‰å¤šå°‘ä¸ª1\n    int count = 0;\n    while (x) {\n        count++;\n        x = x &amp; (x - 1);\n    }\n    return count;\n}\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a % mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res % mod;\n        b &gt;&gt;= 1;\n        res = res * res % mod;\n    }\n    return ans % mod;\n}\nvoid solve() {\n    ll n,m; cin&gt;&gt;n&gt;&gt;m;\n    int base=foo(m);\n    ll ans = 0;\n    if(base==1) cout&lt;&lt;n%mod;\n    else cout&lt;&lt;quickpow(n,base)%mod;\n}\nI å°æ²™çš„æ„é€ \n\n\n\n\n\n\n\n\næ„é€ é¢˜ï¼Œè´ªå¿ƒæ„é€ å³å¯\nstring all=\"\\\"!\\'*+-.08:=^_WTYUIOAHXVM|\"; //25\nstring db=\"&lt;&gt;\\\\/[]{}()\"; //10\nchar s[maxn];\nvoid solve() {\n    int n,m; cin&gt;&gt;n&gt;&gt;m;\n    if(m==36 || n&lt;m) {cout&lt;&lt;-1; return;}\n    int have=0;\n    int dbpos=0,allpos=0;\n    bool add=true;\n    rep(i,0,n/2){\n        if(have&lt;m){\n            if(dbpos&lt;10 &amp;&amp; have+2&lt;m){\n                s[i]=db[dbpos];\n                dbpos++;\n                s[n-1-i]=db[dbpos];  \n                dbpos++;\n                have+=2;\n            }else{\n                s[i]=all[allpos];\n                s[n-1-i]=all[allpos];\n                have++;\n                if(have&lt;m) allpos++;\n            }\n        }else{\n            s[i]=all[allpos];\n            s[n-1-i]=all[allpos];\n            add=false;\n        }\n    }\n    if(n&amp;1){\n        s[n/2]=all[allpos];\n        if(add) have++;\n    } \n    if(have&lt;m) {cout&lt;&lt;-1; return;}\n    rep(i,0,n) cout&lt;&lt;s[i];\n}\nK å°æ²™çš„æ­¥ä¼\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    string s;\n    cin&gt;&gt;s;\n    int len=s.length();\n    int a[15];\n    mem(a,0);\n    rep(i,0,len){\n        if(s[i]=='5'){\n            continue;\n        }else{\n            a[5]++;\n            int tmp=int(s[i]-'0');\n            a[tmp]++;\n        }\n    }\n    rep(i,1,10){\n        cout&lt;&lt;a[i]&lt;&lt;\" \";\n    }\n}\n\n\n\n\n\n\n\n\n\nå¾…è¡¥â€¦\n","slug":"nowcoder/2022winter/round2","date":"2022-01-30T13:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,äºŒåˆ†,å›¾è®º,ä½è¿ç®—,nowcoder,é€†å…ƒ","author_index":"Maskros"},{"id":"142ce69226a9e0c02878db8c17a201ec","title":"Codeforces Round 768 (Div.2)","content":"Codeforces Round #768 (Div.2)\n\n\n\n\n\n\n\n\nåº·å¤è®­ç»ƒç¬¬äºŒåœºcf\nA_Min_Max_Swap\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼Œæ¨¡æ‹Ÿ\nint a[200],b[200];\nvoid solve() {\n    int n; cin&gt;&gt;n;\n    rep(i,0,n) cin&gt;&gt;a[i];\n    rep(i,0,n) cin&gt;&gt;b[i];\n    rep(i,0,n){\n        if(a[i]&lt;b[i]) swap(a[i],b[i]);\n    }\n    sort(a,a+n); sort(b,b+n);\n    cout&lt;&lt;a[n-1]*b[n-1]&lt;&lt;endl;\n}\nB_Fun_with_Even_Subarrays\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä¸€ä¸ªåºåˆ—ï¼Œè§„å®šæ“ä½œï¼šé€‰æ‹©èµ·ç‚¹ä¸ºlå°†é•¿ä¸ºkçš„åºåˆ—ç”¨å®ƒç›¸é‚»çš„ä¸‹ä¸€ä¸ªé•¿ä¸ºkçš„åºåˆ—è¦†ç›–ï¼Œé—®æœ€å°‘ç»è¿‡å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿åºåˆ—ä¸­æ‰€æœ‰æ•°ç›¸åŒï¼Ÿ\næ€è·¯ï¼š\nåŒæ ·ç²—ç•¥åœ°æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œä»åºåˆ—å°¾éƒ¨å‘å‰åæ¨å³å¯\nint a[maxn];\nvoid solve() {\n    int n; cin&gt;&gt;n;\n    rep(i,0,n){\n        cin&gt;&gt;a[i];\n    }\n    if(n==1) cout&lt;&lt;0&lt;&lt;endl;\n    else{\n        int sd=a[n-1];\n        int len=1;\n        int ans=0;\n        red(i,n-1,0){\n            if(a[i]==sd){ len++; }\n            else{\n                ans++;\n                i=i-len+1;\n                len*=2;\n            }\n        }\n        cout&lt;&lt;ans&lt;&lt;endl;\n    }\n}\nC_And_Matching\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š , , è¦æ±‚å°†  æ„é€ å‡º  å¯¹ ï¼Œæ»¡è¶³ â€‹\nè§„å®š  æ˜¯ 2 çš„å¹‚ï¼Œ \næ€è·¯ï¼š\nä¸€å¼€å§‹å› ä¸ºè¯»é¢˜æ¼æ‰äº†è§„å®šæ¡ä»¶å¯¼è‡´ä¸€æ—¶æ²¡æ³•åšï¼Œä¸€å®šè¦ä»”ç»†è¯»é¢˜ã€‚\nå¯ä»¥æ‰¾åˆ°è§„å¾‹ï¼šåºåˆ—é¦–å°¾ä¾æ¬¡åšANDæ“ä½œä¸€å®šä¸º0ï¼Œä¸å¦¨å°†  ä¸  ç›¸ä¸ï¼Œå› ä¸º  å¿…å®šæ‰€æœ‰ä½éƒ½ä¸º1ï¼Œæ‰€ä»¥ä¸å€¼ä¸º ã€‚ç„¶åå†é¦–å°¾ä¾æ¬¡ç›¸ä¸ï¼ŒåŸæœ¬ç†åº”ä¸  ç›¸ä¸çš„æ•°ä½¿å®ƒä¸0ç›¸ä¸å³å¯ã€‚ç‰¹åˆ«çš„ï¼Œå½“ æ—¶ï¼Œç‰¹æ®Šè€ƒè™‘ä¸€ç§ç»„åˆæ–¹æ³•å³å¯ã€‚\nvoid solve() {\n    ll n,k; cin&gt;&gt;n&gt;&gt;k;\n    if(n==4&amp;&amp;k==3) cout&lt;&lt;-1&lt;&lt;endl;\n    eif(n-1==k){\n        cout&lt;&lt;n-2&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl;\n        cout&lt;&lt;1&lt;&lt;\" \"&lt;&lt;n-3&lt;&lt;endl;\n        cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;2&lt;&lt;endl;\n        rep(i,3,n/2){\n            if (i == n - 2 || i == n - 1 || i == n - 3 || n - i - 1 == n - 1 || n - i - 1 == n - 2 || n - i - 1 == n - 3)\n                continue;\n            else cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n        }\n    }\n    else{\n        cout&lt;&lt;k&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl;\n        rep(i,1,n/2){\n            if(k!=i &amp;&amp; k!=n-i-1){\n                cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n            }else{\n                if(k==i){\n                    cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n                }else{\n                    cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;i&lt;&lt;endl;\n                }\n            }\n        }\n    }\n}\nD_Range_and_Partition\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šä¸€ä¸ªé•¿ä¸º  çš„åºåˆ—  ï¼Œæ‰¾åˆ°ä¸€ç³»åˆ—åŒºé—´  (x&lt;=y)ï¼Œå°†åºåˆ—  åˆ†ä¸º  ä¸ªå­åºåˆ—ï¼Œè¦æ±‚æ¯ä¸ªåºåˆ—ä¸­åœ¨åŒºé—´  çš„æ•°ä¸¥æ ¼å¤§äºåœ¨åŒºé—´å¤–çš„æ•°ï¼Œè¦æ±‚æœ€å°åŒ– \nè§„å®š k&lt;=n&lt;=2e5\næ€è·¯ï¼š\nç”±é¢˜å¯çŸ¥ï¼Œ æ®µä¸­æ¯ä¸€æ®µåœ¨åŒºé—´çš„æ•°çš„æ•°é‡è‡³å°‘æ¯”ä¸åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡å¤š1, å¹¶ä¸”åªè¦æ•´ä¸ªæ•°ç»„æ»¡è¶³æ•´ä¸ªæ¡ä»¶é‚£ä¹ˆä¸€å®šå­˜åœ¨å°†æ•°ç»„åˆ†æˆkæ®µä»ç„¶æ»¡è¶³çš„æ–¹æ³•ã€‚åˆ¤æ–­æ¡ä»¶ï¼šè®¾æ•´ä¸ªæ•°ç»„ä¸­åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡ä¸º numï¼Œä¸åœ¨åŒºé—´å†…çš„ä¸ºn-numã€‚åªè¦num-(n-num)&gt;=kå³æ»¡è¶³æ¡ä»¶ã€‚äºæ˜¯æˆ‘ä»¬æšä¸¾åŒºé—´çš„å·¦è¾¹ç•Œï¼ŒäºŒåˆ†æ±‚è§£æ»¡è¶³æ¡ä»¶çš„æœ€å°å³è¾¹ç•Œå³å¯ã€‚\n\n\n\n\n\n\nTIP\nå½“å‘ç° ã€æœ€å°åŒ–å·®å€¼å¯¹è±¡ã€æ•°æ®èŒƒå›´ä¸º2e5æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè€ƒè™‘ï¼š\nï¼ˆ1ï¼‰å°ºå–æ³•(åŒæŒ‡é’ˆ) ï¼ˆ2ï¼‰ç»“è®ºé¢˜ ï¼ˆ3ï¼‰æšä¸¾ä¸€ç«¯ï¼Œå¦ä¸€ç«¯ log/O(1) å¤æ‚åº¦\n\n\n#define maxn 200005\nusing namespace std;\nint n,k,a[maxn];\nint vis[maxn];\nvoid solve() {\n    cin&gt;&gt;n&gt;&gt;k;\n    mem(vis,0);\n    rep(i,1,n+1){\n        cin&gt;&gt;a[i]; \n        vis[a[i]]++; //è®¡æ•°\n    }\n    rep(i,1,n+1) vis[i]+=vis[i-1]; //å‰ç¼€å’Œç»Ÿè®¡åŒºé—´è®¡æ•°\n    int x=1,y=n;\n    rep(i,1,n+1){   //æšä¸¾åŒºé—´å·¦è¾¹ç•Œ\n        int l=i, r=n;\n        int num=vis[r]-vis[l-1];\n        if(num-(n-num)&lt;k) break; // ä¸å­˜åœ¨ä»¥iä¸ºå·¦è¾¹ç•Œçš„åˆæ³•åŒºé—´\n        while(l&lt;=r){\n            int mid=(l+r)&gt;&gt;1;\n            num=vis[mid]-vis[i-1]; //åŒºé—´èŒƒå›´å†…çš„æ•°\n            if(num-(n-num)&gt;=k) r=mid-1;\n            else l=mid+1;\n        }\n        if(l-i&lt;y-x){ x=i; y=l;}\n    }\n    cout&lt;&lt;x&lt;&lt;\" \"&lt;&lt;y&lt;&lt;endl;\n    for(int l=1,r=1; l&lt;=n; l=r+1,r=l,k--){\n        if(k==1){\n            cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;n&lt;&lt;endl;\n            break;\n        }else{\n            int cnt1=0, cnt2=0;\n            while(1){\n                if(a[r]&gt;=x &amp;&amp; a[r]&lt;=y) cnt1++;\n                else cnt2++;\n                if(cnt1&lt;=cnt2) r++;\n                else break;\n            }\n            cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;r&lt;&lt;endl;\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\nåæ€ï¼šä¸€åœºä¸å¦‚ä¸€åœºï¼Œå¯„\n","slug":"codeforces/cf 768","date":"2022-01-29T10:30:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,äºŒåˆ†,codeforces,æ„é€ ","author_index":"Maskros"},{"id":"4d57a46c5dece510b3e0ea6a4904b3f9","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1\n\n\n\n\n\n\n\n\nAC  9 / 12\n*A ä¹å°æ—¶ä¹ä¸ªäººä¹æ‰‡é—¨ (dp (0/1èƒŒåŒ…))\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šn ä¸ªäººï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªæ•°å­— a[i]ï¼Œå¯ä»¥éšæ„ç»„åˆï¼Œç»„åˆèµ·æ¥ä¸ºæ•°å­—çš„åŠ å’Œã€‚ä¸€å…±1~9å·é—¨ ï¼Œå¦‚æœç»„åˆåçš„æ•°å­—æ ¹ç­‰äºé—¨çš„åºå·ï¼Œå³å¯æ‰“å¼€ã€‚é—®åˆ†åˆ«æœ‰å¤šå°‘ç§äººç‰©ç»„åˆå¯ä»¥æ‰“å¼€å¯¹åº”çš„é—¨ã€‚æ•°å­—æ ¹ï¼šå°†è¯¥æ•°å­—å„æ•°ä½ä¸Šçš„æ•°å­—ç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ï¼Œç›´åˆ°å¾—åˆ°çš„æ•°å­—å°äº10ä¸ºæ­¢ã€‚\næœ‰ç”¨çš„ç»“è®ºï¼šä¸€ä¸ªæ•°çš„æ•°å­—æ ¹ç­‰äºè¿™ä¸ªæ•°å¯¹9å–æ¨¡çš„ç»“æœ(å¾—0æ—¶æ•°å­—æ ¹ä¸º9)\næ€è·¯ï¼š\nç»å…¸0/1èƒŒåŒ…å˜å½¢çš„DPé—®é¢˜ï¼Œdp[i][j]è¡¨ç¤ºè€ƒè™‘äº†å‰ i ä¸ªæ•°ï¼Œé€‰æ‹©äº†ä¸€äº›æ•°å­—ä½¿å¾—æ±‚å’Œå¯¹9å–æ¨¡å¾— jçš„æ–¹æ¡ˆæ•°ï¼Œè½¬ç§»ç±»ä¼¼0/1èƒŒåŒ…çš„è½¬ç§»\n// æ•°å­—æ ¹ = æœ¬èº« mod 9\nint a[maxn];\nint dp[maxn][15];\nvoid solve(){\n    int n; cin&gt;&gt;n;\n    int t;\n    rep(i,1,n+1){\n        cin&gt;&gt;t;\n        a[i]=t%9;\n    }\n    dp[1][a[1]]=1;\n    rep(i,2,n+1){\n        rep(j,0,9){\n            int k=(j+a[i])%9;\n            dp[i][k]=(dp[i-1][k]%mod+dp[i-1][j]%mod)%mod;\n        }\n        dp[i][a[i]]++;\n    }\n    rep(i,1,10){\n        if(i==9) cout&lt;&lt;dp[n][0];\n        else cout&lt;&lt;dp[n][i]&lt;&lt;\" \";\n    }\n}\nC Babyâ€™s first attempt on CPU\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šè®¡ç»„å­¦è¿‡çš„æµæ°´çº¿CPUï¼Œè§£å†³å…ˆå†™åè¯»ç›¸å…³é—®é¢˜éœ€è¦ä¸­é—´æ’å…¥ç©ºè¯­å¥ï¼Œå…±nä¸ªè¯­å¥ï¼Œæ¯ä¸ªè¯­å¥ä¸‰ä¸ªæ•°å­—è¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥æ˜¯å¦å­˜åœ¨å…ˆå†™åè¯»ç›¸å…³ï¼Œæ€»å…±éœ€è¦æ’å…¥å¤šå°‘ç©ºè¯­å¥\né¢˜è§£ï¼šæ°´é¢˜ï¼Œå½“æ—¶ä¸ºäº†æ—¶é—´ä¹±jbå†™çš„ï¼Œæ— å‚è€ƒä»·å€¼ï¼›ç»´æŠ¤ä¸‰ä¸ªdisè¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥çš„é—´éš”æ¡æ•°ï¼Œåˆ†ç±»åˆ¤æ–­å³å¯ã€‚\nvoid solve() {\n    int x1,x2,x3;\n    int n; scanf(\"%d\", &amp;n);\n    int ans=0;\n    int dis1=0,dis2=1,dis3=2;\n    rep(i,0,n){\n        scanf(\"%d%d%d\",&amp;x1,&amp;x2,&amp;x3);\n        if(x1==1) {ans+=3; dis2=4; dis3=5;}\n        eif(x2==1) {\n            if(dis2&gt;=3){dis3=dis2+1; dis2=dis1+1; dis1=0; } \n            else {\n                ans+=(3-dis2); dis2=4-dis2; dis3=3;\n            }\n        }eif(x3==1){\n            if(dis3&gt;=3) {dis3=dis2+1; dis2=dis1+1; dis1=0;}\n            else{\n                ans+=(3-dis3); dis2=4-dis3; dis3=4;\n            }\n        }else{\n            dis3=dis2+1; dis2=dis1+1; dis1=0;\n        }\n    }\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nD ç‰›ç‰›åšæ•°è®º (æ¬§æ‹‰å‡½æ•°)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå®šä¹‰å¯¹äºæ­£æ•´æ•° ,   ï¼Œç»™å®šä¸€ä¸ªæ•´æ•° ï¼Œåˆ†åˆ«æ±‚  ä½¿å¾—  åˆ†åˆ«å–æœ€å¤§å€¼å’Œæœ€å°å€¼\né¢˜è§£ï¼š\nâ‘  æ ¹æ®æ¬§æ‹‰å‡½æ•°çš„æ€§è´¨ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœ  ä¸ºè´¨æ•°ï¼Œåˆ™  ï¼Œæ­¤æ—¶ â€‹ å³å–æœ€å¤§å€¼ï¼›\nâ‘¡ æ¬§æ‹‰å‡½æ•°å¯ä»¥æ ¹æ®è´¨å› æ•°åˆ†è§£æ±‚å¾—ï¼š , å›çœ‹ ï¼Œå‘ç°å¯ä»¥çº¦æ‰ ï¼Œæ•…å¯çŸ¥æ˜¯ç”±è´¨æ•°ä¾æ¬¡ç›¸ä¹˜ä¸€å®šæ˜¯æœ€å°å€¼:  ï¼Œæ•…å¯ç­›å‡ºè´¨æ•°åéå†è´¨æ•°è¡¨å³å¯ã€‚\nconst int MAXN = 10000;\nint prime[MAXN + 1];\nvoid getPrime() {\n    memset(prime, 0, sizeof(prime));\n    for (int i = 2; i &lt;= MAXN; i++) {\n        if (!prime[i])\n            prime[++prime[0]] = i;\n        for (int j = 1; j &lt;= prime[0] &amp;&amp; prime[j] &lt;= MAXN / i; j++) {\n            prime[prime[j] * i] = 1;\n            if (i % prime[j] == 0)\n                break;\n        }\n    }\n}\nbool isPrime(int num) {\n    if (num == 2 || num == 3) {\n        return true;\n    }\n    if (num % 6 != 1 &amp;&amp; num % 6 != 5) {\n        return false;\n    }\n    for (int i = 5; i * i &lt;= num; i += 6) {\n        if (num % i == 0 || num % (i + 2) == 0) {\n            return false;\n        }\n    }\n    return true;\n}\nvoid solve() {\n    int n;\n    cin&gt;&gt;n;\n    if(n==1) {cout&lt;&lt;-1&lt;&lt;endl; return;}\n    int mx,mn=2;\n    red(i,n+1,2){\n        if(isPrime(i)) {mx=i; break;}\n    }\n    ll tmp=1;\n    rep(i,1,1000){\n        tmp*=prime[i];\n        if(tmp&lt;=n) mn=tmp;\n        else break;\n    }\n    cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx&lt;&lt;endl;\n}\nE ç‚¸é¸¡å—å›çš„é«˜ä¸­å›å¿†\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int m,n; cin&gt;&gt;n&gt;&gt;m;\n    if(m==1){\n        if(n==1) cout&lt;&lt;1&lt;&lt;endl;\n        else cout&lt;&lt;-1&lt;&lt;endl;\n        return;\n    }\n    int ans;\n    n-=m;\n    int tmp=n%(m-1);\n    ans=n/(m-1)*2;\n    if(tmp!=0) ans+=3;\n    else ans++;\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nF ä¸­ä½æ•°åˆ‡åˆ†\n\n\n\n\n\n\n\n\nç»“è®ºé¢˜ï¼šå¦‚æœä¸­ä½æ•°å¤§äº ï¼Œåˆ™è¯¥åˆ—ä¸­çš„å¤§äº  çš„æ•°çš„ä¸ªæ•°ä¸€å®šè¶…è¿‡ä¸€åŠï¼Œåˆ’åˆ†æ®µæ•°ç›´æ¥ç­‰äº å¤§äºmçš„ä¸ªæ•° - å°äºmçš„ä¸ªæ•°ï¼Œéšä¾¿æ¨æ¨å°±çŸ¥é“äº†ã€‚\nvoid solve() {\n    int n,m; scanf(\"%d%d\",&amp;n, &amp;m);\n    int bg=0,sm=0;\n    int t;\n    rep(i,0,n){\n        scanf(\"%d\", &amp;t);\n        if(t&gt;=m) bg++;\n        else sm++;\n    } \n    if(bg&lt;=n/2) cout&lt;&lt;-1&lt;&lt;endl;\n    else cout&lt;&lt;bg-sm&lt;&lt;endl;\n}\nH ç‰›ç‰›çœ‹äº‘\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªåºåˆ— , è®¡ç®— ï¼Œæ•°æ®èŒƒå›´ n&lt;1e6, 0&lt;=ai&lt;=1000\né¢˜è§£ï¼šæ³¨æ„åˆ° n&lt;=1e6 ä¸” a[i]&lt;=1000ï¼ŒçŸ¥é“a[i]èŒƒå›´å¾ˆå°ï¼Œæ‰€ä»¥æé™æ•°æ®ä¸‹ä¼šæœ‰å¤§é‡é‡å¤å€¼å‡ºç°ï¼Œæ•…å¯ä»¥ç”¨ cnt[i] è¡¨ç¤º i å‡ºç°çš„æ¬¡æ•°ï¼Œæšä¸¾(i,j)å¯¹(å…±1e6ç§)ï¼šä¸åŒæƒ…å†µç›´æ¥ç›¸ä¹˜ï¼Œç‰¹æ®Šå¤„ç†ç›¸åŒæƒ…å†µ\nvector&lt;int&gt; v[maxn];\nvoid solve() {\n    int n;\n    cin &gt;&gt; n;\n    ll ans = 0;\n    rep(i, 0, n) {\n        int x;\n        cin &gt;&gt; x;\n        v[x].pb(i);\n    }\n    rep(i, 0, 1001) {\n        rep(j, i, 1001) {\n            ll x = v[i].size();\n            ll y = v[j].size();\n            if (i == j) {\n                ans += x * (x + 1) / 2 * abs(i + j - 1000);\n            } else\n                ans += x * y * abs(i + j - 1000);\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n*I Bç«™ä¸å„å”±å„çš„ (æ¦‚ç‡/é€†å…ƒ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šnä¸ªäººå”±må¥ï¼Œæ¯ä¸ªäººå¯¹æ¯ä¸€å¥éƒ½å¯ä»¥é€‰æ‹©å”±æˆ–ä¸å”±ï¼Œnä¸ªäººã€må¥ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œå¦‚æœæŸä¸€å¥æ²¡äººå”±æˆ–è€…æ‰€æœ‰äººéƒ½å”±äº†åˆ™å¤±è´¥ï¼Œå¦åˆ™æˆåŠŸï¼Œæ±‚å”±æˆåŠŸå¥å­æ•°é‡çš„æœŸæœ›å€¼ã€‚å¯¹1e9+7å–æ¨¡ã€‚\né¢˜è§£ï¼šâ€‹\nç”±äºå¥å­é—´ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™æœ€ç»ˆæœŸæœ›ä¸ºä¸€å¥è¯çš„æœŸæœ›ä¹˜ ï¼›æ¯ä¸ªäººå”±ç¬¬æ¯å¥çš„å”¯ä¸€ç­–ç•¥å°±æ˜¯ä»¥  çš„æ¦‚ç‡å†³å®šå”±ä¸ä¸å”±ï¼Œæ‰€ä»¥å¤±è´¥çš„æ¦‚ç‡å°±ä¸º  ï¼ˆéƒ½å”±+éƒ½ä¸å”±ï¼‰\nå½“  æ—¶ï¼Œä¸Šå¼å–æœ€å°å€¼ï¼Œæ•…å¤±è´¥çš„æ¦‚ç‡ä¸º  , æ•…æ˜“çŸ¥æˆåŠŸçš„æ¦‚ç‡\næ³¨æ„æ±‚é€†å…ƒ, æ¨å¼å­è¾“å‡ºé€†å…ƒçš„é¢˜æ¯”è¾ƒå¸¸è§ã€‚\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a%mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res%mod;\n        b &gt;&gt;= 1;\n        res = res * res%mod;\n    }\n    return ans%mod;\n}\nvoid solve() {\n    int n,m; cin&gt;&gt;n&gt;&gt;m;\n    ll a = (quickpow(2,n-1)-1+mod)%mod;\n    a=a*m%mod;\n    ll b = quickpow(2,n-1);\n    ll ans = a*quickpow(b,mod-2)%mod;\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nJ å°æœ‹å‹åšæ¸¸æˆ\n\n\n\n\n\n\n\n\næ°´é¢˜\nint a[maxn],b[maxn];\nint ans = 0;\nint posa,posb;\nvoid goA(){\n    ans+=a[posa];\n    posa++;\n}\nvoid goB(){\n    ans+=b[posb];\n    posb++;\n}\nvoid solve() {\n    int A,B,n; cin&gt;&gt;A&gt;&gt;B&gt;&gt;n;\n    rep(i,0,A) cin&gt;&gt;a[i];\n    rep(i,0,B) cin&gt;&gt;b[i]; \n    sort(a,a+A,greater&lt;int&gt;() );\n    sort(b,b+B,greater&lt;int&gt;() );\n    ans = 0;\n    if(n&gt;2*A) cout&lt;&lt;-1&lt;&lt;endl;\n    else{\n        posa=0,posb=0;\n        if(n&amp;1){\n            rep(i,0,(n+1)/2) ans+=a[i]; posa=(n+1)/2;\n        }else{\n            rep(i,0,n/2) ans+=a[i]; posa=n/2;\n        }\n        bool AA=true,BB=true;\n        if(posa==A) AA=false;\n        if(posb==B) BB=false;\n        rep(j,posa,n){\n            if(AA&amp;&amp;BB){\n                if (a[posa] &gt;= b[posb]) {\n                    goA();\n                }else goB();\n                if(posa==A) AA=false;\n                if(posb==B) BB=false;\n            }eif(AA){\n                goA();\n            }eif(BB) goB();\n        }\n        cout&lt;&lt;ans&lt;&lt;endl;\n    }\n}\n*K å†’é™©å…¬ç¤¾(dp)\n\n\n\n\n\n\n\n\nå¾…è¡¥ unsolved\nL ç‰›ç‰›å­¦èµ°è·¯\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int n;\n    cin&gt;&gt;n;    \n    char c;\n    double mx=0;\n    double tmp;\n    int x=0,y=0;\n    rep(i,0,n){\n        cin&gt;&gt;c;\n        if(c=='L') x-=1;\n        eif(c=='R') x+=1;\n        eif(c=='U') y+=1;\n        else y-=1;\n        tmp=sqrt(fabs(x*x)+fabs(y*y));\n        mx=max(mx,tmp);\n    }\n    printf(\"%.7lf\\n\",mx);\n}\n","slug":"nowcoder/2022winter/round1","date":"2022-01-25T15:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,æ•°å­¦,dp,nowcoder,euler,é€†å…ƒ","author_index":"Maskros"},{"id":"e01b09fa443fa76e0e60ac67459e983b","title":"Codeforces Round 767 (Div.2)","content":"Codeforces Round #767 (Div.2)\n\n\n\n\n\n\n\n\nè’åºŸäº†æœŸæœ«è€ƒè¯•æœˆçš„åº·å¤è®­ç»ƒç¬¬ä¸€åœº\nA_Download More RAM\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼Œæ’åºå³å¯\npair&lt;int,int> pr[105];\nbool cmp(pair&lt;int,int> a, pair&lt;int,int> b)&#123;\n    return a.fst&lt;b.fst;\n&#125;\nvoid solve() &#123;\n    int n,k; cin>>n>>k;\n    rep(i,0,n)&#123;\n        cin>>pr[i].fst;\n    &#125;\n    rep(i, 0, n) &#123;\n        cin >> pr[i].sec;\n    &#125;\n    sort(pr,pr+n,cmp);\n    ll tmp=k;\n    rep(i,0,n)&#123;\n        if(tmp>=pr[i].fst) tmp+=pr[i].sec;\n        else break;\n    &#125;\n    cout&lt;&lt;tmp&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nB_GCD Arrays\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå¯¹ä¸€ä¸ª [l,r] åŒºé—´é‡Œçš„æ•°ï¼Œæœ€å¤šæ“ä½œkæ¬¡ï¼Œæ¯æ¬¡å–ä¸¤ä¸ªæ•°ï¼Œå°†ä»–ä»¬çš„ä¹˜ç§¯æ›¿ä»£å…¶ä¸­ä¸€ä¸ªæ•°æ”¾å…¥åºåˆ—ä¸­ï¼Œé—®èƒ½ä¸èƒ½ä½¿åºåˆ—çš„GCDä¸ä¸º1ï¼Œèƒ½å³YESï¼Œä¸èƒ½å³NO\næ€è·¯ï¼š\nç²—ç•¥çš„æƒ³äº†ä¸€ä¸‹ï¼Œä¹˜ç§¯ä¹‹åè‚¯å®šåŒ…å«ä¸¤ä¸ªåŸæ•°ä½œä¸ºå› å­ï¼Œæ²¡å•¥åŒºåˆ«ï¼Œè€ƒè™‘è¿ç»­åŒºé—´ã€å¥‡å¶æ€§åï¼ŒçŒœæµ‹ç»“è®ºï¼šæ¯æ¬¡æ“ä½œä½¿å¥‡æ•°*å¶æ•°=å¶æ•°ï¼Œå°†ä¹˜ç§¯ä»£æ›¿å¥‡æ•°ï¼Œè‡³å¤škæ¬¡æ“ä½œèƒ½å¦ä½¿å¾—åºåˆ—å…¨å˜ä¸ºå¶æ•°(GCD=2)ï¼Œæ³¨æ„ç‰¹åˆ¤\nå†™çš„æ¯”è¾ƒä»“ä¿ƒï¼Œæ‰€ä»¥æ¯”è¾ƒä¸‘ï¼Œå¯ä»¥ç®€åŒ–= =\nvoid solve() &#123;\n    int l,r,k; cin>>l>>r>>k;\n    int ou=0,ji=0;\n    if((r-l+1)&amp;1)&#123;\n        if(l&amp;1)&#123;\n            ji++;\n        &#125;else ou++;\n        ji+=(r-l)>>1;\n        ou+=(r-l)>>1;\n    &#125;else&#123;\n        ou=(r-l+1)>>1; ji=ou;\n    &#125;\n    if(ou==0)&#123;\n        if(l!=1) cout&lt;&lt;\"YES\"&lt;&lt;endl;\n        else cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;else&#123;\n        if(ji&lt;=k) cout&lt;&lt;\"YES\"&lt;&lt;endl;\n        else cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nC_Meximum ArrayMexï¼šä¸€ä¸ªåºåˆ—ä¸­ä¸å­˜åœ¨çš„æœ€å°çš„éè´Ÿæ•´æ•°\n\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„åºåˆ—aï¼Œæ¯æ¬¡ä»aæ•°ç»„çš„é¦–åœ°å€å¼€å§‹é€‰å–ä¸€æ®µï¼Œæ±‚mexåå°†å€¼å­˜å…¥bï¼Œéšååœ¨aä¸­åˆ å»è¯¥æ®µã€‚é—®æœ€ç»ˆæ±‚å¾—çš„å­—å…¸åºæœ€å¤§çš„båºåˆ—æ˜¯ä»€ä¹ˆæ ·å­çš„\næ€è·¯ï¼š\næ¨¡æ‹Ÿï¼ˆé˜Ÿå‹ç”¨ä¸»å¸­æ ‘è‰¹è¿‡äº†xDï¼‰ä¸€ä¸ªmap&lt;int,int&gt; mè¡¨ç¤ºa[i]å‡ºç°çš„æ¬¡æ•°ï¼Œæ¯æ¬¡æ±‚æœ€å¤§mexçš„æ—¶å€™å³åˆ©ç”¨è¯¥mapï¼Œåˆ é™¤åºåˆ—å³å¯¹mapè¿›è¡Œæ“ä½œå³å¯ï¼›set&lt;int&gt; Sè¡¨ç¤ºä»åºåˆ—å¼€å§‹æ‰€æœ‰å°äºmexçš„æ•°ï¼Œå¦‚æœ S.size()&lt;=mexï¼Œç»§ç»­æ‹“å±•åºåˆ—çš„é•¿åº¦å°±ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæ•…è¯¥ä½ç½®å³ä½œä¸ºé€‰å–åºåˆ—çš„ç»“å°¾\nå¡äº†å¾ˆä¹…ï¼Œåˆšå¼€å§‹æƒ³äº†ä¸ªn2æ¨¡æ‹Ÿï¼Œç»“æœTäº†ï¼Œæ¯”è¾ƒå‚»é€¼ï¼Œåæ¥ä¼˜åŒ–ä¸€ä¸‹å°±è¿‡äº†\nint a[maxn];\nmap&lt;int, int> m;\nint check(int start) &#123;\n    rep(i, start, maxn) &#123;\n        if (m[i] == 0) &#123;\n            return i;\n        &#125;\n    &#125;\n    return 0;\n&#125;\nvector&lt;int> b;\nset&lt;int> S;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    int mex = 0;\n    m.clear();\n    b.clear();\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n        m[a[i]]++;\n        if (m[mex] > 0) &#123;\n            mex = check(mex);\n        &#125;\n    &#125;\n    S.clear();\n    rep(i, 0, n) &#123;\n        if (a[i] &lt; mex)\n            S.insert(a[i]);\n        m[a[i]]--;\n        if (S.size() >= mex) &#123;\n            b.pb(mex);\n            mex = check(0);\n            S.clear();\n        &#125;\n    &#125;\n    cout &lt;&lt; b.size() &lt;&lt; endl;\n    rep(i, 0, b.size()) cout &lt;&lt; b[i] &lt;&lt; \" \";\n    cout &lt;&lt; endl;\n&#125;\nint main() &#123;\n    IOS;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_Peculiar Movie Preferences\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½ ä¸€å †é•¿&lt;=3çš„å­—ç¬¦ä¸²ï¼Œé—®èƒ½ä¸èƒ½é€šè¿‡åˆ æ‰ä»»æ„ä¸ªæ•°çš„å­—ç¬¦ä¸²ï¼Œå‰©ä¸‹çš„å­—ç¬¦ä¸²æŒ‰é¡ºåºæ‹¼æ¥èµ·æ¥ä¸ºå›æ–‡ä¸²\næ€è·¯ï¼š\næ²™æ¯”é¢˜ï¼Œå›æ–‡ä¸²é¦–å°¾å¿…å®šä¸€æ ·ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥çš„è¯æœ€å¤šæ‰¾ä¸¤ä¸ªä¸²å³å¯ç»„æˆå›æ–‡ä¸²ï¼Œæ€»é•¿åº¦&lt;=6ã€‚é¦–å…ˆç‰¹åˆ¤å•ä¸ªä¸²ï¼Œå¦‚æœå•ä¸ªå›æ–‡å³ä¸ºYESï¼›å†è€…åˆ†åˆ«è€ƒè™‘ 2+2/3+3, 2+3/3+2 çš„æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åé¢é‚£ä¸€ç§ï¼Œè¿™é‡Œé€šè¿‡mapä¼˜åŒ–ï¼Œå¯¹å­—ç¬¦ä¸²åšreverseå¤„ç†ï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µåˆ¤æ–­å³å¯ TuT\nmap&lt;string,int> mp1,mp2;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    bool can = 0;\n    string s,ss;\n    mp1.clear(); mp2.clear();\n    rep(i, 0, n) &#123;\n        cin >> s;\n        if(!can)&#123;\n            ss = s;\n            reverse(ss.begin(), ss.end());\n            if (s.size() == 1) can = 1;\n            eif(s[0] == s[s.size() - 1]) can = 1;\n            else&#123;\n                if(mp1[ss]==1 || mp2[ss]==1) can=1;\n                eif(s.size()==3)&#123;\n                    ss.erase(ss.end()-1, ss.end());\n                    if (mp1[ss]) can = 1;\n                &#125;\n                mp1[s]=1;\n                if(s.size()==3)&#123;\n                    s.erase(s.end()-1, s.end());\n                    mp2[s]=1;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n    if (can) cout &lt;&lt; \"YES\" &lt;&lt; endl;\n    else cout &lt;&lt; \"NO\" &lt;&lt; endl;\n&#125;\nint main() &#123;\n    int T;\n    IOS;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nE_Grid Xor\n\n\n\n\n\n\n\n\næš‚æ—¶é¸½äº†ï¼Œå‡ºå»è¿åŠ¨å®Œå›æ¥è¡¥\næ„é€ é¢˜\nåæ€ï¼šå¥½ä¹…ä¸æ‰“ç¡®å®æ‰‹ç”Ÿ+è„‘æ®‹ï¼Œå¯’å‡å†æ¥å†å‰âœŠ\n","slug":"codeforces/cf 767","date":"2022-01-23T05:15:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,codeforces","author_index":"Maskros"},{"id":"9c59719004482610a68ff40b9f6386dd","title":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘","content":"åˆ©ç”¨WeRoBotæ¡†æ¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘\n\n\n\n\n\n\n\n\nå¯„ç½‘å°å®éªŒï¼Œå®ç°èµ·æ¥ä¸éš¾ï¼Œè®°å½•ä¸€ä¸‹ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼ŒåŒ…æ‹¬ä¸€äº›å¯¹Tokençš„ç†è§£\nå‡†å¤‡å¾®ä¿¡å…¬ä¼—å·ã€äº‘æœåŠ¡å™¨ã€Xftp&amp;Xshell (Replaceable)ã€WeRoBot 1.13.1\næ€»ä½“æµç¨‹step1 : æ³¨å†Œå¾®ä¿¡å…¬ä¼—å·\nstep2 : é€šè¿‡éªŒè¯Tokenå°†å…¬ä¼—å·ä¸æœåŠ¡å™¨ç»‘å®š\nstep3 : åœ¨æœåŠ¡å™¨ä»£ç é‡ŒåŠ å…¥å…¬ä¼—å·å®ç°çš„åŠŸèƒ½\nå…³äºWeRoBot\n\n\n\n\n\n\n\n\nWeRoBotå®˜æ–¹æ–‡æ¡£: link\nWeRoBot æ˜¯ä¸€ä¸ªåŸºäºPythonçš„å¾®ä¿¡æœºå™¨äººæ¡†æ¶ï¼Œé‡‡ç”¨MITåè®®å‘å¸ƒã€‚å¯ä»¥å°†å¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯è¿›è¡Œè§£æå’Œè½¬æ¢ï¼Œä½¿ç”¨ Session è®°å½•ç”¨æˆ·çŠ¶æ€ï¼ŒåŒ…æ‹¬å¼€å‘è‡ªå®šä¹‰èœå•ç­‰åŠŸèƒ½ï¼Œå¯¹åˆå­¦è€…æ¥è®²ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚WeRoBot å¯ä»¥ä½œä¸ºç‹¬ç«‹æœåŠ¡è¿è¡Œï¼Œä¹Ÿå¯ä»¥é›†æˆåœ¨å…¶ä»– Web æ¡†æ¶ä¸­ä¸€åŒè¿è¡Œã€‚ä»¥ä¸‹ç®€å•ä¸¾ä¾‹ï¼š\n0x01 Hello World# ç»™æ”¶åˆ°çš„æ¯ä¸€æ¡ä¿¡æ¯å›å¤ Hello World\nimport werobot\n\nrobot = werobot.WeRoBot(token='tokenhere')\n\n@robot.handler\ndef hello(message):\n    return 'Hello World!'\n\n# è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80\nrobot.config['HOST'] = '0.0.0.0'\nrobot.config['PORT'] = 80\nrobot.run()\n0x02 æ¶ˆæ¯å¤„ç†\n\n\n\n\n\n\n\n\nWeRoBot ä¼šè§£æå¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯ï¼Œ å¹¶å°†æ¶ˆæ¯è½¬æ¢æˆæˆ Message æˆ–è€…æ˜¯ Event ã€‚ Message è¡¨ç¤ºç”¨æˆ·å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æ–‡æœ¬æ¶ˆæ¯ã€å›¾ç‰‡æ¶ˆæ¯ï¼› Event åˆ™è¡¨ç¤ºç”¨æˆ·è§¦å‘çš„äº‹ä»¶ï¼Œ å¦‚å…³æ³¨äº‹ä»¶ã€æ‰«æäºŒç»´ç äº‹ä»¶ã€‚ åœ¨æ¶ˆæ¯è§£æã€è½¬æ¢å®Œæˆåï¼Œ WeRoBot ä¼šå°†æ¶ˆæ¯è½¬äº¤ç»™ Handler è¿›è¡Œå¤„ç†ï¼Œå¹¶å°† Handler çš„è¿”å›å€¼è¿”å›ç»™å¾®ä¿¡æœåŠ¡å™¨\n@robot.handler #robot ä¼šå°†æ‰€æœ‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬äº¤ç»™è¿™ä¸ª Handler æ¥å¤„ç†\n@robot.text  # @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯\n@robot.image  # @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯\n@robot.subscribe # ç”¨æˆ·å…³æ³¨åæ‰§è¡Œè¯¥æ“ä½œ\n0x03 demo\n\n\n\n\n\n\n\n\nå®éªŒè¯¾åŸå‘³ğŸ´, ç®€å•å®Œæˆäº†æ¶ˆæ¯å¤„ç†ï¼Œè°ƒäº†ä¸ªæ¥å£ï¼Œè°ƒäº†ä¸ªç‹—å±ä¸é€šæ–‡æœ¬ç”Ÿæˆå™¨ï¼Œ ç³™çš„ä¸€ï¼Œç•™åšçºªå¿µ\nimport werobot\nimport requests\nimport json\nimport gpbtwzbuilder as gp\n\nrobot = werobot.WeRoBot(token='qwertyuiopasdfghjkl')\n\n# æ˜¯å¦èœå•æ¨¡å¼\nisMenu = 1\n# åŠŸèƒ½æ¨¡å¼åºå·\nfunCode = 0\n# åˆæ³•æ“ä½œ\ncodelist = ['1','2','3']\ndef menu():\n    return \"æ¬¢è¿ä½¿ç”¨æœ¬å…¬ä¼—å·ï¼\\n æœ¬å…¬ä¼—å·å…±æœ‰ä¸¤ä¸ªæ¨¡å¼ï¼šèœå•æ¨¡å¼å’ŒåŠŸèƒ½æ¨¡å¼ \\n \" + \"åŠŸèƒ½é€‰æ‹©æ¨¡å¼ï¼š\\n menu - æŸ¥çœ‹èœå• \\n 1 - æŸ¥è¯¢åŸå¸‚çš„å¤©æ°”çŠ¶å†µ \\n 2 - è‡ªè¨€è‡ªè¯­æ¨¡å¼\\n 3 - ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨\\n\" + \"åŠŸèƒ½æ¨¡å¼ï¼š\\n 0 - é€€å‡ºåŠŸèƒ½æ¨¡å¼è¿”å›èœå•\"\n\ndef check(fcode):\n    global codelist\n    global isMenu\n    if fcode in codelist:\n        isMenu = 0\n        if fcode == '1': \n            return \"è¾“å…¥åŸå¸‚åæŸ¥è¯¢å¤©æ°”\"\n        elif fcode == '2':\n            return \"è‡ªè¨€è‡ªè¯­ï¼\"\n        elif fcode == '3':\n            return \"è¾“å…¥'æ–‡ç« ä¸»é¢˜&amp;å­—æ•°(&lt;=600)'å¼€å§‹ç‹—å±ä¸é€š\"\n    else:\n        return \"Wrong Operation. Input 'menu' to know more!ğŸ˜…\"\n\n@robot.subscribe\ndef subscribe(message):\n    return menu()\n\n# @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯\n@robot.text\ndef echo(message, session):\n    global isMenu\n    global funCode \n\n    if 'first' not in session:\n        isMenu = 1\n    session['first'] = True\n\n    msgtext = message.content\n    if isMenu == 1:\n        if \"menu\" in msgtext or \"Menu\" in msgtext:\n            return menu()\n        else:\n            funCode = msgtext\n            return check(funCode)\n    else:\n        if msgtext == '0' or \"menu\" in msgtext or \"Menu\" in msgtext:\n            isMenu = 1\n            return \"é€€å‡ºæˆåŠŸï¼\" + menu()\n\n        if funCode == '1':\n            addr = msgtext\n            url = 'http://wthrcdn.etouch.cn/weather_mini?city=' + addr\n            response = requests.get(url=url)\n            result = json.loads(response.text)\n            #è§£æjson\n            data = result[\"data\"][\"forecast\"][0][\"date\"]\n            high = result[\"data\"][\"forecast\"][0][\"high\"]\n            fengli = result[\"data\"][\"forecast\"][0][\"fengli\"]\n            low = result[\"data\"][\"forecast\"][0][\"low\"]\n            fengxiang = result[\"data\"][\"forecast\"][0][\"fengxiang\"]\n            tian = result[\"data\"][\"forecast\"][0][\"type\"]\n            return \"æ—¶é—´ï¼š\" + data + \"\\næœ€å¥½æ°”æ¸©ï¼š\" + high + \"\\næœ€ä½æ°”æ¸©ï¼š\" + low + \"\\né£å‘ï¼š\" + fengxiang + \"\\nå¤©æ°”ï¼š\" + tian\n        \n        elif funCode == '2':\n            return msgtext\n\n        elif funCode == '3':\n            ret = msgtext.partition('&amp;')\n            xx = ret[0]\n            for x in xx:\n                tmp = str()\n                maxlength = int(ret[2])\n                if maxlength > 600:\n                    return \"å­—æ•°è¶…äº†ğŸ˜…ï¼Œçœ‹ä¸æ‡‚ä¸­å›½è¯æ˜¯8ğŸ˜…\"\n                while (len(tmp) &lt; maxlength):\n                    åˆ†æ”¯ = gp.random.randint(0, 100)\n                    if åˆ†æ”¯ &lt; 5:\n                        tmp += gp.å¦èµ·ä¸€æ®µ()\n                    elif åˆ†æ”¯ &lt; 20:\n                        tmp += gp.æ¥ç‚¹åäººåè¨€()\n                    else:\n                        tmp += next(gp.ä¸‹ä¸€å¥åºŸè¯)\n            tmp = tmp.replace(\"x\", xx)\n            return tmp\n\n# @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯\n@robot.image\ndef img(message):\n    return message.img\n\n\n# è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80\nrobot.config['HOST'] = '0.0.0.0'\nrobot.config['PORT'] = 80\nrobot.run()\nå…³äºToken\n\n\n\n\n\n\n\n\næœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç«  : linkï¼Œä»¥ä¸‹å†…å®¹éƒ¨åˆ†å€Ÿé‰´ \nTokenï¼šèº«ä»½è®¤è¯ä¸­ä»£æŒ‡ä»¤ç‰Œ\nTokenéªŒè¯è¿‡ç¨‹Step1 : ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚ã€‚\nStep2 : æœåŠ¡å™¨ç«¯ç¨‹åºéªŒè¯ã€‚\nStep3 : æœåŠ¡å™¨ç«¯ç¨‹åºè¿”å›ä¸€ä¸ªå¸¦ç­¾åçš„token ç»™å®¢æˆ·ç«¯ã€‚\nStep4 : å®¢æˆ·ç«¯å‚¨å­˜token,å¹¶ä¸”æ¯æ¬¡è®¿é—®APIéƒ½æºå¸¦Tokenåˆ°æœåŠ¡å™¨ç«¯çš„ã€‚\nStep5 : æœåŠ¡ç«¯éªŒè¯tokenï¼Œæ ¡éªŒæˆåŠŸåˆ™è¿”å›è¯·æ±‚æ•°æ®ï¼Œæ ¡éªŒå¤±è´¥åˆ™è¿”å›é”™è¯¯ç ã€‚\n\nTokençš„ä¼˜åŠ¿\næ— çŠ¶æ€ï¼Œå¯æ‰©å±•\nåœ¨å®¢æˆ·ç«¯å­˜å‚¨çš„Tokenæ— çŠ¶æ€ã€å¯æ‰©å±•(èƒ½å¤Ÿåˆ›å»ºä¸å…¶å®ƒç¨‹åºå…±äº«æƒé™çš„ç¨‹åº)ã€‚åŸºäºè¿™ç§æ— çŠ¶æ€å’Œä¸å­˜å‚¨Sessionä¿¡æ¯ï¼Œè´Ÿè½½è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿå°†ç”¨æˆ·ä¿¡æ¯ä»ä¸€ä¸ªæœåŠ¡ä¼ åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚tokensè‡ªå·±æºå¸¦äº†ç”¨æˆ·çš„éªŒè¯ä¿¡æ¯ã€‚\n\nå®‰å…¨æ€§ï¼šé˜²æ­¢CSRF\nè¯·æ±‚ä¸­å‘é€tokenè€Œéå‘é€cookieèƒ½å¤Ÿé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚å³ä½¿åœ¨å®¢æˆ·ç«¯ä½¿ç”¨cookieå­˜å‚¨tokenï¼Œcookieä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨æœºåˆ¶è€Œä¸æ˜¯ç”¨äºè®¤è¯ã€‚ä¸å°†ä¿¡æ¯å­˜å‚¨åœ¨Sessionä¸­ï¼Œè®©æˆ‘ä»¬å°‘äº†å¯¹sessionæ“ä½œã€‚\npsï¼štokenæ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œä¸€æ®µæ—¶é—´ä¹‹åç”¨æˆ·éœ€è¦é‡æ–°éªŒè¯ã€‚\n\nå¤šå¹³å°è·¨åŸŸ\nè¿™é‡Œå¼•å…¥CORS(è·¨åŸŸèµ„æºå…±äº«)çš„æ¦‚å¿µï¼šå½“æˆ‘ä»¬éœ€è¦è®©æ•°æ®è·¨å¤šå°ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨æ—¶ï¼Œè·¨åŸŸèµ„æºçš„å…±äº«ä¼šæ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚åœ¨ä½¿ç”¨AjaxæŠ“å–å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œå°±å¯ä»¥ä¼šå‡ºç°ç¦æ­¢è¯·æ±‚çš„æƒ…å†µã€‚\n\n\n\n\n\n\n\n\n\n\n\nä»¥ä¸Šåªæ˜¯å…³äºTokençš„ç²—ç•¥æè¿°ï¼Œå…³äºå…¶ä»–èº«ä»½è®¤è¯æœºåˆ¶æŒ–å‘å¾…å¡«ğŸ˜…\né™„ï¼šä¸€äº›Linuxå‘½ä»¤\nä½¿ç”¨ nohup å‘½ä»¤ä½¿ç¨‹åºåœ¨æœåŠ¡å™¨ä¿æŒåå°è¿è¡Œ\nsudo nohup python .&#x2F;webserver.py &amp;\n\næ€æ‰ nohup è¿›ç¨‹\nps -aux | grep python\nkill -9 pid\t\n\n\n\n\n\n\n\n\n\n\n\nEnd.\n","slug":"note/WeRoBot","date":"2021-12-27T17:24:28.000Z","categories_index":"NOTE","tags_index":"note,python,WeRoBot","author_index":"Maskros"},{"id":"73cfcb86305a1dc05f8e11e3779f31e9","title":"Notes on Kurose's Computer Networkingï¼šA TOP-DOWN APPROACH","content":"Notes on Kuroseâ€™s Computer NetworkingA TOP-DOWN APPROACH \n\n\n\n\n\n\n\n\n\nThanks to æˆ‘çˆ¹çš„åšå®¢ï¼Œè®©æˆ‘å·äº†ä¸å°‘ğŸ˜‹\nChapter 1  Computer Networks and the Internet1.1 What is the Internet?\n\n\n\n\n\n\n\n\nå› ç‰¹ç½‘ï¼šä¸–ç•ŒèŒƒå›´çš„è®¡ç®—æœºç½‘ç»œ\nNuts-and-Bolts Description\n\nè®¡ç®—è®¾å¤‡ç§°ä¸º ä¸»æœº(host) / ç«¯ç³»ç»Ÿ(end system) \nç«¯ç³»ç»Ÿé€šè¿‡ é€šä¿¡é“¾è·¯(communication link) å’Œ åˆ†ç»„äº¤æ¢æœº(packet switch) è¿æ¥åˆ°ä¸€èµ·ï¼›ä¸åŒé“¾è·¯ä¼ è¾“é€Ÿç‡ä¸åŒï¼Œå‘é€ç«¯å°†æ•°æ®åˆ†æ®µåæ¯æ®µåŠ ä¸Šé¦–éƒ¨æ‰€å½¢æˆçš„ä¿¡æ¯åŒ…ç§°ä¸º åˆ†ç»„(packet)\n\nç«¯ç³»ç»Ÿé€šè¿‡ å› ç‰¹ç½‘æœåŠ¡æä¾›å•†(ISP, Internet Service Provider) æ¥å…¥å› ç‰¹ç½‘\n\nç«¯ç³»ç»Ÿã€åˆ†ç»„äº¤æ¢æœºå’Œå…¶ä»–éƒ¨ä»¶éœ€è¦è¿è¡Œä¸€ç³»åˆ—åè®®(protocol) ã€‚å› ç‰¹ç½‘çš„ä¸»è¦åè®®ï¼šTCP/IP (Transmission Control Protocol, ä¼ è¾“æ§åˆ¶åè®® / Internet Protocol, ç½‘é™…åè®®)\n\nService\n\nåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼šå› ç‰¹ç½‘åº”ç”¨ä¸­æ¶‰åŠå¤šä¸ªç›¸äº’äº¤æ¢æ•°æ®çš„ç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åº\nä¸å› ç‰¹ç½‘ç›¸è¿çš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ª å¥—æ¥å­—æ¥å£(Socket interface)ï¼Œè§„å®šåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åºè¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç›®çš„åœ°ç¨‹åºäº¤ä»˜æ•°æ®çš„æ–¹å¼\n\nProtocol\n\n\n\n\n\n\n\n\n\nDef:  å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼å’Œé¡ºåºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œ\n\nä¸åŒçš„åè®®ç”¨äºä¸åŒçš„é€šä¿¡ä»»åŠ¡\n\n1.2 The Network Edge\nä¸»æœºåˆ†ç±»ï¼šå®¢æˆ·(Client) / æœåŠ¡å™¨(Server)\n\nAccess Networks\n\n\n\n\n\n\n\n\n\næ¥å…¥ç½‘ï¼šå°†ä¸»æœºç‰©ç†è¿æ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨(Edge router)çš„ç½‘ç»œ\nå®¶åº­æ¥å…¥ï¼šæ•°å­—ç”¨æˆ·çº¿(DSL)ã€ç”µç¼†å› ç‰¹ç½‘æ¥å…¥ã€å…‰çº¤åˆ°æˆ·(FTTH)ã€æ‹¨å·ã€å«æ˜Ÿ\nä¼ä¸š/å®¶åº­æ¥å…¥ï¼šä»¥å¤ªç½‘(Ethernet)ã€WIFI\nå¹¿åŸŸæ— çº¿æ¥å…¥ï¼š3Gã€LTE\nPhysical Media\nåŒç»é“œçº¿ã€åŒè½´ç”µç¼†ã€å…‰çº¤ã€é™†åœ°/å«æ˜Ÿæ— çº¿ç”µä¿¡é“\n1.3 The Network Core\n\n\n\n\n\n\n\n\né€šè¿‡ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®æœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼šç”µè·¯äº¤æ¢ å’Œ åˆ†ç»„äº¤æ¢\n1.3.1 Packet Switching\n\n\n\n\n\n\n\n\nåˆ†ç»„äº¤æ¢ : ç«¯ç³»ç»Ÿå½¼æ­¤äº¤æ¢æŠ¥æ–‡(message)ï¼Œæºç«¯å°†æŠ¥æ–‡åˆ’åˆ†æˆè¾ƒå°çš„æ•°æ®å—ï¼Œç§°ä¸ºåˆ†ç»„ï¼›åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æ¯ä¸ªåˆ†ç»„ç»è¿‡é€šä¿¡é“¾è·¯å’Œ åˆ†ç»„äº¤æ¢æœº (packet switch)ä¼ é€ï¼Œä¸¤ç±»äº¤æ¢æœºåˆ†åˆ«ä¸º è·¯ç”±å™¨(router) å’Œ é“¾è·¯å±‚äº¤æ¢æœº(link-layer switch)\nStore-and-Forward Transmission\nå­˜å‚¨è½¬å‘ä¼ è¾“ï¼šäº¤æ¢æœºåœ¨å¼€å§‹å‘è¾“å‡ºé“¾è·¯ä¼ è¾“åˆ†ç»„ä¹‹å‰éœ€è¦æ¥æ”¶åˆ°æ•´ä¸ªåˆ†ç»„\nexp: é€šè¿‡ $N$ æ¡é€Ÿç‡å‡ä¸º $R$ çš„é“¾è·¯ç»„æˆçš„è·¯å¾„ (å³åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æœ‰ $N-1$ å°è·¯ç”±å™¨) æ‰€ç”¨ ç«¯åˆ°ç«¯æ—¶å»¶ä¸º $d=N \\dfrac{L}{R}$\nQueuing Delays and Packet Loss\næ’é˜Ÿæ—¶å»¶å’Œåˆ†ç»„ä¸¢å¤±ï¼šåˆ†ç»„äº¤æ¢æœºå…·æœ‰ä¸€ä¸ªè¾“å‡ºç¼“å­˜(output buffer) å³è¾“å‡ºé˜Ÿåˆ—ï¼Œé™¤å­˜å‚¨è½¬å‘æ—¶å»¶å¤–åˆ†ç»„è¿˜è¦æ‰¿å—è¾“å‡ºç¼“å­˜çš„æ’é˜Ÿæ—¶å»¶(queuing delay)ï¼Œå¦‚æœä¸€ä¸ªåˆ†ç»„åˆ°è¾¾åå‘ç°è¯¥ç¼“å­˜ç©ºé—´å·²æ»¡ï¼Œåˆ™å‘ç”Ÿä¸¢åŒ…(packet loss)ï¼Œåˆ°è¾¾çš„åˆ†ç»„æˆ–å·²ç»æ’é˜Ÿçš„åˆ†ç»„ä¹‹ä¸€å°†è¢«ä¸¢å¼ƒ\nForwarding Tables and Routing Protocols\nè½¬å‘è¡¨å’Œè·¯ç”±é€‰æ‹©åè®®ï¼šæ¯å°è·¯ç”±å™¨æœ‰ä¸€ä¸ªè½¬å‘è¡¨(Forwarding Table)ï¼Œç”¨äºå°†ç›®çš„åœ°å€/ç›®çš„åœ°å€çš„ä¸€éƒ¨åˆ†æ˜ å°„æˆè¾“å‡ºé“¾è·¯ã€‚è·¯ç”±é€‰æ‹©åè®®(routing protocol)ç”¨äºè‡ªåŠ¨åœ°è®¾ç½®è½¬å‘è¡¨\n1.3.2 Circuit Switching\n\n\n\n\n\n\n\n\nç”µè·¯äº¤æ¢ï¼šå»ºç«‹åå‰¯å…¶å®çš„è¿æ¥ï¼Œè·¯å¾„ä¸Šçš„äº¤æ¢æœºç»´æŠ¤è¿æ¥çŠ¶æ€ï¼Œç”µè·¯äº¤æ¢ç½‘ç»œä¸Šçš„ä¸¤ä¸»æœºé€šä¿¡æ—¶ï¼Œç½‘ç»œåœ¨ä¸¤ä¸»æœºé—´åˆ›å»ºä¸€æ¡ä¸“ç”¨çš„ç«¯åˆ°ç«¯è¿æ¥(end-to-end connection)\nMultiplexing\né“¾è·¯ä¸­çš„ç”µè·¯é€šè¿‡é¢‘åˆ†å¤ç”¨(FDM, Frequency-Division Multiplexing)æˆ–æ—¶åˆ†å¤ç”¨(TDM, Time-Division Multiplexing)æ¥å®ç°\nFDMï¼šé“¾è·¯çš„é¢‘è°±ç”±æ‰€æœ‰è¿æ¥å…±äº«ï¼Œåœ¨è¿æ¥æœŸé—´é“¾è·¯ä¸ºæ¯æ¡è¿æ¥ä¸“ç”¨ä¸€ä¸ªé¢‘æ®µï¼Œé¢‘æ®µçš„å®½åº¦ç§°ä¸ºå¸¦å®½(band-width)\nTDMï¼šæ—¶é—´è¢«åˆ’åˆ†ä¸ºå›ºå®šæœŸé—´çš„å¸§ï¼Œæ¯ä¸ªå¸§è¢«åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™(slot)ï¼Œåœ¨ç½‘ç»œè·¨è¶Šé“¾è·¯åˆ›å»ºè¿æ¥æ—¶ï¼Œåœ¨æ¯ä¸ªå¸§ä¸­ä¸ºè¯¥è”ç»“åˆ¶å®šä¸€ä¸ªæ—¶éš™ï¼Œç”±è¯¥è¿æ¥å•ç‹¬ä½¿ç”¨\n\n\n\n\n\n\n\n\n\nåˆ†ç»„äº¤æ¢çš„æ€§èƒ½ä¼˜äºç”µè·¯äº¤æ¢çš„æ€§èƒ½\n1.4 Delay, Loss, and Throughput in Packet-Switched Networks\n\n\n\n\n\n\n\n\nè®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æµ‹åº¦ï¼šæ—¶å»¶ã€ä¸¢åŒ…ã€ååé‡\nDelay\nTotal nodal delay = èŠ‚ç‚¹å¤„ç†æ—¶å»¶(nodal processing delay) + æ’é˜Ÿæ—¶å»¶(queuing delay) + ä¼ è¾“æ—¶å»¶(transmission delay) + ä¼ æ’­æ—¶å»¶(propagation delay)\nä¼ è¾“æ—¶å»¶ï¼šå°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨å‘é“¾è·¯æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{L}{R}$\nä¼ æ’­æ—¶å»¶ï¼šå°†æ¯”ç‰¹ä»é“¾è·¯çš„èµ·ç‚¹åˆ°ç›®çš„åœ°ä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{d}{s}$ï¼Œä¼ æ’­é€Ÿç‡ $s$ å–å†³äºç‰©ç†åª’ä½“(å…‰çº¤/åŒé“œç»çº¿ç­‰)\nThroughput\nç¬æ—¶ååé‡(instantaneous throughput)ï¼šæ¥æ”¶åˆ°æ–‡ä»¶çš„ç¬æ—¶é€Ÿç‡ (bps)\nå¹³å‡ååé‡(average throughput)ï¼šæ–‡ä»¶å¤§å°/æ”¶åˆ°æ–‡ä»¶æ‰€æœ‰æ¯”ç‰¹çš„æ—¶é—´ è®¡ç®—æ‰€å¾—çš„å¹³å‡é€Ÿç‡ (bps)\n1.5 Protocol Layers and Their Service Models\nåˆ†å±‚(Layer)çš„ä½“ç³»ç»“æ„\næ¯å±‚é€šè¿‡è‡ªå·±çš„å†…éƒ¨åŠ¨ä½œ/ä¾é ä¸‹ä¸€å±‚æä¾›çš„æœåŠ¡æ¥æä¾›æœåŠ¡\n\nProtocol Stack\n\n\n\n\n\n\n\n\n\nåè®®æ ˆï¼šå„å±‚çš„æ‰€æœ‰åè®®\nå› ç‰¹ç½‘åè®®æ ˆï¼šåº”ç”¨å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚\nISO OSIå‚è€ƒæ¨¡å‹ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚\nåº”ç”¨å±‚ Application Layer\n\nç½‘ç»œåº”ç”¨ç¨‹åºã€åº”ç”¨å±‚åè®®\nHTTP/SMTP/FTP/DNS\nåè®®æ•°æ®å•å…ƒ(å®ä½“äº¤æ¢çš„æ•°æ®å•ä½)/ä¿¡æ¯åˆ†ç»„ï¼šæŠ¥æ–‡(message)\n\nè¿è¾“å±‚ Transport Layer\n\nTCP/UDP\nåè®®æ•°æ®å•å…ƒï¼šæŠ¥æ–‡æ®µ(segment)\nè¿›ç¨‹é—´ä¼ è¾“\n\nç½‘ç»œå±‚ Network Layer\n\nIP/è·¯ç”±é€‰æ‹©åè®®\nåè®®æ•°æ®å•å…ƒï¼šæ•°æ®æŠ¥(datagram)\nä¸»æœºé—´ä¼ è¾“\n\né“¾è·¯å±‚ Link Layer\n\nä»¥å¤ªç½‘/802.11(WiFi)/PPP\nåè®®æ•°æ®å•å…ƒï¼šå¸§(frame)\n\nç‰©ç†å±‚ Physical Layer\n\næ§åˆ¶æ¯”ç‰¹çš„å‘é€\n\nEncapsulation\n\n\n\n\n\n\n\n\n\nå°è£…è¿‡ç¨‹ï¼šåº”ç”¨å±‚æŠ¥æ–‡ -&gt; è¿è¾“å±‚æŠ¥æ–‡æ®µ -&gt; ç½‘ç»œå±‚æ•°æ®æŠ¥ -&gt; é“¾è·¯å±‚å¸§\næ¯ä¸€å±‚çš„åˆ†ç»„ï¼šé¦–éƒ¨å­—æ®µ + æœ‰æ•ˆè½½è·å­—æ®µ(payload field)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Applicationâ”‚â”‚Transportâ”‚        â”‚Networkâ”‚                  â”‚Linkâ”‚                    â”‚Physicalâ”‚\nâ””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”¬â”€â”€â”€â”˜                  â””â”€â”¬â”€â”€â”˜                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜\n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚Message &#x3D; Mâ”‚                 â”‚                        â”‚                           â”‚     \n      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚Segment &#x3D; H_t + Mâ”‚                        â”‚                           â”‚     \n      â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚Datagram &#x3D; H_n + H_t + Mâ”‚                           â”‚     \n      â”‚           â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚Frame &#x3D; H_l + H_n + H_t + Mâ”‚     \n      â”‚           â”‚                 â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚     \nâ”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                  â”Œâ”€â”´â”€â”€â”                    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”\nâ”‚Applicationâ”‚â”‚Transportâ”‚        â”‚Networkâ”‚                  â”‚Linkâ”‚                    â”‚Physicalâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nChapter 2 Application Layer\n\n\n\n\n\n\n\n\nåº”ç”¨å±‚\n2.1 Principles of Network Applicationsä¸»æµä½“ç³»ç»“æ„ï¼šå®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ (C/S, client-server)ï¼Œå¯¹ç­‰ä½“ç³»ç»“æ„ (P2P, peer-to-peer)\nC/Sï¼š\n\næœåŠ¡å™¨Sï¼š\n\næ€»æ˜¯æ‰“å¼€çš„ä¸»æœº (always-on host)\nå›ºå®šçš„IPåœ°å€ (permanent IP address)\næœåŠ¡äºå®¢æˆ·çš„è¯·æ±‚\n\n\nå®¢æˆ·C:\n\nè¯·æ±‚ä¸»æœº\nå®¢æˆ·é—´ä¸è¿›è¡Œé€šä¿¡  exp: ä¸¤ä¸ªæµè§ˆå™¨å¹¶ä¸ç›´æ¥é€šä¿¡\n\nåŠ¨æ€IPåœ°å€ (dynamic IP address)\n\n\n\n\nP2Pï¼š\n\næ²¡æœ‰æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨\n\nä»»æ„ä¸»æœºå¯¹ç›´æ¥é€šä¿¡ï¼Œå¯¹ç­‰æ–¹\n\nè‡ªæ‰©å±•æ€§ (self-scalability)  æ–°çš„å¯¹ç­‰æ–¹å¢åŠ æœåŠ¡èƒ½åŠ› \nexp: P2Pæ–‡ä»¶å…±äº«\n\næµé‡å¯†é›†å‹\n\nåŠ¨æ€IPåœ°å€\n\n\nProcesses Communicating\n\n\n\n\n\n\n\n\n\nè¿›ç¨‹(process) : è¿è¡Œåœ¨ä¸»æœºä¸Šçš„ç¨‹åº\nåŒä¸€ä¸»æœºå†…çš„è¿›ç¨‹ï¼šè¿›ç¨‹é—´é€šä¿¡\nä¸åŒä¸»æœºå†…çš„è¿›ç¨‹ï¼šäº¤æ¢æŠ¥æ–‡(Message)\nå®¢æˆ·è¿›ç¨‹ï¼šå‘èµ·é€šä¿¡çš„è¿›ç¨‹\næœåŠ¡å™¨è¿›ç¨‹ï¼šåœ¨ä¼šè¯å¼€å§‹æ—¶ç­‰å¾…è”ç³»çš„è¿›ç¨‹\nè¿›ç¨‹ä¸è®¡ç®—æœºç½‘ç»œé—´çš„æ¥å£ï¼šå¥—æ¥å­—(socket)ï¼Œè½¯ä»¶æ¥å£ï¼Œè¿›ç¨‹å‘/ä»å…¶å¥—æ¥å­—å‘é€/æ¥æ”¶æŠ¥æ–‡\nReliable Date Transfer\n\n\n\n\n\n\n\n\n\nDef: ç¡®ä¿åº”ç”¨ç¨‹åºçš„ä¸€ç«¯å‘é€çš„æ•°æ®æ­£ç¡®ã€å®Œå…¨åœ°äº¤ä»˜ç»™äº†è¯¥åº”ç”¨ç¨‹åºçš„å¦ä¸€ç«¯ï¼Œç§°ä¸ºå¯é æ•°æ®ä¼ è¾“\n2.2 The Web and HTTP\n\n\n\n\n\n\n\n\nWebçš„åº”ç”¨å±‚åè®®æ˜¯ è¶…æ–‡æœ¬ä¼ è¾“åè®® (HTTP, HyperText Transfer Protocol) \n\nC/S æ¨¡å¼\n\nHTTPå®¢æˆ·ç«¯ï¼šWebæµè§ˆå™¨ (Web browser)\n\nHTTPæœåŠ¡å™¨ç«¯ï¼šWebæœåŠ¡å™¨ (Web server)\n\nå®šä¹‰äº†Webå®¢æˆ·å‘WebæœåŠ¡å™¨è¯·æ±‚Webé¡µé¢çš„æ–¹å¼ï¼Œä»¥åŠæœåŠ¡å™¨å‘å®¢æˆ·ä¼ é€Webé¡µé¢çš„æ–¹å¼\n\næ”¯æ’‘è¿è¾“åè®®ï¼šTCP\n\nå®¢æˆ·å‘èµ·TCPè¿æ¥ï¼ŒæœåŠ¡å™¨æ¥å—TCPè¿æ¥\nå»ºç«‹è¿æ¥åæµè§ˆå™¨å’ŒæœåŠ¡å™¨è¿›ç¨‹å°±å¯ä»¥é€šè¿‡å¥—æ¥å­—æ¥å£è®¿é—®TCP\næ— çŠ¶æ€åè®®(stateless protocol)ï¼šHTTPæœåŠ¡å™¨ä¸ä¿å­˜å…³äºå®¢æˆ·çš„ä¿¡æ¯\n\nHTTP Message Format\n\nRequest Message è¯·æ±‚æŠ¥æ–‡\nç¬¬ä¸€è¡Œä¸ºè¯·æ±‚è¡Œ(request line)ï¼šæ–¹æ³•å­—æ®µã€URLå­—æ®µã€HTTPç‰ˆæœ¬å­—æ®µ\nåç»§å››è¡Œä¸ºé¦–éƒ¨è¡Œ(header line)\n\n\nResponse Message å“åº”æŠ¥æ–‡\nä¸€ä¸ªçŠ¶æ€åˆå§‹è¡Œ(status linge)\nå…­ä¸ªé¦–éƒ¨è¡Œ(header line)\nå®ä½“ä½“(entity body)\n\n\nStatus Code çŠ¶æ€ç \n200 OKï¼šè¯·æ±‚æˆåŠŸï¼Œä¿¡æ¯åœ¨è¿”å›çš„ç›¸åº”æŠ¥æ–‡ä¸­\n301 Moved Permanentlyï¼šè¯·æ±‚çš„å¯¹è±¡å·²ç»è¢«æ°¸ä¹…è½¬ç§»äº†ï¼Œæ–°çš„URLå®šä¹‰åœ¨å“åº”æŠ¥æ–‡çš„Locationï¼šé¦–éƒ¨è¡Œä¸­ã€‚å®¢æˆ·è½¯ä»¶å°†è‡ªåŠ¨è·å–æ–°çš„URL\n400 Bad Requestï¼šä¸€ä¸ªé€šç”¨å·®é”™ä»£ç ï¼ŒæŒ‡ç¤ºè¯¥è¯·æ±‚ä¸èƒ½è¢«æœåŠ¡å™¨ç†è§£\n404 Not Foundï¼šè¢«è¯·æ±‚çš„æ–‡æ¡£ä¸åœ¨æœåŠ¡å™¨ä¸Š\n505 HTTP Version Not Supportedï¼šæœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚æŠ¥æ–‡ä½¿ç”¨çš„HTTPåè®®ç‰ˆæœ¬\n\n\n\nUser-Server Interaction: Cookies\ncookieçš„4ä¸ªç»„ä»¶ï¼š\n\nHTTPå“åº”æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ\nHTTPè¯·æ±‚æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ\nä¿ç•™åœ¨å®¢æˆ·ç«¯çš„cookieæ–‡ä»¶ï¼Œç”±ç”¨æˆ·çš„æµè§ˆå™¨è¿›è¡Œç®¡ç†\nä¿ç•™åœ¨WebæœåŠ¡å™¨çš„åç«¯æ•°æ®åº“\n\nWeb Caching\n\n\n\n\n\n\n\n\n\nWebç¼“å­˜å™¨(Web cache) åˆç§° ä»£ç†æœåŠ¡å™¨(proxy server)\nä»£è¡¨åˆå§‹WebæœåŠ¡å™¨æ¥æ»¡è¶³HTTPè¯·æ±‚çš„ç½‘ç»œå®ä½“\n\næµè§ˆå™¨å»ºç«‹åˆ°Webç¼“å­˜å™¨çš„TCPè¿æ¥ï¼Œå®¢æˆ·ç«¯å°†æ‰€æœ‰HTTPè¯·æ±‚é¦–å…ˆå‘é€åˆ°Webç¼“å­˜å™¨ä¸­çš„å¯¹è±¡ï¼ŒWebç¼“å­˜å™¨æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜å‚¨è¯¥å¯¹è±¡å‰¯æœ¬\n\næœ‰ï¼šWebç¼“å­˜å™¨å‘å®¢æˆ·æµè§ˆå™¨ç”¨HTTPå“åº”æŠ¥æ–‡è¿”å›è¯¥å¯¹è±¡\næ— ï¼šæ‰“å¼€ä¸€ä¸ªä¸è¯¥å¯¹è±¡çš„åˆå§‹æœåŠ¡å™¨çš„TCPè¿æ¥ï¼Œå‘é€è¯¥å¯¹è±¡çš„HTTPè¯·æ±‚ï¼Œæ”¶åˆ°è¯·æ±‚ååˆå§‹æœåŠ¡å™¨å‘è¯¥Webç¼“å­˜å™¨å‘é€HTTPå“åº”\n\n\nWebç¼“å­˜å™¨æ—¢æ˜¯å®¢æˆ·ä¹Ÿæ˜¯æœåŠ¡å™¨\n\næœåŠ¡å™¨ï¼šæ¥æ”¶æµè§ˆå™¨çš„è¯·æ±‚å‘å›å“åº”\nå®¢æˆ·ï¼šå‘åˆå§‹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚å¹¶æ¥æ”¶å“åº”\n\n\nå‡å°‘äº†å®¢æˆ·ç«¯è¯·æ±‚çš„å“åº”æ—¶é—´\n\nå‡å°‘äº†ä¸€ä¸ªæœºæ„çš„æ¥å…¥é“¾è·¯åˆ°å› ç‰¹ç½‘çš„é€šä¿¡é‡\n\nThe Conditional GET\n\n\n\n\n\n\n\n\n\næ¡ä»¶GETï¼šä¸ºäº†ä¿è¯Webç¼“å­˜å™¨çš„å¯¹è±¡æ˜¯æœ€æ–°çš„\n\nè¯·æ±‚æŠ¥æ–‡ä¸­ä½¿ç”¨GETæ–¹æ³•å¹¶ä¸”åŒ…å«ä¸€ä¸ªâ€If-Modified-Sinceâ€é¦–éƒ¨è¡Œ\nå®¢æˆ·ç«¯ï¼šåœ¨HTTPè¯·æ±‚ä¸­æŒ‡å®šç¼“å­˜å‰¯æœ¬çš„æ—¥æœŸ\næœåŠ¡å™¨ï¼šå¦‚æœç¼“å­˜çš„å‰¯æœ¬æ˜¯æœ€æ–°çš„ï¼Œåˆ™å“åº”ä¸åŒ…å«ä»»ä½•å¯¹è±¡\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”\nâ”‚clientâ”‚                  â”‚serverâ”‚\nâ””â”€â”€â”¬â”€â”€â”€â”˜                  â””â”€â”€â”¬â”€â”€â”€â”˜\n   â”‚                         â”‚    \n   â”‚If-modified-since &lt;date&gt; â”‚    \n   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚    \n   â”‚                         â”‚    \n   â”‚HTTP&#x2F;1.0 304 Not Modifiedâ”‚    \n   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    \n   â”‚                         â”‚    \n   â”‚If-modified-since &lt;date&gt; â”‚    \n   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚    \n   â”‚                         â”‚    \n   â”‚ HTTP&#x2F;1.0 200 OK &lt;data&gt;  â”‚    \n   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    \nâ”Œâ”€â”€â”´â”€â”€â”€â”                  â”Œâ”€â”€â”´â”€â”€â”€â”\nâ”‚clientâ”‚                  â”‚serverâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”˜\n2.3 Electronic Mail in the InternetComponents of Email\n\nç”¨æˆ·ä»£ç†(User Agent)ï¼šé‚®ä»¶å®¢æˆ·ç«¯\né‚®ä»¶æœåŠ¡å™¨(Mail Server)ï¼š\né‚®ç®±(mailbox)ï¼šåŒ…å«ç”¨æˆ·çš„ä¼ å…¥ä¿¡æ¯\næŠ¥æ–‡é˜Ÿåˆ—(message queue)ï¼šåŒ…å«å¤–å‘(å¾…å‘)ä¿¡æ¯\n\n\nç®€å•é‚®ä»¶ä¼ è¾“åè®®(SMTP, Simple Mail Transfer Protocol)ï¼š\n\nå‘/åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Šä¼ é€’/å­˜å‚¨æ¶ˆæ¯\nC/Sæ¨¡å¼ï¼š\nå®¢æˆ·ç«¯ï¼šç”¨æˆ·ä»£ç†æˆ–é‚®ä»¶æœåŠ¡å™¨\næœåŠ¡å™¨ï¼šé‚®ä»¶æœåŠ¡å™¨\n\n\nä¸HTTPçš„æ¯”è¾ƒï¼š\nHTTPï¼šæ‹‰åè®®(pull protocol)ï¼Œç”¨æˆ·ä½¿ç”¨HTTPåè®®ä»æœåŠ¡å™¨æ‹‰å–ä¿¡æ¯\nSMTPï¼šæ¨åè®®(push protocol)ï¼Œå‘é€é‚®ä»¶æœåŠ¡å™¨æŠŠæ–‡ä»¶æ¨å‘æ¥å—é‚®ä»¶æœåŠ¡å™¨\n\n\n\n\nå› ç‰¹ç½‘é‚®ä»¶è®¿é—®åè®®(IMAP, Internet Mail Access Protocol)\n\næ£€ç´¢/åˆ é™¤/æ–‡ä»¶å¤¹ä¸­å­˜å‚¨çš„é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶\n\n\n\nexp: Alice sends an email to Bob\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚                 â”‚Bob&#39;s user agentâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚        SMTP        â”‚                   â”‚                                  â”‚         \n         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚       SMTP        â”‚                                  â”‚         \n         â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚mail access protocol (IMAP or POP)â”‚         \n         â”‚                    â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚         \nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚                 â”‚Bob&#39;s user agentâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n2.4 DNS-The Internetâ€™s Directory Service\n\n\n\n\n\n\n\n\nåŸŸåç³»ç»Ÿ(DNS, Domain Name System)ï¼šä¸€ä¸ªç”±åˆ†å±‚çš„DNSæœåŠ¡å™¨(DNS server)å®ç°çš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼›ä¸€ä¸ªä½¿å¾—ä¸»æœºèƒ½å¤ŸæŸ¥è¯¢åˆ†å¸ƒå¼æ•°æ®åº“çš„åº”ç”¨å±‚åè®®\nServices\n\nä¸»æœºååˆ°IPåœ°å€çš„è½¬æ¢\nä¸»æœºåˆ«å(host aliasing)ï¼Œè§„èŒƒä¸»æœºå(CNAME, canonical hostname)\n\né‚®ä»¶æœåŠ¡å™¨åˆ«å(mail server aliasing)\n\nè´Ÿè½½åˆ†é…(load distribution)ï¼šè®¸å¤šIPåœ°å€å¯¹åº”ä¸€ä¸ªåç§°\n\n\nHow DNS Works\n\nåˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“\næ ¹DNSæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸDNSæœåŠ¡å™¨ï¼Œæƒå¨DNSæœåŠ¡å™¨\næœ¬åœ°DNSæœåŠ¡å™¨\né€’å½’æŸ¥è¯¢(recursive query)ï¼Œè¿­ä»£æŸ¥è¯¢(iterative query)\n\n\nDNSç¼“å­˜(DNS caching)\n\n\n\n\n\n\n\n\n\n\nexp: a distributed, hierarchical database\n\n\n\n\n\n\n\n\n\n\nexp: iterative query (more commonly used) vs recursive query\n\n2.6 Video Streaming and Content Distribution Networks\n\n\n\n\n\n\n\n\nç»HTTPçš„åŠ¨æ€é€‚åº”æ€§æµ(DASH, Dynamic Adaptive Streaming over HTTP)\nå†…å®¹åˆ†å‘ç½‘(CDN, Content Distribution Network)\n\næœåŠ¡å™¨ï¼š\nå°†è§†é¢‘æ–‡ä»¶åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—ä»¥å¤šç§ä¸åŒé€Ÿç‡è¿›è¡Œç¼–ç \nä¸åŒé€Ÿç‡çš„ç¼–ç (encoding)å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­\næ–‡ä»¶è¢«å¤åˆ¶åˆ°å¤šä¸ªCDNèŠ‚ç‚¹ä¸­\nç”Ÿæˆå‘Šç¤ºæ–‡ä»¶(maifest file)ï¼Œä¸ºä¸åŒå—æä¾›URL\n\n\nå®¢æˆ·ç«¯ï¼š\nå®šä¹‰ä¼°ç®—æœåŠ¡å™¨åˆ°å®¢æˆ·çš„å¸¦å®½\næŸ¥é˜…å‘Šç¤ºæ–‡ä»¶ï¼Œæ¯æ¬¡è¯·æ±‚ä¸€ä¸ªåˆ†å—\nå†³å®šä½•æ—¶/ä½•ç§ç¼–ç ç‡/è¯·æ±‚å“ªå°æœåŠ¡å™¨\n\n\n\nStreaming stored video: playout buffering\n\n\n\n\n\n\n\n\n\nSummary: video streaming = encoding + DASH + playout buffering\n\nChapter 3 Transport Layer\n\n\n\n\n\n\n\n\nä¼ è¾“å±‚\n3.1 Introduction and Transport-Layer Services\n\n\n\n\n\n\n\n\nè¿è¾“å±‚åè®®ä¸ºä¸åŒä¸»æœºä¸Šçš„åº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›äº†é€»è¾‘é€šä¿¡(logic communication)\n\nå‘é€æ–¹\né€šè¿‡å¥—æ¥å­—ä¼ é€’åº”ç”¨å±‚çš„æŠ¥æ–‡\nç¡®å®šæŠ¥æ–‡æ®µ(segment)æŠ¥å¤´çš„å€¼\nåˆ›å»ºæŠ¥æ–‡æ®µ\nå°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚\n\n\næ¥æ”¶æ–¹\nä»ç½‘ç»œå±‚æ¥æ”¶æŠ¥æ–‡æ®µ\næ£€æŸ¥æŠ¥å¤´å€¼\næå–åº”ç”¨å±‚çš„æŠ¥æ–‡\né€šè¿‡å¥—æ¥å­—å°†æŠ¥æ–‡ä¼ é€’ç»™åº”ç”¨å±‚\n\n\n\nTransport vs Network layer services\nexp: å®¶åº­é—´çš„é‚®ä»¶ä¼ é€’\nä¸»æœºï¼šå®¶åº­\nè¿›ç¨‹ï¼šå­©å­\nåº”ç”¨å±‚æŠ¥æ–‡ï¼šä¿¡ä»¶\nè¿è¾“å±‚åè®®ï¼šä¸¤ä¸ªå®¶åº­ä¸­ç”± Ann å’Œ Bill ä¸ºå­©å­ä»¬æ”¶å‘ä¿¡ä»¶\nç½‘ç»œå±‚åè®®ï¼šé‚®æ”¿æœåŠ¡\nä¸æä¾›çš„æœåŠ¡ï¼šå»¶è¿Ÿä¿è¯ï¼Œå¸¦å®½ä¿è¯\n3.2 Multiplexing and Demultiplexing\n\n\n\n\n\n\n\n\nå¤ç”¨(multiplexing)ï¼šåœ¨æºä¸»æœºä»ä¸åŒå¥—æ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°è£…ä¸Šé¦–éƒ¨ä¿¡æ¯ç”ŸæˆæŠ¥æ–‡æ®µï¼Œå°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚\nåˆ†ç”¨(demultiplexing)ï¼šå°†è¿è¾“å±‚æŠ¥æ–‡æ®µçš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æ¥å­—\nå¥—æ¥å­—æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè€Œæ¯ä¸ªæŠ¥æ–‡æ®µé€šè¿‡æºç«¯å£å·å­—æ®µ(source port number field)ï¼Œç›®çš„ç«¯å£å·å­—æ®µ(destination port number field)æŒ‡ç¤ºæŠ¥æ–‡æ®µæ‰€è¦äº¤ä»˜åˆ°çš„å¥—æ¥å­—\n\n\n\n\n\n\n\n\n\nä¸‹å›¾å±•ç¤ºäº†å¤ç”¨å’Œåˆ†ç”¨çš„è¿‡ç¨‹\n\n3.3 UDP: Connectionless Transport\n\n\n\n\n\n\n\n\nç”¨æˆ·æ•°æ®æŠ¥åè®®\n\næ— è¿æ¥çš„\n\nUDPå‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´æ²¡æœ‰æ¡æ‰‹åè®®\næ¯ä¸ªUDPæ•°æ®æŠ¥ç‹¬ç«‹å¤„ç†\n\n\nå°½åŠ›è€Œä¸ºäº¤ä»˜æœåŠ¡(best-effort delivery service)\n\næŠ¥æ–‡æ®µå¯èƒ½ä¸¢å¤±\næŠ¥æ–‡æ®µå¯èƒ½ä¸ç¬¦åˆé¡ºåº\n\n\n\nWhy there is a UDP\n\næ— éœ€å»ºç«‹è¿æ¥\nä¸éœ€è¦æ¡æ‰‹(æ— RTTå»¶è¿Ÿ)\næ— è¿æ¥çŠ¶æ€\n\n\næŠ¥å¤´å°ºå¯¸å°\næ²¡æœ‰æ‹¥å¡æ§åˆ¶\né€Ÿåº¦å¿«\næœ‰é¢å¯¹æ‹¥å µæ—¶çš„æœºåˆ¶\n\n\nç”¨ä¾‹ï¼šDNS, SNMP, HTTP/3(åœ¨åº”ç”¨å±‚å¢åŠ æ‰€éœ€å¯é æ€§ä»¥åŠæ‹¥å µæ§åˆ¶)\n\nUDP Segment Structure\n ------------ 32bit ------------\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n| source port # |  dest port #  |\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n|    length     |   checksum    |\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n|                               |\n|  application data (payload)   |\n|                               |\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\næ£€éªŒå’Œ(checksum): æä¾›å·®é”™æ£€æµ‹åŠŸèƒ½ï¼Œå‘é€æ–¹çš„UDPå¯¹æŠ¥æ–‡æ®µä¸­æ‰€æœ‰16bitå­—çš„å’Œè¿›è¡Œåç è¿ç®—å¾—åˆ°\n3.4 Principles of Reliable Data Transfer\n\n\n\n\n\n\n\n\nå¯é æ•°æ®ä¼ è¾“åè®®(rdtåè®®, reliable data transfer protocol)ï¼šä¸ºTCPçš„å¯é æ€§ä¿è¯åšå‡†å¤‡\nBuilding a Reliable Data Transfer Protocol\nå‡è®¾ï¼š\n\nå•å‘çš„æ•°æ®ä¼ è¾“(å‘é€æ–¹åˆ°æ¥æ”¶æ–¹)\nåœ¨ä¸å¯é çš„ä¿¡é“ä¸­è¿›è¡ŒåŒå‘æ§åˆ¶ä¿¡æ¯(å³ACK)æµåŠ¨\n\né€æ­¥æ”¹è¿›rdtåè®®(æä¾›æœ‰é™çŠ¶æ€æœº(Finite-State Machine, FSM) )ï¼š\n\nrdt1.0ï¼šä¿¡é“å®Œå…¨å¯é \nrdt2.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™ï¼Œä½¿ç”¨ACK(è‚¯å®šç¡®è®¤, positive acknowledgment) /NAK(å¦å®šç¡®è®¤, negative acknowledgment)ï¼ŒåŸºäºè¿™æ ·é‡ä¼ æœºåˆ¶çš„å¯é æ•°æ®ä¼ è¾“åè®®ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚(ARQ, Automatic Repeat reQuest)åè®®\n\nrdt2.1ï¼šå¦‚æœACK/NAKè¢«ç ´åï¼Œä½¿ç”¨åºå·(sequence number)æ¥å¤„ç†é‡å¤çš„ä¿¡æ¯\n\nrdt2.2ï¼šåªä½¿ç”¨ACK\nrdt3.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™å’Œä¸¢åŒ…ï¼Œä½¿ç”¨å€’è®¡æ•°å®šæ—¶å™¨(countdown timer)ï¼Œrdt3.0åˆç§°æ¯”ç‰¹äº¤æ›¿åè®®\n\nStop-and-Wait (starting from rdt2.0)\n\n\n\n\n\n\n\n\n\nåœç­‰åè®®ï¼šå‘é€æ–¹å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç„¶åç­‰å¾…æ¥æ”¶æ–¹çš„å›åº”\nå‘é€æ–¹å¿…é¡»ç­‰å¾…å‘é€çš„æ•°æ®åŒ…åˆ°è¾¾ï¼Œæˆ–è€…ç›´åˆ°è¶…æ—¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´å‘é€æ–¹é•¿æ—¶é—´å¤„äºç©ºé—²çŠ¶æ€ç­‰å¾…ç¡®è®¤\nPipelining\n\n\n\n\n\n\n\n\n\nsuccessor of Stop-and-Wait\næµæ°´çº¿ï¼šå‘é€æ–¹å…è®¸å¤šä¸ªå‘é€ä¸­çš„ã€å°šæœªè¢«ACKçš„æ•°æ®åŒ…\n\nGo-Back-N(GBN)\nå‘é€æ–¹ï¼š\næœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿ç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£ï¼ŒNè¢«ç§°ä¸ºçª—å£é•¿åº¦(window size)\nç´¯è®¡ç¡®è®¤(commulative ACK(n))\nè¡¨æ˜æ¥æ”¶æ–¹ä»¥æ­£ç¡®æ”¶åˆ°åºå·ä¸ºnçš„ä»¥å‰ä¸”åŒ…æ‹¬nåœ¨å†…çš„æ‰€æœ‰æ•°æ®åŒ…\nå‘å‰ç§»åŠ¨çª—å£ä½¿èµ·ç‚¹ä½äº n+1\n\n\nå¯¹å‘é€æ—¶é—´æœ€æ—©ä½†æœªè¢«ç¡®è®¤çš„æ•°æ®åŒ…è¿›è¡Œè®¡æ—¶\nè¶…æ—¶äº‹ä»¶(timeout(n))ï¼šé‡ä¼ nå·å’Œæ‰€æœ‰åºå·æ›´é«˜çš„æ•°æ®åŒ…\n\n\næ¥æ”¶æ–¹ï¼š\nä»…å‘é€æœ€é«˜åºå·çš„ACK\nåœ¨æ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶\nä¸¢å¼ƒæˆ–ç¼“å­˜\né‡æ–°å‘é€æŒ‰ç…§é¡ºåºçš„æœ€é«˜åºå·çš„ACK\n\n\n\n\n\n\nSelective Repeat(SR)\nå‘é€æ–¹ï¼š\næœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿ç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£\nACK(n)ï¼šæ ‡è®°nå·æ•°æ®åŒ…å·²æ”¶åˆ°ï¼Œå¦‚æœnæ˜¯æœ€å°çš„æœªACKçš„æ•°æ®åŒ…ï¼Œåˆ™çª—å£å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæœªACKçš„æ•°æ®åŒ…å¼€å§‹\ntimeout(n)ï¼šå¯¹æœªACKçš„æ•°æ®åŒ…å•ç‹¬é‡ä¼ \n\n\næ¥æ”¶æ–¹\nå•ç‹¬ACK(n)\næ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶ï¼šç¼“å­˜\næ”¶åˆ°æœ‰åºçš„æ•°æ®åŒ…æ—¶ï¼šäº¤ä»˜(ä¹Ÿäº¤ä»˜ç¼“å†²çš„ã€ç¬¦åˆé¡ºåºçš„æ•°æ®åŒ…)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nåœ¨Go-Back-Nä¸­ä½¿ç”¨çš„ç´¯è®¡ç¡®è®¤åœ¨TCPä¸­ä¹Ÿæœ‰ä½¿ç”¨\nå‘é€çª—å£å’Œæ¥æ”¶çª—å£çš„å¤§å°å¿…é¡»ç›¸ç­‰\n3.5 TCP: Connection-Oriented Transport\n\n\n\n\n\n\n\n\nä¼ è¾“æ§åˆ¶åè®®\n\nç‚¹å¯¹ç‚¹(point-to-point)ï¼šä¸€ä¸ªå‘é€æ–¹ï¼Œä¸€ä¸ªæ¥æ”¶æ–¹\nå¯é çš„ï¼Œæœ‰åºçš„å­—èŠ‚æµ(byte-stream)\né¢å‘è¿æ¥çš„(connection-oriented)ï¼šåœ¨æ•°æ®äº¤æ¢å‰ æ¡æ‰‹(handshaking) åˆå§‹åŒ–å‘é€æ–¹å’ŒæœåŠ¡å™¨çŠ¶æ€\nç´¯è®¡ç¡®è®¤(cumulative ACKs)\nå…¨åŒå·¥æœåŠ¡(full-duplex service)ï¼šåœ¨åŒä¸€è¿æ¥ä¸­åŒæ—¶è¿›è¡ŒåŒå‘æ•°æ®æµ\næµæ°´çº¿ï¼šæµé‡å’Œæ‹¥å µæ§åˆ¶\n\nTCP Segment Structure\n\n\n\n\n\n\n\n\n\n\nUAPRSFï¼šURG, ACK, PSH, RST, SYN, FIN\n\nåºåˆ—å·(Sequence Number)ï¼šåˆ†æ®µæ•°æ®ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å­—èŠ‚æµç¼–å·\nç¡®è®¤å·(Acknowledgement Number)ï¼šç¡®è®¤å¯¹æ–¹ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·ï¼Œç´¯è®¡ACK\n\nRTT Estimation(via EWMA) and Timeout\n\n\n\n\n\n\n\n\n\nRTT: è¿æ¥çš„å¾€è¿”æ—¶é—´\nSampleRTT: æŠ¥æ–‡æ®µçš„æ ·æœ¬RTT\nEstimateRTT: ä¼°è®¡å¾€è¿”æ—¶é—´\nTimeoutInterval: è¶…æ—¶é‡ä¼ é—´éš”\nDevRTT: åå·®RTT\nEWMA: æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ Exponential Weighted Moving Average\n\nEstimatedRTT = (1-Î±) * EstimatedRTT + Î± * SampleRTT\n\nå–Î± = 0.125\n\nTimeoutInterval = EstimatedRTT + 4Â·DevRTT\n\nDevRTT = (1-Î²) * DevRTT + Î² * |SampleRTT - EstimatedRTT|\n\nå–Î² = 0.25\n\n\nFast Retransmit\nTCPå¿«é€Ÿé‡ä¼ ï¼šå¦‚æœæ£€æµ‹åˆ°3ä¸ªå†—ä½™çš„ACKï¼Œåˆ™TCPæ‰§è¡Œå¿«é€Ÿé‡ä¼ ï¼Œåœ¨è¯¥æŠ¥æ–‡æ®µçš„å®šæ—¶å™¨è¿‡æœŸä¹‹å‰é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µ\nFlow Control\næµé‡æ§åˆ¶ï¼š\n\næ¥æ”¶æ–¹æ§åˆ¶å‘é€æ–¹ï¼Œè¿™æ ·å‘é€æ–¹å°±ä¸ä¼šæº¢å‡ºæ¥æ”¶æ–¹çš„ç¼“å†²åŒº\n\næ¥æ”¶çª—å£rwnd(receive window)ï¼šåœ¨TCPå¤´çš„rwndå­—æ®µä¸­ï¼ŒæŒ‡ç¤ºè¯¥æ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨çš„ç¼“å­˜ç©ºé—´ï¼Œæˆ–è¡¨ç¤ºå‘é€æ–¹å°†æ•°æ®é‡é™åˆ¶åœ¨rwndå†…\n\n\nTCP Connection Management\n\nä¸‰æ¬¡æ¡æ‰‹(three-way handshake)å»ºç«‹è¿æ¥\n\n\n\nå››æ¬¡æŒ¥æ‰‹(four-way handshake)ç»“æŸè¿æ¥\n\n\n\n\n\n\n\n\n\n\n\nTCPçŠ¶æ€(TCO state)çš„å˜è¿ï¼Œæœ‰é™çŠ¶æ€æœº(FSM)\n3.6 Principles of Congestion Control\n\n\n\n\n\n\n\n\næ‹¥å¡æ§åˆ¶\næ‹¥å¡(Congestion)ï¼š\n\nå¤ªå¤šçš„å‘é€è€…ä»¥å¤ªå¿«çš„é€Ÿåº¦å‘é€å¤ªå¤šçš„æ•°æ®\nè¡¨ç°ï¼šé«˜å»¶è¿Ÿã€ä¸¢åŒ…\nä¸æµé‡æ§åˆ¶ä¸åŒ(ä¸€ä¸ªå‘é€æ–¹å¯¹äºä¸€ä¸ªæ¥æ”¶æ–¹æ¥è¯´é€Ÿåº¦å¤ªå¿«)\n\nThe Causes and the Costs of Congestion\n\nååé‡æ°¸è¿œä¸ä¼šè¶…è¿‡å®¹é‡\nå»¶è¿Ÿéšç€å®¹é‡çš„å¢åŠ è€Œå¢åŠ \nä¸¢å¤±/è½¬å‘/ä¸å¿…è¦çš„ä¸­ç«¯ä¼šé™ä½æœ‰æ•ˆååé‡(throughput)\nä¸Šæ¸¸ä¼ è¾“å®¹é‡/ç¼“å†²åŒºä¼šå› ä¸‹æ¸¸ä¸¢åŒ…è€Œè¢«æµªè´¹\n\nCongestion Control\n\nç«¯åˆ°ç«¯æ‹¥å¡æ§åˆ¶(end-end approach)ï¼š\næ²¡æœ‰æ¥è‡ªç½‘ç»œçš„æ˜ç¡®åé¦ˆï¼Œä»è§‚å¯Ÿåˆ°çš„å»¶è¿Ÿã€æŸå¤±æ¨æ–­æ‹¥å¡æƒ…å†µ\n\nç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶ï¼š\nIPè·¯ç”±å™¨åœ¨æ‹¥å µæ—¶å‘å‘é€/æ¥å—ä¸»æœºæä¾›ç›´æ¥åé¦ˆï¼Œå¯ä»¥æ˜¾ç¤ºæ‹¥å µç¨‹åº¦æˆ–è€…æ˜ç¡®è®¾ç½®å‘é€é€Ÿç‡\n\n\n3.7 TCP Congestion ControlTCPçš„æ‹¥å¡æ§åˆ¶ç®—æ³•(CCA, congestion control algorithm)ï¼š\n\næ‹¥å¡çª—å£cwnd(Congestion Window)\n\næ…¢å¯åŠ¨(slow-start)ï¼š\n\ncwndçš„å€¼ä»¥1ä¸ªMSSå¼€å§‹ï¼Œæ¯å½“ä¼ è¾“çš„æŠ¥æ–‡æ®µé¦–æ¬¡è¢«ç¡®è®¤å°±å¢åŠ ä¸€ä¸ªMSSï¼Œè¿™ä¸€è¿‡ç¨‹ä¸­æ¯è¿‡ä¸€ä¸ªRTTï¼Œå‘é€é€Ÿç‡å°±ç¿»å€ï¼ŒæŒ‡æ•°å¢é•¿\næ…¢å¯åŠ¨é˜ˆå€¼ssthreshï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªç”±è¶…æ—¶æŒ‡ç¤ºçš„ä¸¢åŒ…(å³æ‹¥å¡)ï¼ŒTCPå‘é€æ–¹å°† cwnd è®¾ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨ï¼Œå°†ssthreshè®¾ä¸º cwnd/2, å³å½“æ£€æµ‹åˆ°æ‹¥å¡æ—¶å°†å…¶ç½®ä½æ‹¥å¡çª—å£å€¼çš„ä¸€åŠã€‚å½“åˆ°è¾¾æˆ–è€…è¶…è¿‡ssthreshçš„å€¼æ—¶ï¼Œè¿›å…¥æ‹¥å¡é¿å…\n\n\næ‹¥å¡é¿å…(Congestion Avoidance)\ncwndçš„å€¼æ¯ä¸ªRTTåªå¢åŠ ä¸€ä¸ªMSSï¼Œçº¿æ€§å¢é•¿\nç”±3ä¸ªå†—ä½™ACKå¼•èµ·çš„ä¸¢åŒ…æ—¶, ssthresh = cwnd/2, cwnd = 1MSS, è¿›å…¥å¿«é€Ÿæ¢å¤\n\n\nå¿«é€Ÿæ¢å¤(Fast Recovery)\n\nå¯¹äºå¼•èµ·TCPè¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ”¶åˆ°çš„æ¯ä¸ªå†—ä½™ACKï¼Œcwndçš„å€¼å°±åŠ ä¸€ä¸ªMSSï¼Œå½“å¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ä¸€ä¸ªACKåˆ°è¾¾æ—¶ï¼ŒTCPé™ä½cwndåè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€\n\n\nåŠ æ€§å¢ã€ä¹˜æ€§å‡(AIMD, Additive-Increase, Multiplicative-Decrease) æ‹¥å¡æ§åˆ¶æ–¹å¼\nå‡å®šä¸¢åŒ…ç”±3ä¸ªå†—ä½™ACKè€Œä¸æ˜¯è¶…æ—¶æŒ‡ç¤ºï¼šæ¯ä¸ªRTTå†…cwndçº¿æ€§(åŠ æ€§)å¢åŠ 1MSSï¼Œç„¶åå‡ºç°3ä¸ªå†—ä½™ACKäº‹ä»¶æ—¶cwndå‡åŠ(ä¹˜æ€§å‡)\n\n\n\nChapter 4 The Network Layer: Data Planeç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢\n4.1 Overview of Network Layer\nå‘é€æ–¹ï¼š\nå°†æŠ¥æ–‡æ®µå°è£…æˆæ•°æ®æŠ¥(datagram)ï¼Œä¼ é€’ç»™é“¾è·¯å±‚\n\n\næ¥æ”¶æ–¹ï¼š\nä»æ•°æ®æŠ¥ä¸­æå–æŠ¥æ–‡æ®µï¼Œä¼ é€’ç»™ä¼ è¾“å±‚\n\n\nä¸¤ç§é‡è¦åŠŸèƒ½ï¼š\nè½¬å‘(Forwarding)ï¼šå°†æ•°æ®æŠ¥ä»è¾“å…¥é“¾è·¯è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯ä¸Šï¼Œç±»æ¯”æ—…æ¸¸ä¸­åœ¨æ¯ä¸ªè·¯å£åšå†³å®š\nè·¯ç”±(Routing)ï¼šç¡®å®šæ•°æ®æŠ¥ä»åŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯çº¿\n\n\n\nTwo Network Layer Planes\n\nData Plane æ•°æ®å¹³é¢\n\næœ¬åœ°ï¼Œæ¯å°è·¯ç”±å™¨çš„åŠŸèƒ½\nè·¯ç”±å™¨å†…çš„æ•°æ®æŠ¥è½¬å‘\nç¡¬ä»¶\n\n\nControl Plane æ§åˆ¶å¹³é¢\n\nå…¨ç½‘\næ²¿ç€ä»åŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯å¾„ï¼Œåœ¨è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œæ•°æ®æŠ¥è·¯ç”±\nä¼ ç»Ÿè·¯ç”±ç®—æ³•ï¼šåœ¨è·¯ç”±å™¨ä¸­å®ç°\nè½¯ä»¶å®šä¹‰ç½‘ç»œ(SDN, Software-Defined Networking)ï¼šåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­å®ç°\n\n\nè½¯ä»¶\n\n\n\nNetwork layerâ€™s â€œbest effortâ€ service model\n\n\n\n\n\n\n\n\n\nå°½åŠ›è€Œä¸ºæœåŠ¡ï¼šä¸ä¿è¯æˆåŠŸäº¤ä»˜ï¼ŒåŠæ—¶/æŒ‰é¡ºåºäº¤ä»˜ï¼Œæœ€å°å¸¦å®½\n4.2 Whatâ€™s inside a Router?\nè¾“å…¥ç«¯å£(input port):\n\né€šè¿‡headerçš„å€¼è¿›è¡Œè½¬å‘è¡¨æŸ¥è¯¢\nè½¬å‘æ–¹å¼ï¼š\nåŸºäºç›®çš„åœ°è½¬å‘ï¼šåªæ ¹æ®ç›®çš„åœ°çš„IPåœ°å€è¿›è¡Œè½¬å‘\né€šç”¨è½¬å‘ï¼šåŸºäºä»»ä½•ä¸€ç»„headerå€¼çš„è½¬å‘ï¼Œä¸ä»…ä»…æ˜¯ç½‘ç»œå±‚çš„åŠŸèƒ½ï¼šè½¬å‘(è·¯ç”±å™¨ï¼Œäº¤æ¢æœº)ï¼Œä¸¢å¼ƒ(é˜²ç«å¢™)ï¼Œä¿®æ”¹(NAT)ï¼Œå°è£…å¹¶è½¬å‘åˆ°æ§åˆ¶å™¨(SDN)\n\n\næœ€é•¿å‰ç¼€åŒ¹é…(longest prefix matching rule)ï¼šé€šå¸¸ä½¿ç”¨ä¸‰æ€å†…å®¹å¯å¯»å€å­˜å‚¨å™¨(TCAM, Tenary Content Address Memory)æ¥æŸ¥æ‰¾\n\näº¤æ¢ç»“æ„(switching fabric)ï¼š\n\nå°†æ•°æ®æŠ¥ä»è¾“å…¥é“¾è·¯ä¼ è¾“åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯\näº¤æ¢ç‡ï¼šæ•°æ®æŠ¥ä¼ è¾“çš„é€Ÿç‡ï¼Œé€šå¸¸ä»¥å¤šä¸ªè¾“å…¥/è¾“å‡ºçº¿è·¯é€Ÿç‡æ¥è¡¡é‡\nä¸‰ç§ä¸»è¦ç±»å‹ï¼šå†…å­˜ã€æ€»çº¿ã€äº’è”ç½‘\n\næ’é˜Ÿ(queueing)ï¼š\n\nè¾“å…¥æ’é˜Ÿï¼š\nè¾“å…¥ç«¯å£çš„ç»¼åˆçº¿è·¯é€Ÿç‡å¤§äºäº¤æ¢é€Ÿç‡\néœ€è¦ç¼“å†²ï¼šæ’é˜Ÿå»¶è¿Ÿå’Œè¾“å…¥ç¼“å†²å™¨æº¢å‡ºé€ æˆçš„æŸå¤±\né˜»å¡(HOL, Head-Of-the-Line)ï¼šæ’åœ¨å‰é¢çš„æ•°æ®æŠ¥é˜»æ–­åé¢çš„æ•°æ®æŠ¥\n\n\nè¾“å‡ºæ’é˜Ÿï¼š\näº¤æ¢ç‡å¤§äºé“¾è·¯ä¼ è¾“é€Ÿç‡\néœ€è¦ç¼“å†²ï¼šç”±äºè¾“å‡ºç¼“å†²åŒºæº¢å‡ºï¼Œé€ æˆæ’é˜Ÿå»¶è¿Ÿå’ŒæŸå¤±\n\n\n\nç¼“å†²åŒºç®¡ç†ï¼š\n\nä¸¢å¼ƒç­–ç•¥ï¼šå°¾éƒ¨ä¸¢å¼ƒï¼ŒåŸºäºä¼˜å…ˆçº§çš„ä¸¢å¼ƒ\næ ‡è®°ï¼šECNï¼ŒRED\n\nPacket Scheduling\n\nå…ˆè¿›å…ˆå‡º(FIFO, First-In-First-Out)\nä¼˜å…ˆæƒæ’é˜Ÿ(priority queuing)ï¼š\nåˆ°è¾¾æ—¶åˆ†ç±»\nä»æœ€é«˜ä¼˜å…ˆçº§åˆ°æœ€ä½ä¼˜å…ˆçº§\nä¼˜å…ˆçº§å†…çš„FIFO\n\n\nå¾ªç¯æ’é˜Ÿ(RR, Round Robin queuing discipline)\nåˆ°è¾¾æ—¶åˆ†ç±»\né€šè¿‡ç±»å¾ªç¯\nä¾æ¬¡ä»æ¯ä¸ªç±»ä¸­é€‰å‡ºä¸€ä¸ª\n\n\nåŠ æƒå…¬å¹³æ’é˜Ÿ(WFQ, Weight Fair Queuing)\nå¹¿ä¹‰çš„Round  Robin\næ¯ä¸ªç±»åˆ«æœ‰æƒé‡\nåœ¨æ¯ä¸ªå¾ªç¯ä¸­åŠ æƒæœåŠ¡é‡\næ¯ä¸ªæµé‡ç±»åˆ«çš„æœ€ä½å¸¦å®½ä¿è¯\n\n\n\n4.3 The Internet Protocol(IP): IPv4, Addressing, IPv6, and Moreç½‘é™…åè®®IP\nIPv4 vs IPv6\n\n\n\n\n\n\n\n\n\nIPv4 32ä½åœ°å€ç¼–ç    IPv6 128ä½åœ°å€ç¼–ç \n\né€šè¿‡éš§é“(tunnel)æ—¶ï¼ŒIPv6æ•°æ®æŠ¥ä½œä¸ºIPv4æ•°æ®æŠ¥çš„æœ‰æ•ˆè½½è·å®ç°å…±å­˜\n\nIP Addressingï¼š\n\nIPåœ°å€ï¼šä¸æ¯ä¸ªä¸»æœº/è·¯ç”±å™¨æ¥å£(interface)ç›¸å…³çš„32ä½æ ‡è¯†ç¬¦\næ¥å£ï¼š\nä¸»æœº/è·¯ç”±å™¨å’Œç‰©ç†é“¾è·¯ä¹‹é—´çš„è¿æ¥\næ¥å£çš„æ•°é‡ï¼šè·¯ç”±å™¨é€šå¸¸å¤šä¸ªï¼Œä¸»æœºé€šå¸¸ä¸€ä¸ªæˆ–ä¸¤ä¸ª\næœ‰çº¿ä»¥å¤ªç½‘\næ— é™802.11\n\n\n\n\nç‚¹åˆ†åè¿›åˆ¶è®°æ³•(dotted-decimal notation)\næ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©(CIDR, Classless Interdomain Routing)\nä»»æ„é•¿åº¦çš„å­ç½‘åœ°å€xï¼Œå³å­ç½‘æ©ç (subnet mask)\na.b.c.d/x\n\n\n\nHow to get an IP ?\n\nä¸»æœºï¼š\nç¡¬ç¼–ç \nåŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP, Dynamic Host Configuration)ï¼š\nä¸»æœºåœ¨åŠ å…¥ç½‘ç»œæ—¶åŠ¨æ€åœ°ä»DHCPæœåŠ¡å™¨è·å–ä¸€ä¸ªIPåœ°å€\nDHCPæœåŠ¡å™¨ä½äºè·¯ç”±å™¨ä¸­\nåœ°å€çš„é‡å¤ä½¿ç”¨\nå³æ’å³ç”¨åè®®(plug-and-play protocol)\nè¿”å›çš„ä¸ä»…ä»…æ˜¯å­ç½‘ä¸­åˆ†é…çš„IPåœ°å€\nç¬¬ä¸€è·³è·¯ç”±å™¨çš„åœ°å€\nDNSæœåŠ¡å™¨çš„åç§°å’ŒIPåœ°å€\nå­ç½‘æ©ç \n\n\n\n\n\n\nå­ç½‘(subnet) (å³ç½‘ç»œå¦‚ä½•è·å¾—å…¶IPåœ°å€çš„å­ç½‘éƒ¨åˆ†)\nä»å…¶ISPè·å¾—\n\n\nISP (å³ä¸€ä¸ªISPå¦‚ä½•è·å¾—å…¶åœ°å€å—)\nä»ICANN\n\n\n\nNetwork Address Translation(NAT)\nç½‘ç»œåœ°å€è½¬æ¢NAT\n\nå°±å¤–éƒ¨ä¸–ç•Œè€Œè¨€ï¼Œæœ¬åœ°ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡åªå…±äº«ä¸€ä¸ªIPv4åœ°å€\næœ¬åœ°IPåœ°å€åœ¨3ä¸ªä¸“ç”¨IPåœ°å€(private network)èŒƒå›´å†…\n\n\nä¼˜åŠ¿\næ‰€æœ‰è®¾å¤‡éƒ½æœ‰ä¸€ä¸ªæ¥è‡ªISPçš„IPåœ°å€\næ”¹å˜æœ¬åœ°åœ°å€ä¸éœ€è¦é€šçŸ¥å¤–éƒ¨ä¸–ç•Œ\næ”¹å˜ISPè€Œä¸æ”¹å˜æœ¬åœ°åœ°å€\næœ¬åœ°è®¾å¤‡ä¸ä¼šè¢«å¤–ç•Œç›´æ¥çœ‹åˆ°ï¼Œä¿è¯å®‰å…¨\n\n\nå®ç° (é€æ˜)\nå¯¹å‘å‡ºçš„æ•°æ®æŠ¥ï¼š\nå°† (æºIPåœ°å€ï¼Œç«¯å£) æ›¿æ¢ä¸º (NAT IPåœ°å€ï¼Œæ–°ç«¯å£)\nè¿œç¨‹ä¸»æœºå°†ä»¥ (NAT IPåœ°å€ï¼Œæ–°ç«¯å£) ä½œä¸ºç›®çš„åœ°è¿›è¡Œå“åº”\n\n\nNATè½¬æ¢è¡¨(NAT translation table)\næ¯ä¸ª (æºIPåœ°å€ï¼Œç«¯å£)  &lt;-&gt;  (NAT IPåœ°å€ï¼Œç«¯å£)\n\n\nå¯¹ä¼ å…¥çš„æ•°æ®æŠ¥ï¼š\nç”¨NATè½¬æ¢è¡¨è¿›è¡Œåå‘è½¬æ¢\n\n\n\n\n\n4.4 Generalized Forwarding and SDNGeneralized Forwarding\né€šç”¨è½¬å‘ï¼šä¸€å¼ æµè¡¨(flow table)å°†åŸºäºç›®çš„åœ°çš„è½¬å‘è¡¨ä¸€èˆ¬åŒ–\n\nOpenFlowï¼šä¸€ä¸ªåŒ¹é…åŠ åŠ¨ä½œè½¬å‘æŠ½è±¡çš„æ ‡å‡†\n\næµè¡¨ï¼šåŒ¹é…åŠ åŠ¨ä½œè½¬å‘è¡¨\n\nåŒ¹é…ï¼šå…¥ç«¯å£ã€IPæºåœ°å€ã€IPç›®çš„åœ°å€ (å…è®¸é€šé…ç¬¦*)\nåŠ¨ä½œï¼šè½¬å‘ã€ä¸¢å¼ƒã€ä¿®æ”¹å­—æ®µ\n\n\n\n\nChapter 5 The Network Layer: Control Planeç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢\n5.1 Introductionæ„å»ºç½‘ç»œæ§åˆ¶å¹³é¢çš„ä¸¤ç§æ–¹æ³•ï¼š\n\næ¯è·¯ç”±å™¨æ§åˆ¶(per-router control)ï¼š(ä¼ ç»Ÿçš„ï¼Œåˆ†å¸ƒå¼)\næ¯ä¸ªè·¯ç”±å™¨ä¸­éƒ½æœ‰å•ç‹¬çš„è·¯ç”±ç®—æ³•ç»„ä»¶\nè·¯ç”±å™¨ä¹‹é—´ç›´æ¥äº’åŠ¨\n\n\né€»è¾‘é›†ä¸­å¼æ§åˆ¶(logically centralized/ SDN control)\nè·¯ç”±å™¨ä¹‹é—´ä¸ç›¸äº’å½±å“\n\n\n\n\n\n\n\n\n\n\n\n\nè·¯ç”±ç®—æ³•åœ¨ä¸¤ç§æ–¹æ³•ä¸­éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åªæ˜¯å¦‚ä½•å®ç°\n5.2 Routing Algorithmsè·¯ç”±é€‰æ‹©ç®—æ³•\n\nDijkstraâ€™s link state algorithm\n\n\n\n\n\n\n\n\n\né“¾è·¯çŠ¶æ€(Link State, LS)\n\nå±äºé›†ä¸­å¼è·¯ç”±é€‰æ‹©ç®—æ³•(centralized routing algorithm)\nå¿…é¡»çŸ¥é“ç½‘ç»œä¸­æ¯æ¡é“¾è·¯çš„å¼€é”€\n\n\nBellman Fordâ€™s (BS) distance vector algorithm\n\n\n\n\n\n\n\n\n\nè·ç¦»å‘é‡(Distance Vector, DV)\n\nå±äºåˆ†æ•£å¼è·¯ç”±é€‰æ‹©ç®—æ³•(decentralized routing algorithm)\næ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤åˆ°ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„å¼€é”€(è·ç¦»)ä¼°è®¡çš„å‘é‡\n\n\n\nDijkstraâ€™s Link State Algorithm\n\né›†ä¸­å¼\næ‰€æœ‰èŠ‚ç‚¹éƒ½çŸ¥é“ç½‘ç»œæ‹“æ‰‘ç»“æ„(å›¾)\næ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ç›¸åŒçš„ä¿¡æ¯\né€šè¿‡é“¾è·¯çŠ¶æ€å¹¿æ’­å®Œæˆ\n\n\nè®¡ç®—ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„æœ€å°æˆæœ¬è·¯å¾„ï¼Œä¸ºè¯¥èŠ‚ç‚¹ç”Ÿæˆè½¬å‘è¡¨\n\nè¿­ä»£(iterative)\n\nç»è¿‡kæ¬¡è¿­ä»£ï¼ŒçŸ¥é“åˆ°kä¸ªç›®çš„åœ°çš„æœ€ä½æˆæœ¬è·¯å¾„\n\n\nç®—æ³•å¤æ‚æ€§: $O(n^2)$\næ¯æ¬¡è¿­ä»£éœ€è¦æ£€æŸ¥æ‰€æœ‰ä¸åœ¨Nä¸­çš„èŠ‚ç‚¹\næœ‰ $O((n+m)logn )$ çš„å¯èƒ½ï¼Œæœ‰æœ€å°ä¼˜å…ˆçº§çš„é˜Ÿåˆ—\n\n\nä¿¡æ¯å¤æ‚æ€§: $O(n^2)$\n\né“¾è·¯çŠ¶æ€å¹¿æ’­(link state broadcast)ï¼šæ¯ä¸ªè·¯ç”±å™¨å¿…é¡»å‘æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é“¾æ¥çŠ¶æ€\næœ‰æ•ˆçš„å¹¿æ’­ç®—æ³•ï¼š$O(n)$ ä¸ªé“¾è·¯äº¤å‰ç‚¹æ¥ä¼ æ’­æ¥è‡ªä¸€ä¸ªæºçš„å¹¿æ’­æ¶ˆæ¯\næ¯ä¸ªè·¯ç”±å™¨çš„æ¶ˆæ¯ç©¿è¿‡ $O(n)$â€‹â€‹ ä¸ªé“¾æ¥\n\n\nå½“é“¾è·¯æˆæœ¬å–å†³äºæµé‡æ—¶å¯èƒ½å‡ºç°æŒ¯è¡\n\n\nBellman Fordâ€™s Distance Vector Algorithm\n\nåˆ†æ•£å¼(decentralized)\n\nè·¯ç”±å™¨æœ€åˆåªçŸ¥é“è¿æ¥åˆ°é‚»å±…çš„æˆæœ¬\nè·¯ç”±é€‰æ‹©è¡¨(routing table)\n\n\nè¿­ä»£çš„(iterative)\næ¯ä¸ªèŠ‚ç‚¹çš„è¡ŒåŠ¨ï¼š\n\nç­‰å¾…è§¦å‘æœ¬åœ°è¿­ä»£çš„å˜åŒ–\næœ¬åœ°é“¾è·¯æˆæœ¬å˜åŒ–\næ¥è‡ªé‚»å±…çš„è·ç¦»å‘é‡æ›´æ–°ä¿¡æ¯\n\n\né‡æ–°è®¡ç®—æœ¬åœ°è·ç¦»å‘é‡\nå¦‚æœå˜åŒ–ï¼Œå‘é€æ–°çš„æœ¬åœ°è·ç¦»å‘é‡ç»™é‚»å±…\n\n\nå¼‚æ­¥çš„(asynchronous)\n\næ¯ä¸ªèŠ‚ç‚¹çš„è¿­ä»£é€Ÿåº¦å¯ä»¥ä¸åŒ\nè‡ªæˆ‘ç»ˆæ­¢çš„(self stopping) \næ¯ä¸ªèŠ‚ç‚¹åªåœ¨æœ¬åœ°è·ç¦»å‘é‡å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥å…¶é‚»å±…\næ²¡æœ‰æ”¶åˆ°é€šçŸ¥ï¼Œä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨\n\n\n\n\nå¥½æ¶ˆæ¯ä¼ å¾—å¿«(é“¾æ¥æˆæœ¬é™ä½)ï¼Œåæ¶ˆæ¯ä¼ çš„æ…¢(é“¾æ¥æˆæœ¬å¢åŠ )ï¼šæ— ç©·è®¡æ•°(count-to-infinity)é—®é¢˜\n\nç®—æ³•å¤æ‚æ€§ï¼š$O(n+m)$\nä¿¡æ¯å¤æ‚æ€§ï¼š(ç½‘ç»œç›´å¾„ä¸º $d$ çš„èŠ‚ç‚¹) $O(d)$ : çŠ¶æ€ä¿¡æ¯çš„æ‰©æ•£\n\næ”¶æ•›çš„é€Ÿåº¦ä¸åŒå¯¼è‡´æ”¶æ•›çš„æ—¶é—´ä¸åŒï¼Œå¯èƒ½æœ‰è·¯ç”±é€‰æ‹©ç¯è·¯(routing loop) å’Œ æ— ç©·è®¡æ•°é—®é¢˜ (count-to-infinity)\n\n\n5.3 Intra-AS Routing in the Internet: OSPF\n\n\n\n\n\n\n\n\nISP, AS, åŸŸåœ¨è¿™é‡Œå…·æœ‰ç›¸åŒå«ä¹‰\nAutonomous System(AS)\n\n\n\n\n\n\n\n\n\nè‡ªæ²»ç³»ç»Ÿï¼šå°†è·¯ç”±å™¨ç»„ç»‡è¿›AS\nåŸŸå†…è·¯ç”±åè®®ï¼š\n\nASä¸­çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»è¿è¡Œç›¸åŒçš„åŸŸå†…åè®®\nä¸åŒASç§çš„è·¯ç”±å™¨å¯ä»¥è¿è¡Œä¸åŒçš„åŸŸå†…åè®®\nç½‘å…³è·¯ç”±å™¨(gateway router)ï¼š\n\nåŸŸé—´è·¯ç”±åè®®ï¼š\n\nåœ¨ASä¹‹é—´è¿›è¡Œè·¯ç”±é€‰æ‹©\nç½‘å…³è·¯ç”±å™¨æ—¢æ‰§è¡ŒåŸŸé—´è·¯ç”±ï¼Œä¹Ÿæ‰§è¡ŒåŸŸå†…è·¯ç”±\n\nè½¬å‘è¡¨(Forwarding table)æ˜¯ç”±åŸŸå†…å’ŒåŸŸé—´å¡«å……çš„åè®®(ç›®çš„åœ°åœ¨ASå†…: Intra-; ç›®çš„åœ°åœ¨ASå¤–: Intra- å’Œ Inter-)\nOSPF(Open Shortest Path First)\n\n\n\n\n\n\n\n\n\nå¼€æ”¾æœ€çŸ­è·¯ä¼˜å…ˆ\n\næœ€å¸¸ç”¨çš„åŸŸå†…è·¯ç”±åè®®\nç»å…¸çš„Dijkstraé“¾è·¯çŠ¶æ€ç®—æ³•\næ¯ä¸ªè·¯ç”±å™¨å‘ASå†…æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é€‰æ‹©ä¿¡æ¯(ç›´æ¥é€šè¿‡IPè€ŒéTCP/UDP)\nå¯èƒ½æœ‰å¤šä¸ªæŒ‡æ ‡ï¼šå¸¦å®½ã€å»¶è¿Ÿ\n\n\næ‰€æœ‰OSPFæ¶ˆæ¯éƒ½ç»è¿‡è®¤è¯ä»¥é˜²æ­¢æ¶æ„å…¥ä¾µ\n\n\n5.4 Routing Among the ISPs: BGP\n\n\n\n\n\n\n\n\nè¾¹ç•Œç½‘å…³åè®® (Broder Gateway Protocol, BGP)\næ—¢æ¶‰åŠå†³ç­–ï¼Œä¹Ÿæ¶‰åŠæ€§èƒ½\n\nè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±é€‰æ‹©åè®® (inter- AS routing protocol)\nBGPä¸ºæ¯ä¸ªASæä¾›äº†ä¸€ç§æ–¹æ³•æ¥ï¼š\nä»é‚»è¿‘çš„ASè·å¾—å¯è¾¾æ€§ä¿¡æ¯(eBGP)\nå°†å¯è¾¾æ€§ä¿¡æ¯ä¼ æ’­ç»™ASå†…çš„æ‰€æœ‰è·¯ç”±å™¨(iBGP)\n\n\nBGPä¼šè¯\nä¸¤ä¸ªBGPè·¯ç”±å™¨é€šè¿‡TCPè¿æ¥äº¤æ¢BGPä¿¡æ¯\nè·¯å¾„é€šå‘Šï¼šå‰ç¼€(prefix, CIDRåŒ–ç›®æ ‡ç½‘ç»œ) + å±æ€§(BGP attribute)\nä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š\nAS-PATHï¼šé€šå‘Šå·²ç»é€šè¿‡çš„ASåˆ—è¡¨\nNEXT-HOP(ä¸‹ä¸€è·³)ï¼šé€šå¾€ä¸‹ä¸€è·³ASçš„å†…éƒ¨ASè·¯ç”±å™¨\n\n\n\n\nåŸºäºç­–ç•¥çš„è·¯ç”±é€‰æ‹©ï¼š\næ˜¯å¦æ¥å—ä¸€ä¸ªè·¯å¾„é€šå‘Šï¼Œexp: æ°¸è¿œä¸é€šè¿‡Xçš„è·¯ç”±\næ˜¯å¦å‘å¸ƒè·¯å¾„é€šå‘Šï¼Œexp: æµé‡æ°¸è¿œä¸ä¼šè·¯ç”±åˆ°X\n\n\n\n\nHot Potato Routing\n\n\n\n\n\n\n\n\n\nçƒ­åœŸè±†è·¯ç”±é€‰æ‹©ï¼šé€‰æ‹©åŸŸå†…æˆæœ¬æœ€ä½çš„æœ¬åœ°ç½‘å…³ï¼Œä¸ç”¨æ‹…å¿ƒåŸŸé—´æˆæœ¬ï¼Œå³å°½å¯èƒ½å¿«åœ°å°†æ•°æ®é€å‡º\nRoute-Selection Algorithm\n\n\n\n\n\n\n\n\n\nè·¯ç”±å™¨é€‰æ‹©ç®—æ³•ï¼šå½“æœ‰ä¸€æ¡ä»¥ä¸Šçš„è·¯ç”±å¯ç”¨æ—¶\n\nç­–ç•¥å†³å®š\næœ€çŸ­çš„AS-PATH\næœ€è¿‘çš„NEXT-HOPè·¯ç”±å™¨(hot potato)\né¢å¤–æ ‡å‡†\n\n5.5 The SDN Control Plane\n\n\n\n\n\n\n\n\nè½¯ä»¶å®šä¹‰ç½‘ç»œ(Software Defined Networking, SDN)\nWhy a logically centralized control plane?\n\næ›´å®¹æ˜“ç®¡ç†\n\nåŸºäºè¡¨çš„è½¬å‘ (OpenFlow API) å…è®¸å¯¹è·¯ç”±å™¨è¿›è¡Œç¼–ç¨‹\n\né›†ä¸­å¼ç¼–ç¨‹æ›´å®¹æ˜“ï¼šé›†ä¸­è®¡ç®—è¡¨å¹¶åˆ†å‘\n\n\nå¼€æ”¾çš„å®ç°\nä¿ƒè¿›åˆ›æ–°\n\n\nChapter 6 The Link Layer and LANsé“¾è·¯å±‚å’Œå±€åŸŸç½‘\n6.1 Introduction to the Link Layer\nå‘é€æ–¹ï¼š\nå°†ç½‘ç»œå±‚çš„æ•°æ®æŠ¥å°è£…æˆå¸§(Frame)\n\n\næ¥æ”¶æ–¹\nä»å¸§ä¸­æå–æ•°æ®æŠ¥ï¼Œä¼ é€’ç»™ç½‘ç»œå±‚\n\n\né“¾è·¯å±‚ä¿¡é“ï¼š\nå¹¿æ’­ä¿¡é“ï¼šæœ‰çº¿å±€åŸŸç½‘ã€å«æ˜Ÿç½‘ã€HFC\nç‚¹å¯¹ç‚¹é€šä¿¡é“¾è·¯ï¼šç‚¹å¯¹ç‚¹åè®®(PPP, Point-to-Point Protocol)\n\n\n\nThe Services Provided by the Link Layer\n\næˆå¸§(framing)\né“¾è·¯æ¥å…¥(link access)ï¼šåª’ä½“è®¿é—®æ§åˆ¶(MAC, Media Access Control)åè®®è§„å®šäº†å¸§åœ¨é“¾è·¯ä¸Šçš„ä¼ è¾“è§„åˆ™\nå¯é äº¤ä»˜(Reliable delivery)ï¼šæ— å·®é”™åœ°ç»é“¾è·¯å±‚ç§»åŠ¨æ¯ä¸ªç½‘ç»œå±‚æ•°æ®æŠ¥\nå·®é”™æ£€æµ‹å’Œçº æ­£(Error detection and correction)\n\nWhere Is the Link Layer Implemented?\nç½‘ç»œé€‚é…å™¨(network adapter)ï¼Œä¹Ÿç§°ç½‘å¡(Network Interface Card , NIC)\n6.2 Error-Detection and -Correction Techniques\nå¥‡å¶æ ¡éªŒ(Parity Checks)\nå‰å‘çº é”™(Forward Error Correction, FEC)ï¼šæ¥æ”¶æ–¹æ£€æµ‹å’Œçº æ­£å·®é”™çš„èƒ½åŠ›\n\n\næ£€éªŒå’Œ(Checksumming)\nå¾ªç¯å†—ä½™æ£€æµ‹(CRC, Cyclic Redundancy Check)\nå¤šé¡¹å¼ç¼–ç (polynomial code)\nç”Ÿæˆå¤šé¡¹å¼(generator)\n\n\n\n6.3 Multiple Access Links and Protocols\n\n\n\n\n\n\n\n\nå¤šè·¯è®¿é—®é“¾è·¯å’Œåè®®\n\nä¿¡é“åˆ’åˆ†åè®®(Channel Partitioning Protocols)ï¼š\nTDMï¼ˆæ—¶åˆ†å¤šè·¯å¤ç”¨ï¼‰\nFDMï¼ˆé¢‘åˆ†å¤šè·¯å¤ç”¨ï¼‰\nCDMA (ç åˆ†å¤šå€, Code Divison Multiple Access)\n\n\néšæœºæ¥å…¥åè®®(Random Access Protocols)\nSlotted ALOHAï¼ˆæ—¶éš™ALOHAï¼‰\nALOHA\nCSMAï¼ˆè½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰\nCSMA/CDï¼ˆå…·æœ‰ç¢°æ’æ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰\n\n\nè½®æµåè®®(Taking-Turns Protocols)\nè½®è¯¢åè®®(polling protocol)\nä»¤ç‰Œä¼ é€’åè®®(token-passing protocol)\n\n\nDOCSISï¼šç”¨äºç”µç¼†å› ç‰¹ç½‘æ¥å…¥çš„é“¾è·¯å±‚åè®®\n\n6.4 Switched Local Area NetworksLink-Layer Addressing and ARP\n\nMAC Addresses(ç‰©ç†åœ°å€)\né•¿åº¦6å­—èŠ‚ï¼Œ2^48ä¸ªå¯èƒ½çš„MACåœ°å€\nMACå¹¿æ’­åœ°å€(broadcast address)ï¼šFF-FF-FF-FF-FF-FF\n\n\nARP(åœ°å€è§£æåè®®, Address Resolution Protocol)\nåœ¨IPåœ°å€å’ŒMACåœ°å€é—´è¿›è¡Œè½¬æ¢\n\n\n\nEthernet Frame \n\nLink-Layer Switches\né“¾è·¯å±‚äº¤æ¢æœºï¼š\n\näº¤æ¢æœºè¡¨(switch table)ï¼š(MACåœ°å€ï¼Œé€šå‘è¯¥MACåœ°å€çš„äº¤æ¢æœºæ¥å£ï¼Œæ—¶é—´)\nè‡ªå­¦ä¹ (self-learning)\nå³æ’å³ç”¨è®¾å¤‡(plug-and-play device)\n\nSwitches vs Routers\n\näº¤æ¢æœºæ˜¯ç¬¬äºŒå±‚çš„åˆ†ç»„äº¤æ¢æœºï¼Œè·¯ç”±å™¨æ˜¯ç¬¬ä¸‰å±‚çš„åˆ†ç»„äº¤æ¢æœº\näº¤æ¢æœºå³æ’å³ç”¨ï¼Œä½†å¯¹äºå¹¿æ’­é£æš´(broadcast storms)æ²¡æœ‰ä¿æŠ¤æªæ–½\n\nè·¯ç”±å™¨å’Œè¿æ¥åˆ°ä»–ä»¬çš„ä¸»æœºéœ€è¦äººä¸ºé…ç½®IPåœ°å€ï¼Œè·¯ç”±å™¨å¯¹ç¬¬äºŒå±‚çš„å¹¿æ’­é£æš´æä¾›äº†é˜²ç«å¢™ä¿æŠ¤(firewall protections)\n\n\n\n\n\n\n\n\n\n\n\näº¤æ¢æœºï¼Œè·¯ç”±å™¨å’Œä¸»æœºä¸­çš„æ•°æ®åŒ…å¤„ç†\n\nVirtual Local Area Networks (VLANs)\nè™šæ‹Ÿå±€åŸŸç½‘çš„ä½œç”¨ï¼šæµé‡éš”ç¦»(traffic isolation)ï¼Œç®¡ç†ç”¨æˆ·(managing users)\n\nChapter 7 Wireless and Mobile Networksæ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œ\n7.1 Introduction\næ— çº¿ä¸»æœº(wireless host)ï¼šä¸»æœºæœ¬èº«å¯èƒ½ç§»åŠ¨ä¹Ÿå¯èƒ½ä¸ç§»åŠ¨\næ— çº¿é“¾è·¯(wireless communication link)ï¼šä¸»æœºé€šè¿‡æ— çº¿çº¿è·¯è¿æ¥åˆ°ä¸€ä¸ªåŸºç«™æˆ–è€…å¦ä¸€å°æ— çº¿ä¸»æœº\nåŸºç«™(base station)ï¼šexp: èœ‚çªå¡”(cell tower)ï¼Œ802.11æ— çº¿LANä¸­çš„æ¥å…¥ç‚¹(access point)\n\n\n\n7.2 Wireless Links and Network Characteristicswire link vs wireless link\n\nè·¯å¾„æŸè€—(path loss)ï¼šä¿¡å·å¼ºåº¦é€’å‡\n\næ¥è‡ªå…¶ä»–æºçš„å¹²æ‰°\n\nå¤šå¾„ä¼ æ’­(multipath propagation)ï¼šç”µç£æ³¢çš„ä¸€éƒ¨åˆ†å—åå°„åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹é—´èµ°äº†ä¸åŒé•¿åº¦çš„è·¯å¾„\n\nSignal-to-Noise Ratio(SNR)\n\n\n\n\n\n\n\n\n\n ä¿¡å™ªæ¯”(SNR)ï¼šæ‰€å—åˆ°çš„ä¿¡å·å’Œå™ªå£°å¼ºåº¦çš„ç›¸å¯¹æµ‹é‡\næ¯”ç‰¹å·®é”™ç‡(BER)ï¼šæ¥æ”¶æ–¹æ”¶åˆ°çš„æœ‰é”™ä¼ è¾“çš„æ¯”ç‰¹çš„æ¦‚ç‡\n\nç»™å®šè°ƒåˆ¶æ–¹æ¡ˆï¼ŒSNRè¶Šé«˜BERè¶Šä½\nç»™å®šSNRï¼Œå°±è¦è¾ƒé«˜æ¯”ç‰¹ä¼ è¾“ç‡çš„è°ƒåˆ¶æŠ€æœ¯å°†å…·æœ‰è¾ƒé«˜çš„BER\nç‰©ç†å±‚è°ƒåˆ¶æŠ€æœ¯çš„åŠ¨æ€é€‰æ‹©èƒ½ç”¨äºé€‚é…å¯¹ä¿¡é“æ¡ä»¶çš„è°ƒåˆ¶æŠ€æœ¯\n\n7.3 WiFi: 802.11 Wireless LANsThe 802.11 Architecture\n\n\n\n\n\n\n\n\n\né€Ÿç‡é€‚åº”(Rate Adaptation)ï¼ŒåŠŸç‡ç®¡ç†(Power Management)\n\nåŸºæœ¬æ„å»ºæ¨¡å—ï¼šåŸºæœ¬æœåŠ¡é›†(Basic Service Set, BSS)\nBSSï¼šä¸€ä¸ª/å¤šä¸ªæ— çº¿ç«™ç‚¹ï¼Œä¸€ä¸ªæ¥å…¥ç‚¹(Access Point, AP)çš„ä¸­å¤®åŸºç«™(base station)\n\n\nChannels and Association\nexp: ä½ æºå¸¦ç§»åŠ¨è®¾å¤‡è¿›å…¥WiFiä¸›æ—ï¼Œæ‰¾æ— çº¿å› ç‰¹ç½‘æ¥å…¥ï¼Œè®¾åœ¨ä¸›æ—ä¸­æœ‰5ä¸ªAPï¼Œä¸ºè·å¾—å› ç‰¹ç½‘æ¥å…¥ä½ çš„æ— çº¿ç«™ç‚¹åº”åŠ å…¥å…¶ä¸­ä¸€ä¸ªå­ç½‘æ•…éœ€ä¸å…¶ä¸­ä¸€ä¸ªAPç›¸å…³è”(associate)ï¼Œå³å»ºç«‹ä¸€æ¡è™šæ‹Ÿçº¿è·¯\nThe 802.11 MAC Protocol\n\néšæœºè®¿é—®åè®®ï¼šå¸¦ç¢°æ’é¿å…çš„CSMA(CSMA with collision avoidance)ï¼ŒCSMA/CAï¼Œç±»æ¯”ä»¥å¤ªç½‘çš„CSMA/CD\n\nå¤„ç†éšè—ç»ˆç«¯ï¼šRTS(çŸ­è¯·æ±‚å‘é€ï¼ŒReqeust to Send), CTS(å…è®¸å‘é€ï¼ŒClear to Send)\n\n\nThe IEEE 802.11 Frame\n\n\n","slug":"note/ComputerNetwork_Note","date":"2021-12-10T05:44:28.000Z","categories_index":"NOTE","tags_index":"note,ComputerNetwork","author_index":"Maskros"},{"id":"845d8d8490a208e5b118592a6863cd87","title":"Trieä¸“é¢˜è®­ç»ƒ","content":"Trie ä¸“é¢˜è®­ç»ƒ0.0\n0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼šç»™äº†ä¸€å †å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡ä»¥æ¨¡å¼ä¸²ä½œå‰ç¼€å‡ºç°çš„å•è¯ä¸ªæ•°\ntrieå…¥é—¨é¢˜ï¼Œå­˜ç»“ç‚¹æ—¶ç»Ÿè®¡ä¸€ä¸‹è¿‡å½“å‰ç»“ç‚¹çš„å•è¯ä¸ªæ•°å³å¯\n&#x2F;&#x2F;å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘\n&#x2F;&#x2F;å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸²\nconst int maxn &#x3D; 2e6 + 5;  &#x2F;&#x2F;å¦‚æœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§\nint tree[maxn][30];        &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];          &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;                   &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•°\nint cnt[maxn];\nvoid insert_(char* str) &#123;\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            tree[root][id] &#x3D; ++tot;\n        root &#x3D; tree[root][id];\n        cnt[root]++;\n    &#125;\n    flagg[root] &#x3D; true;\n&#125;\nbool find_(char* str) &#123;  &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    int ans;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            return false;\n        root &#x3D; tree[root][id];\n        &#x2F;&#x2F; if(!flagg[root] &amp;&amp; i&#x3D;&#x3D;len-1) return false;   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é…\n    &#125;\n    ans &#x3D; cnt[root];\n    cout&lt;&lt;ans&lt;&lt;endl;\n    return true;\n&#125;\nvoid init() &#123;  &#x2F;&#x2F;æœ€åæ¸…ç©ºï¼ŒèŠ‚çœæ—¶é—´\n    for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123;\n        flagg[i] &#x3D; false;\n        for (int j &#x3D; 0; j &lt; 10; j++)\n            tree[i][j] &#x3D; 0;\n    &#125;\n    memset(cnt,0,sizeof(cnt));\n    tot &#x3D; 0;  &#x2F;&#x2F;REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜\n&#125;\nvoid solve() &#123;\n    char str[15];\n    init();\n    while(gets(str)&amp;&amp;str[0]!&#x3D;&#39;\\0&#39;)&#123;\n        insert_(str);\n    &#125;\n    while(gets(str)&amp;&amp;str[0]!&#x3D;EOF)&#123;\n        bool t &#x3D; find_(str);\n        if(!t) cout&lt;&lt;0&lt;&lt;endl;    \n    &#125;\n&#125;\n0x02 Remember the Word LA 3942\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nç»™å‡ºä¸€ä¸ªç”±Sä¸ªä¸åŒå•è¯ç»„æˆçš„å­—å…¸å’Œä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼ŒæŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ†è§£æˆè‹¥å¹²ä¸ªå•è¯çš„è¿æ¥(å¯é‡å¤ä½¿ç”¨)ï¼Œæœ‰å¤šå°‘ç§æ–¹æ³•ã€‚ex: æœ‰å››ä¸ªå•è¯ï¼ša, b, cd, abï¼›åˆ™abcdæœ‰ä¸¤ç§åˆ†è§£æ–¹æ³•ï¼ša+b+cd å’Œ ab+cd\næ€è·¯ï¼š\ndp + Trie\nè®¡æ•°é—®é¢˜è€ƒè™‘dpï¼š\nè€ƒè™‘çŠ¶æ€ï¼šdp[i] ä¸ºä»¥iå¼€å§‹çš„åç¼€çš„æ–¹æ¡ˆæ•°\nè€ƒè™‘è½¬ç§»ï¼šå› ä¸ºå•è¯é•¿åº¦ä¸å¤§äº100ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æš´åŠ›å‘åçœ‹å½“å‰å•è¯æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Trieæˆ–è€…å­—ç¬¦ä¸²å“ˆå¸Œå®Œæˆ\nä»¤dp(i)è¡¨ç¤ºä»å­—ç¬¦iå¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œdp(i)=sum{dp(i+len(x))}, xæ˜¯s[iâ€¦L]çš„å‰ç¼€ã€‚ç„¶åæŠŠæ‰€æœ‰å¯åˆ†è§£æˆçš„å•è¯æ„é€ æˆä¸€é¢—Trieæ ‘ï¼Œå†è®©æ¯ä¸²åœ¨ä¸Šé¢è·‘ï¼Œdp[0]å³æ˜¯æ–¹æ¡ˆæ€»æ•°ã€‚\n#include &lt;bits&#x2F;stdc++.h&gt;\n#define maxn 300005\n#define mod 20071027\nchar P[maxn];\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt;&#x3D; y; i--)\nusing namespace std;\nint dp[maxn];        &#x2F;&#x2F;dp[i] ä¸ºä»¥iå¼€å§‹çš„åç¼€çš„æ–¹æ¡ˆæ•°\nint tree[maxn][30];  &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];    &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;             &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•°\nint m;               &#x2F;&#x2F;ä¸»ä¸²é•¿åº¦\nvoid insert_(char* str) &#123;\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            tree[root][id] &#x3D; ++tot;\n        root &#x3D; tree[root][id];\n    &#125;\n    flagg[root] &#x3D; true;\n&#125;\nvoid find_(int id) &#123;  &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int root &#x3D; 0;\n    for (int i &#x3D; id; i &lt;&#x3D; m; i++) &#123;\n        int k &#x3D; P[i] - &#39;a&#39;;\n        if (!tree[root][k]) break;\n        root &#x3D; tree[root][k];\n        if (flagg[root])    \n            dp[id] &#x3D; (dp[id] + dp[i + 1]) % mod;\n    &#125;\n&#125;\nvoid init() &#123; \n    for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123;\n        flagg[i] &#x3D; false;\n        for (int j &#x3D; 0; j &lt; 30; j++)\n            tree[i][j] &#x3D; 0;\n    &#125;\n    memset(dp, 0, sizeof(dp));\n    tot &#x3D; 0; \n&#125;\nchar c[105];\nint main() &#123;\n    long long times &#x3D; 0;\n    init();\n    while (scanf(&quot;%s&quot;, P)!&#x3D;EOF) &#123;\n        times++;\n        int S;\n        cin &gt;&gt; S;\n        &#x2F;&#x2F; init();\n        rep(i, 0, S) &#123;\n            scanf(&quot;%s&quot;, c);\n            insert_(c);\n        &#125;\n        m &#x3D; strlen(P);\n        dp[m] &#x3D; 1;\n        red(i, m, 0) &#123;\n            find_(i);\n        &#125;\n        cout &lt;&lt; &quot;Case &quot; &lt;&lt; times &lt;&lt; &quot;: &quot; &lt;&lt; dp[0] &lt;&lt; endl;\n        init();\n    &#125;\n&#125;\n0x03 â€œstrcmp()â€ Anyone?\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nè¾“å…¥nä¸ªå­—ç¬¦ä¸²ï¼Œä¸¤ä¸¤è°ƒç”¨ä¸€æ¬¡strcmp()ï¼Œé—®å­—ç¬¦æ¯”è¾ƒçš„æ€»æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿex:\nstrcmp(â€œthanâ€, &quot;that&quot;)ï¼šcnt = 7\né¢˜è§£ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒæ¬¡æ•°å…¶å®æ˜¯ ç›¸åŒå­—ç¬¦æ•°*2 + (å­˜åœ¨ä¸åŒå­—ç¬¦? 1 : 0)ï¼›ç„¶åå»ºå­—å…¸æ ‘ï¼Œdfsä¸€ä¸‹å³å¯ã€‚å› ä¸ºèŠ‚ç‚¹çš„ä¸ªæ•°æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ç”¨å·¦å­©å­å³å…„å¼Ÿçš„æ–¹æ³•å»ºç«‹å­—å…¸æ ‘ã€‚\n#include&lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nconst int maxnode &#x3D; 4000 * 1000 + 10;\nconst int sigma_size &#x3D; 26;\n&#x2F;&#x2F; å­—æ¯è¡¨ä¸ºå…¨ä½“å°å†™å­—æ¯çš„Trie\nstruct Trie &#123;\n    int head[maxnode];  &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å·\n    int next[maxnode];  &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å·\n    char ch[maxnode];   &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦\n    int tot[maxnode];   &#x2F;&#x2F; tot[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘åŒ…å«çš„å¶ç»“ç‚¹æ€»æ•°\n    int sz;             &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n    long long ans;      &#x2F;&#x2F; ç­”æ¡ˆ\n    void clear() &#123;\n        sz &#x3D; 1;\n        tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0;\n    &#125;  &#x2F;&#x2F; åˆå§‹æ—¶åªæœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹\n\n    &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²sï¼ˆåŒ…æ‹¬æœ€åçš„&#39;\\0&#39;ï¼‰ï¼Œæ²¿é€”æ›´æ–°tot\n    void insert(const char* s) &#123;\n        int u &#x3D; 0, v, n &#x3D; strlen(s);\n        tot[0]++;\n        for (int i &#x3D; 0; i &lt;&#x3D; n; i++) &#123;\n            &#x2F;&#x2F; æ‰¾å­—ç¬¦a[i]\n            bool found &#x3D; false;\n            for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                if (ch[v] &#x3D;&#x3D; s[i]) &#123;  &#x2F;&#x2F; æ‰¾åˆ°äº†\n                    found &#x3D; true;\n                    break;\n                &#125;\n            if (!found) &#123;\n                v &#x3D; sz++;  &#x2F;&#x2F; æ–°å»ºç»“ç‚¹\n                tot[v] &#x3D; 0;\n                ch[v] &#x3D; s[i];\n                next[v] &#x3D; head[u];\n                head[u] &#x3D; v;  &#x2F;&#x2F; æ’å…¥åˆ°é“¾è¡¨çš„é¦–éƒ¨\n                head[v] &#x3D; 0;\n            &#125;\n            u &#x3D; v;\n            tot[u]++;\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F; ç»Ÿè®¡LCP&#x3D;uçš„æ‰€æœ‰å•è¯ä¸¤ä¸¤çš„æ¯”è¾ƒæ¬¡æ•°ä¹‹å’Œ\n    void dfs(int depth, int u) &#123;\n        if (head[u] &#x3D;&#x3D; 0)  &#x2F;&#x2F; å¶ç»“ç‚¹\n            ans +&#x3D; tot[u] * (tot[u] - 1) * depth;\n        else &#123;\n            int sum &#x3D; 0;\n            for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                sum +&#x3D; tot[v] * (tot[u] - tot[v]);  &#x2F;&#x2F; å­æ ‘vä¸­é€‰ä¸€ä¸ªä¸²ï¼Œå…¶ä»–å­æ ‘ä¸­å†é€‰ä¸€ä¸ª\n            ans +&#x3D; sum &#x2F; 2 * (2 * depth + 1);       &#x2F;&#x2F; é™¤ä»¥2æ˜¯æ¯ç§é€‰æ³•ç»Ÿè®¡äº†ä¸¤æ¬¡\n            for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                dfs(depth + 1, v);\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F; ç»Ÿè®¡\n    long long count() &#123;\n        ans &#x3D; 0;\n        dfs(0, 0);\n        return ans;\n    &#125;\n&#125;;\nconst int maxl &#x3D; 1000 + 10;  &#x2F;&#x2F; æ¯ä¸ªå•è¯æœ€å¤§é•¿åº¦\nint n;\nchar word[maxl];\nTrie trie;\nint main() &#123;\n    int kase &#x3D; 1;\n    while (scanf(&quot;%d&quot;, &amp;n) &#x3D;&#x3D; 1 &amp;&amp; n) &#123;\n        trie.clear();\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            scanf(&quot;%s&quot;, word);\n            trie.insert(word);\n        &#125;\n        printf(&quot;Case %d: %lld\\n&quot;, kase++, trie.count());\n    &#125;\n    return 0;\n&#125;\n","slug":"algorithm/exercise/trie_problem","date":"2021-11-27T04:20:00.000Z","categories_index":"ALGORITHM TRAINING","tags_index":"ACM,string,dp,algorithm,dfs,Trie","author_index":"Maskros"},{"id":"f9c5a67ed89813cc4d2fda9f690375dd","title":"Trie","content":"Trieå­—å…¸æ ‘/å‰ç¼€æ ‘\nä»€ä¹ˆæ˜¯Trie\n\n\n\n\n\n\n\n\nä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿æ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²\n\nå¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š\n\n\næ“ä½œ\næ’å…¥å­—ç¬¦ä¸² insert \n\nåˆå§‹åŒ– root = 0 , éå†å­—ç¬¦ä¸², å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦, è®¡ç®—å…¶æ˜ å°„å€¼ id\n\næ£€æŸ¥Trie[root][id] == 0 æ˜¯å¦æˆç«‹ï¼š\nè‹¥æˆç«‹, åˆ™è¿›è¡Œæ’å…¥,  Trie[root][id] = ++cnt\nè‹¥ä¸æˆç«‹,è¯´æ˜è¯¥ä½ç½®å·²ç»æœ‰è¯¥å­—ç¬¦,ç›´æ¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦åº”æ’å…¥çš„ä½ç½®: root = trie[root][id].\n\né‡å¤ä¸Šè¿°æ­¥éª¤,ç›´åˆ°å­—ç¬¦ä¸²å®Œå…¨æ’å…¥Trieæ ‘.\n\n\n\nåŒ¹é…å­—ç¬¦ä¸² search\n\nåˆå§‹åŒ–root = 0,éå†å­—ç¬¦ä¸²,å¯¹äºå…¶æ¯ä¸€ä¸ªå­—ç¬¦,è®¡ç®—å…¶æ˜ å°„å€¼id\n\næ£€æŸ¥Trie[root][id] == 0æ˜¯å¦æˆç«‹ï¼š\nè‹¥æˆç«‹, åˆ™è¯´æ˜Trieæ ‘å½“å‰è·¯å¾„ä¸å­˜åœ¨è¯¥å­—ç¬¦,è¿”å›åŒ¹é…å¤±è´¥\nè‹¥ä¸æˆç«‹,åˆ™è¯´æ˜å½“å‰è·¯å¾„å­˜åœ¨è¯¥å­—ç¬¦,æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®: root = trie[root][id]\n\né‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè‹¥é¡ºåˆ©åŒ¹é…å®Œæ•´ä¸ªå­—ç¬¦ä¸²,åˆ™åº”è¯¥æ£€æŸ¥å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®åœ¨Trieæ ‘ä¸­æ˜¯å¦æ˜¯ç»“æŸæ ‡å¿—ï¼Œflag[root] == trueæˆç«‹,è¡¨æ˜æ˜¯ç»“æŸæ ‡å¿—,åˆ™è¿”å›åŒ¹é…æˆåŠŸ,å¦åˆ™è¿”å›åŒ¹é…å¤±è´¥\n\n\n\n\næ¨¡æ¿\né™„ï¼šå­—ç¬¦æ•°ç»„æ“ä½œ\n\nchar s1[maxn], s2[maxn];\nstrcpy(s1, s2);\t\t&#x2F;&#x2F;å¤åˆ¶å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1ã€‚\nstrcat(s1, s2);\t\t&#x2F;&#x2F;è¿æ¥å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1 çš„æœ«å°¾ã€‚\nstrlen(s1);\t\t\t&#x2F;&#x2F;è¿”å›å­—ç¬¦ä¸² s1 çš„é•¿åº¦ã€‚\nstrcmp(s1, s2);\t\t&#x2F;&#x2F;å¦‚æœ s1 å’Œ s2 æ˜¯ç›¸åŒçš„ï¼Œåˆ™è¿”å› 0ï¼›å¦‚æœ s1&lt;s2 åˆ™è¿”å›å€¼å°äº 0ï¼›å¦‚æœ s1&gt;s2 åˆ™è¿”å›å€¼å¤§äº 0ã€‚\nstrchr(s1, ch);\t\t&#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ ch çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚\nstrstr(s1, s2);\t\t&#x2F;&#x2F;è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ä¸² s2 çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚\n\næ¨¡æ‹Ÿ\n\n\n\n\n\n\n\n\n\n\nå¯¹ç»“æ„ä½“Trieè¿›è¡Œæ’å…¥å’ŒæŸ¥è¯¢æ“ä½œ\nval[i] &gt; 0 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå•è¯ç»“ç‚¹\n#define maxn 41000\n#define sigmasize 26  &#x2F;&#x2F; å­—ç¬¦é›†çš„å¤§å° ex: å…¨ä½“å°å†™å­—æ¯ï¼š26\nstruct Trie&#123;\n    int ch[maxn][sigmasize];\n    int val[maxn];  &#x2F;&#x2F; ç»“ç‚¹iå¯¹åº”çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªå­—ç¬¦ä¸²çš„æƒå€¼, å¦‚val[i]&gt;0 å½“ä¸”ä»…å½“ç»“ç‚¹iæ˜¯å•è¯ç»“ç‚¹\n    int sz;            &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    Trie() &#123; sz &#x3D; 1; memset(ch[0], 0, sizeof(ch[0]));&#125;   &#x2F;&#x2F;åˆå§‹åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹\n    int idx(char c) &#123; return c - &#39;a&#39;; &#125;  &#x2F;&#x2F;å­—ç¬¦cçš„ç¼–å·\n\n    &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²s, é™„åŠ ä¿¡æ¯ä¸ºvã€‚vå¿…é¡»é0, 0 ä»£è¡¨â€œæœ¬ç»“ç‚¹ä¸æ˜¯å•è¯ç»“ç‚¹â€\n    inline void insert(char *s, int v) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (!ch[u][c]) &#123;  &#x2F;&#x2F;ç»“ç‚¹ä¸å­˜åœ¨\n                memset(ch[sz], 0, sizeof(ch[sz]));\n                val[sz] &#x3D; 0;      &#x2F;&#x2F;ä¸­é—´èŠ‚ç‚¹çš„é™„åŠ ä¿¡æ¯ä¸º0\n                ch[u][c] &#x3D; sz++;  &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹\n            &#125;\n            u &#x3D; ch[u][c];  &#x2F;&#x2F;å¾€ä¸‹èµ°\n        &#125;\n        val[u] &#x3D; v;  &#x2F;&#x2F;å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„é™„åŠ ä¿¡æ¯ä¸ºv\n    &#125;\n    &#x2F;&#x2F; æŸ¥æ‰¾å­—ç¬¦ä¸²s\n    inline bool search(char *s) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (ch[u][c] &#x3D;&#x3D; 0) return false;\n            u &#x3D; ch[u][c];\n        &#125;\n        if (val[u] &#x3D;&#x3D; 0)\n            return false;\n        return true;\n    &#125;\n&#125;trie;\n\nç‰ˆæœ¬2\n\n\n\n\n\n\n\n\n\n\nå¯ä»¥ç”¨ find(str) åˆ¤æ–­å­—å…¸æ ‘ä¸­æ˜¯å¦æœ‰ä»¥ str ä½œå‰ç¼€çš„å•è¯\n//å¯¹äºå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨å­—å…¸æ ‘\n//å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸²\nconst int maxn = 2e6 + 5;  //å¦‚æœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§\nint tree[maxn][30];        //tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];          //è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;                   //æ€»èŠ‚ç‚¹æ•°\nvoid insert_(char* str) &#123;\n    int len = strlen(str);\n    int root = 0;\n    for (int i = 0; i &lt; len; i++) &#123;\n        int id = str[i] - 'a';\n        if (!tree[root][id])\n            tree[root][id] = ++tot;\n        root = tree[root][id];\n    &#125;\n    flagg[root] = true;\n&#125;\nbool find_(char* str)&#123;  //æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int len = strlen(str);\n    int root = 0;\n    for (int i = 0; i &lt; len; i++) &#123;\n        int id = str[i] - 'a';\n        if (!tree[root][id])\n            return false;\n        root = tree[root][id];\n        if(!flagg[root] &amp;&amp; i==len-1) return false;   //åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é…\n    &#125;\n    return true;\n&#125;\nvoid init()&#123; \n    for (int i = 0; i &lt;= tot; i++) &#123;\n        flagg[i] = false;\n        for (int j = 0; j &lt; 30; j++)\n            tree[i][j] = 0;\n    &#125;\n    tot = 0;  //REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜\n&#125;\n\nä¼˜åŒ–trieæ ‘\n\n\n\n\n\n\n\n\n\nå½“ç»“ç‚¹æ¯”è¾ƒå¤šï¼Œsigma_sizeæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œé‡‡ç”¨å·¦å„¿å­-å³å…„å¼Ÿå»ºç«‹trie\n\n\nstruct Trie &#123;\n    int head[maxn];  &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å·\n    int next[maxn];  &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å·\n    char ch[maxn];   &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦\n    int sz;             &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    void clear() &#123;\n        sz &#x3D; 1;\n        tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0;\n    &#125;\n    void insert(const char* s) &#123;\n        int u &#x3D; 0, v, n &#x3D; strlen(s);\n        tot[0]++;\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            bool found &#x3D; false;\n            for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                if (ch[v] &#x3D;&#x3D; s[i]) &#123;\n                    found &#x3D; true;\n                    break;\n                &#125;\n            if (!found) &#123;\n                v &#x3D; sz++;\n                tot[v] &#x3D; 0;\n                ch[v] &#x3D; s[i];\n                next[v] &#x3D; head[u];\n                head[u] &#x3D; v;\n                head[v] &#x3D; 0;\n            &#125;\n            u &#x3D; v;\n            tot[u]++;\n        &#125;\n    &#125;\n&#125;;\né¢˜å•solution\n\n0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 link\n\n0x02 èƒŒå•è¯ LA 3942 link\n\n0x03 strcmp()å‡½æ•° UVa 11732 link\n\n\n\n\n\n\n\n\n\n\n\nå‡å¦‚å†æ¥ä¸€éé“¶å·\n","slug":"algorithm/learn/trie","date":"2021-11-27T03:55:50.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,string,algorithm,Trie","author_index":"Maskros"},{"id":"eb0105647eb3a218c386b75ad79d5f5a","title":"kmpä¸“é¢˜è®­ç»ƒ","content":"kmp/ekmp ä¸“é¢˜è®­ç»ƒ\n\n\n\n\n\n\n\n\nğŸ´ç³™äººè ¢å‡‘åˆçœ‹\n0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087\n\n\n\n\n\n\n\n\nlink\nçº¯çº¯kmpè£¸é¢˜ï¼Œä¸å¯é‡å è®¡æ•° \n#include&lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nvoid kmp_pre(string p, int next[])\n&#123;\n    int i, j;\n    j &#x3D; next[0] &#x3D; -1;\n    i &#x3D; 0;\n    while (i &lt; p.length())\n    &#123;\n        while (-1 !&#x3D; j &amp;&amp; p[i] !&#x3D; p[j])\n            j &#x3D; next[j];\n        next[++i] &#x3D; ++j;\n    &#125;\n&#125;\nint kmp_Count(string x, string y, int next[])\n&#123; \n    int i, j;\n    int ans &#x3D; 0;\n    kmp_pre(x, next);\n    i &#x3D; j &#x3D; 0;\n    while (i &lt; y.length())\n    &#123;\n        while (-1 !&#x3D; j &amp;&amp; y[i] !&#x3D; x[j])\n            j &#x3D; next[j];\n        i++;\n        j++;\n        if (j &gt;&#x3D; x.length())\n        &#123;\n            ans++;\n            j &#x3D; 0;       &#x2F;&#x2F;ä¸å¯é‡å è®¡æ•°\n        &#125;\n    &#125;\n    return ans;\n&#125;\nint main()&#123;\n    string a,b;\n    int nxt[1005];\n    while(1)&#123;\n        cin&gt;&gt;a;\n        if(a&#x3D;&#x3D;&quot;#&quot;) break;\n        else&#123;\n            cin&gt;&gt;b;\n            memset(nxt,0,b.length()+1);\n            int ans&#x3D;kmp_Count(b,a,nxt);\n            cout&lt;&lt;ans&lt;&lt;endl;            \n        &#125;\n    &#125;    \n&#125;\n0x02 Secret HDU-6153\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nç»™ä¸¤ä¸ªä¸²s1,s2ï¼Œæ±‚s2æ‰€æœ‰çš„åç¼€å­ä¸²çš„é•¿åº¦ä¹˜åœ¨ä¸»ä¸²s1ä¸­å‡ºç°çš„æ¬¡æ•°ä¹‹å’Œ\nè§£æ³•ï¼š\næŒ¨ä¸ªæšä¸¾åç¼€æ˜¯ğŸ·båšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²ç¿»è½¬ï¼Œè¿™æ ·åç¼€å˜å‰ç¼€ï¼Œå°±æ¥åˆ°äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„kmpåŒ¹é…ç¯èŠ‚\nè§£æ³•ä¸€ï¼šexkmp\nç¿»è½¬åå‘ç°è¿™ä¸å°±æ­£å¥½åˆ©ç”¨extend[]æ•°ç»„çš„å®šä¹‰ç›´æ¥æ±‚è§£ï¼Œåšä¸€éekmpï¼Œéå†extend[]æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå€¼åš (1+entend[i])*entend[i]&gt;&gt;1 å¤„ç†ï¼Œå…¨éƒ¨åŠ å’Œå³ä¸ºç­”æ¡ˆ\nè§£æ³•äºŒï¼škmp\nåˆ©ç”¨å¯¹next[]æ•°ç»„çš„ç†è§£ï¼Œæš‚æ—¶é¸½äº†ï¼Œå› ä¸ºæƒ³äº†å¾ˆä¹…æ²¡æƒ³æ˜ç™½\nè§£æ³•ä¸€ï¼š ekmp \n\n\n\n\n\n\n\n\n\nçŒ›waä¹‹åç»™äº†æˆ‘æ·±åˆ»çš„æ•™è®­ï¼šæ•°ç»„å¼€ longlongğŸ˜…ğŸ˜…\n#include &lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nconst int mod &#x3D; 1000000007;\n#define ll long long\n#define maxn 1000005\n#define rep(i,x,y) for(int i&#x3D;x;i&lt;y;i++)\nll nxt[maxn], extend[maxn];\nvoid ekmp_pre(string x, ll next[])\n&#123;\n    int m &#x3D; x.length();\n    next[0] &#x3D; m;\n    int j &#x3D; 0;\n    while (j + 1 &lt; m &amp;&amp; x[j] &#x3D;&#x3D; x[j + 1])\n        j++;\n    next[1] &#x3D; j;\n    int k &#x3D; 1;\n    for (int i &#x3D; 2; i &lt; m; i++)\n    &#123;\n        int p &#x3D; next[k] + k - 1;\n        int L &#x3D; next[i - k];\n        if (i + L &lt; p + 1)\n            next[i] &#x3D; L;\n        else\n        &#123;\n            j &#x3D; max(0, p - i + 1);\n            while (i + j &lt; m &amp;&amp; x[i + j] &#x3D;&#x3D; x[j])\n                j++;\n            next[i] &#x3D; j;\n            k &#x3D; i;\n        &#125;\n    &#125;\n&#125;\nll ekmp(string x, string y, ll next[], ll extend[])\n&#123;\n    ekmp_pre(x, next);\n    int j &#x3D; 0;\n    ll ret &#x3D; 0;\n    int m &#x3D; x.length(), n &#x3D; y.length();\n    while (j &lt; n &amp;&amp; j &lt; m &amp;&amp; x[j] &#x3D;&#x3D; y[j])\n        j++;\n    extend[0] &#x3D; j;\n    int k &#x3D; 0;\n    for (int i &#x3D; 1; i &lt; n; i++)\n    &#123;\n        int p &#x3D; extend[k] + k - 1;\n        int L &#x3D; next[i - k];\n        if (i + L &lt; p + 1)\n            extend[i] &#x3D; L;\n        else\n        &#123;\n            j &#x3D; max(0, p - i + 1);\n            while (i + j &lt; n &amp;&amp; j &lt; m &amp;&amp; y[i + j] &#x3D;&#x3D; x[j])\n                j++;\n            extend[i] &#x3D; j;\n            k &#x3D; i;\n        &#125;\n    &#125;\n    rep(i, 0, n)\n    &#123;\n        ret &#x3D; (ret % mod + (((1 + extend[i])* extend[i])&gt;&gt;1) % mod) % mod;\n    &#125;\n    return ret;\n&#125;\nint main()\n&#123;\n    int t;\n    ios::sync_with_stdio(false);\n    cin &gt;&gt; t;\n    while (t--)\n    &#123;\n        string s, p;\n        cin &gt;&gt; s &gt;&gt; p;\n        reverse(s.begin(), s.end());\n        reverse(p.begin(), p.end());\n        memset(nxt, 0, p.length() + 1);\n        memset(extend, 0, s.length() + 1);\n        ll ans;\n        ans&#x3D;ekmp(p, s, nxt, extend);\n        cout&lt;&lt;ans&lt;&lt;endl;\n    &#125;\n&#125;\nè§£æ³•äºŒï¼škmp\n&#x2F;&#x2F; å¯„\n0x03 Cow Patterns POJ-3167\n\n\n\n\n\n\n\n\nlink ç‰›é¢˜\né¢˜æ„ï¼š\næ¨¡å¼ä¸²å¯ä»¥æµ®åŠ¨çš„æ¨¡å¼åŒ¹é…é—®é¢˜\nç»™å‡ºæ¨¡å¼ä¸²çš„ç›¸å¯¹å¤§å°é¡ºåºï¼Œéœ€è¦æ‰¾å‡ºåœ¨ä¸»ä¸²ä¸­æ¨¡å¼ä¸²çš„åŒ¹é…æ¬¡æ•°å’Œèµ·å§‹ä½ç½®\næ ·ä¾‹ï¼š\nS: 5 6 2 10 10 7 3 2 9  \nP: 1 4 4 3 2 1\næ•… 2 10 10 7 3 2 ç¬¦åˆè¦æ±‚ï¼Œè¾“å‡ºä¸º 1 3\nè§£æ³•ï¼š KMP+å‰ç¼€å’Œ\nç»Ÿè®¡æ¯”å½“å‰æ•°å°ï¼Œå’Œäºå½“å‰æ•°ç›¸ç­‰çš„ï¼Œç„¶åè¿›è¡Œkmp\n&#x2F;&#x2F;POJ 3167\n#include &lt;cstdio&gt;\n#include &lt;cstring&gt;\n#include &lt;vector&gt;\nusing namespace std;\nconst int MAXN &#x3D; 100005;\nconst int MAXM &#x3D; 25005;\n\nint a[MAXN];       &#x2F;&#x2F; å­˜æ”¾ä¸»ä¸²\nint b[MAXM];       &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸²\nint as[MAXN][30];  &#x2F;&#x2F; as[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j\nint bs[MAXM][30];  &#x2F;&#x2F; bs[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j\nint next[MAXM];    &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸²å¤±é…æ—¶çš„ç§»åŠ¨ä½æ•°\nvector&lt;int&gt; ans;   &#x2F;&#x2F; å­˜æ”¾ç»“æœ\nint n, m, s;\n\nvoid Init() &#123;\n    ans.clear();\n    memset(as, 0, sizeof(as));\n    memset(bs, 0, sizeof(bs));\n    as[1][a[1]] &#x3D; 1;\n    bs[1][b[1]] &#x3D; 1;\n    for (int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123;\n        memcpy(as[i], as[i - 1], sizeof(as[0]));\n        ++as[i][a[i]];\n    &#125;\n    for (int i &#x3D; 2; i &lt;&#x3D; m; ++i) &#123;\n        memcpy(bs[i], bs[i - 1], sizeof(bs[0]));\n        ++bs[i][b[i]];\n    &#125;\n&#125;\n\nvoid GetNext() &#123;\n    memset(next, 0, sizeof(next));\n    int i &#x3D; 1, j &#x3D; 0, k &#x3D; 0;\n    next[1] &#x3D; 0;\n    while (i &lt;&#x3D; m) &#123;\n        int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0;\n        for (k &#x3D; 1; k &lt; b[i]; ++k)\n            si +&#x3D; bs[i][k] - bs[i - j][k];\n        ei &#x3D; bs[i][k] - bs[i - j][k];\n        for (k &#x3D; 1; k &lt; b[j]; ++k)\n            sj +&#x3D; bs[j][k];\n        ej &#x3D; bs[j][k];\n        if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej))\n            next[++i] &#x3D; ++j;\n        else\n            j &#x3D; next[j];\n    &#125;\n&#125;\n\nvoid Kmp() &#123;\n    int i &#x3D; 1, j &#x3D; 1, k &#x3D; 1;\n    while (i &lt;&#x3D; n) &#123;\n        int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0;\n        for (k &#x3D; 1; k &lt; a[i]; ++k)\n            si +&#x3D; as[i][k] - as[i - j][k];\n        ei &#x3D; as[i][k] - as[i - j][k];\n        for (k &#x3D; 1; k &lt; b[j]; ++k)\n            sj +&#x3D; bs[j][k];\n        ej &#x3D; bs[j][k];\n        if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej))\n            ++i, ++j;\n        else\n            j &#x3D; next[j];\n        if (j &#x3D;&#x3D; m + 1) &#123;\n            ans.push_back(i - m);\n            j &#x3D; next[j];\n        &#125;\n    &#125;\n&#125;\n\nint main() &#123;\n    while (scanf(&quot;%d %d %d&quot;, &amp;n, &amp;m, &amp;s) &#x3D;&#x3D; 3) &#123;\n        for (int i &#x3D; 1; i &lt;&#x3D; n; ++i)\n            scanf(&quot;%d&quot;, &amp;a[i]);\n        for (int i &#x3D; 1; i &lt;&#x3D; m; ++i)\n            scanf(&quot;%d&quot;, &amp;b[i]);\n        Init();\n        GetNext();\n        Kmp();\n        size_t len &#x3D; ans.size();\n        printf(&quot;%d\\n&quot;, len);\n        for (size_t i &#x3D; 0; i &lt; len; ++i)\n            printf(&quot;%d\\n&quot;, ans[i]);\n    &#125;\n    return 0;\n&#125;\n","slug":"algorithm/exercise/kmp_problem","date":"2021-11-26T13:59:50.000Z","categories_index":"ALGORITHM TRAINING","tags_index":"ACM,string,dp,algorithm,kmp,å‰ç¼€å’Œ","author_index":"Maskros"},{"id":"38cc96ca6220c98ec8c78c52ef6fea74","title":"2021CCPCå¹¿å·ç«™vp","content":"2021CCPCå¹¿å·ç«™vp\n\n\n\n\n\n\n\n\nâ€œå¦‚ä½•è§£æ–¹ç¨‹â€\nC_Necklace\n\n\n\n\n\n\n\n\näºŒåˆ†+è´ªå¿ƒ\nè¯»é¢˜æ¯”è¾ƒå…³é”® æ²¡æ”¹æ˜ç™½wa3\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')    \n#define rep(i, x, y) for (ll i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 1000005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll M,N;\nll pos[maxn];\nbool check(ll x)&#123;\n    ll last=0,tmp,end;\n    end=N-pos[M-1]+pos[0];\n    rep(i,0,M)&#123;\n        if(i==0)&#123;\n            if(end&lt;=x) &#123;last=end; end=0; continue;&#125;\n            else&#123; end-=x;  last=x; continue;&#125;\n        &#125;eif(i==M-1) tmp=end+pos[i]-pos[i-1];\n        else tmp=pos[i]-pos[i-1];\n\n        ll can=pos[i]-pos[i-1]-1;\n        can=(can>0)?can:0;\n        ll sub=(x-last>can)?can:(x-last);\n        if(tmp>=sub) tmp-=sub;\n        else tmp=0;\n        if(tmp&lt;=x) last=tmp;\n        else return 0;\n    &#125;\n    return 1;\n&#125;\nvoid solve() &#123;\n    // N=read(); M=read();\n    cin>>N>>M;\n    ll ans=1,tmp,last=1;\n    rep(i,0,M)&#123;\n        cin>>pos[i];\n    &#125;\n    if(M==1) &#123;cout&lt;&lt;N; return;&#125;\n    ll l=1,r=N;\n    while(l&lt;=r)&#123;\n        ll mid=(l+r)>>1;\n        if(check(mid))&#123;\n            ans=mid;\n            r=mid-1;\n        &#125;else&#123;\n            l=mid+1;\n        &#125;\n    &#125;   \n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    IOS;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nH_Three Intergers (æ•°å­¦)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™a,b,cï¼Œæ±‚æ»¡è¶³x%y=a, y%z=b, z%x=c çš„ä»»æ„ä¸€ç»„x,y,z\næ€è·¯ï¼šæ•°å­¦é¢˜ï¼Œæ–¹ç¨‹åŒ–ç®€ï¼Œæ ¹æ®æ¡ä»¶ç›´æ¥é€ ï¼Œèµ·åˆå¿˜è®°äº†æ¨¡çš„æ€§è´¨å¯¼è‡´è§£ä¸å‡ºæ–¹ç¨‹ï¼Œçœ‹äº†é¢˜è§£æç„¶å¤§æ‚Ÿ é¢˜è§£\n#include &lt;bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() &#123;\n    ios::sync_with_stdio(false);\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        int a, b, c;\n        cin >> a >> b >> c;\n        if (a == b &amp;&amp; b == c) &#123;\n            if (!a) &#123;\n                cout &lt;&lt; \"YES\\n\";\n                cout &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \"\\n\";\n            &#125; else\n                cout &lt;&lt; \"NO\\n\";\n            continue;\n        &#125;\n        ll x, y, z, k;\n        if (b > a) &#123;\n            k = max(0, (c - a) / b) + 1;\n            x = k * b + a;\n            y = b;\n            z = (k * b + a) * 2 + c;\n        &#125; else if (a > c) &#123;\n            k = max(0, (b - c) / a) + 1;\n            x = a;\n            y = (k * a + c) * 2 + b;\n            z = k * a + c;\n        &#125; else if (c > b) &#123;\n            k = max(0, (a - b) / c) + 1;\n            x = (k * c + b) * 2 + a;\n            y = k * c + b;\n            z = c;\n        &#125; else\n            assert(false);\n        cout &lt;&lt; \"YES\\n\";\n        cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; \" \" &lt;&lt; z &lt;&lt; \"\\n\";\n        assert(x % y == a &amp;&amp; y % z == b &amp;&amp; z % x == c);\n        assert(x &lt;= 1e18);\n        assert(y &lt;= 1e18);\n        assert(z &lt;= 1e18);\n    &#125;\n    return 0;\n&#125;\nI_Pudding Store ï¼ˆæ‰“è¡¨ï¼‰\n\n\n\n\n\n\n\n\næ‰‹ç®—äº†ä¸€ä¸‹å¤ªéº»çƒ¦ï¼Œå…¨æ’åˆ—æ‰“è¡¨æ‰¾è§„å¾‹å³å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\n#define mod 998244353\nusing namespace std;\n// 1 2 6 12 24 48 96 192 384 768\n// int a[50];\n// void init(int n)&#123;\n//     rep(i,1,n+1) a[i]=i;\n// &#125;\n// void dfs()&#123;\n//     rep(i,1,11)&#123;\n//         ll cnt=0;\n//         init(i);\n//         bool t=true;\n//         while(t)&#123;\n//             bool can=false;\n//             rep(j,1,i+1)&#123;\n//                 ll fuck=0;\n//                 rep(k,1,j+1)&#123;\n//                     fuck+=a[k];\n//                 &#125;\n//                 fuck*=2;\n//                 if(fuck%j==0) can=true;\n//                 else &#123;can=false; break;&#125;\n//             &#125;\n//             if(can) cnt++;\n//             t=next_permutation(a+1,a+i+1);\n//         &#125;\n//         cout&lt;&lt;cnt&lt;&lt;\" \";\n//     &#125;\n// &#125;\nll qpow(ll a, ll b)&#123;\n    ll ans=1;\n    ll res=a;\n    res%=mod;\n    while(b)&#123;if(b&amp;1) ans=ans*res%mod; b>>=1; res=res*res%mod;&#125;\n    return ans%mod;\n&#125;\nvoid solve() &#123;\n    int n; cin>>n;\n    if(n==1) cout&lt;&lt;1&lt;&lt;endl;\n    eif(n==2) cout&lt;&lt;2&lt;&lt;endl;\n    eif(n==3) cout&lt;&lt;6&lt;&lt;endl;\n    else&#123;\n        ll tmp=6;\n        ll add=qpow(2,n-3);\n        tmp=add%mod*tmp%mod;\n        cout&lt;&lt;tmp&lt;&lt;endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    IOS;\n    // dfs();\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šä»€ä¹ˆæ—¶å€™æ‰èƒ½ä¸ç²—å¿ƒ\n","slug":"xcpc/2021ccpc_guangzhou","date":"2021-11-24T16:42:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,solutions,CCPC,æ‰“è¡¨,äºŒåˆ†,æ•°å­¦,è´ªå¿ƒ","author_index":"Maskros"},{"id":"5746fb5b2209a46ecf437112c82754ca","title":"2021CCPCæ¡‚æ—ç«™vp","content":"2021CCPCæ¡‚æ—ç«™vp\n\n\n\n\n\n\n\n\nâ€ç¥­å¥ æ“¦è‚©è€Œè¿‡çš„æ¡‚æ—ä¸¤æ—¥æ¸¸â€œ\nA_Hero Named Magnus\n\n\n\n\n\n\n\n\næ°´é¢˜ã€‚ä¸ºä»€ä¹ˆä¸bançŒ›çŠ¸ï¼Ÿè¾“å‡º2n-1\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll x; cin>>x;\n    ll ans;\n    ans=x*2-1;\n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_Assumption is All You Need\n\n\n\n\n\n\n\n\næ„é€ é¢˜\né¢˜æ„ï¼šç»™ä½ ä¸¤ä¸ªåºåˆ—Aï¼ŒBï¼Œå¯¹Aå¯æ‰§è¡Œæ“ä½œï¼šè‹¥ iAjï¼Œå¯å°†Aiä¸Ajäº¤æ¢ï¼Œé—®èƒ½å¦é€šè¿‡åˆæ³•çš„æ“ä½œå°†Aå˜æˆBï¼Œå¹¶æ‰“å°æ“ä½œåºåˆ—  \næ€è·¯ï¼šä»å±è‚¡å¾€å‰æ‰«ä¸€éï¼Œå¦‚æœAiå’ŒBiä¸ä¸€æ ·ï¼Œå°±ä»A[Bi_pos]å¾€å‰æ‰«ï¼Œå¯»æ±‚æœ€ä¼˜è§£ï¼ŒçJBè´ªå¿ƒï¼Œwa2å¾…è¡¥\n\nE_Buy and Delete (å›¾è®º)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™äº†ä½ ä¸€äº›å¸¦æƒæœ‰å‘è¾¹ï¼ŒAliceå¯ä»¥ç”¨å·²æœ‰çš„cå…ƒé’±è´­ä¹°ä¸€äº›è¾¹å½¢æˆä¸€å¼ æœ‰å‘å›¾ï¼›éšåBobè¿›è¡Œåˆ è¾¹ï¼Œæ¯æ¬¡å¯ä»¥åˆ é™¤ä¸€ä¸ªæ— ç¯çš„å­é›†ï¼ŒAliceæƒ³æœ€å¤§åŒ–åˆ è¾¹æ¬¡æ•°ï¼ŒBobæƒ³æœ€å°åŒ–ï¼ŒäºŒè€…éƒ½é‡‡å–æœ€ä¼˜æ“ä½œï¼Œé—®Bobéœ€è¦åˆ é™¤å‡ æ¬¡\næ€è·¯ï¼šç­”æ¡ˆåªå¯èƒ½æ˜¯0,1,2ï¼Œ0çš„æƒ…å†µæ˜¯Aliceä¸€æ¡è¾¹éƒ½ä¹°ä¸èµ·ï¼Œ1çš„æƒ…å†µæ˜¯Aliceä¹°çš„æ— ç¯å›¾ï¼Œ2çš„æƒ…å†µæ˜¯Aliceä¹°çš„å¸¦ç¯å›¾ï¼Œæ— è®ºæœ‰å‡ ä¸ªç¯ï¼ŒBobéƒ½åªéœ€è¦åˆ ä¸¤æ¬¡å°±å¤Ÿäº†ï¼Œè¿™ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚\nè§£æ³•ï¼šç›´æ¥æŠŠæ‰€æœ‰è¾¹å­˜åˆ°ä¸€ä¸ªæœ‰å‘å›¾é‡Œï¼ŒåšDijkstraæ‰¾ä»v-&gt;v çš„æœ€çŸ­è·¯ï¼Œåˆ¤æ–­ä¹°ä¸ä¹°å¾—èµ·å°±å¯ä»¥äº†\nps: å¼€å§‹çŠ¯ç—…ç”¨ n2 çš„Dijç»“æœTäº†ï¼Œæ¢äº† nlogn çš„å †ä¼˜åŒ–Dijå°±ä¸Täº†ï¼›ç„¶åè¿˜åœ¨æƒ³æ”¹é€ ä¸€ä¸‹Dijè®©èµ·ç‚¹ä¸º i çš„distæ•°ç»„å¯ä»¥å­˜ dist[i]ï¼Œç»“æœæƒ³äº†æƒ³ç›´æ¥Dijå®Œäº†ä¹‹ådist[j] + mincost[j][i] ä¸å°±æ˜¯ç¯çš„é•¿åº¦å—ï¼Œwssb \n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 1000000001\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 2005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint n, m, c;\nstruct qnode&#123;\n    int v,c;\n    qnode(int _v=0,int _c=0):v(_v),c(_c)&#123;&#125;\n    bool operator &lt;(const qnode &amp;r)const&#123;\n        return c>r.c;\n    &#125;\n&#125;;\nstruct Edge&#123;\n    int v,cost;\n    Edge(int _v=0,int _cost=0):v(_v),cost(_cost)&#123;&#125;\n&#125;;\nvector&lt;Edge>E[maxn];\nbool vis[maxn];\nint dist[maxn];\nint mincost[maxn][maxn];\nvoid Dijkstra(int start)&#123; \n    memset(vis,false,sizeof(vis));\n    for(int i=1;i&lt;=n;i++)dist[i]=INF;\n    priority_queue&lt;qnode>que;\n    while(!que.empty()) que.pop();\n    dist[start]=0;\n    que.push(qnode(start,0));\n    qnode tmp;\n    while(!que.empty())&#123;\n        tmp=que.top(); que.pop();\n        int u=tmp.v;\n        if(vis[u])continue;\n        vis[u]=true;\n        for(int i=0;i&lt;E[u].size();i++)&#123;\n            int v=E[tmp.v][i].v;\n            int cost=E[u][i].cost;\n            if(!vis[v]&amp;&amp;dist[v]>dist[u]+cost)&#123;\n                dist[v]=dist[u]+cost; \n                que.push(qnode(v,dist[v]));\n            &#125;\n        &#125;\n    &#125;\n&#125;\nvoid addedge(int u,int v,int w)&#123;\n    E[u].push_back(Edge(v,w));\n&#125;\nint main() &#123;\n    scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;c);\n    int mncost=INF;\n    int u, v, p;\n    rep(i,1,n+1)\n        rep(j,1,n+1)\n            mincost[i][j]=INF;\n    rep(i,0,m)&#123;\n        scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;p);\n        addedge(u,v,p);\n        mincost[u][v]=min(mincost[u][v],p);\n        mncost=min(mncost,p);\n    &#125;\n    if(mncost>c)&#123; cout&lt;&lt;0; return 0; &#125;\n    eif(mncost==c)&#123; cout&lt;&lt;1; return 0;&#125; \n    rep(i,1,n+1)&#123;\n        Dijkstra(i);\n        rep(j,1,n+1)&#123;\n            if(i!=j &amp;&amp; dist[j]+mincost[j][i]&lt;=c)&#123;cout&lt;&lt;2; return 0;&#125;\n        &#125;\n    &#125;\n    cout&lt;&lt;1;\n    return 0;\n&#125;\nG_Occupy the Cities\n\n\n\n\n\n\n\n\näºŒåˆ†ç­”æ¡ˆ/dp\né¢˜æ„ï¼šä¸€ä¸ª01ä¸²ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†ä¸²ä¸­æ‰€æœ‰çš„1çš„å·¦è¾¹ä¸€ä½æˆ–å³è¾¹ä¸€ä½ä¹Ÿå˜æˆ1ï¼Œé—®å˜æˆå…¨1ä¸²éœ€è¦å‡ æ¬¡æ“ä½œ\nè§£æ³•ï¼šäºŒåˆ†ç­”æ¡ˆï¼Œcheck() ä¸­ä»ä¸²çš„å·¦è¾¹åˆ°å³è¾¹å¯¹æ¯ä¸€ä½1å—¯è´ªå¿ƒï¼Œdpè§£æ³•æ²¡çœ‹\n#include &lt;bits/stdc++.h>\n#define mp make_pair\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define maxn 1000005\n#define pb push_back\n#define fst first\n#define sec second\nusing namespace std;\nchar s[maxn];\nint n;\nvector&lt;int> one;\nint need[maxn];\nvoid init(int t) &#123;\n    scanf(\"%s\", s + 1);\n    one.clear();\n    rep(i, 1, t + 1) &#123;\n        need[i] = 0;\n        if (s[i] == '1') &#123;\n            one.pb(i);\n        &#125;\n    &#125;\n&#125;\nint check(int x) &#123;\n    if (one[0] - 1 > x)\n        return 0;\n    if (one[0] - 1 == x)\n        need[1] = 1;\n    int tmp;\n    rep(i, 1, one.size()) &#123;\n        if (one[i] - one[i - 1] == 1)\n            continue;\n        tmp = one[i] - one[i - 1] - 1 + need[i];\n        if ((tmp + 1) / 2 > x)\n            return 0;\n        else if ((tmp + 1) / 2 == x) &#123;\n            if (tmp / 2 == x)\n                need[i + 1] = 1;\n        &#125;\n    &#125;\n    tmp = n - one[one.size() - 1] + need[one.size()];\n    if (tmp > x)\n        return 0;\n    return 1;\n&#125;\nvoid solve() &#123;\n    cin >> n;\n    init(n);\n    if (one.size() == n) &#123;\n        cout &lt;&lt; 0 &lt;&lt; endl;\n        return;\n    &#125;\n    int l = 1, r = n;\n    int ret = 0;\n    while (l &lt;= r) &#123;\n        int mid = (l + r) >> 1;\n        //cout &lt;&lt; mid &lt;&lt; \" \"\n        rep(i, 1, n + 2) need[i] = 0;\n        if (check(mid)) &#123;\n            ret = mid;\n            r = mid - 1;\n        &#125; else &#123;\n            l = mid + 1;\n        &#125;\n    &#125;\n\n    cout &lt;&lt; ret &lt;&lt; endl;\n&#125;\n\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nI_PTSD\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜ï¼Œä¸æƒ³å¤ç›˜äº†\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 1000005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nchar a[maxn];\nvoid solve() &#123;\n    int n;\n    cin &gt;&gt; n;\n    ll ret&#x3D;0;\n    rep(i,0,n)&#123;\n        cin&gt;&gt;a[i];\n    &#125;\n    int lead&#x3D;0;\n    int mxpos;\n    red(i,n,0)&#123;\n        if(a[i]&#x3D;&#x3D;&#39;0&#39;)&#123;\n            lead++;\n        &#125;else&#123;\n            if(lead&gt;0)&#123;\n                lead--;\n                ret+&#x3D;(i+1);\n            &#125;else&#123;\n                lead++;\n            &#125;\n        &#125;\n    &#125;\n    cout&lt;&lt;ret&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šä»Šå¤©æƒ³å‡ºæ¥Däº†å—\n","slug":"xcpc/2021ccpc_guilin","date":"2021-11-23T16:03:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,CCPC,äºŒåˆ†,æ¨¡æ‹Ÿ,å›¾è®º,Dijkstra","author_index":"Maskros"},{"id":"790ed4c1d654821efb9fe604376d5483","title":"Educational Codeforces Round 117 (Div.2)","content":"Educational Codeforces Round 117 (Rated for Div. 2)A_Distance\n\n\n\n\n\n\n\n\nç­¾åˆ°\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    int x, y;\n    cin &gt;&gt; x &gt;&gt; y;\n    int xx &#x3D; -1, yy &#x3D; -1;\n    int tot &#x3D; x + y;\n    if (abs(tot) % 2 &#x3D;&#x3D; 1) &#123;\n        cout &lt;&lt; xx &lt;&lt; &quot; &quot; &lt;&lt; yy &lt;&lt; endl;\n        return;\n    &#125; else &#123;\n        if (abs(x) % 2 &#x3D;&#x3D; 0 &amp;&amp; abs(y) % 2 &#x3D;&#x3D; 0) &#123;\n            cout &lt;&lt; x &#x2F; 2 &lt;&lt; &quot; &quot; &lt;&lt; y &#x2F; 2 &lt;&lt; endl;\n            return;\n        &#125; else &#123;\n            tot &#x2F;&#x3D; 2;\n            if (x &gt; y)\n                cout &lt;&lt; tot &lt;&lt; &quot; &quot; &lt;&lt; 0 &lt;&lt; endl;\n            else\n                cout &lt;&lt; 0 &lt;&lt; &quot; &quot; &lt;&lt; tot &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Special_Permutation\n\n\n\n\n\n\n\n\nè´ªå¿ƒæ„é€ \n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nint num[105];\nbool vis[105];\nvoid solve() &#123;\n    int n,a,b; cin&gt;&gt;n&gt;&gt;a&gt;&gt;b;\n    memset(vis,0,sizeof(vis));\n    memset(num, 0, sizeof(num));\n    vis[a]&#x3D;1;\n    vis[b]&#x3D;1;\n    num[n&#x2F;2+1]&#x3D;b;\n    num[1]&#x3D;a;\n    int tmp&#x3D;1;\n    bool find;\n    rep(i,n&#x2F;2+2,n+1)&#123;\n        find&#x3D;false;\n        rep(j,tmp,b)&#123;\n            if(!vis[j])&#123;\n                vis[j]&#x3D;1;\n                num[i]&#x3D;j;\n                tmp&#x3D;j+1;\n                find&#x3D;1;\n                break;\n            &#125;\n        &#125;\n        if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125;\n    &#125;\n    tmp&#x3D;n;\n    rep(i,2,n&#x2F;2+1)&#123;\n        find&#x3D;false;\n        red(j,tmp+1,a)&#123;\n            if(!vis[j])&#123;\n                vis[j]&#x3D;1;\n                num[i]&#x3D;j;\n                tmp&#x3D;j-1;\n                find&#x3D;1;\n                break;\n            &#125;\n        &#125;\n        if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125;\n    &#125;\n    rep(i,1,n+1)&#123;\n        cout&lt;&lt;num[i]&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nC_Chat_Ban\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nè¾“å…¥k,x ; ä½ æœ‰2k-1æ¡ä¿¡æ¯è¦å‘ï¼Œä¿¡æ¯çš„é•¿åº¦ä¸º1,2,3â€¦k-1,k,k-1â€¦1ï¼Œåœ¨å‘å‡ºå½“å‰ä¿¡æ¯æ—¶ï¼Œä½ å·²ç»å‘é€çš„æ€»é•¿åº¦å¿…é¡»å°äºxï¼Œé—®ä½ æœ€å¤šèƒ½å‘å¤šå°‘æ¡\næ€è·¯ï¼š\näºŒåˆ†ç­”æ¡ˆå³å¯\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll cal(ll begin, ll end)&#123;\n    ll ret;\n    if((begin+end)%2&#x3D;&#x3D;0)&#123;\n        ret&#x3D;(begin+end)&#x2F;2*(end-begin+1);\n    &#125;else&#123;\n        ret&#x3D;(end-begin+1)&#x2F;2*(begin+end);\n    &#125;\n    return ret;\n&#125;\nvoid solve() &#123;\n    ll k,x; cin&gt;&gt;k&gt;&gt;x;\n    ll ans&#x3D;0;\n    ll test&#x3D;cal(1,k);\n    if(test&#x3D;&#x3D;x)&#123;\n        cout&lt;&lt;k&lt;&lt;endl;\n        return;\n    &#125;eif(test&lt;x)&#123;\n        ans+&#x3D;k;\n        x-&#x3D;test;\n        test&#x3D;cal(1,k-1);\n        if(test&lt;&#x3D;x)&#123; cout&lt;&lt;2*k-1&lt;&lt;endl; return;&#125;\n        else&#123;\n            ll l&#x3D;1,r&#x3D;k;\n            ll mid;\n            ll tmp&#x3D;0;\n            while(l&lt;&#x3D;r)&#123;\n                mid&#x3D;(l+r)&gt;&gt;1;\n                test&#x3D;cal(mid,k-1);\n                if(test&#x3D;&#x3D;x)&#123;\n                    tmp&#x3D;k-mid;\n                    break;\n                &#125;eif(test&lt;x)&#123;\n                    tmp&#x3D;k-mid+1;\n                    r&#x3D;mid-1;\n                &#125;else&#123;\n                    l&#x3D;mid+1;\n                &#125;\n            &#125;\n            ans+&#x3D;tmp;\n            cout&lt;&lt;ans&lt;&lt;endl;\n        &#125;\n    &#125;else&#123;\n        ll l&#x3D;1,r&#x3D;k;\n        ll mid;\n        while(l&lt;&#x3D;r)&#123;\n            mid&#x3D;(l+r)&gt;&gt;1;\n            test&#x3D;cal(1,mid);\n            if(test&#x3D;&#x3D;x)&#123;\n                ans&#x3D;mid;\n                break;\n            &#125;eif(test&lt;x)&#123;\n                ans&#x3D;mid+1;\n                l&#x3D;mid+1;\n            &#125;else&#123;\n                r&#x3D;mid-1;\n            &#125;\n        &#125;\n        cout&lt;&lt;ans&lt;&lt;endl;\n    &#125;\n\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nD_X_Magic_Pair (gcd)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½  a, b, xï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†aæˆ–bæ›¿æ¢ä¸º |a-b|, è¯¢é—®èƒ½å¦å°†aæˆ–bè¿›è¡Œä»»æ„æ¬¡æ“ä½œåæ›¿æ¢ä¸º x\næ€è·¯ï¼š\ngcdå˜ç§ï¼Œæ¯æ¬¡åˆ¤æ–­ä¸€ä¸‹ a%b æ˜¯å¦ç­‰äº x%bï¼Œå³ (a-x)%b==0 ï¼Œå¦‚æœç›¸ç­‰å³ä¸ºYESï¼Œå¦åˆ™å³ä¸ºNO\n#include &lt;bits/stdc++.h>\n\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll a, b, x;\nbool gcd(ll a, ll b)&#123;\n    if(a==x||b==x) return 1;\n    if(b==0) return 0;\n    if(a>x&amp;&amp;(a-x)%b==0) return 1;    \n    if(b>x&amp;&amp;(b-x)%a==0) return 1;\n    return gcd(b,a%b);\n&#125;\nvoid solve() &#123;\n    cin>>a>>b>>x;\n    if(x>a&amp;&amp;x>b)&#123; cout&lt;&lt;\"NO\"&lt;&lt;endl; return; &#125;\n    if(x==a||x==b)&#123; cout&lt;&lt;\"YES\"&lt;&lt;endl; return;&#125;\n    ll tmpa=(a>b)?a:b;\n    ll tmpb=(b&lt;a)?b:a;\n    if(gcd(tmpa,tmpb)) puts(\"YES\");\n    else puts(\"NO\");\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\næ€»ç»“ä»¨ç­¾åˆ°å¾ˆé¡ºæºœï¼Œæœ€åä¸€ä¸ªé¢˜å› ä¸ºåˆ¤æ–­æ¡ä»¶ç»“æœsbäº†ï¼Œæ‰åˆ†\n","slug":"codeforces/cf Edu 117","date":"2021-11-23T10:02:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,äºŒåˆ†,codeforces,gcd","author_index":"Maskros"},{"id":"a2c6874fc71d3b8d32c3fc7e259ed58d","title":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬","content":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬\n\n\n\n\n\n\n\n\nå‰è¨€ï¼šğŸ·bæ¯›æ¦‚é¢˜åº“è¦æˆªæ­¢äº†ï¼Œå‡ ä¸ªæ—¶é—´æ®µçš„é¢˜åº“å„è‡ªæœ‰æˆªæ­¢æ—¥æœŸğŸ˜…ï¼Œçœ¼è§ç€ddlå°±è¦åˆ°äº†å¯ğŸ‘´åˆä¸æƒ³å»åˆ·ï¼Œæ‰€ä»¥èŒç”Ÿäº†å€ŸåŠ©pythonçˆ¬è™«æ¥è¿›è¡Œå·æ‡’çš„æƒ³æ³•\nåŠäº‹æµç¨‹\n\n\n\n\n\n\n\n\nç”±äºä¹‹å‰ğŸ‘´è¯´è¿‡ï¼šâ€œpythonç‹—éƒ½ä¸ç”¨â€ï¼Œâ€œç”¨pythonçš„éƒ½æ²™æ¯”â€ çš„åè¨€ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æ˜¯æ‹’ç»çš„ï¼Œä½†æ˜¯è¿«äºç°çŠ¶ï¼Œæ‰€ä»¥ç®€å•çªå‡»äº†å‡ å¤©ï¼Œå­¦åˆ°äº†ä¸€äº›çŸ¥è¯†ï¼Œå®æˆ˜ç”¨åˆ°çš„ä¹Ÿå°±åªæœ‰ä¸åˆ° 1/5\néœ€æ±‚ï¼š\né¢˜åº“å…±è®¡ä¸€ç™¾å¤šé“é¢˜ç›®ï¼Œæ¯æ¬¡æµ‹è¯•15é“é¢˜ï¼Œ5å•é€‰5å¤šé€‰5åˆ¤æ–­ï¼Œæäº¤åšé¢˜ç»“æœä¹‹åæ–¹å¯è·å¾—æ‰€æœ‰é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯ä»æ‰€æœ‰æµ‹è¯•å°è¯•çš„åé¦ˆé¡µé¢ä¸­çˆ¬å–é¢˜ç›®é¢˜é¢å’Œæ­£ç¡®ç­”æ¡ˆå¹¶æŒä¹…åŒ–å­˜å‚¨ï¼Œover\nåŸå…ˆæ­¥éª¤(å…¨è‡ªåŠ¨)\n\næ¨¡æ‹Ÿç™»å½•\nç”±äºè¿™ä¸ªb bbå¹³å°éœ€è¦ä¿¡æ¯é—¨æˆ·ç™»å½•æˆåŠŸä¹‹åæ‰èƒ½åšé‚£bé¢˜ï¼Œæ‰€ä»¥éœ€è¦æ¨¡æ‹Ÿç™»é™†ä¹‹åæ‰èƒ½è¯·æ±‚åˆ°åšé¢˜ç»“æœçš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨sessionä¼šè¯å¯¹è±¡åœ¨å‘ç™»å½•é¡µé¢å‘èµ·è¯·æ±‚åå‚¨å­˜cookieï¼Œè¿™æ ·åé¢ç›´æ¥ç”¨sessionå¯¹è±¡å†å¯¹éœ€æ±‚çš„é¡µé¢è¿›è¡Œgetè¯·æ±‚å³å¯ã€‚\n\nè‡ªåŠ¨åšé¢˜\nè‡ªåŠ¨å¼€å§‹æ–°å°è¯•å¹¶ä¸”æäº¤\n\nå¼€çˆ¬\ngetåˆ°äº†é¡µé¢ä¹‹åï¼Œåˆ©ç”¨xpathè¿›è¡Œæ•°æ®è§£æï¼ŒæŒä¹…åŒ–å­˜å‚¨å³å¯\n\n\n\n\n\n\n\n\n\n\n\næƒ³æ³•å¾ˆå¥½ï¼Œåæ¥å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯æœ€ç»ˆæµç¨‹ï¼š\n\nç°å®æ­¥éª¤(å‡ ä¹å…¨è‡ªåŠ¨)\n\n\n\n\n\n\n\n\n\n2021/11/13 æ›´æ–°äº† v1.1 ç‰ˆæœ¬ï¼šâ‘ ä¼˜åŒ–äº†å­˜å‚¨æ–¹å¼ï¼šæŒ‰å­—å…¸åºæ’åºå³æŒ‰é¢˜ç›®çš„ç« èŠ‚è¿›è¡Œåˆ†ç±»ï¼›â‘¡å®ç°äº† v1.0 æ²¡å®ç°çš„è‡ªåŠ¨åšé¢˜åŠŸèƒ½\n\næ¨¡æ‹Ÿç™»å½•(x) æ‰‹åŠ¨ç™»å½•(âˆš)\næŒ‰ç…§åŸå…ˆçš„æƒ³æ³•æ¨¡æ‹Ÿç™»é™†ï¼Œè¿”å›çš„æ¶ˆæ¯ä¹Ÿæ˜¯ç™»é™†æˆåŠŸï¼Œä½†æ˜¯è¯·æ±‚æ‰€éœ€é¡µé¢æ˜¯è¿˜æ˜¯è¢«æ‹¦æˆªäº†ï¼Œéœ€è¦é‡æ–°ç™»å½•ï¼Œç”±äºæ‰ç–å­¦æµ…ï¼Œä¸€æ—¶ä¸çŸ¥é“å¦‚ä½•æ˜¯å¥½ï¼Œå¹²è„†ç›´æ¥æ‰‹åŠ¨ç™»å½•åï¼Œåˆ©ç”¨æµè§ˆå™¨F12ï¼Œæ‰¾åˆ°ç™»å½•çš„cookieï¼Œæ‰‹åŠ¨å¤åˆ¶åˆ°æºç ä¸­çš„ headers å†…ï¼Œç›´æ¥ç”¨ requests è¿›è¡Œ post å’Œ get çš„è¯·æ±‚å³å¯è·å¾—æ‰€éœ€é¡µé¢\n\nè‡ªåŠ¨åšé¢˜(âˆš)\n\nå¼€å§‹æ–°å°è¯•ï¼šå‘ç°å¼€å§‹æ–°å°è¯•çš„æŒ‰é’®ä¸­å¯¹åº”çš„ &lt;a&gt;æ ‡ç­¾çš„ url ä¸­çš„å‚æ•°æœ‰ä¸ªæœ‰è¶£çš„åœ°æ–¹ new_attempt=1ï¼Œç›´æ¥è®¿é—®å³å¯ä»¥å¼€å§‹ä¸€æ¬¡æ–°çš„å°è¯•ï¼Œç›´æ¥getè¯·æ±‚å³å¯\næäº¤æ–°å°è¯•ï¼šç‚¹å‡»æäº¤æŒ‰é’®åè¿›è¡ŒæŠ“åŒ…ï¼Œå‘ç°æœ‰ä¸€ä¸ªpostè¯·æ±‚å¯¹åº”çš„ url : do/take/saveAttempt?saveSequence=1/... ï¼Œè§‚å¯Ÿæ•°æ®åŒ…ä¸­ä¼ è¾“çš„æ•°æ®å‘ç°æœ‰è¿™æ ·å‡ ä¸ªæœ‰è¶£çš„åœ°æ–¹ï¼šdata_submitted:true, save_and_submit:trueï¼›æˆ‘ä»¬çŒœæµ‹è¿™å°±æ˜¯å¯¹æœåŠ¡å™¨è¿›è¡Œçš„æäº¤ç»“æœè¯·æ±‚ã€‚ä¹‹åå¯¹æ¯”ä¸¤æ¬¡ä¸åŒçš„æäº¤æ‰€å¾—çš„æ•°æ®åŒ…å‘ç°ï¼Œæ‰€éœ€ä¿®æ”¹çš„å‚æ•°ä¸ºcurrent_attempt_id å’Œ current_attempt_id_backupï¼ŒäºŒè€…æ˜¯ä¸€æ ·çš„ï¼Œäºæ˜¯è§‚å¯Ÿå“ªé‡Œæœ‰è¿™ä¸ªidï¼Œå‘ç°å’Œåšé¢˜é¡µé¢ä¸­çš„&lt;div&gt;æ ‡ç­¾çš„ç±»åæœ‰ç€æƒŠäººçš„ä¸€è‡´ğŸ¤ ã€‚ç›´æ¥å¯¹åšé¢˜é¡µé¢è¿›è¡Œxpathè§£æï¼Œè§£æåˆ°divæ ‡ç­¾çš„ç±»åä¼ è¾“è¿›postè¯·æ±‚çš„æ•°æ®ä¸­ï¼Œå†å‘é€postè¯·æ±‚å³å¯å®Œæˆè‡ªåŠ¨æäº¤æ–°å°è¯•ğŸ˜ª\n\n\nè‡ªåŠ¨å¼€çˆ¬ ï¼(âˆš)\n\ngetåˆ°æ‰€æœ‰å°è¯•çš„é¡µé¢ï¼Œåˆ©ç”¨xpathè§£æåˆ°å¯¹åº”æ¯æ¬¡åšé¢˜ç»“æœçš„ &lt;a&gt; æ ‡ç­¾çš„hrefåœ°å€å­˜åˆ° list ä¸­ï¼Œæ‹¼æ¥æˆå®Œæ•´çš„url\n\nå¯¹æ¯ä¸ªurl åˆ©ç”¨xpathè§£æåˆ°å¯¹åº”é¢˜ç›®å’Œç­”æ¡ˆçš„æ ‡ç­¾ï¼Œæ ¹æ®é¢˜ç›®ç±»å‹åˆ†åˆ«å­˜å‚¨ï¼Œåˆ©ç”¨å­—å…¸å­˜å‚¨ï¼Œé¢˜ç›®åç§°ä¸ºkeyï¼Œé¢˜ç›®ç­”æ¡ˆä¸ºvalueï¼Œä¸ºäº†é˜²æ­¢å­˜å‚¨é‡å¤é¢˜ç›®ï¼Œæ¯æ¬¡å­˜å‚¨å‰å…ˆæŸ¥è¯¢keyæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å†å­˜å…¥å­—å…¸ä¸­ï¼Œå†™å…¥æ–‡ä»¶çš„åŒæ—¶è®¡æ•°å™¨+1ï¼Œæ–¹ä¾¿ç»Ÿè®¡çˆ¬å–é¢˜ç›®çš„ä¸ªæ•°\n\nå†»æ‰‹å†»æ‰‹\n\n\n\n\nğŸ´æ¥import requests\nfrom lxml import etree\nimport os\nimport time\n\nif __name__ == '__main__':\n    # åˆ›å»ºæ–‡ä»¶å¤¹\n    if not os.path.exists('./maogai/Round_2/'):\n        os.mkdir('./maogai/Round_2/')\n\n    session = requests.Session()\n    detail_url = 'https://wlkc.ouc.edu.cn'\n    # ä½¿ç”¨ç°æˆçš„cookieç›´æ¥ç»•è¿‡ç™»å½•é¡µé¢\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36',\n        'Cookie': 'JSESSIONID=AC1DEAF6D6037A4B310E53885942338D; LOGIN=3139303230303331303330; UM_distinctid=17bcb2f4e579ab-0e328a4e032f8-a7d193d-144000-17bcb2f4e58315; SCREEN_NAME=4f566b646b73396b79642f396274486b665a503656773d3d; session_id=4025A5EAD4245D545DCB1E8FD2D1EE4E; s_session_id=864B98DCC97327775D6853902DCD0138; web_client_cache_guid=871e5dc2-27ae-44b8-898f-a44d97e217f2',\n    &#125;\n\n    # è‡ªåŠ¨è¯·æ±‚å¼€å§‹æµ‹è¯•å’Œæäº¤ times_attä¸ºæ¬¡æ•° æ¯æ¬¡è¯·æ±‚é—´éš”3s\n    times_att = 10\n    print('attempt started...')\n    for i in range(0,times_att):\n        # è¯·æ±‚æµ‹è¯•\n        attempt_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;new_attempt=1&amp;content_id=_633969_1&amp;step='\n        atmp = session.get(url=attempt_url, headers=headers)\n        \n        # æ‹¿åˆ°æœ¬æ¬¡æµ‹è¯•id\n        do_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1&amp;step=null'\n        do = session.get(url=do_url, headers=headers)\n        tree_att = etree.HTML(do.text)\n        atnum = tree_att.xpath('//div[@class=\"takeQuestionDiv \"]/@id')[0]\n        print('attemptid = ' + str(atnum))\n\n        # æäº¤æœ¬æ¬¡æµ‹è¯•\n        submit_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/do/take/saveAttempt?saveSequence=17&amp;takePageId=1636771783088&amp;course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1'\n        data = &#123;\n            'blackboard.platform.security.NonceUtil.nonce.ajax': 'c87385ed-48d7-4d9c-8c8c-a9f6cb45826d',\n            'data-submitted': 'true',\n            'course_assessment_id': '_30131_1',\n            'course_id': '_13492_1',\n            'content_id': '_633969_1',\n            'step': '',\n            'original_user_id': '_47406_1',\n            'save_and_submit': 'true',\n            'timer_completion': '',\n            'fileUploadType': '',\n            'toggle_state': 'qShow',\n            'current_question': '1',\n            'current_attempt_item_id': atnum,\n            'current_attempt_item_id_backup': atnum,\n            'method': 'notajax',\n            'saveonequestion': '',\n        &#125;\n        submit = session.post(url=submit_url, headers=headers, data=data)\n        print('post finished! times: '+ str(i+1))\n        time.sleep(3)\n    print('attempt over!')\n    print('--------------------')\n\n    # æ€»å°è¯•é¡µé¢\n    total_url = 'https://wlkc.ouc.edu.cn/webapps/gradebook/do/student/viewAttempts?method=list&amp;course_id=_13492_1&amp;outcome_definition_id=_95191_1&amp;outcome_id=_2069239_1'\n    page_text_tot = session.get(url=total_url, headers=headers)\n    tree_tot = etree.HTML(page_text_tot.text)\n    attempt_list = tree_tot.xpath('//div[@class=\" columnStep clearfix\"]//a/@href')\n\n    # ä¸ºäº†å»é‡ä½¿ç”¨å­—å…¸ä¿å­˜é”®å€¼å¯¹\n    danxuan = &#123;&#125;\n    duoxuan = &#123;&#125;\n    panduan = &#123;&#125;\n    cnt1 = 0\n    cnt2 = 0\n    cnt3 = 0\n\n    fp1 = open('./maogai/Round_2/å•é€‰.txt', 'w', encoding='utf-8')\n    fp2 = open('./maogai/Round_2/å¤šé€‰.txt', 'w', encoding='utf-8')\n    fp3 = open('./maogai/Round_2/åˆ¤æ–­.txt', 'w', encoding='utf-8')\n\n    times = 0\n    print('download started...')\n    for attempt in attempt_list:\n        times = times + 1\n        new_url = detail_url + attempt\n        # print(new_url)\n        page_text = session.get(url=new_url, headers=headers)\n        tree = etree.HTML(page_text.text)\n        pro_list = tree.xpath('//ul[@id=\"content_listContainer\"]/li')\n\n        cnt = 0\n        # æ¯æ¬¡å°è¯•çš„å†…å®¹è¿›è¡Œçˆ¬å–\n        for li in pro_list:\n            cnt = cnt + 1\n            pro_name = li.xpath('normalize-space(.//div[@class=\"vtbegenerated inlineVtbegenerated\"])')\n            pro_answer_1 = li.xpath('.//div[@class=\"vtbegenerated inlineVtbegenerated\"]//label/text()')\n            pro_answer_1 = str(pro_answer_1)\n            pro_answer_2 = li.xpath('normalize-space(.//span[@class=\"answerTextSpan\"])')\n\n            if cnt &lt;= 5:\n                if pro_name not in danxuan:\n                    cnt1 = cnt1 + 1\n                    danxuan[pro_name] = pro_answer_1\n                    # fp1.write(str(cnt1) + '. ' + pro_name+'\\n'+pro_answer_1+'\\n')\n            elif cnt &lt;= 10:\n                if pro_name not in duoxuan:\n                    cnt2 = cnt2 + 1\n                    duoxuan[pro_name] = pro_answer_1\n                    # fp2.write(str(cnt2) + '. ' + pro_name + '\\n' +pro_answer_1+'\\n')\n            else:\n                if pro_name not in panduan:\n                    cnt3 = cnt3 +1\n                    panduan[pro_name] = pro_answer_2\n                    # fp3.write(str(cnt3) + '. ' + pro_name + '\\n'+pro_answer_2+'\\n')\n        print('times: ' + str(times) + ' å•é€‰: ' + str(cnt1) + ',å¤šé€‰ï¼š' + str(cnt2) + ',åˆ¤æ–­: ' + str(cnt3) )\n\n    # å°†å­—å…¸è¿›è¡ŒæŒ‰keyæ’åºå®ç°ä¸åŒç« èŠ‚åˆ†ç±»è¿›è¡Œå­˜å‚¨\n    num = 0\n    for pro in sorted(danxuan):\n        num = num + 1\n        fp1.write(str(num)+'. '+ pro + '\\n' + danxuan[pro] + '\\n')\n    num = 0\n    for pro in sorted(duoxuan):\n        num = num + 1\n        fp2.write(str(num)+'. ' + pro + '\\n' + duoxuan[pro] + '\\n')\n    num = 0\n    for pro in sorted(panduan):\n        num = num + 1\n        fp3.write(str(num)+'. ' + pro + '\\n' + panduan[pro] + '\\n')\n\n    fp1.close()\n    fp2.close()\n    fp3.close()\n    print('total: ' + str(cnt1+cnt2+cnt3) + ' problems have been downloaded.')\n\n\n\n\n\n\n\n\n\nä¸€ä¸ªå°å®æˆ˜ï¼Œæ•ˆæœè¿˜è¡ŒğŸ˜…ï¼Œä»¥åä¼šæƒ³åŠæ³•ä¿®æ”¹è‡ªåŠ¨ç™»å½•çš„é—®é¢˜ï¼Œå¯ä»¥æç‚¹æ„è§\ngithubé¡¹ç›®åœ°å€ link  çˆ¬å–çš„é¢˜åº“åœ¨æ–‡ä»¶å¤¹é‡Œ\noverå¤§ç«\n","slug":"projects/maogai_crawler","date":"2021-11-10T14:43:00.000Z","categories_index":"PROJECT","tags_index":"Crawler,python,requests","author_index":"Maskros"},{"id":"44a21ae344829c5e89324b4b716ab686","title":"pythonçˆ¬è™«æ‚è®°","content":"pythonçˆ¬è™«æ‚è®°Crawler in python\n\n\n\n\n\n\n\n\n\nåˆå ã€Šä¸ºäº†å·æ‡’çˆ¬æ¯›æ¦‚é¢˜åº“çš„çªå‡»å­¦ä¹ ã€‹\nä¸€äº›çŸ¥è¯†\nçˆ¬è™«åœ¨ä½¿ç”¨åœºæ™¯ä¸­çš„åˆ†ç±»ï¼š\n\né€šç”¨çˆ¬è™«ï¼šæŠ“å–ç³»ç»Ÿé‡è¦ä¿ƒæˆéƒ¨åˆ†ï¼ŒæŠ“å–çš„æ˜¯ä¸€æ•´å¼ é¡µé¢æ•°æ®\n\nèšç„¦çˆ¬è™«ï¼šæ˜¯å»ºç«‹åœ¨é€šç”¨çˆ¬è™«çš„åŸºç¡€ä¸Šï¼ŒæŠ“å–çš„æ˜¯é¡µé¢ä¸­ç‰¹å®šçš„å±€éƒ¨å†…å®¹\n\nå¢é‡å¼çˆ¬è™«ï¼šæ£€æµ‹ç½‘ç«™ä¸­æ•°æ®æ›´æ–°çš„æƒ…å†µï¼Œåªä¼šæŠ“å–ç½‘ç«™ä¸­æœ€æ–°æ›´æ–°å‡ºæ¥çš„æ•°æ®\n\n\n\n\n\nrobots.txtåè®®ï¼šå›å­åè®®ï¼Œè§„å®šç½‘ç«™ä¸­å“ªäº›æ•°æ®èƒ½çˆ¬å“ªäº›ä¸èƒ½ï¼Œçº¦å®šä¿—æˆ\n\nhttp &amp; https åè®®ï¼š\n\n\n\n\n\n\n\n\n\nhttpåè®®ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ä¸€ç§å½¢å¼\nhttpsåè®®ï¼šå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®® è¯ä¹¦ç§˜é’¥åŠ å¯†\n\nå¸¸ç”¨è¯·æ±‚å¤´ä¿¡æ¯ï¼š\n\nUser-Agentï¼šè¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†\n\nConnectionï¼šè¯·æ±‚å®Œæ¯•åï¼Œæ˜¯æ–­å¼€è¿æ¥è¿˜æ˜¯ä¿æŒè¿æ¥\n\n\n\n\n\nå¸¸ç”¨å“åº”å¤´ä¿¡æ¯ï¼š\nContent-Typeï¼šæœåŠ¡å™¨å“åº”å›å®¢æˆ·ç«¯çš„æ•°æ®ç±»å‹\n\n\n\nrequestsæ¨¡å—\n\n\n\n\n\n\n\n\nrequests: pythonåŸç”Ÿçš„åŸºäºç½‘ç»œè¯·æ±‚çš„æ¨¡å—ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å‘è¯·æ±‚\n.text å­—ç¬¦ä¸²   .content äºŒè¿›åˆ¶   .json() å¯¹è±¡\nç¼–ç æµç¨‹ï¼š\n\næŒ‡å®šurl\nå‘èµ·è¯·æ±‚\nè·å–å“åº”æ•°æ®\næŒä¹…åŒ–å­˜å‚¨\n\n0x00 requests ä¸€è¡€\n\n\n\n\n\n\n\n\nresponse.text\nimport requests\n# 1.æŒ‡å®šurl\nurl='xxxx/xxx/xxx.xxx'\n# 2.å‘èµ·è¯·æ±‚ getæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡\nresponse = requests.get(url=url)\n# 3.è·å–å“åº”æ•°æ® .textè¿”å›çš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®\npage_text = response.text\nprint(page_text)\n# 4.æŒä¹…åŒ–å­˜å‚¨\nwith open('./xxx.html','w',encoding='utf-8') as fp:\n    fp.write(page_text)\nprint('over!')\n0x01 ç½‘é¡µé‡‡é›†å™¨\nUAæ£€æµ‹ \nUAä¼ªè£…\n\n\n\n\n\n\n\n\n\n\nrequests.get(url, params, headers)\nimport requests\n\n# UAï¼šUser-Agent è¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†\n# UAæ£€æµ‹ï¼šé—¨æˆ·ç½‘ç«™çš„æœåŠ¡å™¨ä¼šæ£€æµ‹å¯¹åº”è¯·æ±‚çš„è½½ä½“èº«ä»½æ ‡è¯†ï¼Œå¦‚æœæ£€æµ‹åˆ°çš„æ ‡è¯†ä¸ºåŸºäºæŸä¸€æ¬¾æµè§ˆå™¨çš„ï¼Œ\n# åˆ™è¯´æ˜æ˜¯æ­£å¸¸è¯·æ±‚ï¼Œåä¹‹æœåŠ¡ç«¯å°±å¯èƒ½æ‹’ç»è¿™æ¬¡è¯·æ±‚\n\n# UAä¼ªè£…ï¼šè®©çˆ¬è™«å¯¹åº”çš„è¯·æ±‚è½½ä½“èº«ä»½æ ‡è¯†ä¼ªè£…æˆæŸä¸€æ¬¾æµè§ˆå™¨\nif __name__ == '__main__':\n    # UAä¼ªè£…ï¼šå°†å¯¹åº”çš„User-Agentå°è£…åˆ°ä¸€ä¸ªå­—å…¸ä¸­\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    url = 'https://www.sogou.com/web'\n    # å¤„ç†urlæºå¸¦çš„å‚æ•°ï¼šå°è£…åˆ°å­—å…¸ä¸­\n    kw = input('enter a word:')\n    param = &#123;\n        'query': kw\n    &#125;\n    # å¯¹æŒ‡å®šurlå‘èµ·çš„è¯·æ±‚å¯¹åº”urlæ˜¯æºå¸¦å‚æ•°çš„ï¼Œå¹¶ä¸”è¯·æ±‚è¿‡ç¨‹ä¸­å¤„ç†äº†å‚æ•°\n    response = requests.get(url=url, params=param, headers=headers)\n\n    page_text = response.text\n    fileName = './requests_test/test2/'+kw+'.html'\n    with open(fileName, 'w', encoding='utf-8') as fp:\n        fp.write(page_text)\n    print(fileName, ' is saved')\n\n0x02 ç™¾åº¦ç¿»è¯‘\npostè¯·æ±‚ (æºå¸¦äº†å‚æ•°)  \najax\nå“åº”æ•°æ®æ˜¯ä¸€ç»„jsonæ•°æ®\n\n\n\n\n\n\n\n\n\n\nrequests.post(url, data, json, headers...)\nresponse.json()\nimport requests\nimport json\nif __name__ == '__main__':\n    # 1.æŒ‡å®šurl\n    post_url = 'https://fanyi.baidu.com/sug'\n    # 2.è¿›è¡ŒUAä¼ªè£…\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    # 3.postè¯·æ±‚å‚æ•°å¤„ç†(åŒgetè¯·æ±‚ä¸€è‡´)\n    word = input('enter a word')\n    data = &#123;\n        'kw': word\n    &#125;\n    # 4.è¯·æ±‚å‘é€\n    response = requests.post(url=post_url, data=data, headers=headers)\n    # 5.è·å–å“åº”æ•°æ®:json()æ–¹æ³•è¿”å›çš„æ˜¯obj(å¦‚æœç¡®è®¤å“åº”æ•°æ®æ˜¯jsonç±»å‹æ‰èƒ½ä½¿ç”¨)\n    dic_obj=response.json()\n    print(dic_obj)\n    # 6.æŒä¹…åŒ–å­˜å‚¨\n    fileName = './requests_test/test3/'+word+'.json'\n    fp = open(fileName,'w',encoding='utf-8')\n    # ç”±äºä¸­æ–‡ä¸èƒ½ç”¨asciiç¼–ç ï¼Œæ‰€ä»¥ä»¤ensure_ascii=False\n    json.dump(dic_obj,fp=fp,ensure_ascii=False) \n    print('over!')\n\n0x03 è±†ç“£ç”µå½±\n\n\n\n\n\n\n\n\nrequest.get\nimport requests\nimport json\nif __name__ == '__main__':\n    url = 'https://movie.douban.com/j/chart/top_list'\n    param = &#123;\n        'type': '24',    \n        'interval_id': '100:90',\n        'action': '',\n        'start': '40',  # ä»åº“ä¸­çš„ç¬¬å‡ éƒ¨ç”µå½±å»å–\n        'limit': '20',  # ä¸€æ¬¡ä»åº“ä¸­å–å‡ºçš„ä¸ªæ•°\n    &#125;\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    response = requests.get(url=url, params=param, headers=headers) \n    list_data = response.json()\n    # print(list_data)\n    fp = open('./requests_test/test4/douban.json', 'w', encoding='utf-8')\n    json.dump(list_data, fp=fp, ensure_ascii=False)\n\n    print('over!')\n\n0x04 ç»¼åˆæ¡ˆä¾‹-æ•°æ®æå–import requests\nimport json\n\nif __name__ == '__main__':\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    id_list = []  # å­˜å‚¨ä¼ä¸šid\n    all_data_list = []  # å­˜å‚¨æ‰€æœ‰çš„ä¼ä¸šè¯¦æƒ…æ•°æ®\n\n    # æ‰¹é‡è·å–ä¸åŒä¼ä¸šçš„idå€¼\n    url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsList'\n    # å‚æ•°çš„å°è£…\n    for page in range(1,6):\n        page=str(page)\n        data = &#123;\n            'on': 'true',\n            'page': page,\n            'pagesize': '15',\n            'productName': '',\n            'conditionType': '1',\n            'applyname': '',\n            'applysn': '',\n        &#125;\n        json_ids = requests.post(url=url, headers=headers, data=data).json()\n        for dic in json_ids['list']:\n            id_list.append(dic['ID'])\n\n    # è·å–ä¼ä¸šè¯¦ç»†æ•°æ®\n    post_url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsById'\n    for id in id_list:\n        data = &#123;\n            'id': id\n        &#125;\n        detail_json = requests.post(\n            url=post_url, headers=headers, data=data).json()\n        print(detail1_json, '--------ending--------')\n        all_data_list.append(detail_json)\n    # æŒä¹…åŒ–å­˜å‚¨all_data_list\n    fp = open('./requests_test/test5/allData.json', 'w', encoding='utf-8')\n    json.dump(all_data_list, fp=fp, ensure_ascii=False)\n    print('over!')\n\næ•°æ®è§£æ\n\n\n\n\n\n\n\n\nèšç„¦çˆ¬è™«ï¼šçˆ¬å–é¡µé¢ä¸­æŒ‡å®šçš„é¡µé¢å†…å®¹\nç¼–ç æµç¨‹ï¼š\n\næŒ‡å®šurl\nå‘èµ·è¯·æ±‚\nè·å–å“åº”æ•°æ®\næ•°æ®è§£æ\næŒä¹…åŒ–å­˜å‚¨\n\næ•°æ®è§£æåˆ†ç±»ï¼šæ­£åˆ™ï¼Œbs4ï¼Œxpath\næ•°æ®è§£æåŸç†æ¦‚è¿°ï¼š\n\n\n\n\n\n\n\n\n\nè§£æçš„å±€éƒ¨çš„æ–‡æœ¬å†…å®¹éƒ½ä¼šåœ¨æ ‡ç­¾ä¹‹é—´æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­è¿›è¡Œå­˜å‚¨\n\nè¿›è¡ŒæŒ‡å®šæ ‡ç­¾çš„å®šä½\næ ‡ç­¾æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼è¿›è¡Œæå– (è§£æ)\n\n0x00 å›¾ç‰‡\n\n\n\n\n\n\n\n\n.content è¿”å›äºŒè¿›åˆ¶\nimport requests\n\nif __name__ == '__main__':\n    # å¦‚ä½•çˆ¬å–å›¾ç‰‡æ•°æ®\n    url = 'https://i2.hdslb.com/bfs/archive/237001f0163eb48c1745a906c5b480f449183d66.jpg@672w_378h_1c_100q.webp'\n    # content è¿”å›çš„æ˜¯äºŒè¿›åˆ¶å½¢å¼å›¾ç‰‡æ•°æ®\n    img_data = requests.get(url=url).content\n\n    with open('./data_parse_test/test1/dsm.jpg','wb') as fp:\n        fp.write(img_data)    \n\n0x01 æ­£åˆ™è§£æ\n\n\n\n\n\n\n\n\néœ€è¦å¯¼å…¥reæ¨¡å—\nå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼\n\nex:\n&lt;div class=\"test\">\n    &lt;a href=\"/dsadas/sdada\" target=\"_blank\">\n    &lt;img src=\"//sdadasd/dsadas/dasdas\" alt=\"sdada\">\n    &lt;/a>\n&lt;/div>\n\nex='&lt;div class=\"test\">.*?&lt;img src=\"(.*?)\" alt .*?&lt;/div>'\nç»ƒä¹ ï¼šå›¾ç‰‡åˆ†é¡µçˆ¬å–\nimport requests\nimport re\nimport os\n\n# éœ€æ±‚ï¼šçˆ¬å–æ‰€æœ‰å›¾ç‰‡\nif __name__ == '__main__':\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    #åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¿å­˜æ‰€æœ‰å›¾ç‰‡\n    if not os.path.exists('./data_parse_test/test1'):\n        os.mkdir('./data_parse_test/test1/')\n    #è®¾ç½®ä¸€ä¸ªé€šç”¨urlæ¨¡æ¿\n    url = 'https://www.qiushibaike.com/pic/page/%d/?s=5184961'\n    for pageNum in range(1,36):\n        #å¯¹åº”é¡µç çš„url\n        new_url = format(url%pageNum)\n        # ä½¿ç”¨é€šç”¨çˆ¬è™«å¯¹urlå¯¹åº”çš„ä¸€æ•´å¼ é¡µé¢è¿›è¡Œçˆ¬å–\n        page_text = requests.get(url=url, headers=headers).text\n\n        # ä½¿ç”¨èšç„¦çˆ¬è™«å°†é¡µé¢ä¸­æ‰€æœ‰æ¼«ç”»è¿›è¡Œè§£æ/æå–\n        ex = '&lt;div class=\"thumb\">.*?&lt;img src=\"(.*?)\" alt.*?&lt;/div> '\n        img_src_list = re.findall(ex, page_text, re.S)\n        # print(img_src_list)\n        for src in img_src_list:\n            #æ‹¼æ¥å‡ºä¸€ä¸ªå®Œæ•´çš„å›¾ç‰‡url\n            src='https:'+src\n            #è¯·æ±‚åˆ°äº†å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®\n            img_data=requests.get(url=src,headers=headers).content\n            #ç”Ÿæˆå›¾ç‰‡åç§°\n            img_name=src.split('/')[-1]\n            #å›¾ç‰‡å­˜å‚¨çš„è·¯å¾„\n            imgPath='./data_parse_test/test1/'+img_name\n            with open(imgPath,'wb') as fp:\n                fp.write(img_data)\n                print(img_name,'ä¸‹è½½æˆåŠŸï¼')\n\n0x02 bs4è§£æ\n\n\n\n\n\n\n\n\næ‰€éœ€æ¨¡å—ï¼šbs4 lxml\næ•°æ®è§£æçš„åŸç†ï¼š\n\næ ‡ç­¾å®šä½\næå–æ ‡ç­¾ã€æ ‡ç­¾å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼\n\nbs4æ•°æ®è§£æçš„åŸç†ï¼š\n\nå®ä¾‹åŒ–ä¸€ä¸ªBeautifulSoupå¯¹è±¡ï¼Œå¹¶ä¸”å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\né€šè¿‡è°ƒç”¨BeautifulSoupå¯¹è±¡ä¸­ç›¸å…³çš„å±æ€§æˆ–è€…æ–¹æ³•è¿›è¡Œæ ‡ç­¾å®šä½å’Œæ•°æ®æå–\n\nå¦‚ä½•å®ä¾‹åŒ–Beautifulå¯¹è±¡ï¼š\n\n\n\n\n\n\n\n\n\nfrom bs4 import BeautifulSoup\n\nå¯¹è±¡çš„å®ä¾‹åŒ–ï¼šå°†æœ¬åœ°/äº’è”ç½‘ä¸Šè·å–çš„é¡µé¢æºç åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\nsoup=BeautifulSoap(page_text.content,&#39;lxml&#39;)\n\n\næä¾›çš„ç”¨äºæ•°æ®è§£æçš„æ–¹æ³•å’Œå±æ€§ï¼š\n\nsoup.tagName å¯¹åº”htmlæ ‡ç­¾ è¿”å›çš„æ˜¯htmlä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„tagNameæ ‡ç­¾\n\nsoup.find() :\n\nsoup.find(&#39;tagName&#39;) åŒ soup.tagName\nå±æ€§å®šä½ï¼šsoup.find(&#39;tagName&#39;,class_=&#39;xxx&#39;) (classè¦å¸¦ä¸‹åˆ’çº¿)\nsoup.find_all(&#39;tagName&#39;) è¿”å›æ‰€æœ‰çš„æ ‡ç­¾(åˆ—è¡¨)\n\n\nsoup.select()\n\nsoup.select(&#39;æŸç§é€‰æ‹©å™¨(id,class,æ ‡ç­¾...)&#39;)ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨\n\n\n\n\n\n\n\n\n\n#id, tag, .class\n\nå±‚çº§é€‰æ‹©å™¨ï¼š\n\nsoup.select(&#39;.class1 &gt; ul &gt; li &gt; a&#39;)[2]  è¡¨ç¤º class1 ä¸‹çš„ ul æ ‡ç­¾ä¸‹çš„ li æ ‡ç­¾ä¸­çš„ç¬¬äºŒä¸ª a æ ‡ç­¾ã€‚ &gt; è¡¨ç¤ºä¸€ä¸ªå±‚çº§å…³ç³»\nsoup.select(&#39;.class1 &gt; ul a&#39;)[2] è¡¨ç¤ºåŒä¸Šï¼Œç©ºæ ¼è¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§å…³ç³»\n\n\n\n\nè·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬æ•°æ®\n\nsoup.a.text/string/get_text()\n.text/.get_text() å¯ä»¥è·å¾—æŸä¸€ä¸ªæ ‡ç­¾ä¸­æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹\n.string åªå¯ä»¥è·å–æ”¹æ ‡ç­¾ä¸‹é¢ç›´ç³»çš„æ–‡æœ¬å†…å®¹\n\n\n\n\nè·å–æ ‡ç­¾ä¸­å±æ€§å€¼\nsoup.a[&#39;href&#39;]\n\n\n\nç»ƒä¹ ï¼šå°è¯´ç« èŠ‚åå’Œå†…å®¹çˆ¬å–\nimport requests\nimport lxml\nfrom bs4 import BeautifulSoup\n\n# éœ€æ±‚ï¼šçˆ¬å–å°è¯´çš„æ‰€æœ‰ç« èŠ‚æ ‡é¢˜å’Œå†…å®¹\nif __name__ == '__main__':\n    if not os.path.exists('./data_parse_test/test2'):\n        os.mkdir('./data_parse_test/test2/')\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    # å¯¹é¦–é¡µçš„é¡µé¢è¿›è¡Œçˆ¬å–\n    url = 'http://www.banzhu22.org/5_5853/'\n    page_text = requests.get(url=url, headers=headers)\n\n    # åœ¨é¦–é¡µä¸­è§£æå‡ºç« èŠ‚çš„æ ‡é¢˜å’Œè¯¦æƒ…é¡µçš„url\n    # 1. å®ä¾‹åŒ–BeautifulSoupå¯¹è±¡ï¼Œå°†ç½‘é¡µæºç åŠ è½½åˆ°å¯¹è±¡ä¸­\n    soup = BeautifulSoup(page_text.content, 'lxml')\n    dd_list = soup.select('.box_con > #list dd')[9:]\n\n    fp = open('./data_parse_test/test2/49gifts.txt', 'w', encoding='utf-8')\n    for dd in dd_list:\n        title = dd.a.string\n        detail_url = 'http://www.banzhu22.org' + dd.a['href']\n        # å¯¹è¯¦æƒ…é¡µå‘èµ·è¯·æ±‚ï¼Œè§£æå‡ºç« èŠ‚å†…å®¹\n        detail_page_text = requests.get(url=detail_url, headers=headers)\n        # è§£æå‡ºè¯¦æƒ…é¡µä¸­ç›¸å…³ç« èŠ‚çš„å†…å®¹\n        detail_soup = BeautifulSoup(detail_page_text.content, 'lxml')\n        div_tag = detail_soup.find('div', id='content')\n        # è§£æåˆ°ç« å†…å®¹\n        content = div_tag.text\n        fp.write(title+'\\n'+content+'\\n')\n        print(title+'downloaded successfully!')\n\n    print('over!')\n\n0x03 xpathè§£æ\n\n\n\n\n\n\n\n\næ˜¯æœ€å¸¸ç”¨ä¸”æœ€ä¾¿æ·é«˜æ•ˆçš„çˆ¬å–æ–¹å¼ï¼Œé€šç”¨æ€§æœ€å¼º\næ‰€éœ€æ¨¡å—ï¼šlxml\nxpathè§£æåŸç†ï¼š\n\nå®ä¾‹åŒ–ä¸€ä¸ªetreeçš„å¯¹è±¡ï¼Œä¸”éœ€è¦å°†è¢«è§£æçš„é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\nè°ƒç”¨etreeå¯¹è±¡ä¸­çš„xpathæ–¹æ³•ç»“åˆç€xpathè¡¨è¾¾å¼å®ç°æ ‡ç­¾çš„å®šä½å’Œå†…å®¹çš„æ•è·\n\nå¦‚ä½•å®ä¾‹åŒ–etreeå¯¹è±¡ï¼š\n\n\n\n\n\n\n\n\n\nfrom lxml import etree\n\næœ¬åœ°æºç ï¼šetree.parse(filePath)\n\näº’è”ç½‘æºç ï¼šetree.HTML(&#39;page_text&#39;)\n\nxpath(&#39;xpathè¡¨è¾¾å¼&#39;)\n\nxpathè¡¨è¾¾å¼ï¼š\n\n\n\n\n\n\n\n\n\nå„è¡¨è¾¾å¼å¯ä»¥ç”¨ | è¿æ¥\n\n/ï¼šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå±‚çº§ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹å®šä½\nå¼€å¤´./ï¼šå®šä½äº†å±‚çº§åï¼Œå½“å‰å±‚çº§ä¸‹çš„å±‚çº§\n//ï¼šè¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§ï¼Œå¯ä»¥ä»ä»»æ„ä½ç½®å¼€å§‹å®šä½\nå±æ€§å®šä½ï¼š//div[@class=&quot;xxx&quot;] å³ tag[@attrName=&quot;attrValue&quot;]\n\nç´¢å¼•å®šä½ï¼š//div[@class=&quot;xxx&quot;]/p[3] ç´¢å¼•æ˜¯ä»1å¼€å§‹çš„\n\nå–æ–‡æœ¬ï¼š\n/text() æ ‡ç­¾ä¸‹ç›´ç³»çš„æ–‡æœ¬å†…å®¹\n//text() æ ‡ç­¾ä¸‹æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹\n\n\nå–å±æ€§ï¼š/@attrName\n\né€šç”¨å¤„ç†ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ\nname = name.encode('iso-8859-1').decode('gbk')\n\n\nç»ƒä¹ ç•¥\néªŒè¯ç è¯†åˆ«åçˆ¬æœºåˆ¶ï¼šéªŒè¯ç \nè¯†åˆ«éªŒè¯ç çš„æ“ä½œï¼š\n\nç¬¬ä¸‰æ–¹è‡ªåŠ¨è¯†åˆ«ï¼šäº‘æ‰“ç  \n\nto be addedâ€¦.\næ¨¡æ‹Ÿç™»é™†éœ€æ±‚ï¼šå¯¹æ ¡å›­ç½‘è¿›è¡Œç™»é™† (æ— éªŒè¯ç )\n\nç‚¹å‡»ç™»é™†æŒ‰é’®åä¼šå‘èµ·ä¸€ä¸ªPOSTè¯·æ±‚ï¼ŒPOSTè¯·æ±‚ä¸­ä¼šæºå¸¦ç™»å½•ä¿¡æ¯(username,pwd)\nprint(response.status_code) æ‰“å°å“åº”çŠ¶æ€ç ï¼Œå¦‚æœæ‰“å°200åˆ™è¯æ˜æ¨¡æ‹Ÿç™»é™†æˆåŠŸ\n\néœ€æ±‚ï¼šçˆ¬å–å½“å‰ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯\nhttp/httpsåè®®ç‰¹æ€§ï¼šæ— çŠ¶æ€\næ²¡æœ‰è¯·æ±‚åˆ°å¯¹åº”é¡µé¢æ•°æ®çš„åŸå› ï¼šå‘èµ·çš„ç¬¬äºŒæ¬¡åŸºäºé¡µé¢çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¸çŸ¥é“æ­¤æ¬¡è¯·æ±‚æ˜¯åŸºäºç™»å½•çŠ¶æ€ä¸‹çš„è¯·æ±‚\ncookieï¼šç”¨æ¥è®©æœåŠ¡ç«¯è®°å½•å®¢æˆ·ç«¯çš„ç›¸å…³çŠ¶æ€\n\ncookieå€¼çš„æ¥æºæ˜¯å“ªé‡Œï¼šæ¨¡æ‹Ÿç™»é™†postè¯·æ±‚åï¼Œæœ‰æœåŠ¡å™¨ç«¯åˆ›å»º\nsessionä¼šè¯å¯¹è±¡ï¼š\nå¯ä»¥è¿›è¡Œè¯·æ±‚çš„å‘é€\nå¦‚æœè¯·æ±‚è¿‡ç¨‹ä¸­äº§ç”Ÿäº†cookieï¼Œåˆ™cookieä¼šè¢«è‡ªåŠ¨å­˜å‚¨/æºå¸¦åœ¨è¯¥sessionå¯¹è±¡ä¸­\n\n\n\næ­¥éª¤ï¼š\n\nåˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡ï¼š session = requests.Session()\nä½¿ç”¨sessionå¯¹è±¡è¿›è¡Œæ¨¡æ‹Ÿç™»å½•postè¯·æ±‚çš„å‘é€ (cookieå°±ä¼šè¢«å­˜å‚¨åœ¨sessionä¸­)\nsessionå¯¹è±¡å†å¯¹ç™»å½•åé¡µé¢å¯¹åº”çš„getè¯·æ±‚è¿›è¡Œå‘é€ (æºå¸¦äº†cookie)\n\nseleniumå·¥å…·\n\n\n\n\n\n\n\n\nè§£å†³requestsæ— æ³•æ‰§è¡ŒjavaScriptä»£ç çš„é—®é¢˜\n\nç”¨äºwebåº”ç”¨ç¨‹åºè‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨å½“ä¸­ï¼Œæ”¯æŒchromeã€firefoxç­‰ä¸»æµæµè§ˆå™¨ã€‚å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶ä¸é¡µé¢ä¸Šå…ƒç´ è¿›è¡Œäº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥è·å–æŒ‡å®šå…ƒç´ çš„å†…å®¹\n\nç¼ºç‚¹ï¼š æ•ˆç‡ä½ï¼Œé€Ÿåº¦æ…¢\n\n\n\n\n\n\n\n\n\n\n\nto be added â€¦\n","slug":"note/Crawler","date":"2021-11-10T09:03:30.000Z","categories_index":"NOTE","tags_index":"Crawler,note,python","author_index":"Maskros"},{"id":"e394fa1264795d63defb812bbe4eb503","title":"2021CCPCå¥³ç”Ÿä¸“åœºvp","content":"2021CCPCå¥³ç”Ÿä¸“åœº\n\n\n\n\n\n\n\n\nâ€œå‡å¦‚æˆ‘æ˜¯å¥³ç”Ÿâ€\nA_å…¬äº¤çº¿è·¯\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n,x,y; cin>>n>>x>>y;\n    int k[20];\n    rep(i,1,n+1) cin>>k[i];\n    int m; cin>>m;\n    int p[20];\n    rep(i,1,m+1) cin>>p[i];\n    int lpos=x-1,rpos=x+1;\n    rep(i,1,m+1)&#123;\n        if(k[lpos]!=p[i])&#123;\n            if(y&lt;x) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125;\n            else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125;\n        &#125;\n        if(k[rpos]!=p[i])&#123;\n            if(x&lt;y) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125;\n            else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125;\n        &#125;\n        lpos--; rpos++;\n    &#125;\n    cout&lt;&lt;\"Unsure\"&lt;&lt;endl;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_ä¿®å»ºé“è·¯\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜ï¼Œä¸¤ä¸¤å–æœ€å¤§å€¼å³å¯ï¼Œè„‚ç¯ç‹å†™äº†ä¸€å‘çº¿æ®µæ ‘ä¼˜åŒ–é€’å½’æˆ‘ä¸æ˜¯å¾ˆè®¤å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 200005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    ll ans = 0;\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n        if(i>0) ans+=max(a[i],a[i-1]);\n    &#125;\n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nG_3Gç½‘ç»œ\n\n\n\n\n\n\n\n\nè¾“å‡º1/nå³å¯ æˆ‘æé”™äº†double ç»“æœwaåœ¨ç²¾åº¦ä¸Šäº† æœ€åæ‰‹å†™äº†ä¸ªé™¤æ³•\nç»“æœå‘ç° printf(â€œ%.16lfâ€,ans) å³å¯ï¼Œå°‘å†™ä¸ªå°æ•°ç‚¹ğŸ˜…\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n; cin>>n;\n    int x,y;\n    rep(i,0,n)&#123;\n        cin>>x>>y;\n    &#125;\n    int ans[15];  \n    rep(i,0,12)&#123;\n        if(i==0)&#123;\n            if(n==1) &#123;ans[0]=1; tmp=0;&#125;\n            else &#123;ans[0]=0; tmp*=10;&#125;\n        &#125;else&#123;\n            ans[i]=tmp/n;\n            tmp=tmp%n;\n            tmp*=10;\n        &#125;\n    &#125;\n    cout&lt;&lt;ans[0]&lt;&lt;\".\";\n    rep(i,1,12)&#123;\n        cout&lt;&lt;ans[i];\n    &#125;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n// ans=1.0/n\n// printf(\"%.16lf\",ans);\nI_é©¾é©¶å¡ä¸è½¦\n\n\n\n\n\n\n\n\næ¥æ¨¡æ‹Ÿå°±è¡Œï¼Œå…«ä¸ªæ–¹å‘ dis[8][2] ç›´æ¥åšæ‰å•Šåšæ‰\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nchar mp[55][55];\nint dis[8][2] = &#123;\n    &#123;-1, 0&#125;, &#123;-1, -1&#125;, &#123;0, -1&#125;, &#123;1, -1&#125;, &#123;1, 0&#125;, &#123;1, 1&#125;, &#123;0, 1&#125;, &#123;-1, 1&#125;&#125;;\nint n, m, x, y, v, face;\nbool crsh=0;\nbool check(int x, int y) &#123;\n    if (x &lt;= 0 || x > n || y &lt;= 0 || y > m)\n        return false;\n    if (mp[x][y] == '#')\n        return false;\n    else\n        return true;\n&#125;\nvoid go()&#123;\n    rep(j, 0, v) &#123;\n        if (dis[face][0] != 0 &amp;&amp; dis[face][1] != 0) &#123;\n            if (!check(x + dis[face][0], y) &amp;&amp; !check(x, y + dis[face][1])) &#123;\n                crsh = true;\n                v = 0;\n                break;\n            &#125;\n        &#125;\n        if (check(x + dis[face][0], y + dis[face][1])) &#123;\n            x += dis[face][0];\n            y += dis[face][1];\n        &#125; else &#123;\n            crsh = true;\n            v = 0;\n            break;\n        &#125;\n    &#125;\n&#125;\nvoid solve() &#123;\n    cin >> n >> m;\n    v=0, face=0;\n    rep(i, 1, n+1) &#123;\n        rep(j, 1, m+1) &#123;\n            cin >> mp[i][j];\n            if (mp[i][j] == '*') &#123;\n                x = i, y = j;\n            &#125;\n        &#125;\n    &#125;\n    int opcnt;\n    cin >> opcnt;\n    char op;\n    crsh = false;\n    rep(i, 0, opcnt) &#123;\n        cin >> op;\n        crsh = false;\n        if (op == 'L') &#123;\n            face++;\n            if (face > 7) &#123;\n                face = 0;\n            &#125;\n            go();\n        &#125;\n        eif(op == 'R') &#123;\n            face--;\n            if (face &lt; 0) &#123;\n                face = 7;\n            &#125;\n            go();\n        &#125;\n        eif(op == 'U') &#123;\n            v++;\n            go();\n        &#125;\n        eif(op == 'D') &#123;\n            v = max(v - 1, 0);\n            go();\n        &#125;\n        if (crsh)\n            cout &lt;&lt; \"Crash! \";\n        cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nK_éŸ³ä¹æ¸¸æˆ\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    int n; cin&gt;&gt;n;\n    string s;\n    int cnt&#x3D;0;\n    rep(i,0,n+1)&#123;\n        getline(cin,s);\n        rep(j,0,s.length())&#123;\n            if (s[j] &#x3D;&#x3D; &#39;-&#39;)\n                cnt++;\n        &#125;\n    &#125;\n    cout&lt;&lt;cnt;\n\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    &#x2F;&#x2F; cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šå†æ¬¡åŒ–èº«ç­¾åˆ°çš‡å¸ï¼Œè¿˜åœ¨æƒ³Bé¢˜çš„å­—ç¬¦ä¸²ï¼Œè¯·æŠŠâ€œä»Šå¤©æƒ³å‡ºæ¥Bäº†å—â€æ‰“åœ¨è¯„è®ºåŒºğŸ˜˜\n","slug":"xcpc/2021ccpc_girl","date":"2021-11-08T14:25:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,CCPC,æ¨¡æ‹Ÿ","author_index":"Maskros"},{"id":"f6d54634de34a34bc60807e4bd91093d","title":"Codeforces Round 752 (Div.2)","content":"Codeforces Round #752 (Div.2)A_Era\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    ll ans = 0;\n    int t;\n    int pos = 1;\n    rep(i, 1, n + 1) &#123;\n        cin >> t;\n        if (t > pos) &#123;\n            ans += t - pos;\n            pos += t - pos;\n        &#125;\n        pos++;\n    &#125;\n    cout &lt;&lt; ans &lt;&lt; endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nB_XOR_Specia_LIS_t\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ²™æ¯”é¢˜ï¼Œå¦‚æœåºåˆ—æ‰€åˆ†æˆçš„è‹¥å¹²å­åºåˆ—ä¸­ï¼Œæœ€é•¿çš„ä»»æ„é€’å¢åºåˆ—(ä¸éœ€è¦è¿ç»­)çš„é•¿åº¦ç›¸å¼‚æˆ–ï¼Œå¯ä»¥ä¸º0åˆ™è¾“å‡º yes å¦åˆ™è¾“å‡º no\næ€è·¯ï¼š\næ²¡è¯´å’‹åˆ†ï¼Œå°±ä¸€ä¸ªä¸€ä¸ªåˆ†ï¼Œæ‰€ä»¥å°±æ˜¯ 1^1^1^â€¦ ï¼Œæ ¹æ®åºåˆ—é•¿åº¦çš„å¥‡å¶æ€§åˆ¤æ–­ä¸€ä¸‹å³å¯ï¼Œå¶æ•°ä¸€å®šyesï¼Œå¥‡æ•°å°±åˆ¤æ–­æ˜¯ä¸æ˜¯å•å¢åºåˆ—ï¼Œä¸æ˜¯çš„è¯ä¸€å®šyesï¼Œåä¹‹no\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n; cin>>n;\n    int tmp;\n    rep(i,0,n)&#123;\n        cin >> a[i];\n    &#125;\n    bool is=false;\n    if(n&amp;1)&#123;\n        rep(i,1,n)&#123;\n            if(a[i]&lt;=a[i-1])&#123;\n                cout&lt;&lt;\"YES\"&lt;&lt;endl;\n                is=true;\n                break;\n            &#125;\n        &#125;\n        if(!is) cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;else&#123;\n        cout&lt;&lt;\"YES\"&lt;&lt;endl;\n    &#125;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nC_Di_visible_Confusion\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥å¯¹a[i]è¿›è¡Œåˆ é™¤æ“ä½œçš„å‰ææ˜¯ a[i]%(i+1)!=0ï¼Œé—®è¿™ä¸ªåºåˆ—èƒ½ä¸èƒ½è¢«åˆ å¹²å‡€\næ€è·¯ï¼š\næš´åŠ›å³å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n; cin>>n;\n    rep(i,1,n+1)&#123;\n        cin>>a[i];\n    &#125;\n    bool flag=false;\n    rep(i,1,n+1)&#123;\n        flag=false;\n        rep(j,2,i+2)&#123;\n            if(a[i]%j!=0)&#123;\n                flag=true;\n                break;\n            &#125;\n        &#125;\n        if(!flag)&#123;\n            cout&lt;&lt;\"NO\"&lt;&lt;endl;\n            return;\n        &#125;\n    &#125;\n    cout&lt;&lt;\"YES\"&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nD_Vupsen_Pupsen_and_0\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nè¾“å…¥x,y ä¸¤ä¸ªå¶æ•°ï¼Œæ‰¾å‡º nï¼Œä½¿å¾— n%x=y%n\næ€è·¯ï¼š\nåˆ†ç±»è®¨è®ºå³å¯ï¼š\n\nx&gt;y æ—¶ï¼Œn=x+y\nx&lt;y æ—¶ï¼Œn=y-(y%x)/2\nè€ƒè™‘ç‰¹ä¾‹\n\næ€è€ƒä¸å‡ºæ¥çš„æ—¶å€™ç”»æ•°è½´å¯ä»¥ç»™ä½ çµæ„Ÿ\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll x, y;\n    cin >> x >> y;\n    if (x == y) &#123;\n        cout &lt;&lt; x &lt;&lt; endl;\n        return;\n    &#125;\n    if (x > y) &#123;\n        cout &lt;&lt; x + y &lt;&lt; endl;\n    &#125; else &#123;\n        if (y % x == 0) &#123;\n            cout &lt;&lt; x &lt;&lt; endl;\n        &#125; else &#123;\n            cout &lt;&lt; y - (y % x) / 2 &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n","slug":"codeforces/cf 752","date":"2021-10-31T14:50:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,codeforces","author_index":"Maskros"},{"id":"4370eb9e88a3fbe0e8eca2138219f214","title":"Educational Codeforces Round 116 (Div.2)","content":"Educational Codeforces Round 116 (Rated for Div. 2)A_AB_Balance\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç”±abæ„æˆçš„ä¸²ï¼Œåšæœ€å°‘æ“ä½œä½¿abå’Œbaå‡ºç°çš„æ¬¡æ•°ç›¸åŒ\næ€è·¯ï¼š\nå¦‚æœå‡ºç°æ¬¡æ•°ä¸åŒï¼Œæœ€å¤šå·®1ï¼Œä¿®æ”¹é¦–ä½å³å¯\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    string s;\n    cin &gt;&gt; s;\n    int l &#x3D; s.length();\n    int ab &#x3D; 0, ba &#x3D; 0;\n    rep(i, 0, l) &#123;\n        if (s[i] &#x3D;&#x3D; &#39;a&#39;) &#123;\n            if (s[i + 1] &#x3D;&#x3D; &#39;b&#39;)\n                ab++;\n        &#125;\n        if (s[i] &#x3D;&#x3D; &#39;b&#39;) &#123;\n            if (s[i + 1] &#x3D;&#x3D; &#39;a&#39;)\n                ba++;\n        &#125;\n    &#125;\n    if (ab &#x3D;&#x3D; ba)\n        cout &lt;&lt; s &lt;&lt; endl;\n    else &#123;\n        if (ab &gt; ba) &#123;\n            if (s[0] &#x3D;&#x3D; &#39;a&#39;)\n                s[0] &#x3D; &#39;b&#39;;\n        &#125; else &#123;\n            if (s[0] &#x3D;&#x3D; &#39;b&#39;)\n                s[0] &#x3D; &#39;a&#39;;\n        &#125;\n        cout &lt;&lt; s &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Update_Files\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll quickpow(ll a, ll b) &#123;\n    ll ans &#x3D; 1;\n    ll res &#x3D; a;\n    while (b) &#123;\n        if (b &amp; 1)\n            ans &#x3D; ans * res;\n        b &gt;&gt;&#x3D; 1;\n        res &#x3D; res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve() &#123;\n    ll n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    if (n &#x3D;&#x3D; 1)\n        cout &lt;&lt; 0 &lt;&lt; endl;\n    else &#123;\n        int need &#x3D; 0;\n        ll tmp &#x3D; 0;\n        rep(i, 0, 65) &#123;\n            tmp &#x3D; quickpow(2, i);\n            if (tmp &gt;&#x3D; k || tmp &gt;&#x3D; n) &#123;\n                need &#x3D; i;\n                break;\n            &#125;\n        &#125;\n        if (tmp &gt;&#x3D; n)\n            cout &lt;&lt; need &lt;&lt; endl;\n        else &#123;\n            ll times &#x3D; need;\n            if ((n - tmp) % k &gt; 0) &#123;\n                times +&#x3D; (n - tmp) &#x2F; k + 1;\n            &#125; else &#123;\n                times +&#x3D; (n - tmp) &#x2F; k;\n            &#125;\n            cout &lt;&lt; times &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nC_Banknotes\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šn,k, nä»£è¡¨çº¸å¸ç§ç±»ï¼Œkä»£è¡¨æœ€å¤šå¯ç”¨çº¸å¸æ•°é‡ï¼Œæ¥ä¸‹æ¥ç»™å‡ºa[0â€¦n-1]ï¼Œ é¡ºåºç”±å°åˆ°å¤§ï¼Œè¡¨ç¤ºæ¯å¼ çº¸å¸çš„é¢å€¼ä¸º 10^a[i]ï¼Œæ±‚ä¸èƒ½è¡¨ç¤ºå‡ºçš„é‡‘é¢çš„æœ€å°å€¼\næ€è·¯ï¼š\nè´ªå¿ƒï¼ŒæŒ‰10è¿›åˆ¶ä»ä½ä½åˆ°é«˜ä½å–ï¼Œèƒ½å–å¤Ÿä½ä½å°±æ˜¯ a[i+1]-1 çš„å½¢å¼ï¼Œå³ä¸º x999â€¦ , å¦‚æœa[i]å–ä¸åˆ°a[i+1] æˆ–è€… æ²¡æœ‰æ›´å¤§é¢å€¼çš„é’ç¥¨ï¼Œç­”æ¡ˆå³ä¸º a[i] * å‰©ä½™å¼ æ•° + a[i]-1 , èƒ½å–åˆ°å°±æ¥ç€æ‰¾a[i+1]ã€‚\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll a[20];\nll quickpow(ll a, ll b) &#123;\n    ll ans &#x3D; 1;\n    ll res &#x3D; a;\n    while (b) &#123;\n        if (b &amp; 1)\n            ans &#x3D; ans * res;\n        b &gt;&gt;&#x3D; 1;\n        res &#x3D; res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve() &#123;\n    ll n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    rep(i, 0, n) &#123;\n        cin &gt;&gt; a[i];\n        a[i] &#x3D; quickpow(10, a[i]);\n    &#125;\n    a[n] &#x3D; 0;\n    ll ans &#x3D; 0;\n    ll tmp &#x3D; 0;\n    rep(i, 0, n) &#123;\n        if (i &#x3D;&#x3D; 0) &#123;\n            if (n &#x3D;&#x3D; 1) &#123;\n                cout &lt;&lt; k + 1 &lt;&lt; endl;\n                return;\n            &#125;\n            if (a[i] * k + 1 &lt; a[i + 1]) &#123;\n                cout &lt;&lt; a[i] * k + 1 &lt;&lt; endl;\n                return;\n            &#125; else &#123;\n                tmp +&#x3D; a[i + 1] &#x2F; a[i] - 2;\n                ans &#x3D; a[i + 1] - 1;\n            &#125;\n        &#125; else &#123;\n            if ((k - tmp) * a[i] &lt; a[i + 1]) &#123;\n                ans &#x3D; (k - tmp) * a[i] + a[i] - 1;\n                cout &lt;&lt; ans &lt;&lt; endl;\n                return;\n            &#125;\n            eif(a[i + 1] &#x3D;&#x3D; 0) &#123;\n                ans &#x3D; (k - tmp) * a[i] + a[i] - 1;\n                cout &lt;&lt; ans &lt;&lt; endl;\n                return;\n            &#125;\n            else &#123;\n                tmp +&#x3D; a[i + 1] &#x2F; a[i] - 1;\n                ans &#x3D; a[i] - 1;\n            &#125;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\næ€»ç»“æˆ‘çœŸæ˜¯ä¸ªæ²™æ¯”ï¼Œæ‰“çš„æ—¶å€™å› ä¸ºæœ‰ä¸ªåˆ¤æ–­æ¡ä»¶å†™é”™äº†ä¸€ç›´wa2ï¼Œæ¯”èµ›å®Œååˆ†é’Ÿå°±è¿‡äº†ï¼Œçº¯æ‰åˆ†é£èˆ ğŸ˜…\n","slug":"codeforces/cf Edu 116","date":"2021-10-30T06:02:00.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,codeforces","author_index":"Maskros"},{"id":"a34fa7abdbec32f8c07db7bb49b7ce14","title":"Codeforces Round 750 (Div.2)","content":"Codeforces Round #750 (Div.2)A_Luntik_and_Concerts#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll a, b, c;\n    cin >> a >> b >> c;\n    int mn = min(a, b);\n    if ((mn + c) &amp; 1) &#123;\n        mn--;\n        a -= mn;\n        b -= mn;\n    &#125; else &#123;\n        a -= mn;\n        b -= mn;\n    &#125;\n    b &amp;= 1;\n    if (b) &#123;\n        if (a >= 2)\n            a -= 2;\n        cout &lt;&lt; (a &amp; 1) &lt;&lt; endl;\n    &#125; else &#123;\n        cout &lt;&lt; (a &amp; 1) &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Luntik_and_Subsequences#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll quickpow(int a, int b)&#123; \n    ll ans = 1;\n    ll res = a;\n    while (b)\n    &#123;\n        if (b &amp; 1)\n            ans = ans * res;\n        b >>= 1;\n        res = res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve()\n&#123;\n    int n; cin>>n;\n    int a[65];\n    rep(i,0,n) cin>>a[i];\n    sort(a,a+n);\n    ll cnt=0;\n    if(a[0]>1) cout&lt;&lt;0&lt;&lt;endl;\n    else&#123;\n        ll cnt0=0,cnt1=0;\n        rep(i,0,n)&#123;\n            if(a[i]==0) cnt0++;\n            eif(a[i]==1) cnt1++;\n            else break;\n        &#125;\n        cnt=cnt1*quickpow(2,cnt0);\n        cout&lt;&lt;cnt&lt;&lt;endl;\n    &#125;\n&#125;\nint main()\n&#123;\n    IOS;\n    int T = 1;\n    cin >> T;\n    while (T--)\n    &#123;\n        solve();\n    &#125;\n&#125;\nC_Grandma_Capa_Knits_a_Scarf\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå¾…è¡¥\næ€è·¯ï¼š\nå¾…è¡¥\n#include &lt;iostream>\n#include &lt;algorithm>\n#include &lt;cstring>\n#include &lt;vector>\n#define ll long long\n#define pb push_back\nusing namespace std;\nint sum1[100005], sum2[100005];\nint p[1000005];\nint main() &#123;\n\tint T;\n\tcin >> T;\n\t//T = 1;\n\twhile(T--) &#123;\n\t\tint n;\n\t\tcin >> n;\n\t\tstring s;\n\t\tcin >> s;\n\t\tint ans = 0x3f3f3f3f;\n\t\tfor(int i = 0; i &lt; 26; i++) &#123;\n\t\t\tstring s1 = \"\";\n\t\t\tsum1[0] = sum2[n + 1] = sum2[n] = 0;\n\t\t\tchar now = 'a' + i;\n\t\t\tfor(int j = 0; j &lt; s.size(); j++) &#123;\n\t\t\t\tif(s[j] == now) &#123;\n\t\t\t\t\tif(j == 0) sum1[j] = 1;\n\t\t\t\t\telse sum1[j] = sum1[j - 1] + 1;\n\t\t\t\t&#125; else &#123;\n\t\t\t\t\tif(j == 0) sum1[j] = 0;\n\t\t\t\t\telse sum1[j] = sum1[j - 1];\n\t\t\t\t\ts1 += s[j];\n\t\t\t\t\tp[s1.size() - 1] = j;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\n\t\t\tfor(int j = s.size() - 1; j >= 0; j--) &#123;\n\t\t\t\tsum2[j] = sum2[j + 1];\n\t\t\t\tif(s[j] == now) sum2[j]++;\n\t\t\t&#125;\n\t\t\tstring s2 = s1;\n\t\t\treverse(s2.begin(), s2.end());\n\t\t\t//cout &lt;&lt; \"fuck\" &lt;&lt; endl;\n\t\t\tif(s1 == s2) &#123;\n\t\t\t\t//cout &lt;&lt; (char)('a' + i) &lt;&lt; endl;\n\t\t\t\tint del = 0;\n\t\t\t\tfor(int k = 0; k &lt; s1.size() / 2 + (s1.size() &amp; 1 ? 1 : 0); k++) &#123;\n\t\t\t\t\t//if(i == 0) cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; endl;\n\t\t\t\t\tint pos1 = p[k], pos2 = p[s1.size() - 1 - k];\n\t\t\t\t\t//if(i + 'a' == 'r') cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; del &lt;&lt; endl;\n\t\t\t\t\tif(k == 0) del += abs(sum1[pos1] - sum2[pos2]);\n\t\t\t\t\telse del += abs((sum1[pos1] - sum1[p[k - 1]]) - (sum2[pos2] - sum2[p[s1.size() - k]]));\n\t\t\t\t&#125;\n\t\t\t\tans = min(ans, del);\n\t\t\t&#125;\n\t\t&#125;\n\t\tif(ans == 0x3f3f3f3f) cout &lt;&lt; -1 &lt;&lt; endl;\n\t\telse cout &lt;&lt; ans &lt;&lt; endl;\n\t&#125;\n\n\treturn 0;\n&#125;\n// 1\n// 8\n// rprarlap\nD_Vupsen_Pupsen_and_0\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå·²çŸ¥éé›¶æ•°ç»„a[i]ï¼Œæ±‚éé›¶æ•°ç»„b[i]ï¼Œä½¿å¾—a[i]*b[i] çš„å’Œä¸º0\næ€è·¯ï¼š\nä¸ªæ•°ä¸ºå¶æ•°ä¸¤ä¸¤ç›¸æ¶ˆï¼Œä¸ªæ•°ä¸ºå¥‡æ•°çš„è¯ï¼Œé€‰å–å°¾éƒ¨ä¸‰ä¸ªæ•°ï¼Œåˆ¤æ–­ä¸¤ä¸ªç›¸åŠ ä¸ä¸ºé›¶çš„æ•°å‡ºæ¥ï¼Œå½“ä½œä¸€ä¸ªæ•°ä¸å‰©ä¸‹çš„ä¸€ä¸ªæ•°ä¸¤ä¸¤ç›¸æ¶ˆå³å¯ã€‚\nå‘ç‚¹ï¼šä¸‰ä¸ªæ•°æ—¶åˆå¹¶çš„ä¸¤ä¸ªæ•°ç›¸åŠ ä¸èƒ½ä¸º0\n#include &lt;bits/stdc++.h>\n\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int a[maxn];\n    int n;\n    cin >> n;\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n    &#125;\n    bool t1 = false, t2 = false, t3 = false;\n    if (n &amp; 1) &#123;\n        if (a[n - 1] + a[n - 2] != 0) &#123;\n            a[n - 2] = a[n - 1] + a[n - 2];\n            t1 = true;\n        &#125; else &#123;\n            if (a[n - 2] + a[n - 3] != 0) &#123;\n                a[n - 3] = a[n - 2] + a[n - 3];\n                a[n - 2] = a[n - 1];\n                t2 = true;\n            &#125; else &#123;\n                a[n - 3] = a[n - 3] + a[n - 1];\n                t3 = true;\n            &#125;\n        &#125;\n        for (int i = 0; i &lt; n - 1; i += 2) &#123;\n            if (i == n - 3) &#123;\n                if (t1) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n                &#125;\n                eif(t2) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i];\n                &#125;\n                eif(t3) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; a[i + 1];\n                &#125;\n            &#125; else &#123;\n                cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n            &#125;\n        &#125;\n        cout &lt;&lt; endl;\n    &#125; else &#123;\n        for (int i = 0; i &lt; n; i += 2) &#123;\n            cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n        &#125;\n        cout &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n","slug":"codeforces/cf 750","date":"2021-10-27T17:02:50.000Z","categories_index":"SOLUTIONS","tags_index":"ACM,æ€ç»´,solutions,codeforces,string","author_index":"Maskros"},{"id":"e2155c016c02706041cead02c4e9a9a6","title":"kmp & exkmp","content":"kmp &amp; exkmpKnuth-Morris-Pratt &amp; entend kmp \nå­—ç¬¦ä¸²åŒ¹é…\nkmp\n\n\n\n\n\n\n\n\nKeywordsï¼šnext[] \nç”±BFæ”¹è¿›ï¼ŒO(m+n)ï¼Œä¼ ä¸–ç»å…¸å±äºæ˜¯ğŸ˜…\nä»¥ä¸‹å‡å‡è®¾ä¸»ä¸²ä¸º Sï¼Œæ¨¡å¼ä¸²ä¸º P \n\nWhat is next[] ?\né’ˆå¯¹æ¨¡å¼ä¸²ï¼Œnext[j] è¡¨ç¤ºæ¨¡å¼ä¸²ä¸‹æ ‡ j ä¹‹å‰ æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ï¼Œè¿™ä¸é‡è¦ã€‚\nä½ åªéœ€è¦è®°ä½ï¼šnext[j]è¡¨ç¤ºå½“ P[j]!=S[i] æ—¶ï¼Œj æŒ‡é’ˆçš„ä¸‹ä¸€æ­¥ç§»åŠ¨ä½ç½®ã€‚\nå·ä¸ªå¥½å›¾ï¼š\n\n\n\n\nHow to quickly build next[] ?\n\n\n\n\n\n\n\n\n\nè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸ŠğŸ\nvoid kmp_pre(string p, int next[])&#123;\n\tint i,j;\n\tj&#x3D;next[0]&#x3D;-1;\n\ti&#x3D;0;\n\twhile(i&lt;p.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j];\n\t\tnext[++i]&#x3D;++j;\n\t&#125;\n&#125;\nâ‘  åˆå§‹åŒ–next[0]=-1\nâ‘¡ å¦‚æœ P[next[m]]==P[m] ï¼Œé‚£ä¹ˆ next[m+1]=next[m]+1\nâ‘¢ å¦‚æœ P[next[m]]!=P[m]ï¼Œä»¤ t=m, t=next[t]ï¼Œæ¯”è¾ƒ P[next[t]]å’Œ P[m]ï¼šç›¸åŒçš„è¯ next[m]=next[t]+1 , ä¸åŒçš„ä»¤t=next[t] ç»§ç»­æ¯”è¾ƒï¼Œç›´åˆ° t==-1 æ—¶ï¼Œnext[m]=0\n\n\nkmpè®¡æ•°æ¨¡æ¿\næ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºç°äº†å‡ æ¬¡ (å¯é‡å ã€ä¸å¯é‡å )\nvoid kmp_pre(string p, int next[])&#123;\n\tint i,j;\n\tj&#x3D;next[0]&#x3D;-1;\n\ti&#x3D;0;\n\twhile(i&lt;p.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j];\n\t\tnext[++i]&#x3D;++j;\n\t&#125;\n&#125;\nint kmp_Count(string x, string y, int next[])&#123; &#x2F;&#x2F;xæ˜¯æ¨¡å¼ä¸²ï¼Œyæ˜¯ä¸»ä¸²\n\tint i,j;\n\tint ans&#x3D;0;\n\tkmp_pre(x,next);\n\ti&#x3D;j&#x3D;0;\n\twhile(i&lt;y.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; y[i]!&#x3D;x[j]) j&#x3D;next[j];\n\t\ti++;j++;\n\t\tif(j&gt;&#x3D;x.length())&#123;\n\t\t\tans++;\n            &#x2F;&#x2F;ä»¥ä¸‹äºŒé€‰ä¸€\n\t\t\tj&#x3D;next[j]; &#x2F;&#x2F;å¯é‡å è®¡æ•°\n            j&#x3D;0;\t&#x2F;&#x2F;ä¸å¯é‡å è®¡æ•°\n\t\t&#125;\n\t&#125;\n\treturn ans;\n&#125;\n\n\nexkmp\n\n\n\n\n\n\n\n\nKeywords: extend[] next[]\nO(m+n)\ne-kmp å¯ä»¥æ‰¾åˆ°ä¸»ä¸²ä¸­æ‰€æœ‰æ¨¡å¼ä¸²çš„åŒ¹é…\n\nWhat are they?\nnext[i]: å¯¹æ¨¡å¼ä¸²ï¼Œè¡¨ç¤º P[i...m-1] ä¸ P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€\nextend[i] : å¯¹ä¸»ä¸²å’Œæ¨¡å¼ä¸²ï¼Œè¡¨ç¤º S[i...n-1]ä¸ P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€\n\nHow to build them?\n\n\n\n\n\n\n\n\n\nğŸæ¥\nvoid ekmp_pre(string x, int next[])&#123;\n\tint m&#x3D;x.length();\n\tnext[0]&#x3D;m;\n\tint j&#x3D;0;\n\twhile(j+1&lt;m &amp;&amp; x[j]&#x3D;&#x3D;x[j+1]) j++;\n\tnext[1]&#x3D;j;\n\tint k&#x3D;1;\n\tfor(int i&#x3D;2; i&lt;m; i++)&#123;\n\t\tint p&#x3D;next[k]+k-1;\n\t\tint L&#x3D;next[i-k];\n\t\tif(i+L&lt;p+1) next[i]&#x3D;L;\n\t\telse&#123;\n\t\t\tj&#x3D;max(0,p-i+1);\n\t\t\twhile(i+j&lt;m &amp;&amp; xi+j]&#x3D;&#x3D;x[j]) j++;\n\t\t\tnext[i]&#x3D;j;\n\t\t\tk&#x3D;i;\n\t\t&#125;\n\t&#125;\n&#125;\nvoid ekmp(string x, string y, int next[], int extend[])&#123;\n\tekmp_pre(x,next);\n\tint j&#x3D;0;\n\tint m&#x3D;x.length(), n&#x3D;y.length();\n\twhile(j&lt;n &amp;&amp; j&lt;m &amp;&amp; x[j]&#x3D;&#x3D;y[j]) j++;\n\textend[0]&#x3D;j;\n\tint k&#x3D;0;\n\tfor(int i&#x3D;1; i&lt;n; i++)&#123;\n\t\tint p&#x3D;extend[k]+k-1;\n\t\tint L&#x3D;next[i-k];\n\t\tif(i+L&lt;p+1) extend[i]&#x3D;L;\n\t\telse&#123;\n\t\t\tj&#x3D;max(0,p-i+1);\n\t\t\twhile(i+j&lt;n &amp;&amp; j&lt;m &amp;&amp; y[i+j]&#x3D;&#x3D;x[j]) j++;\n\t\t\textend[i]&#x3D;j;\n\t\t\tk&#x3D;i;\n\t\t&#125;\n\t&#125;\n&#125;\nå‡è®¾æˆ‘ä»¬å·²ç»çŸ¥é“ next[] , å¦‚ä½•æ±‚ extend[] å‘¢ï¼Ÿ\n\n\n\n\n\n\n\n\n\næ­¤å¤„å˜é‡è®¾ç½®ä¼šå’ŒğŸæœ‰æ‰€å‡ºå…¥ï¼Œä¸»è¦æ˜¯ç†è§£è¿‡ç¨‹ğŸ˜…\nâ‘  å‡è®¾å½“å‰ S ä¸²éå†åˆ°ä½ç½®i, å³extend[0...i-1]çš„å€¼å‡ä»¥æ±‚å‡ºï¼›é¦–å…ˆè®¾ç½®ä¸¤ä¸ªå˜é‡ï¼Œa å’Œ pï¼Œp ä»£è¡¨ä»¥aä¸ºèµ·å§‹ä½ç½®çš„å­—ç¬¦åŒ¹é…æˆåŠŸçš„æœ€å³è¾¹ç•Œï¼Œâ€™p = æœ€åä¸€ä¸ªåŒ¹é…æˆåŠŸä½ç½®+1â€™ ï¼Œå³ S[a...p) == P[0...p-a)ï¼Œå‡è®¾ä¸‹é¢åŸºäºS[i] å¯¹åº” P[i-a] çš„å‡ ç§æƒ…å†µå¼€å§‹è®¨è®ºï¼š\nâ‘¡ å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœ i+next[i-a] &lt; p ï¼Œæ ¹æ® next[]  æ•°ç»„çš„å®šä¹‰ï¼Œæ˜“çŸ¥ extend[i] = next[i-a]\n\nâ‘¢ å¦‚æœ i+next[i-a] == p ï¼Œæ­¤æ—¶S[p]!=P[p-a] ä¸”P[p-i]!=P[p-a]ï¼Œä½†æ˜¯S[p]==P[p-i]çš„å¯èƒ½ä»ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥ç›´æ¥ä» S[p] ä¸ P[p-i] å¼€å§‹å‘ååŒ¹é…å³å¯\n\nâ‘£ å¦‚æœ i+next[i-a] &gt; p ï¼Œæ­¤æ—¶è¯´æ˜ S[i...p) ä¸ P[i-a...p-a]ç›¸åŒï¼Œæ³¨æ„åˆ° S[p]!=P[p-a] å¹¶ä¸” P[p-i]==P[p-a]ï¼Œå³ S[p]!=T[p-i] ï¼Œæ‰€ä»¥æ²¡å¿…è¦ç»§ç»­å¾€ä¸‹åˆ¤æ–­äº†ï¼Œæ•…èµ‹å€¼extend[i]=p-i\n\nâ‘¤ ç”±ä¸Šé¢çš„è¿‡ç¨‹ï¼Œæ±‚è§£next[i]çš„è¿‡ç¨‹å³ä¸º P è‡ªå·±å’Œè‡ªå·±åŒ¹é…çš„è¿‡ç¨‹ï¼Œover\n\n\n\n\n\n\n\n\n\n\n\néœ€è¦ç»†å“\n\né¢˜å•Solution\n\n0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087 link\n\n0x02 Secret HDU-6153 link\n\n0x03 Cow Patterns POJ-3167 link\nâ€¦ å¾…æ›´\n\n\n\n\n\n\n\n\n\n\nkmp å’Œ exkmp æ•´çš„å¤´æ™•â€¦.\n","slug":"algorithm/learn/kmp & exkmp","date":"2021-10-23T17:02:50.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,string,algorithm","author_index":"Maskros"},{"id":"ebad22b2d3ed9cce7b0eb0ed467a5511","title":"SpringMVCå­¦ä¹ æ‚è®°","content":"SpringMVCå­¦ä¹ æ‚è®°\n\n\n\n\n\n\n\n\næ³¨ï¼šæ‚è®°å³ä¸ºçœ‹åˆ°å•¥è®°å•¥ æ¯«æ— ç« æ³• ä¹±jbè®°\nå¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰\nSpringSpring æ˜¯æœ€å—æ¬¢è¿çš„ä¼ä¸šçº§ Java åº”ç”¨ç¨‹åºå¼€å‘çš„è½»é‡çº§æ¡†æ¶\nSpring æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§æ˜¯å¯ä»¥ç”¨äºå¼€å‘ä»»ä½• Java åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åœ¨ Java EE å¹³å°ä¸Šæ„å»º web åº”ç”¨ç¨‹åºæ˜¯éœ€è¦æ‰©å±•çš„ã€‚ Spring æ¡†æ¶çš„ç›®æ ‡æ˜¯ä½¿ J2EE å¼€å‘å˜å¾—æ›´å®¹æ˜“ä½¿ç”¨ï¼Œé€šè¿‡å¯ç”¨åŸºäº POJO ç¼–ç¨‹æ¨¡å‹æ¥ä¿ƒè¿›è‰¯å¥½çš„ç¼–ç¨‹å®è·µ\nä¸‰å±‚æ¶æ„\nè¡¨ç°å±‚  webå±‚  MVCæ˜¯è¡¨ç°å±‚çš„ä¸€ä¸ªè®¾è®¡æ¨¡å‹ \n\nä¸šåŠ¡å±‚  serviceå±‚\n\næŒä¹…å±‚  daoå±‚\n\n\nä¼˜è‰¯ç‰¹æ€§\néä¾µå…¥å¼ï¼šåŸºäºSpringå¼€å‘çš„åº”ç”¨ä¸­çš„å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äºSpringçš„API\næ§åˆ¶åè½¬ï¼šIOCâ€”â€”Inversion of Controlï¼ŒæŒ‡çš„æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™ Spring å»åˆ›å»ºã€‚ä½¿ç”¨ Spring ä¹‹å‰ï¼Œå¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç”±æˆ‘ä»¬è‡ªå·±åœ¨ä»£ç ä¸­newåˆ›å»ºã€‚è€Œä½¿ç”¨ Spring ä¹‹åã€‚å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç»™äº† Spring æ¡†æ¶ã€‚\nä¾èµ–æ³¨å…¥ï¼šDIâ€”â€”Dependency Injectionï¼Œæ˜¯æŒ‡ä¾èµ–çš„å¯¹è±¡ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ setXX æ–¹æ³•å»è®¾ç½®ï¼Œè€Œæ˜¯é€šè¿‡é…ç½®èµ‹å€¼ã€‚\né¢å‘åˆ‡é¢ç¼–ç¨‹ï¼šAspect Oriented Programmingâ€”â€”AOP\nå®¹å™¨ï¼šSpring æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå› ä¸ºå®ƒåŒ…å«å¹¶ä¸”ç®¡ç†åº”ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ\nç»„ä»¶åŒ–ï¼šSpring å®ç°äº†ä½¿ç”¨ç®€å•çš„ç»„ä»¶é…ç½®ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„åº”ç”¨ã€‚åœ¨ Spring ä¸­å¯ä»¥ä½¿ç”¨XMLå’ŒJavaæ³¨è§£ç»„åˆè¿™äº›å¯¹è±¡ã€‚\nä¸€ç«™å¼ï¼šåœ¨ IOC å’Œ AOP çš„åŸºç¡€ä¸Šå¯ä»¥æ•´åˆå„ç§ä¼ä¸šåº”ç”¨çš„å¼€æºæ¡†æ¶å’Œä¼˜ç§€çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆå®é™…ä¸Š Spring è‡ªèº«ä¹Ÿæä¾›äº†è¡¨ç°å±‚çš„ SpringMVC å’ŒæŒä¹…å±‚çš„ Spring JDBCï¼‰\n\nä½“ç³»ç»“æ„\nMVCèŒè´£åˆ†æ\nControllerï¼šæ§åˆ¶å™¨\n\nå–å¾—è¡¨å•æ•°æ®\nè°ƒç”¨ä¸šåŠ¡é€»è¾‘\nè½¬å‘æŒ‡å®šçš„é¡µé¢\n\n\nModelï¼šæ¨¡å‹\n\nä¸šåŠ¡é€»è¾‘\nä¿å­˜æ•°æ®çš„çŠ¶æ€\n\n\nViewï¼šè§†å›¾\n\næ˜¾ç¤ºé¡µé¢\n\n\n\n\n\nMVCæ¡†æ¶éœ€è¦åšå“ªäº›äº‹æƒ…ï¼š\n\nå°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .\n\nå°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .\n\nå¤„ç†è¯·æ±‚â€”è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€”å°è£…å“åº”æ•°æ® .\n\nå°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .\n\n\n\n\nServletjspï¼šæœ¬è´¨å°±æ˜¯ä¸€ä¸ªservlet\n\næ·»åŠ pomä¾èµ–\n\næ–°å»ºç©ºMavené¡¹ç›®\n\nAdd Framework Support é€‰æ‹©Web Applicationæ·»åŠ  å˜æˆwebé¡¹ç›® \n\nå¯¼å…¥servletå’Œjspçš„ä¾èµ–\n\nç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚\n\n\npublic class HelloServlet extends HttpServlet \n\nåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºtest.jsp\nåœ¨web.xmlä¸­æ³¨å†ŒServlet\né…ç½®Tomcat å¹¶å¯åŠ¨æµ‹è¯•\n\nSpringMVC\n\n\n\n\n\n\n\n\nSpring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡ çº§Webæ¡†æ¶\n Spring MVCçš„ç‰¹ç‚¹ï¼š\n\nè½»é‡çº§ï¼Œç®€å•æ˜“å­¦\né«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶\nä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ\nçº¦å®šä¼˜äºé…ç½®\nåŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰\nç®€æ´çµæ´»\n\nSpringçš„webæ¡†æ¶å›´ç»•DispatcherServlet [ è°ƒåº¦Servlet ] è®¾è®¡\nDispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´\nä¸­å¿ƒæ§åˆ¶å™¨Spring MVCæ¡†æ¶ä»¥è¯·æ±‚ä¸ºé©±åŠ¨ , å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½ï¼ŒDispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)ã€‚\nSpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nâ€‹    å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚\n\nSpringMVCæ‰§è¡ŒåŸç†\n\n\n\n\n\n\n\n\nå›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°\n\n\nDispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚\n\n\n\n\n\n\n\n\n\næˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : http://localhost:8080/SpringMVC/hello\nå¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š\nhttp://localhost:8080 æœåŠ¡å™¨åŸŸå\nSpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹\nhelloè¡¨ç¤ºæ§åˆ¶å™¨\né€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚\n\nHandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚\n\nHandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚\n\nHandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚\n\nHandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚\n\nHandlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚\n\nControllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚\n\nHandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚\n\nDispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚\n\nè§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚\n\nDispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚\n\næœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚\n\n\né…ç½®ç‰ˆ\né…ç½®web.xml  ï¼Œ æ³¨å†ŒDispatcherServlet\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n        version=\"4.0\">\n\n   &lt;!--1.æ³¨å†ŒDispatcherServlet-->\n   &lt;servlet>\n       &lt;servlet-name>springmvc&lt;/servlet-name>\n       &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class>\n       &lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml-->\n       &lt;init-param>\n           &lt;param-name>contextConfigLocation&lt;/param-name>\n           &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value>\n       &lt;/init-param>\n       &lt;!--å¯åŠ¨çº§åˆ«-1-->\n       &lt;load-on-startup>1&lt;/load-on-startup>\n   &lt;/servlet>\n\n   &lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰-->\n   &lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰-->\n   &lt;servlet-mapping>\n       &lt;servlet-name>springmvc&lt;/servlet-name>\n       &lt;url-pattern>/&lt;/url-pattern>\n   &lt;/servlet-mapping>\n\n&lt;/web-app>\n\nç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xml\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n&lt;/beans>\n\næ·»åŠ  å¤„ç†æ˜ å°„å™¨\n&lt;bean class=\"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping\"/>\n\næ·»åŠ  å¤„ç†å™¨é€‚é…å™¨\n&lt;bean class=\"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter\"/>\n\næ·»åŠ  è§†å›¾è§£æå™¨\n&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView-->\n&lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" id=\"InternalResourceViewResolver\">\n   &lt;!--å‰ç¼€-->\n   &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"/>\n   &lt;!--åç¼€-->\n   &lt;property name=\"suffix\" value=\".jsp\"/>\n&lt;/bean>\n\nç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›\npackage com.maskros.controller;\n\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.servlet.mvc.Controller;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£\npublic class HelloController implements Controller &#123;\n\n   public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;\n       //ModelAndView æ¨¡å‹å’Œè§†å›¾\n       ModelAndView mv = new ModelAndView();\n\n       //å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model\n       mv.addObject(\"msg\",\"HelloSpringMVC!\");\n       //å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­\n       mv.setViewName(\"hello\"); //: /WEB-INF/jsp/hello.jsp\n       return mv;\n  &#125;\n   \n&#125;\n\nå°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean\n&lt;!--Handler-->\n&lt;bean id=\"/hello\" class=\"com.kuang.controller.HelloController\"/>\n\nå†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;Kuangshen&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\né…ç½®tomcatå¯åŠ¨æµ‹è¯•\n\n\n\n\n\n\n\n\n\n\n\nå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š\n\næŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚\nå¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼\n\n\nâ€»æ³¨è§£ç‰ˆ\nç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„\n&lt;build>\n   &lt;resources>\n       &lt;resource>\n           &lt;directory>src/main/java&lt;/directory>\n           &lt;includes>\n               &lt;include>**/*.properties&lt;/include>\n               &lt;include>**/*.xml&lt;/include>\n           &lt;/includes>\n           &lt;filtering>false&lt;/filtering>\n       &lt;/resource>\n       &lt;resource>\n           &lt;directory>src/main/resources&lt;/directory>\n           &lt;includes>\n               &lt;include>**/*.properties&lt;/include>\n               &lt;include>**/*.xml&lt;/include>\n           &lt;/includes>\n           &lt;filtering>false&lt;/filtering>\n       &lt;/resource>\n   &lt;/resources>\n&lt;/build>\n\nåœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥\n\né…ç½® web.xml\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n        version=\"4.0\">\n\n   &lt;!--1.æ³¨å†Œservlet-->\n   &lt;servlet>\n       &lt;servlet-name>SpringMVC&lt;/servlet-name>\n       &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class>\n       &lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”-->\n       &lt;init-param>\n           &lt;param-name>contextConfigLocation&lt;/param-name>\n           &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value>\n       &lt;/init-param>\n       &lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© -->\n       &lt;load-on-startup>1&lt;/load-on-startup>\n   &lt;/servlet>\n\n   &lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª -->\n   &lt;servlet-mapping>\n       &lt;servlet-name>SpringMVC&lt;/servlet-name>\n       &lt;url-pattern>/&lt;/url-pattern>\n   &lt;/servlet-mapping>\n\n&lt;/web-app>\n\n\n\n\n\n\n\n\n\n/ å’Œ /* çš„åŒºåˆ«ï¼š&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¼šåŒ¹é… .jspï¼Œä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™\n\næ·»åŠ  SpringMVC é…ç½®æ–‡ä»¶\nåœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œåœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xmlns:context=\"http://www.springframework.org/schema/context\"\n      xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       https://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n       https://www.springframework.org/schema/mvc/spring-mvc.xsd\">\n\n   &lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† -->\n   &lt;context:component-scan base-package=\"com.kuang.controller\"/>\n   &lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº -->\n   &lt;mvc:default-servlet-handler />\n   &lt;!--\n   æ”¯æŒmvcæ³¨è§£é©±åŠ¨\n       åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»\n       è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ\n       å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping\n       å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹\n       è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚\n       è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚\n    -->\n   &lt;mvc:annotation-driven />\n\n   &lt;!-- è§†å›¾è§£æå™¨ -->\n   &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n         id=\"internalResourceViewResolver\">\n       &lt;!-- å‰ç¼€ -->\n       &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" />\n       &lt;!-- åç¼€ -->\n       &lt;property name=\"suffix\" value=\".jsp\" />\n   &lt;/bean>\n\n&lt;/beans>\n\nåˆ›å»º Contronller\n\n\n\n\n\n\n\n\n\n\n@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›\n@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼›\næ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›\næ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/hello.jspã€‚\n\n// ç¼–å†™æ§åˆ¶ç±»\npackage com.kuang.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(\"/HelloController\")\npublic class HelloController &#123;\n\n   //çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello\n   @RequestMapping(\"/hello\")\n   public String sayHello(Model model)&#123;\n       //å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“\n       model.addAttribute(\"msg\",\"hello,SpringMVC\");\n       //web-inf/jsp/hello.jsp\n       return \"hello\";\n  &#125;\n&#125;\n\nåˆ›å»ºè§†å›¾å±‚\nåœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;SpringMVC&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\né…ç½® Tomcat è¿è¡Œ\n\n\n\nä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š\nå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨\né€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨ï¼Œè€Œå¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨åªéœ€è¦å¼€å¯æ³¨è§£é©±åŠ¨å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®\næ§åˆ¶å™¨å’ŒRestFul\n\n\n\n\n\n\n\n\næ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚\næ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚\nåœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•\nåœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬ä½¿ç”¨æ³¨è§£@Controller\nå®ç°Controlleræ¥å£\nmvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨\n\nControllerTest1\n//å®šä¹‰æ§åˆ¶å™¨\n//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›\npublic class ControllerTest1 implements Controller &#123;\n\n   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123;\n       //è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡\n       ModelAndView mv = new ModelAndView();\n       mv.addObject(\"msg\",\"Test1Controller\");\n       mv.setViewName(\"test\");\n       return mv;\n  &#125;\n&#125;\n\nç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»\n&lt;bean name=\"/t1\" class=\"com.maskros.controller.ControllerTest1\"/>\n\nç¼–å†™å‰ç«¯test.jsp\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;Kuangshen&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\n\n\n\nå®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•\nç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›\n\nä½¿ç”¨æ³¨è§£@Controller\n@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›\n\nSpringå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚\n&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† -->\n&lt;context:component-scan base-package=\"com.kuang.controller\"/>\n\nå¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°\n//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­\n@Controller\npublic class ControllerTest2&#123;\n\n   //æ˜ å°„è®¿é—®è·¯å¾„\n   @RequestMapping(\"/t2\")\n   public String index(Model model)&#123;\n       //Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼\n       model.addAttribute(\"msg\", \"ControllerTest2\");\n       //è¿”å›è§†å›¾ä½ç½®\n       return \"test\";\n  &#125;\n&#125;\n\n\n\n\n\n\n\n\n\n\n\nå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚\n@RequestMapping ä½¿ç”¨\n@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„\n\n// åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢\n@Controller\npublic class TestController &#123;\n   @RequestMapping(\"/h1\")\n   public String test()&#123;\n       return \"test\";\n  &#125;\n&#125;\n//è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å / h1\n\n// åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•@Controller\n@RequestMapping(\"/admin\")\npublic class TestController &#123;\n   @RequestMapping(\"/h1\")\n   public String test()&#123;\n       return \"test\";\n  &#125;\n&#125;\n//è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å/ admin /h1 \nRestFulé£æ ¼\n\n\n\n\n\n\n\n\nRestfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚localhost:8080/a/b/c/d/â€¦â€¦\nåœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Š\n@Controller\npublic class RestFulController &#123;\n\n   //æ˜ å°„è®¿é—®è·¯å¾„\n   @RequestMapping(\"/commit/&#123;p1&#125;/&#123;p2&#125;\")\n   public String index(@PathVariable int p1, @PathVariable int p2, Model model)&#123;\n       \n       int result = p1+p2;\n       //Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼\n       model.addAttribute(\"msg\", \"ç»“æœï¼š\"+result);\n       //è¿”å›è§†å›¾ä½ç½®\n       return \"test\";\n       \n  &#125;\n   \n&#125;\nä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ\n\n\nä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›\nè·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚\né€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚\n\n\n\nä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹\nç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰\n//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚\n@RequestMapping(value = \"/hello\",method = &#123;RequestMethod.POST&#125;)\npublic String index2(Model model)&#123;\n   model.addAttribute(\"msg\", \"hello!\");\n   return \"test\";\n&#125;\n\n// æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405\n// å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†\n\n//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚\n@RequestMapping(value = \"/hello\",method = &#123;RequestMethod.GET&#125;)\npublic String index2(Model model)&#123;\n   model.addAttribute(\"msg\", \"hello!\");\n   return \"test\";\n&#125;\n\nSpring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚\\\næ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„\næ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£\n@GetMapping\n@PostMapping\n@PutMapping\n@DeleteMapping\n@PatchMapping\n@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤š, å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼\næ•°æ®å¤„ç†å’Œè·³è½¬è½¬å‘ é‡å®šå‘\næ¥å—è¯·æ±‚å‚æ•°ä»¥åŠæ•°æ®å›æ˜¾\n@RequestParam(\"xxx\")  //å¿…é¡»è¦æ±‚ä¼ è¿™ä¸ªå‚æ•°\nJson\n\n\n\n\n\n\n\n\nJavaScript Object Notation, JS å¯¹è±¡æ ‡è®° æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ï¼Œé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®\n\n@Controllerï¼šå®šä¹‰ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œ\n@RestControllerï¼š æ³¨è§£ç›¸å½“äº @Controller ï¼‹ @ResponseBody åˆåœ¨ä¸€èµ·çš„ä½œç”¨ã€‚\n@ResponseBodyï¼šæ ‡è®°Controllerç±»ä¸­çš„æ–¹æ³•ã€‚æŠŠreturnçš„ç»“æœå˜æˆJSONå¯¹è±¡è¿”å›ã€‚\n\nè¯­æ³•æ ¼å¼ï¼š\n\nå¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”\nèŠ±æ‹¬å·ä¿å­˜å¯¹è±¡\næ–¹æ‹¬å·ä¿å­˜æ•°ç»„\n\nJSON é”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼\n&#123;\"name\": \"QinJiang\"&#125;\n&#123;\"age\": \"3\"&#125;\n&#123;\"sex\": \"ç”·\"&#125;\nJson å’Œ JavaScript å¯¹è±¡äº’è½¬ï¼š\nJSON.parse()  //ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡\nJSON.stringify() //ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²\nControllerè¿”å›Jsonæ•°æ®Jacksonä½¿ç”¨å¯¼å…¥å®ƒçš„jaråŒ… é…ç½®SpringMVC\nç¼–å†™Controlleræ—¶éœ€è¦è¿ç”¨åˆ°ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼š@ResponseBodyï¼ŒObjectMapperå¯¹è±¡\nä¹±ç å¤„ç†\nFastJsonä½¿ç”¨\n\n\n\n\n\n\n\n\n é˜¿é‡Œå¼€å‘ æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢\nä¹±ç é—®é¢˜&lt;!-- Jsonä¹±ç é—®é¢˜é…ç½® -->\n&lt;mvc:annotation-driven>\n   &lt;mvc:message-converters register-defaults=\"true\">\n       &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\">\n           &lt;constructor-arg value=\"UTF-8\"/>\n       &lt;/bean>\n       &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\">\n           &lt;property name=\"objectMapper\">\n               &lt;bean class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\">\n                   &lt;property name=\"failOnEmptyBeans\" value=\"false\"/>\n               &lt;/bean>\n           &lt;/property>\n       &lt;/bean>\n   &lt;/mvc:message-converters>\n&lt;/mvc:annotation-driven>\nAjax\n\n\n\n\n\n\n\n\nAsynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰\nAjax æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯\n\nå¯ä»¥é€šè¿‡ iframe æ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªAjax\nåˆ©ç”¨AJAXå¯ä»¥åšï¼š\næ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚\nç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯\nåˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚\nâ€¦.\n\n\n\njQuery.ajax\n\n\n\n\n\n\n\n\nAjaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®\njQueryæ˜¯ä¸€ä¸ªåº“ï¼Œæä¾›å¤§é‡çš„JavaScriptå‡½æ•°\njQuery.ajax(...)\n      éƒ¨åˆ†å‚æ•°ï¼š\n            urlï¼šè¯·æ±‚åœ°å€\n            typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ1.9.0ä¹‹åç”¨methodï¼‰\n        headersï¼šè¯·æ±‚å¤´\n            dataï¼šè¦å‘é€çš„æ•°æ®\n    contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: \"application/x-www-form-urlencoded; charset=UTF-8\")\n          asyncï¼šæ˜¯å¦å¼‚æ­¥\n        timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n      beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)\n        completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)\n        successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)\n          errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)\n        acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯å¯æ¥å—çš„æ•°æ®ç±»å‹\n        dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹\n          \"xml\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼\n          \"text\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼\n          \"html\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚\n        \"script\": å°è¯•å°†è¿”å›å€¼å½“ä½œJavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼\n          \"json\": å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡\n        \"jsonp\": JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ \"myurl?callback=?\" jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°\nAjaxå¼‚æ­¥åŠ è½½æ•°æ®å®ç°äº†æ•°æ®å›æ˜¾\n&lt;script>\n   $(function () &#123;\n       $(\"#btn\").click(function () &#123;\n           $.post(\"$&#123;pageContext.request.contextPath&#125;/a2\",function (data) &#123;\n               console.log(data)\n               var html=\"\";\n               for (var i = 0; i &lt;data.length ; i++) &#123;\n                   html+= \"&lt;tr>\" +\n                       \"&lt;td>\" + data[i].name + \"&lt;/td>\"+\n                       \"&lt;td>\" + data[i].age + \"&lt;/td>\" +\n                       \"&lt;td>\" + data[i].sex + \"&lt;/td>\" +\n                       \"&lt;/tr>\"\n              &#125; \t//htmlæ‹¼æ¥\n               $(\"#content\").html(html);\n          &#125;);\n      &#125;)\n  &#125;)\n&lt;/script>\næ‹¦æˆªå™¨Interceptor\n\n\n\n\n\n\n\n\nSpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚å¯ç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)\nè¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š\nè¿‡æ»¤å™¨ï¼š\n\nservletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨\nåœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª\n\næ‹¦æˆªå™¨ (æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨)\n\næ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨\næ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„\n\næƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£\nåœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨\n&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®-->\n    &lt;mvc:interceptors>\n        &lt;mvc:interceptor>\n            &lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„-->\n            &lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª-->\n            &lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰-->\n            &lt;mvc:mapping path=\"/somewhere/**\"/>\n            &lt;!--æ‹¦æˆªsomewhereä¸‹çš„ somewhereç”¨@RequestMapping()é…ç½® -->\n            &lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨-->\n            &lt;bean class=\"com.maskros.interceptor.MyInterceptor\"/>\n        &lt;/mvc:interceptor>\n    &lt;/mvc:interceptors>\næ¯å†™ä¸€ä¸ªæ‹¦æˆªå™¨è¦åˆ°xmlä¸­é…ç½®è¿™ä¸ªæ‹¦æˆªå™¨\nexpï¼šæœªç™»å½•æ—¶ç‚¹å‡»ä¸»é¡µæŒ‰é’®ä¼šè¢«æ‹¦æˆªå™¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢\næ‚è®°SpringMVC + Vue + SpringBoot + SpringCloud + Linux\nSpringï¼šIOC å’Œ AOP\nSpringMVCï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹ï¼ŒSSMæ¡†æ¶æ•´åˆ\nSSM =  javawebåšé¡¹ç›®\nMVCï¼šæ¨¡å‹ (dao, service) , è§†å›¾ (jsp) , æ§åˆ¶å™¨ (servlet)\nservlet: è½¬å‘ é‡å®šå‘\nå‰ç«¯ æ•°æ®ä¼ è¾“ å®ä½“ç±»\nå®ä½“ç±»ï¼šç”¨æˆ·å å¯†ç   ç”Ÿæ—¥ â€¦.. nä¸ª\nå‰ç«¯ï¼šç”¨æˆ·å å¯†ç \npojo: User\nvo: UserVo\nMVVM:  M - V - VM (ViewModel: åŒå‘ç»‘å®š)\nformè¡¨å• method: get/post\n&lt;form action&#x3D;&quot;&#x2F;hello&quot; method&#x3D;&quot;post&quot;&gt;\n    &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;method&quot;&gt;\n    &lt;input type&#x3D;&quot;submit&quot;&gt;\n&lt;&#x2F;form&gt;\nSpring: å¤§æ‚çƒ©ï¼Œæˆ‘ä»¬å¯ä»¥å°†SpringMVCä¸­æ‰€æœ‰è¦ç”¨åˆ°çš„Beanï¼Œæ³¨å†Œåˆ°Springä¸­\nè®¿é—®ç½‘ç«™ï¼š-&gt; Servlet(ä¸­è½¬è°ƒåº¦) &lt;=&gt; Service -&gt; Dao -&gt; Sql\nå‰åç«¯åˆ†ç¦»æ—¶ä»£ï¼š\nåç«¯éƒ¨ç½²åç«¯ï¼Œæä¾›æ¥å£ï¼Œæä¾›æ•°æ®ï¼šjson\nå‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼Œè´Ÿè´£æ¸²æŸ“åç«¯çš„æ•°æ®\njs:\n\nå‡½æ•°ï¼šé—­åŒ…() ()\nDom\nid, name, tag\ncreate, remove\n\n\nBom\nwindow\ndocument\n\n\n\nES6: import require\njs:\ndata:&#123;'name':$(\"#username\").val()&#125;,\n// dataä¼ é”®å€¼å¯¹ &#123;x:y&#125;  .val()==value å·¦è¾¹çš„nameå¯¹åº”controllerçš„name å³è¾¹çš„usernameå¯¹åº”ä¸‹é¢è¾“å…¥æ¡†çš„id,åŠ #æ‰èƒ½å–åˆ°ï¼    \nIDEA alt+insert å¿«æ·é”® å®ç°æ¥å£ç­‰ç­‰\n","slug":"note/springMVC","date":"2021-09-15T18:37:28.000Z","categories_index":"NOTE","tags_index":"note,java,springMVC","author_index":"Maskros"},{"id":"0b411eca06d29c39e2fc21f5cd175527","title":"STLä½¿ç”¨æ‰‹å†Œ","content":"STLä½¿ç”¨æ‰‹å†ŒStandard Template Library\n\n\n\n\n\n\n\n\n\nåˆåã€ŠğŸ‘´æ€•å¿˜äº†å…ˆæŠŠä»–å†™ä¸‹æ¥ã€‹\næˆ‘ æ˜¯ è° ?æ–¯ä¸¹å¾·å„¿çš„ å¦æ™®é›·ç‰¹ è±åšç‘ å³æ ‡å‡†æ¨¡æ¿åº“\n\né‡è¦ç‰¹ç‚¹ï¼šæ•°æ®ç»“æ„å’Œç®—æ³•çš„åˆ†ç¦»\n\né‡è¦ç‰¹æ€§ï¼šä¸æ˜¯é¢å‘å¯¹è±¡çš„\n\né€»è¾‘å±‚æ¬¡ï¼šä½“ç°äº†æ³›å‹åŒ–ç¨‹åºè®¾è®¡çš„æ€æƒ³\n\nå®ç°å±‚æ¬¡ï¼šä»¥ä¸€ç§ç±»å‹å‚æ•°åŒ–çš„æ–¹å¼å®ç°ï¼ŒåŸºäºæ¨¡æ¿(template)\n\n\nå…­å¤§ç»„ä»¶ï¼š\n\nå®¹å™¨ï¼ˆContainerï¼‰ï¼Œæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¦‚listï¼Œvectorï¼Œdeques ï¼Œä»¥æ¨¡æ¿ç±»çš„æ–¹æ³•æä¾› ;\nè¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œæä¾›äº†è®¿é—®å®¹å™¨ä¸­å¯¹è±¡çš„æ–¹æ³•ã€‚è¿­ä»£å™¨å°±å¦‚åŒä¸€ä¸ªæŒ‡é’ˆã€‚C++çš„æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚è¿­ä»£å™¨ä¹Ÿå¯ä»¥æ˜¯é‚£äº›å®šä¹‰äº†operator*()ä»¥åŠå…¶ä»–ç±»ä¼¼äºæŒ‡é’ˆçš„æ“ä½œç¬¦åœ°æ–¹æ³•çš„ç±»å¯¹è±¡ï¼›\nç®—æ³•ï¼ˆAlgorithmï¼‰ï¼Œæ˜¯ç”¨æ¥æ“ä½œå®¹å™¨ä¸­çš„æ•°æ®çš„æ¨¡æ¿å‡½æ•°ã€‚å¦‚sort()ï¼Œfind()ï¼Œå‡½æ•°æœ¬èº«ä¸ä»–ä»¬æ“ä½œçš„æ•°æ®çš„ç»“æ„å’Œç±»å‹æ— å…³ ;\nä»¿å‡½æ•°ï¼ˆFunctorï¼‰\né€‚é…å™¨ï¼ˆAdaptorï¼‰\nåˆ†é…å™¨ï¼ˆallocatorï¼‰\n\nğŸ‘´ å¸¸ç”¨çš„\n\n\n\n\n\n\n\n\nä»¥ä¸‹ä¸æŒ‰é¡ºåºï¼Œæƒ³åˆ°å•¥å°±å†™å•¥ï¼Œæœ‰ä¸ªğŸ¥šçš„é¡ºåº\nå®¹å™¨stringå­—ç¬¦ä¸²\n&#x2F;&#x2F;æ„é€ å‡½æ•°\nstring s(str,index); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºä½ç½®indexâ€çš„éƒ¨åˆ†å½“ä½œå­—ç¬¦ä¸²çš„åˆå€¼\nstring s(str,index,n); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºindexä¸”é•¿åº¦é¡¶å¤šnâ€çš„éƒ¨åˆ†ä½œä¸ºå­—ç¬¦ä¸²çš„åˆå€¼\nstring s(n,c); &#x2F;&#x2F;ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«nä¸ªcå­—ç¬¦(char)\nstring s(str.begin(),str.end()); &#x2F;&#x2F;ä»¥åŒºé—´begin():end() (ä¸åŒ…å«end())å†…çš„å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²sçš„åˆå€¼\n\n&#x2F;&#x2F;æ“ä½œå‡½æ•°\ns.erase(s.begin(),s.end()); &#x2F;&#x2F;åˆ é™¤\ns.replace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢ï¼Œä»poså¼€å§‹é•¿ä¸ºlenè¢«æ›¿æ¢ä¸ºstr\ns.find(str,pos&#x3D;0); &#x2F;&#x2F;ä»poså‘å³æŸ¥æ‰¾ï¼Œè¿”å›strç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®\ns.rfind(str,pos&#x3D;npos); &#x2F;&#x2F;ä»posåå‘æŸ¥æ‰¾ï¼Œè¿”å›æ‰¾åˆ°ä½ç½®\ns.find_first_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå±äºsträ¸­å­—ç¬¦çš„ä½ç½®\ns.find_first_not_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å±äºsträ¸­å­—ç¬¦ä½ç½®\ns.find_last_of(str);\ns.find_last_not_of(str);\ns1.compare(s2); &#x2F;&#x2F;æ¯”è¾ƒï¼Œç›¸ç­‰0å¤§äº1å°äº-1\ns1.compare(pos,len,s2)&#x2F;&#x2F;ä»s1çš„poså¼€å§‹é•¿ä¸ºlenä¸s2æ¯”è¾ƒ\nstringstreamè‡ªåŠ¨ä¸”ç›´æ¥çš„ç±»å‹è½¬æ¢\nstringstream sstream;\n&#x2F;&#x2F;æ•°æ®ç±»å‹è½¬æ¢\nstring str;\nint a&#x3D;123;\nsstream &lt;&lt; a;\nsstream &gt;&gt; str;\ncout&lt;&lt;str;\ncout&lt;&lt;sstream.str(); \n&#x2F;&#x2F;å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥\nsstream &lt;&lt; &quot;xxxx&quot; &lt;&lt; &quot; &quot; &lt;&lt; &quot;aaaaa&quot;;\n&#x2F;&#x2F;æ¸…ç©ºstringstream\nsstream.clear();\nsstream.str(&quot;&quot;);\npairä¾¿æºç»“æ„ä½“\n&#x2F;&#x2F;è®¿é—®é€šè¿‡first second\n&#x2F;&#x2F;å¯ä»¥é€šè¿‡ä¸€èˆ¬è¿ç®—ç¬¦æ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒfirstå†second\npair&lt;string,int&gt; p (str,123);\npair&lt;string,int&gt; p &#x3D; make_pair(str,123);\nvectorå‘é‡å®¹å™¨ï¼ŒåŠ¨æ€å­˜å‚¨\nvector&lt;int&gt; v;\nv.front(); v.back();\nv.begin(); v.end();\nv.push_back();\nv.size();\nv.empty();\nv.clear();\nv.pop_back(); &#x2F;&#x2F;åˆ é™¤è¡¨å°¾å…ƒç´ \nv.insert(it,x); &#x2F;&#x2F;å‘è¿­ä»£å™¨it æŒ‡å‘çš„å…ƒç´ å‰æ’å…¥æ–°å…ƒç´ x\nv.insert(it,n,x); &#x2F;&#x2F;æ’å…¥nä¸ªx\nv.insert(it, first, last); &#x2F;&#x2F;å°†ç”±è¿­ä»£å™¨firstå’Œlast æ‰€æŒ‡å®šçš„åºåˆ—[first, last)æ’å…¥åˆ°è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰é¢\nv.erase(it); &#x2F;&#x2F;åˆ \nv.erase(first,last);\nv.reverse(n); &#x2F;&#x2F;é¢„åˆ†é…ç¼“å†²ç©ºé—´ï¼Œä½¿å­˜å‚¨ç©ºé—´è‡³å°‘å¯å®¹çº³nä¸ªå…ƒç´ \nv.resize(n); &#x2F;&#x2F;æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºå…ƒç´ åˆ é™¤ï¼Œè‹¥æºç©ºé—´å°äºnï¼Œåˆ™é»˜è®¤å€¼å¡«æ»¡ç©ºé—´\nv.resize(n,val); &#x2F;&#x2F;è¶…å‡ºçš„ç”¨valå¡«æ»¡\nstackæ ˆ\nstack&lt;int&gt; s;\ns.push(x);\ns.pop();\ns.top();\ns.empty();\ns.size();\nqueueé˜Ÿåˆ—ï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼ŒåŒç«¯é˜Ÿåˆ—\n&#x2F;&#x2F; queue\nqueue&lt;int&gt; q;\nq.push(x);\nq.pop();\nq.front(); q.back();\nq.empty();\nq.size();\n\n&#x2F;&#x2F; priority_queue\npriority&lt;int&gt; q; &#x2F;&#x2F;é»˜è®¤å¤§è€…ä¼˜å…ˆ\npriority&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q; &#x2F;&#x2F;å°çš„å…ˆå‡ºé˜Ÿ ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼šå…ƒç´ ç±»å‹ï¼Œå®¹å™¨ç±»å‹ï¼Œæ¯”è¾ƒç®—å­\n&#x2F;&#x2F; ä¼˜å…ˆçº§è®¾ç½®ï¼šå®šä¹‰ç»“æ„ä½“\nstruct Student&#123;\n    int num;\n    int grade;\n    friend bool operator &lt; (Student s1, Student s2)&#123;\n        return s1.grade&lt;s2.grade;\n        &#x2F;&#x2F;æ­¤å¤„å°äºå·è¿˜æ˜¯å°äºçš„ä½œç”¨ï¼Œæ•…é˜Ÿåˆ—ä¸­ä»¥æˆç»©é«˜çš„å­¦ç”Ÿä¼˜å…ˆï¼Œè‹¥åä¹‹å˜å·å³å¯\n    &#125;\n&#125;;\npriority_queue&lt;Student&gt; q;\n&#x2F;&#x2F;ä¹Ÿå¯ä»¥æŠŠé‡è½½çš„å‡½æ•°å†™åœ¨ç»“æ„ä½“å¤–é¢\nstruct cmp&#123;\n    bool operator() (Student s1, Student s2)&#123;\n        return s1.grade&lt;s2.grade;\n    &#125;\n&#125;;&#x2F;&#x2F;tips:ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„cmpå’Œsortä¸­çš„cmpæ•ˆæœç›¸å\npriority_queue&lt;Student,vector&lt;Student&gt;,cmp&gt; q;\n&#x2F;&#x2F;å¦‚æœç»“æ„ä½“å†…æ•°æ®åºå¤§ï¼Œåƒå‡ºç°å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼Œå»ºè®®ä½¿ç”¨å¼•ç”¨æ¥æé«˜æ•ˆç‡ã€‚æ­¤æ—¶æ¯”è¾ƒç±»çš„å‚æ•°éœ€è¦åŠ ä¸Š const å’Œ &amp;\nfriend bool operator &lt; (const Student &amp;s1, const Student &amp;s2)&#123;\n\treturn s1.grade&lt;s2.grade;\n&#125;\n\n&#x2F;&#x2F;deque\ndeque&lt;int&gt; d;\nd.push_back(x); &#x2F;&#x2F;å°¾éƒ¨æ’å…¥\nd.push_front(x); &#x2F;&#x2F;é¦–éƒ¨æ’å…¥å…ƒç´ \nd.insert(d.begin()+len,x); &#x2F;&#x2F;ä¸­é—´æ’å…¥å…ƒç´ \n&#x2F;&#x2F;å¯ä»¥é€šè¿‡ d[0] d[1] è®¿é—®\nd.pop_front(); &#x2F;&#x2F;åˆ é™¤å¤´éƒ¨\nd.pop_back();\nd.erase(d.begin()+len); &#x2F;&#x2F;åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ ï¼Œå¯ä»¥å†™å¤šä¸ª\nmapé”®å€¼å¯¹ï¼Œå…ƒç´ æŒ‰å…³é”®å­—æœ‰åºï¼Œå†…éƒ¨çº¢é»‘æ ‘\n&#x2F;&#x2F; mapç©ºé—´å ç”¨ç‡é«˜\nmap&lt;string,int&gt; m;\nm[key]&#x3D;value;\nm.insert(make_pair(key,value));\nm.erase(key);\nm.erase(it);\nm.clear();\nm.size();\t\nmap&lt;string,int&gt;::iterator it;\nfor(it&#x3D;mp.begin();it!&#x3D;mp.end();++it)&#123;\n    cout&lt;&lt;it-&gt;first&lt;&lt;&quot; &quot;&lt;&lt;it-&gt;second&lt;&lt;endl;\n&#125;\n\n&#x2F;&#x2F; unordered_map æ•ˆç‡è¾ƒé«˜ å†…éƒ¨å“ˆå¸Œè¡¨\n&#x2F;&#x2F; å¯¹äºæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_mapä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ï¼Œå› æ­¤é‡åˆ°æŸ¥æ‰¾é—®é¢˜ï¼Œå¸¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨unordered_map\nsetæ— é‡å¤ï¼ŒæŒ‰é”®å€¼è‡ªåŠ¨æ’åº\næ•°æ®ç»“æ„ä¸ºçº¢é»‘æ ‘ã€‚ä»¥èŠ‚ç‚¹å½¢å¼ä¿å­˜ï¼ˆåŠ¨æ€)ï¼Œç”¨è¿­ä»£å™¨è®¿é—®\nset&lt;int&gt; s;\ns.begin(); s.end();\ns.clear();\ns.empty();\ns.erase(x);\ns.find(x);\ns.insert(x);\ns.size();\ns.lower_bound(value); &#x2F;&#x2F;è¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äºvalueçš„å®šä½å™¨\ns.upper_bound(value); &#x2F;&#x2F;è¿”å›æœ€åä¸€ä¸ªå¤§äºç­‰äºvalueçš„å®šä½å™¨\nset&lt;int&gt;::iterator it;\nfor(it&#x3D;s.begin();it!&#x3D;s.end();it++)\n\tcout&lt;&lt;*it&lt;&lt;&quot; &quot;;\nlisté“¾è¡¨\n\nå¦‚æœä½ éœ€è¦é«˜æ•ˆçš„éšå³å­˜å–ï¼Œè€Œä¸åœ¨ä¹æ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ï¼Œä½¿ç”¨vector \nå¦‚æœä½ éœ€è¦å¤§é‡çš„æ’å…¥å’Œåˆ é™¤ï¼Œè€Œä¸å…³å¿ƒéšå³å­˜å–ï¼Œåˆ™åº”ä½¿ç”¨list \nå¦‚æœä½ éœ€è¦éšå³å­˜å–ï¼Œè€Œä¸”å…³å¿ƒä¸¤ç«¯æ•°æ®çš„æ’å…¥å’Œåˆ é™¤ï¼Œåˆ™åº”ä½¿ç”¨deque\n\nlist&lt;int&gt; a(n);\nlist&lt;int&gt; a&#123;1,2,3,4&#125;;\na.push_back(x);\na.push_front(x);\na.empty();\na.resize(n);\na.clear();\na.front(); a.back();\na.reverse();\na.merge(b); &#x2F;&#x2F;bå˜ç©ºï¼Œaå°¾æ’å…¥b\na.insert(pos,x);\na.insert(pos,b.begin(),b.end());\na.erase(a.begin(),a.end());\na.remove(x);\nbitsetå­˜æ”¾äºŒè¿›åˆ¶0/1çš„å®¹å™¨ï¼Œå¯ä»¥å£°æ˜éå¸¸å¤§çš„äºŒè¿›åˆ¶ä½è€Œä¸é™äº64ï¼Œç”¨æ¥ä¼˜åŒ–\nbitset&lt;N&gt; b; &#x2F;&#x2F;è¡¨ç¤ºé•¿ä¸ºNçš„äºŒè¿›åˆ¶ä¸²\n&#x2F;&#x2F; é€šè¿‡b[pos]è®¿é—®\nb.any(); &#x2F;&#x2F;å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½\nb.none(); &#x2F;&#x2F;ä¸å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½\nb.count(); &#x2F;&#x2F;ç½®1çš„äºŒè¿›åˆ¶ä½çš„ä¸ªæ•°\nb.size();\nb.test(pos); &#x2F;&#x2F;åœ¨posä½å¤„æ˜¯å¦ä¸º1\nb.set(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®1\nb.set(pos);\nb.reset(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®0\nb.reset(pos);\nb.flip(); &#x2F;&#x2F;é€ä½å–å\nb.flip(pos);\nfunctionsæŸ¥æ‰¾&#x2F;&#x2F; å¯¹äºsort(a, a + n) å‡åºæ’åˆ—\nlower_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®\nupper_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºxçš„ä½ç½®\n&#x2F;&#x2F; å¯¹äºsort(a, a + n, greater&lt;int&gt;()) é™åºæ’åˆ—\nlower_bound(a,a+n,x,greater&lt;int&gt;(); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äºxçš„ä½ç½®\nupper_bound(a,a+n,x,greater&lt;int&gt;(); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äºxçš„ä½ç½®\n            \nfind();\nrfind();\næ’åºsort(a,a+n,cmp); &#x2F;&#x2F;é»˜è®¤ASC\nä¿®æ”¹swap(a,b); &#x2F;&#x2F;äº¤æ¢\nreplace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢\nunique(a,a+n); &#x2F;&#x2F;å»é™¤ç›¸é‚»çš„é‡å¤å…ƒç´ ,ä¼šæŠŠé‡å¤çš„è—åˆ°æœ«å°¾ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆæ’åº\næ’åˆ—next_permutation(a,a+n); &#x2F;&#x2F;ä¸‹ä¸€ä¸ªå…¨æ’åˆ—\nprev_permutation(a,a+n); &#x2F;&#x2F;ä¸Šä¸€ä¸ªå…¨æ’åˆ—\n&#x2F;&#x2F;å‡½æ•°è¿”å›boolå€¼ï¼Œä¸€èˆ¬é…åˆwhile()\nå…¶ä»–__builtin_popcount(n); &#x2F;&#x2F;è¿”å›nçš„äºŒè¿›åˆ¶1çš„ä¸ªæ•°\nisalpha(char x); &#x2F;&#x2F;å°å†™å­—æ¯è¿”å›2ï¼Œå¤§å†™å­—æ¯1ï¼Œéå­—æ¯0\t\ntolower(char x); toupper(char x); &#x2F;&#x2F;è¿”å›å°å†™ï¼Œå¤§å†™å­—æ¯çš„ASCIIå€¼ï¼Œéå­—æ¯åˆ™ç›¸ç­‰\n&#x2F;&#x2F;æµ·ä¼¦å…¬å¼\np&#x3D;(a+b+c)&#x2F;2;\ns&#x3D;sqrt(p*(p-a)*(p-b)*(p-c));\nabs(int x); &#x2F;&#x2F;åªç”¨äºæ•´æ•°\nfabs(double x); &#x2F;&#x2F;ç²¾åº¦æ›´é«˜\n\næš‚æ—¶å°±è¿™äº›äº†ï¼Œå¯„ï¼\n","slug":"algorithm/learn/STLä½¿ç”¨æ‰‹å†Œ","date":"2021-08-13T06:15:31.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,algorithm","author_index":"Maskros"},{"id":"e4b68a32c6fd94c2953f12692556d556","title":"æˆ‘ç¡®å®ä¸ä¼šçº¿æ®µæ ‘","content":"çº¿æ®µæ ‘Segment Tree\n\n\n\n\n\n\n\n\n\nä¸€ä¸ªé—®é¢˜ï¼Œåªè¦èƒ½åŒ–æˆå¯¹ä¸€äº›è¿ç»­ç‚¹lçš„ä¿®æ”¹å’Œç»Ÿè®¡é—®é¢˜ï¼ŒåŸºæœ¬å°±å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥è‰¹äº†\n\nåŸç†ï¼šå°†[1,n]åˆ†è§£æˆè‹¥å¹²ç‰¹å®šçš„å­åŒºé—´(æ•°é‡ä¸è¶…è¿‡4*n),ç„¶åï¼Œå°†æ¯ä¸ªåŒºé—´[L,R]éƒ½åˆ†è§£ä¸ºå°‘é‡ç‰¹å®šçš„å­åŒºé—´ï¼Œé€šè¿‡å¯¹è¿™äº›å°‘é‡å­åŒºé—´çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ï¼Œæ¥å®ç°å¿«é€Ÿå¯¹[L,R]çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ã€‚æ¯ä¸€ä¸ªéå¶ç»“ç‚¹æ‰€è¡¨ç¤ºçš„ç»“ç‚¹[a,b]ï¼Œå…¶å·¦å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[a,(a+b)/2]ï¼Œå³å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[(a+b)/2,b]ã€‚\nä½œç”¨ï¼šå¯¹ç¼–å·è¿ç»­çš„ä¸€äº›ç‚¹çš„åŒºé—´ä¿¡æ¯è¿›è¡Œä¿®æ”¹æˆ–è€…ç»Ÿè®¡æ“ä½œï¼Œç”¨çº¿æ®µæ ‘ç»Ÿè®¡çš„ä¸œè¥¿ï¼Œå¿…é¡»ç¬¦åˆåŒºé—´åŠ æ³•ã€‚ä¸æ ‘çŠ¶æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œçº¿æ®µæ ‘ä¸æ­¢é€‚ç”¨äºåŒºé—´æ±‚å’Œçš„æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡ŒåŒºé—´æœ€å¤§å€¼ï¼ŒåŒºé—´æœ€å°å€¼ï¼Œæˆ–è€…åŒºé—´å¼‚æˆ–å€¼çš„æŸ¥è¯¢ã€‚\nä¸»è¦æ“ä½œï¼šåŒºé—´æŸ¥è¯¢ã€ç‚¹æ›´æ–°ã€åŒºé—´æ›´æ–°\nä¾‹å¦‚ï¼š\n\nç»™å®šså’Œtï¼Œæ±‚å…¶åŒºé—´ä¸Šçš„æœ€å°å€¼\nç»™å®šiå’Œxï¼ŒæŠŠaiçš„å€¼æ”¹æˆx\n\næ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢çš„å¤æ‚åº¦éƒ½æ˜¯ O(log(N))\næ“ä½œ\n\n\n\n\n\n\n\n\nbuild, update(å†…å«push_down), query\nå»ºæ ‘ (build)çº¿æ®µæ ‘æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯¹åº”ä¸€æ¡çº¿æ®µ(åŒºé—´)ï¼Œåä¹‹ä¸æˆç«‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹  çš„å·¦å³å­èŠ‚ç‚¹çš„ç¼–å·åˆ†åˆ«ä¸º  å’Œ  ï¼Œå‡å¦‚èŠ‚ç‚¹  å‚¨å­˜åŒºé—´  çš„å’Œï¼Œè®¾ ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«å‚¨å­˜  å’Œ  çš„å’Œã€‚å¯ä»¥å‘ç°ï¼Œå·¦èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´é•¿åº¦ï¼Œä¸å³èŠ‚ç‚¹ç›¸åŒæˆ–è€…æ¯”ä¹‹æ°å¥½å¤š ã€‚\næ•…å»ºæ ‘å¯è€ƒè™‘é€’å½’è¿›è¡Œï¼š\nvoid build(ll l = 1, ll r = n, ll p = 1)\n{\n    if (l == r) // åˆ°è¾¾å¶å­èŠ‚ç‚¹\n        tree[p]=A[l]; // ç”¨æ•°ç»„ä¸­çš„æ•°æ®èµ‹å€¼\n    else{\n        ll mid = (l + r) / 2;\n        build(l, mid, p * 2); // å…ˆå»ºç«‹å·¦å³å­èŠ‚ç‚¹\n        build(mid + 1, r, p * 2 + 1);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1]; // è¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºå·¦å³å­èŠ‚ç‚¹ä¹‹å’Œ\n    }\n}\n è¿™é‡ŒğŸ‘´å·äº†ä¸ª gif æ¥æ¼”ç¤ºä¸€ä¸‹è¿‡ç¨‹ (è™½ç„¶å¤§éƒ¨åˆ†éƒ½æ˜¯å·çš„ğŸ¤¡)\n\nåŒºé—´ä¿®æ”¹(update)é¦–å…ˆå®šä¹‰â€æ‡’æ ‡è®°â€œ(å³â€œå»¶è¿Ÿæ ‡è®°â€) mark[]ï¼š\nå¯¹äºåŒºé—´ä¿®æ”¹ï¼Œæœ´ç´ çš„æƒ³æ³•æ˜¯ç”¨é€’å½’çš„æ–¹å¼ä¸€å±‚å±‚ä¿®æ”¹ï¼ˆç±»ä¼¼äºçº¿æ®µæ ‘çš„å»ºç«‹ï¼‰ï¼Œä½†è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ã€‚ä½¿ç”¨æ‡’æ ‡è®°åï¼Œå¯¹äºé‚£äº›æ­£å¥½æ˜¯çº¿æ®µæ ‘èŠ‚ç‚¹çš„åŒºé—´ï¼Œæˆ‘ä»¬ä¸ç»§ç»­é€’å½’ä¸‹å»ï¼Œè€Œæ˜¯æ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå°†æ¥è¦ç”¨åˆ°å®ƒçš„å­åŒºé—´çš„æ—¶å€™ï¼Œå†å‘ä¸‹ä¼ é€’\nç›´æ¥ä¸ŠğŸ´ (éæœ€ç®€):\nvoid update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n)\n{\n    if (cl &gt; r || cr &lt; l) // åŒºé—´æ— äº¤é›†\n        return; // å‰ªæ\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r) // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´åŒ…å«åœ¨ç›®æ ‡åŒºé—´ä¸­\n    {\n        tree[p] += (cr - cl + 1) * d; // æ›´æ–°å½“å‰åŒºé—´çš„å€¼\n        if (cr &gt; cl) // å¦‚æœä¸æ˜¯å¶å­èŠ‚ç‚¹\n            mark[p] += d; // ç»™å½“å‰åŒºé—´æ‰“ä¸Šæ ‡è®°\n    }\n    else // ä¸ç›®æ ‡åŒºé—´æœ‰äº¤é›†ï¼Œä½†ä¸åŒ…å«äºå…¶ä¸­\n    {\n        ll mid = (cl + cr) / 2;\n        mark[p * 2] += mark[p]; // æ ‡è®°å‘ä¸‹ä¼ é€’\n        mark[p * 2 + 1] += mark[p];\n        tree[p * 2] += mark[p] * (mid - cl + 1); // å¾€ä¸‹æ›´æ–°ä¸€å±‚\n        tree[p * 2 + 1] += mark[p] * (cr - mid);\n        mark[p] = 0; // æ¸…é™¤æ ‡è®°\n        update(l, r, d, p * 2, cl, mid); // é€’å½’åœ°å¾€ä¸‹å¯»æ‰¾\n        update(l, r, d, p * 2 + 1, mid + 1, cr);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1]; // æ ¹æ®å­èŠ‚ç‚¹æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼\n    }\n}\næ›´æ–°æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä»æœ€å¤§çš„åŒºé—´å¼€å§‹ï¼Œé€’å½’å‘ä¸‹å¤„ç†ã€‚æ³¨æ„åˆ°ï¼Œä»»ä½•åŒºé—´éƒ½æ˜¯çº¿æ®µæ ‘ä¸ŠæŸäº›èŠ‚ç‚¹çš„å¹¶é›†ã€‚äºæ˜¯æˆ‘ä»¬è®°ç›®æ ‡åŒºé—´ä¸º ï¼Œå½“å‰åŒºé—´ä¸º  ï¼Œ å½“å‰èŠ‚ç‚¹ä¸º  ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸‰ç§æƒ…å†µï¼š\n\nå½“å‰åŒºé—´ä¸ç›®æ ‡åŒºé—´æ²¡æœ‰äº¤é›†ï¼š\nç›´æ¥ç»“æŸé€’å½’\n\nå½“å‰åŒºé—´è¢«åŒ…æ‹¬åœ¨ç›®æ ‡åŒºé—´é‡Œï¼š\nå¯ä»¥æ›´æ–°åŒºé—´ï¼Œä¸èƒ½å¿˜è®°ä¹˜ä¸ŠåŒºé—´é•¿åº¦\ntree[p] += (cr - cl + 1) * d;\nç„¶åæ‰“ä¸Šæ‡’æ ‡è®°ï¼ˆå¶å­èŠ‚ç‚¹å¯ä»¥ä¸æ‰“æ ‡è®°ï¼Œå› ä¸ºä¸ä¼šå†å‘ä¸‹ä¼ é€’äº†ï¼‰\nmark[p] += d;\t//è¡¨ç¤ºâ€œè¯¥åŒºé—´ä¸Šæ¯ä¸€ä¸ªç‚¹éƒ½è¦åŠ ä¸Šdâ€ã€‚å› ä¸ºåŸæ¥å¯èƒ½å­˜åœ¨æ ‡è®°ï¼Œæ‰€ä»¥æ˜¯+=è€Œä¸æ˜¯=\n\nå½“å‰åŒºé—´ä¸ç›®æ ‡åŒºé—´ç›¸äº¤ï¼Œä½†ä¸åŒ…å«äºå…¶ä¸­:\nè¿™æ—¶æŠŠå½“å‰åŒºé—´ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚å¦‚æœå­˜åœ¨æ‡’æ ‡è®°ï¼Œè¦å…ˆæŠŠæ‡’æ ‡è®°ä¼ é€’ç»™å­èŠ‚ç‚¹ï¼ˆæ³¨æ„ä¹Ÿæ˜¯+=ï¼Œå› ä¸ºåŸæ¥å¯èƒ½å­˜åœ¨æ‡’æ ‡è®°)\nll mid = (cl + cr) / 2;\nmark[p * 2] += mark[p];\nmark[p * 2 + 1] += mark[p];\nä¸¤ä¸ªå­èŠ‚ç‚¹çš„å€¼ä¹Ÿå°±éœ€è¦ç›¸åº”çš„æ›´æ–°ï¼ˆåé¢ä¹˜çš„æ˜¯åŒºé—´é•¿åº¦) :[p * 2] += mark[p] * (mid - cl + 1);\ntree[p * 2 + 1] += mark[p] * (cr - mid);\nä¸è¦å¿˜è®°æ¸…é™¤è¯¥èŠ‚ç‚¹çš„æ‡’æ ‡è®°ï¼š\nmark[p]=0;\nå› ä¸ºè´µæ ‡è®°å’ŒğŸ‘´ä¸€æ ·æ˜¯ä¸ªæ‡’è›‹ï¼Œåªå¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸æ˜¯é€’å½’çš„ï¼Œä»¥åè¦ç”¨å†æ‰ç»§ç»­ä¼ é€’ã€‚å…¶å®æˆ‘ä»¬å¸¸å¸¸æŠŠè¿™ä¸ªä¼ é€’è¿‡ç¨‹å°è£…æˆä¸€ä¸ªå‡½æ•°æ‰‘å±è£† :\ninline void push_down(ll p, ll len){\n    mark[p * 2] += mark[p];\n    mark[p * 2 + 1] += mark[p];\n    tree[p * 2] += mark[p] * (len - len / 2);\n    tree[p * 2 + 1] += mark[p] * (len / 2); // å³è¾¹çš„åŒºé—´å¯èƒ½è¦çŸ­ä¸€ç‚¹\n    mark[p] = 0;\n}\n//è¿™æ ·å„¿ update() é‡Œé¢è°ƒç”¨çš„æ—¶å€™ç›´æ¥ push_down(p, cr - cl + 1); å°±å½³äº\nä¼ é€’å®Œæ ‡è®°åï¼Œå†é€’å½’åœ°å»å¤„ç†å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹å°±å½³äºä¹\n\n\nä¸‹é¢å„¿ğŸ‘´åˆå·äº†ä¸ªè§†é¢‘å±•ç¤ºä¸€ä¸‹åŒºé—´  åŠ ä¸Š  çš„è¿‡ç¨‹ï¼š\n\n\nè‡³äºå•ç‚¹ä¿®æ”¹ï¼Œåªéœ€è¦ä»¤å·¦å³ç«¯ç‚¹ç›¸ç­‰å³å¯~\nåŒºé—´æŸ¥è¯¢(query)è¿˜å°±é‚£ä¸ªç›´æ¥ä¸ŠğŸ´\nll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return 0;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r)\n        return tree[p];\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr); \n        // ä¸Šä¸€è¡Œæ‹†æˆä¸‰è¡Œå†™å°±å’ŒåŒºé—´ä¿®æ”¹æ ¼å¼ä¸€è‡´äº†\n    }\n}\nä¸€æ ·çš„é€’å½’ï¼Œä¸€æ ·è‡ªé¡¶è‡³åº•åœ°å¯»æ‰¾ï¼Œä¸€æ ·çš„åˆå¹¶ä¿¡æ¯ï¼Œå³æ’å³ç”¨ğŸ˜\næ¨¡æ¿\n\n\n\n\n\n\n\n\nsource : æ´›è°·P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1\né¢˜ç›®æè¿°å¦‚é¢˜ï¼Œå·²çŸ¥ä¸€ä¸ªæ•°åˆ—ï¼Œä½ éœ€è¦è¿›è¡Œä¸‹é¢ä¸¤ç§æ“ä½œï¼š1.å°†æŸåŒºé—´æ¯ä¸€ä¸ªæ•°åŠ ä¸Šx2.æ±‚å‡ºæŸåŒºé—´æ¯ä¸€ä¸ªæ•°çš„å’Œè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nã€Mï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥æ•°åˆ—æ•°å­—çš„ä¸ªæ•°å’Œæ“ä½œçš„æ€»ä¸ªæ•°ã€‚ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°å­—è¡¨ç¤ºæ•°åˆ—ç¬¬ié¡¹çš„åˆå§‹å€¼ã€‚æ¥ä¸‹æ¥Mè¡Œæ¯è¡ŒåŒ…å«3æˆ–4ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼šæ“ä½œ1ï¼š æ ¼å¼ï¼š1 x y k å«ä¹‰ï¼šå°†åŒºé—´[x,y]å†…æ¯ä¸ªæ•°åŠ ä¸Škæ“ä½œ2ï¼š æ ¼å¼ï¼š2 x y å«ä¹‰ï¼šè¾“å‡ºåŒºé—´[x,y]å†…æ¯ä¸ªæ•°çš„å’Œè¾“å‡ºæ ¼å¼è¾“å‡ºåŒ…å«è‹¥å¹²è¡Œæ•´æ•°ï¼Œå³ä¸ºæ‰€æœ‰æ“ä½œ2çš„ç»“æœã€‚\n\ntips: æœ¬æ¨¡æ¿åˆ†ä¸ºé¾™é¸£ç‰ˆå’Œè´µæ—ç‰ˆ\né¾™é¸£version\n\n\n\n\n\n\n\n\n(æ­¤é¾™é¸£éå½¼é¾™é¸£ï¼Œæ„ä¸ºæŠŠä¸Šé¢çš„é¾™é¸£ğŸ´æ•´åˆèµ·æ¥):\n#define MAXN 100005\nll n, m, A[MAXN], tree[MAXN * 4], mark[MAXN * 4]; \ninline void push_down(ll p, ll len){\n    mark[p * 2] += mark[p];\n    mark[p * 2 + 1] += mark[p];\n    tree[p * 2] += mark[p] * (len - len / 2);\n    tree[p * 2 + 1] += mark[p] * (len / 2);\n    mark[p] = 0;\n}\nvoid build(ll l = 1, ll r = n, ll p = 1){\n    if (l == r)\n        tree[p] = A[l];\n    else{\n        ll mid = (l + r) / 2;\n        build(l, mid, p * 2);\n        build(mid + 1, r, p * 2 + 1);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1];\n    }\n}\nvoid update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r){\n        tree[p] += (cr - cl + 1) * d;\n        if (cr &gt; cl)\n            mark[p] += d;\n    }\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        update(l, r, d, p * 2, cl, mid);\n        update(l, r, d, p * 2 + 1, mid + 1, cr);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1];\n    }\n}\nll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return 0;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r)\n        return tree[p];\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr);\n    }\n}\nint main(){\n    n = read();\n    m = read();\n    for (int i = 1; i &lt;= n; ++i)\n        A[i] = read();\n    build();\n    for (int i = 0; i &lt; m; ++i){\n        ll opr = read(), l = read(), r = read();\n        if (opr == 1){\n            ll d = read();\n            update(l, r, d);\n        }\n        else\n            printf(\"%lld\\n\", query(l, r));\n    }\n    return 0;\n}\nè´µæ—version\n\n\n\n\n\n\n\n\nè±ªåå‡çº§plusï¼Œæœ¬æ¥æƒ³åŠ ä¸ªä¹˜é™¤çš„å‘ç°æ¿å­ä¸å…¼å®¹ï¼ŒğŸ‘´æ˜¯æ‡’ç‹—\nconst int MAXN = 1e5 + 5;\nll tree[MAXN &lt;&lt; 2], mark[MAXN &lt;&lt; 2], n, m, A[MAXN];\nvoid push_down(int p, int len){\n    tree[p &lt;&lt; 1] += mark[p] * (len - len / 2);\n    mark[p &lt;&lt; 1] += mark[p];\n    tree[p &lt;&lt; 1 | 1] += mark[p] * (len / 2);\n    mark[p &lt;&lt; 1 | 1] += mark[p];\n    mark[p] = 0;\n}\nvoid build(int p = 1, int cl = 1, int cr = n){\n    if (cl == cr) { tree[p] = A[cl]; return; }\n    int mid = (cl + cr) &gt;&gt; 1;\n    build(p &lt;&lt; 1, cl, mid);\n    build(p &lt;&lt; 1 | 1, mid + 1, cr);\n    tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1];\n}\nll query(int l, int r, int p = 1, int cl = 1, int cr = n){\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) return tree[p];\n    push_down(p, cr - cl + 1);\n    ll mid = (cl + cr) &gt;&gt; 1, ans = 0;\n    if (mid &gt;= l) ans += query(l, r, p &lt;&lt; 1, cl, mid);\n    if (mid &lt; r) ans += query(l, r, p &lt;&lt; 1 | 1, mid + 1, cr);\n    return ans;\n}   \nvoid update(int l, int r, int d, int p = 1, int cl = 1, int cr = n){\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) { tree[p] += d * (cr - cl + 1), mark[p] += d; return; }\n    push_down(p, cr - cl + 1);\n    int mid = (cl + cr) &gt;&gt; 1;\n    if (mid &gt;= l) update(l, r, d, p &lt;&lt; 1, cl, mid);\n    if (mid &lt; r) update(l, r, d, p &lt;&lt; 1 | 1, mid + 1, cr);\n    tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1];\n}\nå¸¸è§æ¨¡å‹æ­¥éª¤ï¼š\n\nå°†é—®é¢˜è½¬åŒ–æˆç‚¹ä¿¡æ¯å’Œç›®æ ‡ä¿¡æ¯\nå°†ç›®æ ‡ä¿¡æ¯æ ¹æ®éœ€è¦æ‰©å……æˆåŒºé—´ä¿¡æ¯\nå¢åŠ ä¿¡æ¯ç¬¦åˆåŒºé—´åŠ æ³•\nå¢åŠ æ ‡è®°æ”¯æŒåŒºé—´æ“ä½œ\n\n\nä»£ç ä¸­çš„ä¸»è¦æ¨¡å—ï¼šåŒºé—´åŠ æ³•ï¼Œæ ‡è®°ä¸‹æ¨ï¼Œç‚¹ä¿¡æ¯-&gt;åŒºé—´ä¿¡æ¯ï¼Œå„ç§æ“ä½œ(ä¿®æ”¹ã€æŸ¥è¯¢â€¦)\n\nå­—ç¬¦ä¸²å“ˆå¸Œ\n\n\n\n\n\n\n\n\nURAL1989 Subpalindromes  é¢˜è§£\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²(é•¿åº¦&lt;=100000)ï¼Œæœ‰ä¸¤ä¸ªæ“ä½œã€‚  1ï¼šæ”¹å˜æŸä¸ªå­—ç¬¦ã€‚ 2ï¼šåˆ¤æ–­æŸä¸ªå­ä¸²æ˜¯å¦æ„æˆå›æ–‡ä¸²\nåˆ†æï¼š\nç›´æ¥åˆ¤æ–­ä¼šè¶…æ—¶ï¼Œæ­¤å¤„ç”¨ çº¿æ®µæ ‘ç»´æŠ¤å­—ç¬¦ä¸²å“ˆå¸Œ\nå¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²å®ƒå¯¹åº”çš„å“ˆå¸Œå‡½æ•°ä¸º$a[0]+a[1]K + a[2]K^2 +â€¦+a[n-1]*K^{n-1}$\nå†ç»´æŠ¤ä¸€ä¸ªä»å³å¾€å·¦çš„å“ˆå¸Œå€¼ï¼š\n$a[0]K^{n-1} + a[1]K^{n-2} +â€¦+a[n-1]$\nè‹¥æ˜¯å›æ–‡ä¸²ï¼Œåˆ™å·¦å³çš„å“ˆå¸Œå€¼ä¼šç›¸ç­‰ã€‚è€Œå·¦å³å“ˆå¸Œå€¼ç›¸ç­‰ï¼Œåˆ™å¾ˆå¤§å¯èƒ½è¿™æ˜¯å›æ–‡ä¸²ã€‚\nè‹¥å‡ºç°è¯¯åˆ¤ï¼Œå¯ä»¥å†ç”¨ä¸€ä¸ªK2ï¼Œè¿›è¡ŒäºŒæ¬¡å“ˆå¸Œåˆ¤æ–­ï¼Œå¯ä»¥å‡å°è¯¯åˆ¤æ¦‚ç‡ã€‚å®ç°ä¸Šï¼Œå“ˆå¸Œå€¼æœ€å¥½å¯¹æŸä¸ªè´¨æ•°å–ä½™æ•°ï¼Œè¿™æ ·åˆ†å¸ƒæ›´å‡åŒ€ã€‚\nè§£é¢˜æ¨¡å‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šæŸä¸ªåŒºé—´çš„å·¦ï¼Œå³å“ˆå¸Œå€¼\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\nç›®æ ‡ä¿¡æ¯å·²ç»ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥åŒºé—´ä¿¡æ¯=ç›®æ ‡ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æ„ï¼š\n\nåŒºé—´ä¿¡æ¯ï¼šåŒºé—´å“ˆå¸Œå€¼\n\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\n\næ ¸å¿ƒï¼šå°±æ˜¯æ‰¾åˆ°åŒºé—´ä¿¡æ¯ï¼Œ å†™å¥½åŒºé—´åŠ æ³•\næœ€é•¿è¿ç»­é›¶\n\n\n\n\n\n\n\n\nCodeforces 527C Glass Carving é¢˜è§£\nç»™å®šä¸€ä¸ªçŸ©å½¢ï¼Œä¸åœåœ°çºµå‘/æ¨ªå‘åˆ‡å‰²ï¼Œé—®æ¯æ¬¡åˆ‡å‰²åï¼Œæœ€å¤§çš„çŸ©å½¢é¢ç§¯æ˜¯å¤šå°‘\nåˆ†æï¼š\næœ€å¤§çŸ©å½¢é¢ç§¯=æœ€é•¿çš„é•¿*æœ€å®½çš„å®½\né•¿å®½èŒƒå›´å‡ä¸º1e5ï¼Œæ•…ç”¨01åºåˆ—è¡¨ç¤ºæ¯ä¸ªç‚¹æ˜¯å¦è¢«åˆ‡å‰²\næœ€é•¿çš„é•¿å°±æ˜¯é•¿çš„æœ€é•¿è¿ç»­0çš„æ•°é‡+1ï¼Œå®½åŒç†ï¼Œäºæ˜¯å¯ç”¨ç”¨çº¿æ®µæ ‘ç»´æŠ¤æœ€é•¿è¿ç»­é›¶\nè§£é¢˜æ¨¡å‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´æœ€é•¿è¿ç»­é›¶çš„ä¸ªæ•°\nç‚¹ä¿¡æ¯ï¼š0æˆ–1\n\nç”±äºç›®æ ‡ä¿¡æ¯ä¸ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥è¦æ‰©å……ç›®æ ‡ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æ„ï¼š\n\nåŒºé—´ä¿¡æ¯ï¼šä»å·¦ï¼Œå³å¼€å§‹çš„æœ€é•¿è¿ç»­é›¶ï¼Œæœ¬åŒºé—´æ˜¯å¦å…¨é›¶ï¼Œæœ¬åŒºé—´æœ€é•¿è¿ç»­é›¶\nç‚¹ä¿¡æ¯ï¼š0æˆ–1\n\nè®¡æ•°æ’åº\n\n\n\n\n\n\n\n\nCodeforces 558E A Simple Task é¢˜è§£\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡1e5çš„å­—ç¬¦ä¸²ï¼ˆå°å†™è‹±æ–‡å­—æ¯ï¼‰ï¼Œå’Œä¸è¶…è¿‡5000ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œ L R K è¡¨ç¤ºç»™åŒºé—´[L,R]çš„å­—ç¬¦ä¸²æ’åºï¼ŒK=1ä¸ºå‡åºï¼ŒK=0ä¸ºé™åºã€‚ æœ€åè¾“å‡ºæœ€ç»ˆçš„å­—ç¬¦ä¸²\nè§£é¢˜æ¨¡å‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æ’åºç»“æœ\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\nç›®æ ‡ä¿¡æ¯æ˜¯ç¬¦åˆåŒºé—´åŠ æ³•çš„ï¼Œä½†æ˜¯ä¸ºäº†æ”¯æŒåŒºé—´æ“ä½œï¼Œè¿˜æ˜¯éœ€è¦æ‰©å……ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æ„ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æ’åºç»“æœï¼Œæ’åºæ ‡è®°ï¼Œæ’åºç§ç±»ï¼ˆå‡é™ï¼‰\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\n\n\n\n\n\n\n\n\n\nTo be continuedâ€¦\n","slug":"algorithm/learn/çº¿æ®µæ ‘","date":"2021-08-06T08:14:31.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,algorithm","author_index":"Maskros"},{"id":"1f59b3eb6e524ce1c0f6b34920ea6c38","title":"åšå¼ˆè®º","content":"åšå¼ˆè®ºGame Theory\n\nNimæ¸¸æˆå±äº ICG (Impartial Combinatorial Games) çš„ä¸€ç§ï¼Œæ»¡è¶³æ¡ä»¶å¦‚ä¸‹ï¼š\n\nä¸¤åé€‰æ‰‹äº¤æ›¿ç§»åŠ¨ï¼Œåœ¨æœ‰é™çš„åˆæ³•ç§»åŠ¨é›†åˆä¸­ä»»é€‰ä¸€ç§è¿›è¡Œç§»åŠ¨\nå¯¹äºä»»ä½•ä¸€ç§å±€é¢ï¼Œåˆæ³•çš„ç§»åŠ¨é›†åˆåªå–å†³äºå±€é¢æœ¬èº«\nåˆ°è°æ— æ³•ç§»åŠ¨è°å°±è¾“äº†\n\nä»¥ä¸‹ç»™å‡º P/N çš„å®šä¹‰ï¼š\n\nP-Positionï¼šå…ˆæ‰‹å¿…è´¥ç‚¹ (Previous)\nN-Positionï¼šå…ˆæ‰‹å¿…èƒœç‚¹ (Next)\nå¯çŸ¥æ‰€æœ‰ç»ˆç»“ç‚¹éƒ½æ˜¯Pç‚¹ï¼Œä¸€æ­¥å°±èƒ½åˆ°Pç‚¹çš„ä¸€å®šæ˜¯Nç‚¹ï¼Œé€šè¿‡ä¸€æ­¥åªèƒ½åˆ°Nç‚¹çš„ä¸€å®šæ˜¯Pç‚¹\n\nä¸‹é¢æ¥è¯´è¯´Nimæ¸¸æˆï¼šâ€œæœ‰è‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œåˆæ³•çš„ç§»åŠ¨æ˜¯â€œé€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢—ï¼ˆä¸èƒ½ä¸æ‹¿ï¼‰â€ï¼Œå¦‚æœè½®åˆ°æŸä¸ªäººæ—¶æ‰€æœ‰çš„çŸ³å­å †éƒ½å·²ç»è¢«æ‹¿ç©ºäº†ï¼Œåˆ™åˆ¤è´Ÿï¼ˆå› ä¸ºæ²¡æœ‰ä»»ä½•åˆæ³•çš„ç§»åŠ¨ï¼‰â€œï¼Œç®€å•æ¥æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ä¸ªé€’å½’çš„ç®—æ³•ï¼šå¯¹äºå½“å‰çš„å±€é¢ï¼Œé€’å½’è®¡ç®—å®ƒçš„æ‰€æœ‰å­å±€é¢çš„æ€§è´¨ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªå­å±€é¢æ˜¯Pï¼Œé‚£ä¹ˆå‘è¿™ä¸ªå­å±€é¢çš„ç§»åŠ¨å°±æ˜¯å¿…èƒœç­–ç•¥ã€‚è¿™å…¶ä¸­æœ‰å¤§é‡çš„é‡å å­é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥ç”¨DPæˆ–è€…è®°å¿†åŒ–æœç´¢çš„æ–¹æ³•ä»¥æé«˜æ•ˆç‡ã€‚\nä½†æ˜¯ğŸ‘´ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªnbçš„ç»“è®ºï¼š\nå¯¹äºä¸€ä¸ªNimæ¸¸æˆçš„å±€é¢(a1,a2,â€¦,an)ï¼Œå®ƒæ˜¯P-positionå½“ä¸”ä»…å½“a1^a2^â€¦^an=0ï¼Œå…¶ä¸­^è¡¨ç¤ºå¼‚æˆ–(xor)è¿ç®—\næ ¹æ®è¿™ä¸ªå®šç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…åˆ¤æ–­ä¸€ä¸ªNimçš„å±€é¢çš„æ€§è´¨ï¼Œä¸”å¦‚æœå®ƒæ˜¯N-positionï¼Œä¹Ÿå¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…æ‰¾åˆ°æ‰€æœ‰çš„å¿…èƒœç­–ç•¥ã€‚Nimé—®é¢˜å°±è¿™æ ·åŸºæœ¬ä¸Šå®Œç¾çš„è§£å†³äº†ã€‚\n\nSprague-Grundyå‡½æ•°ICGçš„æŠ½è±¡æ¨¡å‹ï¼šç»™å®šä¸€ä¸ªæœ‰å‘æ— ç¯å›¾å’Œä¸€ä¸ªèµ·å§‹é¡¶ç‚¹ä¸Šçš„ä¸€æšæ£‹å­ï¼Œä¸¤åé€‰æ‰‹äº¤æ›¿çš„å°†è¿™æšæ£‹å­æ²¿æœ‰å‘è¾¹è¿›è¡Œç§»åŠ¨ï¼Œæ— æ³•ç§»åŠ¨è€…åˆ¤è´Ÿ\né¦–å…ˆå®šä¹‰mex(minimal excludnt) è¿ç®—ï¼š\næ–½åŠ äºé›†åˆï¼Œè¡¨ç¤ºæœ€å°çš„ä¸å±äºè¿™ä¸ªé›†åˆçš„éè´Ÿæ•´æ•°ï¼Œexp: mex{0,1,2,4}=3ã€mex{2,3,5}=0ã€mex{}=0ã€‚\nä¸‹é¢ç»™å‡ºSGå‡½æ•°çš„å®šä¹‰ï¼š\nå¯¹äºä¸€ä¸ªç»™å®šçš„æœ‰å‘æ— ç¯å›¾ï¼Œå®šä¹‰å…³äºå›¾çš„æ¯ä¸ªé¡¶ç‚¹çš„Sprague-Garundyå‡½æ•°å¦‚ä¸‹ï¼šsg(x)=mex{ sg(y) | yæ˜¯xçš„åç»§ }ã€‚\nç»“è®ºï¼šå½“SG[x] = 0æ—¶ï¼Œxä¸ºå¿…è´¥çŠ¶æ€ï¼›å½“SG[x] &gt; 0æ—¶ï¼Œxä¸ºå¿…èƒœçŠ¶æ€\næ‰€ä»¥ä»1~nçš„SGå‡½æ•°å€¼åº”è¯¥å¦‚ä½•è®¡ç®—å‘¢ï¼Ÿ\n\nä½¿ç”¨ æ•°ç»„ f[ ] å°†å¯æ”¹å˜å½“å‰çŠ¶æ€ çš„æ–¹å¼è®°å½•ä¸‹æ¥\nç„¶åæˆ‘ä»¬ä½¿ç”¨ å¦ä¸€ä¸ªæ•°ç»„ S[ ] å°†å½“å‰çŠ¶æ€x çš„åç»§çŠ¶æ€æ ‡è®°\næ¨¡æ‹Ÿmexè¿ç®—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æ ‡è®°å€¼ä¸­ æœç´¢ æœªè¢«æ ‡è®°å€¼ çš„æœ€å°å€¼ï¼Œå°†å…¶èµ‹å€¼ç»™SG(x)\nä¸æ–­é‡å¤ 2-3 çš„æ­¥éª¤ï¼Œå³å®Œæˆè®¡ç®— 1-n çš„SGå‡½æ•°å€¼\n\nSGå®šç†ï¼šSG(G)=SG(G1)^SG(G2)^â€¦^SG(Gn)ï¼ŒåŸæ¸¸æˆçš„SGå‡½æ•°å€¼æ˜¯å®ƒçš„æ‰€æœ‰å­æ¸¸æˆçš„SGå‡½æ•°å€¼çš„å¼‚æˆ–\n\nè§£é¢˜æ¨¡å‹\næŠŠåŸæ¸¸æˆåˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„å­æ¸¸æˆï¼Œåˆ™åŸæ¸¸æˆçš„SGå‡½æ•°å€¼å°±å˜ä¸ºSG(G)=SG(G1)^SG(G2)^â€¦^Sg(Gn)\n\nåˆ†åˆ«è€ƒè™‘æ¯ä¸€ä¸ªå­æ¸¸æˆï¼Œè®¡ç®—å…¶SGå€¼\nSGå€¼çš„è®¡ç®—æ–¹æ³•ï¼ˆimportantï¼‰ï¼š\nâ€‹    a. å¯é€‰æ­¥æ•°ä¸º1~mçš„è¿ç»­æ•´æ•°ï¼Œç›´æ¥å–æ¨¡å³å¯ï¼ŒSG(x) = x % (m+1) ï¼ˆBash gameï¼‰\nâ€‹    b. å¯é€‰æ­¥æ•°ä¸ºä»»æ„æ­¥ï¼ŒSG(x) = xï¼ˆNim gameï¼‰\nâ€‹    c. å¯é€‰æ­¥æ•°ä¸ºä¸€ç³»åˆ—ä¸è¿ç»­çš„æ•°ï¼Œç”¨æ¨¡æ¿è®¡ç®—\n\n\næ¿å­\n\n\n\n\n\n\n\n\né¦–é€‰æ‰“è¡¨é¢„å¤„ç†ï¼Œæ‰“è¡¨æ²¡æ³•ä½¿çš„æ—¶å€™å°±æ€¼dfs\nâ˜†æ‰“è¡¨&#x2F;&#x2F;æ‰“è¡¨\nint f[N],SG[MAXN],S[MAXN]; &#x2F;&#x2F; f[] å¯æ”¹å˜å½“å‰çŠ¶æ€çš„æ–¹å¼(å¯å–èµ°çŸ³å­ä¸ªæ•°)   S[] å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€é›†åˆ\n\nvoid getSG(int n) &#123;\n\tint i,j;\n\tmemset(SG,0,sizeof(SG));\n\tfor(i&#x3D;1;i&lt;&#x3D;n;i++) &#123; \n\t\tmemset(S,0,sizeof(S));\n\t\tfor(j&#x3D;0; f[j]&lt;&#x3D;i &amp;&amp; j&lt;&#x3D;N;j++)\n\t\t\tS[SG[i-f[j]]]&#x3D;1; &#x2F;&#x2F;S[]æ•°ç»„æ¥ä¿å­˜å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€é›†åˆ\n\t\tfor(j&#x3D;0;j&lt;&#x3D;n;j++)&#123; \n        \tif(!S[j])&#123;&#x2F;&#x2F;æ¨¡æ‹Ÿmexè¿ç®—\n\t\t\t\tSG[i]&#x3D;j;\n\t\t\t\tbreak;\n            &#125;\n\t\t&#125;\n\t&#125;\n&#125;\næ·±æœ&#x2F;&#x2F;æ³¨æ„ fæ•°ç»„è¦æŒ‰ä»å°åˆ°å¤§æ’åº SGå‡½æ•°è¦åˆå§‹åŒ–ä¸º-1 å¯¹äºæ¯ä¸ªé›†åˆåªéœ€åˆå§‹åŒ–1é\n&#x2F;&#x2F;næ˜¯é›†åˆfçš„å¤§å° f[i]æ˜¯å®šä¹‰çš„ç‰¹æ®Šå–æ³•è§„åˆ™çš„æ•°ç»„\nint f[110],SG[10010],n;\n\nint SG_dfs(int x)&#123;\n    int i;\n    if(SG[x]!&#x3D;-1)\n        return SG[x];\n    bool vis[110];\n    memset(vis,0,sizeof(vis));\n    for(i&#x3D;0;i&lt;n;i++)&#123;\n        if(x&gt;&#x3D;f[i])&#123;\n            SG_dfs(x-f[i]);\n            vis[SG[x-f[i]]]&#x3D;1;\n        &#125;\n    &#125;\n    int e;\n    for(i&#x3D;0;;i++)\n        if(!vis[i])&#123;\n            e&#x3D;i;\n            break;\n        &#125;\n    return SG[x]&#x3D;e;\n&#125;\n\nå¸¸è§åšå¼ˆBash Gameåªæœ‰ä¸€å †nä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµå–ç‰©ï¼Œæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œæœ€å¤šå–mä¸ªã€‚æœ€åå–å…‰è€…å¾—èƒœï¼ˆè°æ‹¿äº†æœ€åä¸€ä¸ªè°èµ¢ï¼‰\nç»“è®ºï¼šæœ€ä¼˜é€‰æ‹©ä¸ºä¿æŒç»™å¯¹æ‰‹ç•™ä¸‹ m+1 çš„å€æ•°\n\nif(n%(m+1) != 0)  åˆ™å…ˆæ‰‹å¿…èµ¢ \n\nif(n%(m+1) == 0)  åˆ™åæ‰‹å¿…èµ¢\n\n\nWythoff Game\n\n\n\n\n\n\n\n\nå„ä½ğŸ‘´å±å®ğŸ®ï¼Œé»„é‡‘åˆ†å‰²æ•°ï¼ˆ1+âˆš5ï¼‰/2 = 1.618 éƒ½ç»™æ•´ä¸Šäº†\næœ‰ä¸¤å †å„è‹¥å¹²ä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»æŸä¸€å †å–ç‰©æˆ–åŒæ—¶ä»ä¸¤å †ä¸­å–åŒæ ·å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åå–å…‰è€…å¾—èƒœ\nè¿™é‡Œç”¨ï¼ˆakï¼Œbkï¼‰ï¼ˆak â‰¤ bk ,k=0ï¼Œ1ï¼Œ2ï¼Œâ€¦,n)è¡¨ç¤ºä¸¤å †ç‰©å“çš„æ•°é‡å¹¶ç§°å…¶ä¸ºå±€åŠ¿\nç”±akï¼Œbkç»„æˆçš„çŸ©å½¢è¿‘ä¼¼ä¸ºé»„é‡‘çŸ©å½¢\nç»“è®ºï¼š\n\n(int)((bk-ak)*(1+sqrt(5.0))/2) != ak ,  å…ˆæ‰‹å¿…èµ¢\n\n(int)((bk-ak)*(1+sqrt(5.0))/2) == ak , åæ‰‹å¿…èµ¢\n\n\nNim Gameè‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œä¸¤ä¸ªäººå¯ä»¥é€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢—\nç»“è®ºï¼šxor ç•¥\nFibonacci Nimæœ‰ä¸€å †ä¸ªæ•°ä¸ºnçš„çŸ³å­ï¼Œæ¸¸æˆåŒæ–¹è½®æµå–çŸ³å­ï¼Œæ»¡è¶³: (1)å…ˆæ‰‹ä¸èƒ½åœ¨ç¬¬ä¸€æ¬¡æŠŠæ‰€æœ‰çš„çŸ³å­å–å®Œ (2)æ¯æ¬¡å¯ä»¥å–çš„çŸ³å­æ•°ä»‹äº1åˆ°å¯¹æ‰‹åˆšå–çš„çŸ³å­æ•°çš„2å€ä¹‹é—´(åŒ…å«)  (3) å–èµ°æœ€åä¸€ä¸ªçŸ³å­çš„äººä¸ºèµ¢å®¶\nç»“è®ºï¼šå½“nä¸ºFibonacciæ•°çš„æ—¶å€™ï¼Œå¿…è´¥\nf[i]ï¼š1,2,3,5,8,13,21,34,55,89â€¦â€¦\n","slug":"algorithm/learn/åšå¼ˆè®º","date":"2021-07-31T01:51:28.000Z","categories_index":"ALGORITHMS","tags_index":"note,ACM,åšå¼ˆ,algorithm","author_index":"Maskros"},{"id":"3da5b418046b7895ffe91ec3b92eec28","title":"sqlå­¦ä¹ ç¬”è®°","content":"SQLç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€-Structured Query Language\n@authorï¼šMaskros\n\nTypeç±»å‹\n\nå­—ç¬¦å‹\nVARCHARå‹å’ŒCHARå‹\n\n\næ–‡æœ¬å‹\nTEXT\n\n\næ•°å€¼å‹\næ•´æ•°INT ã€å°æ•°NUMERICã€é’±æ•°MONEY)\n\n\né€»è¾‘å‹\nBIT\n\n\næ—¥æœŸå‹\nDATETIME \n\n\n\n\nOperationæ“ä½œ\nå¢åˆ æ”¹æŸ¥ CURD\ntips : ä¸åŒºåˆ†å¤§å°å†™ï¼Œåˆ—åè¡¨åå‰``å¯ä»¥çœç•¥\nSELECT(FROM)\nSELECT COLUMN æŸ¥è¯¢å•ä¸ªåˆ—\n\nSELECT `column_name`\nFROM `table_name`;\n\nSELECT COLUMN, COLUMN æŸ¥è¯¢å¤šä¸ªåˆ—\n\nSELECT `column_name_1`, `column_name_2`  \nFROM `table_name`;\n\nä½¿ç”¨ SELECT * æŸ¥è¯¢æ‰€æœ‰åˆ—\n\nSELECT * FROM `table_name`;\n\nä½¿ç”¨ SELECT DISTINCT æŸ¥è¯¢ä¸åŒè¡Œ\n\nSELECT DISTINCT `column_name`\nFROM `table_name`\nâ€‹    å¸Œæœ›æŸ¥è¯¢çš„å€¼éƒ½æ˜¯å”¯ä¸€ä¸é‡å¤çš„\n\nSELECT WHERE å¯¹è¡Œè¿›è¡Œç­›é€‰è¿‡æ»¤\n\nSELECT `column_name1`,`column_name2`â€¦\nFROM `table_name`\nWHERE `column_name` operator `value`;\nINSERT(INTO)\nINSERT INTO åœ¨ä¸æŒ‡å®šåˆ—çš„æƒ…å†µä¸‹æ’å…¥æ•°æ®\n\nINSERT INTO `table_name`\nVALUES (value1, value2, value3,...);\n# 'value'\n\nINSERT INTO åœ¨æŒ‡å®šçš„åˆ—ä¸­æ’å…¥æ•°æ®\n\nINSERT INTO `table_name`\n(`column1`, `column2`, `column3`,...)\nVALUES (value1, value2, value3,...);\nUPDATE(SET)\nUPDATE æ›´æ–°æ•°æ®\n\nUPDATE `table_name`\nSET `column1`=value1,`column2`=value2,...\nWHERE `some_column`=some_value;\n# WHERE å¯ä»¥çœç•¥\nDELETE(FROM)\nDELETE åˆ é™¤æ•°æ®\n\nDELETE FROM `table_name`\nWHERE `some_column` = `some_value`;\n\nTRUNCATE TABLE æ¸…ç©ºè¡¨\n\n\nConditionæ¡ä»¶\næ¯”è¾ƒè¿ç®—ç¬¦WHERE A OPERATOR B\n\ntips:  &lt;&gt; , != å‡ä¸ºä¸ç­‰äºï¼Œä½†ç”¨æ³•ä¸åŒ\n\né€»è¾‘è¿ç®—ç¬¦\nAND è¿æ¥å¤šæ¡ä»¶\nOR è¿æ¥å¤šæ¡ä»¶\n\nNOT è¿‡æ»¤ä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ®\n\n\nSELECT `column_name` \nFROM `table_name` \nWHERE NOT `condition`;\n# (condition1 operator condition2)\nç‰¹æ®Šæ¡ä»¶\nIN æŸ¥è¯¢å¤šæ¡ä»¶\n\nWhere `column_name1` IN (condition)\n# condition ä¸­ä¹Ÿå¯ä»¥å†™\nIN (select `column_name1` xxxxxxxx)\n\nNOT IN æ’é™¤\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` (NOT) IN `value`;\n# ï¼ˆvalue1, value2ï¼‰\n\nBETWEEN AND æŸ¥è¯¢ä¸¤å€¼é—´çš„æ•°æ®èŒƒå›´\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` BETWEEN `value` AND `value`;\n\nIS NULL æŸ¥è¯¢ç©ºæ•°æ®\nä½¿ç”¨ LIKE æ¨¡ç³ŠæŸ¥è¯¢\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` LIKE `value`;\n# LIKE `D%`\n# 'D%' è¡¨ç¤ºä»¥Då¼€å¤´çš„æ‰€æœ‰å•è¯ï¼Œ% è¡¨ç¤ºä¸ºé€šé…ç¬¦ï¼Œå¯ä»¥æ›¿ä»£0~nä¸ªå­—ç¬¦\nORDER BY &amp; LIMIT\nORDER BY å¯¹æ•°æ®è¿›è¡Œæ’åºï¼ˆä¸€åˆ—/å¤šåˆ—(å¤šåˆ—æŒ‰SELECTé¡ºåº)ï¼‰\nASC (ascend)å‡åº(é»˜è®¤)  |  DESC(descend) é™åº\n\n\nSELECT &#96;column_name&#96;, &#96;column_name&#96;\nFROM &#96;table_name&#96;\n# WHERE XXXX\nORDER BY &#96;column_name&#96;, &#96;column_name&#96; ASC|DESC; \n\nä½¿ç”¨ LIMIT é™åˆ¶è¾“å‡ºè¡Œæ•°\noffset ï¼šæ˜¯è¿”å›é›†çš„åˆå§‹æ ‡æ³¨ï¼Œèµ·å§‹ç‚¹æ˜¯0\ncount ï¼šåˆ¶å®šè¿”å›çš„æ•°é‡\n\n\nSELECT `column_name`, `column_name`\nFROM `table_name`\n# ORDER BY XXXX\nLIMIT `offset` , `count`;\n# offsetå’Œcounté€šå¸¸åªç”¨ä¸€ä¸ªcountï¼šLIMIT (0,)1 \nFunctionå‡½æ•°\nç®—æ•°å‡½æ•°\nAVG() å‡½æ•°æ±‚æ•°å€¼åˆ—çš„å¹³å‡å€¼\n\nSELECT AVG(`column_name`) # AS `column2_name`\nFROM `table_name`;\n\nMAX() å‡½æ•°è¿”å›æŒ‡å®šåˆ—ä¸­çš„æœ€å¤§å€¼\n\nMIN() å‡½æ•°è¿”å›æŒ‡å®šåˆ—ä¸­çš„æœ€å°å€¼\n\nSUM() å‡½æ•°ç»Ÿè®¡æ•°å€¼åˆ—çš„æ€»æ•°\n\nROUND() å‡½æ•°å°†æ•°å€¼å››èˆäº”å…¥\n\nROUND() è¿”å›å€¼æ•°æ®ç±»å‹ä¼šè¢«å˜æ¢ä¸ºä¸€ä¸ªBIGINT ã€‚\nå½“ decimals ä¸ºæ­£æ•°æ—¶ï¼Œcolumn_name å››èˆäº”å…¥ä¸º decimals æ‰€æŒ‡å®šçš„å°æ•°ä½æ•°ã€‚çœç•¥decimalsè‡ªåŠ¨ä¿ç•™å››èˆäº”å…¥åçš„æ•´æ•°ã€‚å½“ decimals ä¸ºè´Ÿæ•°æ—¶ï¼Œcolumn_name åˆ™æŒ‰ decimals æ‰€æŒ‡å®šçš„åœ¨å°æ•°ç‚¹çš„å·¦è¾¹å››èˆäº”å…¥ã€‚\n\nSELECT ROUND(`column_name`, `decimals`) \nFROM `table_name`;\n#decimals è§„å®šè¦è¿”å›çš„å°æ•°ä½æ•°\n\nNULL() å‡½æ•°åˆ¤æ–­ç©ºå€¼\n\nISNULL()\nSELECT ISNULL(`column_name`)\nFROM `table_name`;\n# è¿”å› 0 æˆ– 1\n\nIFNULL()\nSELECT IFNULL(`column_name`, `value`)\nFROM `table_name`;\n# æ˜¯ NULL åˆ™è¿”å› value å€¼ï¼Œä¸æ˜¯åˆ™è¿”å›å¯¹åº”å†…å®¹\n\n\n\nCOUNT() å‡½æ•°è®¡æ•°\n\n\n# COUNT(column_name) å¯¹åˆ—å…·æœ‰çš„è¡Œæ•°è¿›è¡Œè®¡æ•° é™¤å»å€¼ä¸º NULL çš„è¡Œ\n# ä¸»è¦ç”¨äºæŸ¥çœ‹å„åˆ—æ•°æ®çš„æ•°é‡æƒ…å†µï¼Œä¾¿äºç»Ÿè®¡æ•°æ®çš„ç¼ºå¤±å€¼\nSELECT COUNT(`column_name`) \nFROM `table_name`;\n# COUNT(*) å¯¹è¡¨ä¸­è¡Œçš„æ•°ç›®è¿›è¡Œè®¡æ•°,åŒ…æ‹¬ NULL æ‰€åœ¨è¡Œå’Œé‡å¤é¡¹æ‰€åœ¨è¡Œ\n# ä¸»è¦ç”¨äºæŸ¥çœ‹è¡¨ä¸­çš„è®°å½•æ•°\nSELECT COUNT(*) \nFROM `table_name`;\n# COUNT(DISTINCT column_name) å‡½æ•°è¿”å›æŒ‡å®šåˆ—çš„ä¸åŒå€¼çš„æ•°ç›®\nSELECT COUNT(DISTINCT `column_name`) \nFROM `table_name`;\næ—¶é—´å‡½æ•°\nNOW()ï¼ŒCURDATE()ã€CURTIME() è·å–å½“å‰æ—¶é—´\n\nNOW() è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´  YYYY-MM-DD hh:mm:ss\nCURDATE() è¿”å›å½“å‰æ—¥æœŸ  YYYY-MM-DD\nCURTIME() è¿”å›å½“å‰æ—¶é—´  hh:mm:ss\nè¦ç²¾ç¡®çš„ç§’ä»¥åçš„æ—¶é—´çš„è¯ï¼Œå¯ä»¥åœ¨ () ä¸­åŠ æ•°å­—ï¼ŒåŠ å¤šå°‘ï¼Œå°±è¡¨ç¤ºç²¾ç¡®åˆ°ç§’åå¤šå°‘ä½\n\n\nDATE()ã€TIME() å‡½æ•°æå–æ—¥æœŸå’Œæ—¶é—´\n\nEXTRACT() å‡½æ•°æå–æŒ‡å®šçš„æ—¶é—´ä¿¡æ¯\n\nFROM\n\nè¿”å›æ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ†\n\nunit :  YEAR (å¹´)ã€MONTH (æœˆ)ã€DAY (æ—¥)ã€HOUR (å°æ—¶)ã€MINUTE (åˆ†é’Ÿ)ã€ SECOND (ç§’)\nSELECT EXTRACT(unit FROM date) # unit ä¸ºå•ç‹¬éƒ¨åˆ†å\nFROM `table`\n# date - åˆæ³•column\n\n\n\nDATE_FORMAT() æ ¼å¼åŒ–è¾“å‡ºæ—¥æœŸ\n\n%Y å¹´ä»½ %m æœˆä»½ %d æ—¥æœŸ %w æ˜ŸæœŸ %H å°æ—¶  %i åˆ†é’Ÿ %s ç§’\nå°å†™y è¡¨ç¤ºå¹´ä»½åä¸¤ä½ï¼Œå°å†™hè¡¨ç¤º12å°æ—¶è®¡çš„å°æ—¶\n\nSELECT DATE_FORMAT(date,'format');\n\nDATE_ADD() å¢åŠ æ—¶é—´\n\nINTERVAL\nå‘æ—¥æœŸæ·»åŠ æŒ‡å®šçš„æ—¶é—´é—´éš”\nexpr æ˜¯å¸Œæœ›æ·»åŠ çš„æ—¶é—´é—´éš”çš„æ•°å€¼\ntype :  MICROSECOND , SECOND , MINUTE , HOUR , DAY , WEEK , MONTH , QUARTER , YEAR\n\nSELECT DATE_ADD(date, INTERVAL expr type)\nFROM table_name\n\nDATE_SUB() å‡å°‘æ—¶é—´\n\nDATEDIFF() å’Œ TIMESTAMPDIFF() è®¡ç®—æ—¥æœŸå·®\n\næ—¶é—´1-æ—¶é—´2\nDATEDIFF() é»˜è®¤åªèƒ½è®¡ç®—å¤©æ•°å·®\n\nSELECT DATEDIFF(æ—¶é—´1,æ—¶é—´2) AS date_diff FROM courses;\n\nTIMESTAMPDIFF() è®¡ç®—ç›¸å·®å¹´æœˆå‘¨æ—¥æ—¶\nç±»å‹YEAR,MONTH,WEEK,DAY,HOUR\n\n\n\nSELECT TIMESTAMPDIFF (ç±»å‹,æ—¶é—´1,æ—¶é—´2) AS year_diffï¼›\n\n\n\nConstraintsçº¦æŸ\nNOT NULLéç©ºçº¦æŸ\n\nå¼ºåˆ¶åˆ—ä¸æ¥å— NULL å€¼\n\n# å»ºè¡¨\nCREATE TABLE &#96;Persons&#96; (\n    &#96;ID&#96; int NOT NULL,\n    &#96;LastName&#96; varchar(255)\n);\n# å·²å»ºè¡¨\nALTER TABLE &#96;Persons&#96;\nMODIFY &#96;Age&#96; int NOT NULL;\n# æ’¤é”€\nALTER TABLE &#96;Persons&#96;\nMODIFY &#96;Age&#96; int NULL;\nUNIQUEå”¯ä¸€çº¦æŸ\n\nä¸å¸Œæœ›å‡ºç°é‡å¤è®°å½•\nCONSTRAINT å‘½å\nDROP æ’¤é”€\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL,\n    UNIQUE (`P_Id`)\n)\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Persons`(\n\t`P_Id` int NOT NULL UNIQUE,\n)\n## å‘½å+å¤šåˆ—\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL,\n    `LastName` varchar(255) NOT NULL,\n    CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`)\n)\n\n# å·²å»º\nALTER TABLE `Persons`\nADD UNIQUEï¼ˆ`P_Id`ï¼‰\n## å¤šåˆ—\nALTER TABLE `Persons`\nADD CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Persons`\nDROP INDEX uc_PersonID\n## SQL Server / Oracle / MS Access\nALTER TABLE `Persons`\nDROP CONSTRAINT uc_PersonID\nPRIMARY KEYä¸»é”®çº¦æŸ\n\nç®€å•çš„è¯´ï¼ŒPRIMARY KEY = UNIQUE + NOT NULL \nNOT NULL UNIQUE å¯ä»¥å°†è¡¨çš„ä¸€åˆ—æˆ–å¤šåˆ—å®šä¹‰ä¸ºå”¯ä¸€æ€§å±æ€§ï¼Œè€Œ PRIMARY KEY è®¾ä¸ºå¤šåˆ—æ—¶ï¼Œä»…èƒ½ä¿è¯å¤šåˆ—ä¹‹å’Œæ˜¯å”¯ä¸€çš„ï¼Œå…·ä½“åˆ°æŸä¸€åˆ—å¯èƒ½ä¼šé‡å¤ã€‚\nPRIMARY KEY å¯ä»¥ä¸å¤–é”®é…åˆï¼Œä»è€Œå½¢æˆä¸»ä»è¡¨çš„å…³ç³»\nPRIMARY KEY ä¸€èˆ¬åœ¨é€»è¾‘è®¾è®¡ä¸­ç”¨ä½œè®°å½•æ ‡è¯†ï¼Œè¿™ä¹Ÿæ˜¯è®¾ç½® PRIMARY KEY çš„æœ¬æ¥ç”¨æ„ï¼Œè€Œ UNIQUE åªæ˜¯ä¸ºäº†ä¿è¯åŸŸ/åŸŸç»„çš„å”¯ä¸€æ€§\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Persons(\n    `P_Id` int NOT NULL,\n    PRIMARY KEY (`P_Id`)\n);\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL PRIMARY KEY,\n)\n## å‘½å+å¤šåˆ—\nCONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`)\n\n# å·²å»º\nALTER TABLE `Persons`\nADD PRIMARY KEY (`P_Id`)\n## å¤šåˆ—\nALTER TABLE `Persons`\nADD CONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Persons`\nDROP PRIMARY KEY\n## SQL Server / Oracle / MS Access\nALTER TABLE `Persons`\nDROP CONSTRAINT pk_PersonID\nFOREIGN KEYå¤–é”®çº¦æŸ \n\nä¸€ä¸ªè¡¨ä¸­çš„ FOREIGN KEY æŒ‡å‘å¦ä¸€ä¸ªè¡¨ä¸­çš„ UNIQUE KEY \nä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§\nåœ¨ä¸¤ä¸ªè¡¨ä¹‹é—´å»ºç«‹å…³ç³»ï¼Œéœ€è¦æŒ‡å®šå¼•ç”¨ä¸»è¡¨çš„å“ªä¸€åˆ—ï¼ŒREFERENCES è¡¨ç¤ºå¼•ç”¨ä¸€ä¸ªè¡¨\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Orders`(\n    `P_Id` int,\n    FOREIGN KEY (P_Id) REFERENCES Persons(P_Id)\n)\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Orders`(\n    P_Id int FOREIGN KEY REFERENCES Persons(P_Id)\n)\n## å‘½å+å¤šåˆ—\nCONSTRAINT fk_PerOrders FOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n\n# å·²å»º\nALTER TABLE `Orders`\nADD FOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n## å‘½å\nALTER TABLE `Orders`\nADD CONSTRAINT fk_PerOrders\nFOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Orders`\nDROP FOREIGN KEY fk_PerOrders\n## SQL Server / Oracle / MS Access\nALTER TABLE `Orders`\nDROP CONSTRAINT fk_PerOrders\nCHECKæ£€æŸ¥çº¦æŸ \n\né™åˆ¶åˆ—ä¸­çš„å€¼çš„èŒƒå›´ï¼Œè¯„ä¼°æ’å…¥æˆ–ä¿®æ”¹åçš„å€¼ã€‚æ»¡è¶³æ¡ä»¶æ’å…¥ï¼Œå¦ä¸æ’\nå¯ä»¥ä¸ºåŒä¸€åˆ—æŒ‡å®šå¤šä¸ª CHECK çº¦æŸ\n\n# å»ºè¡¨\nCREATE TABLE `courses`(\n\t`student_count` int, â€¦\n\tCHECK (Condition1 AND Condition2)\n)\n## å‘½å\nCONSTRAINT chk_courses CHECK (`student_count` > 0);\n\n# å·²å»º\nALTER TABLE `courses` \nADD CHECK ( `student_count` > 0);\n## ADD CONSTRAINT XXX CHECK (Condition);\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `courses` \nDROP CHECK chk_courses\n## SQL Server / Oracle / MS Access\nALTER TABLE `courses` \nDROP CONSTRAINT chk_courses\nDEFAULTé»˜è®¤çº¦æŸ\n`City` varchar(255) DEFAULT 'Sandnes'\n`OrderDate` date DEFAULT GETDATE()  # å¯ä»¥ç”¨å‡½æ•°\n\nALTER TABLE `Persons`\nALTER `City` SET DEFAULT 'SANDNES'\nADD CONSTRAINT ab_c DEFAULT 'SANDNES' for `City`\n\nALTER `City` DROP DEFAULT\nALTER COLUMN `City` DROP DEFAULT\nJoinå¤šè¡¨è”ç»“\nè”ç»“\nåœ¨ä¸€æ¡ SELECT è¯­å¥ä¸­å…³è”å¤šä¸ªè¡¨ï¼Œè¿”å›ä¸€ç»„è¾“å‡º\nä¸¤å¤§ä¸»è§’ : ä¸»é”® (PRIMARY KEY) å’Œå¤–é”® (FOREIGN KEY)\n\nä½¿ç”¨å®Œå…¨é™å®šåˆ—åï¼ˆç”¨ä¸€ä¸ªç‚¹åˆ†éš”è¡¨åå’Œåˆ—åï¼‰\n\n\n# condition\n`table1`.`common_field` = `table2`.`common_field`\n\nJOIN è¿æ¥å­å¥\nINNER JOIN å†…è¿æ¥ï¼šå¦‚æœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ\nOUTER JOIN å¤–è¿æ¥\nLEFT JOINï¼šå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å·¦è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ\nRIGHT JOINï¼šå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å³è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ\n\n\nFULL JOIN å…¨è¿æ¥ï¼šåªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ\nCROSS JOIN äº¤å‰è¿æ¥ï¼šåˆç§°ç¬›å¡å°”ç§¯ï¼Œä¸¤ä¸ªè¡¨æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œè¿”å›ç»“æœçš„è¡Œæ•°ç­‰äºä¸¤ä¸ªè¡¨è¡Œæ•°çš„ä¹˜ç§¯\n\n\n\nINNER JOINå†…è¿æ¥ åˆç§°ä¸ºEQUIJOIN ç­‰å€¼è¿æ¥\n\nå†…è¿æ¥å°±æ˜¯å–ä¸¤ä¸ªè¡¨çš„äº¤é›†ï¼Œè¿”å›çš„ç»“æœå°±æ˜¯è¿æ¥çš„ä¸¤å¼ è¡¨ä¸­éƒ½æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†\n\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`\n(INNER) JOIN `table2` # INNER å¯çœç•¥ä¸å†™\nON `table1`.`common_field` = `table2`.`common_field`;\n# ON CONDITION\n# exp\nSELECT `c`.`id`, `c`.`name` AS `course_name`, `t`.`name` AS `teacher_email`\nFROM `courses` `c`\n    (INNER) JOIN `teachers` `t` ON `c`.`teacher_id` = `t`.`id`;\n\ncourses c ç­‰åŒäº courses AS c ï¼Œç»™courses è¡¨å–åˆ«åä¸º c\n\nOUTER JOINå¤–è¿æ¥ åˆ†ä¸ºå·¦å¤–è¿æ¥ å³å¤–è¿æ¥ å…¨å¤–è¿æ¥\n\nå¤–è¿æ¥å¯ä»¥å°†æŸä¸ªè¡¨æ ¼ä¸­ï¼Œåœ¨å¦å¤–ä¸€å¼ è¡¨æ ¼ä¸­æ— å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ä¹Ÿèƒ½å°†æ•°æ®åŒ¹é…å‡ºæ¥\n\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        LEFT | RIGHT | FULL  (OUTER) JOIN table2\n        ON CONDITION;\n\nLEFT JOIN : ä»¥å·¦è¡¨ä¸ºå‚è€ƒè¡¨ï¼Œè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼ŒåŠ ä¸Šå³è¡¨ä¸­åŒ¹é…åˆ°çš„è®°å½•\nRIGHT JOIN :  ä»¥å³è¡¨ä¸ºå‚è€ƒè¡¨\nFULL JOIN : åªè¦å·¦è¡¨å’Œå³è¡¨å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ\n\n\n\n\n\n\n\n\n\n\ntips :  MySQL æ•°æ®åº“ä¸æ”¯æŒå…¨è¿æ¥ï¼Œæƒ³è¦å®ç°å…¨è¿æ¥å¯ä»¥ä½¿ç”¨ UNION ALL æ¥å°†å·¦è¿æ¥å’Œå³è¿æ¥ç»“æœç»„åˆåœ¨ä¸€èµ·å®ç°å…¨è¿æ¥\n\nUNION :  è”åˆï¼ŒæŠŠä¸¤æ¬¡æˆ–å¤šæ¬¡æŸ¥è¯¢ç»“æœåˆå¹¶èµ·æ¥\nè¦æ±‚ï¼šä¸¤æ¬¡æŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»ä¸€è‡´ï¼ŒåŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒ\nUNION ä¼šå»æ‰é‡å¤çš„è¡Œã€‚ å¦‚æœä¸æƒ³å»æ‰é‡å¤çš„è¡Œï¼Œå¯ä»¥ä½¿ç”¨ UNION ALL \nå¦‚æœå­å¥ä¸­æœ‰ order by , limitï¼Œéœ€ç”¨æ‹¬å·()åŒ…èµ·æ¥ã€‚æ¨èæ”¾åˆ°æ‰€æœ‰å­å¥ä¹‹åï¼Œå³å¯¹æœ€ç»ˆåˆå¹¶çš„ç»“æœæ¥æ’åºæˆ–ç­›é€‰\n\n\n\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        LEFT JOIN table2 ON CONDITION \nUNION\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        RIGHT JOIN table2 ON CONDITION ;\nCROSS JOINäº¤å‰è¿æ¥ ç»“æœä¹Ÿç§°ä½œç¬›å¡å°”ç§¯\n\nè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå·¦è¡¨ä¸­çš„æ¯ä¸€è¡Œä¸å³è¡¨ä¸­çš„æ‰€æœ‰è¡Œç»„åˆã€‚å³å°†ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œå…¶æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸ºå·¦è¡¨ä¸­çš„è¡Œæ•°ä¹˜ä»¥å³è¡¨ä¸­çš„è¡Œæ•°ã€‚\n\n# éšå¼è¿æ¥ ä¸éœ€è¦ä½¿ç”¨ CROSS JOIN å…³é”®å­—\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`,`table2`;\n# æ˜¾å¼è¿æ¥\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`\nCROSS JOIN `table2`;\n\né€šè¿‡å¢åŠ è”ç»“æ¡ä»¶ï¼Œä½¿ç”¨ WHERE å­å¥å¸®åŠ©ç­›é€‰è¿‡æ»¤æ— æ•ˆçš„æ•°æ®\n\n\nAdvanced Selectåˆ†ç»„æŸ¥è¯¢\nGROUP BY å­å¥\n\nå¯¹åŒç±»çš„æ•°æ®è¿›è¡Œåˆ†ç±»\n\nSELECT `column_name`, aggregate_function(`column_name`)\nFROM `table_name`\nWHERE `column_name` operator value\nGROUP BY `column_name`;\n\nHAVING å­å¥\n\nä½¿ç”¨ WHERE æ¡ä»¶å­å¥æ—¶ä¸èƒ½ä¸èšåˆå‡½æ•°è”åˆä½¿ç”¨\nHAVING å­å¥ç»å¸¸ä¸ GROUP BY è”åˆä½¿ç”¨ï¼ŒHAVING å­å¥å°±æ˜¯å¯¹åˆ†ç»„ç»Ÿè®¡å‡½æ•°è¿›è¡Œè¿‡æ»¤çš„å­å¥\nHAVING å­å¥å¯¹äº GROUP BY å­å¥è®¾ç½®æ¡ä»¶çš„æ–¹å¼å…¶å®ä¸ WHERE å­å¥ä¸ SELECT çš„æ–¹å¼ç±»ä¼¼ï¼Œè¯­æ³•ç›¸è¿‘ï¼Œä½† WHERE å­å¥æœç´¢æ¡ä»¶æ˜¯åœ¨åˆ†ç»„æ“ä½œä¹‹å‰ï¼Œè€Œ HAVING åˆ™æ˜¯åœ¨ä¹‹å\n\nSELECT   `column_name`, aggregate_function(`column_name`) \nFROM     `table_name` \nWHERE    `column_name` operator value \nGROUP BY `column_name` \nHAVING   aggregate_function(`column_name`) operator value;\n\nex: æŸ¥è¯¢æ•™å¸ˆè¡¨ teachersè®¡ç®—ä¸åŒå›½ç±æ•™å¸ˆçš„å¹³å‡å¹´é¾„å’Œæ‰€æœ‰æ•™å¸ˆçš„å¹³å‡å¹´é¾„ï¼Œæ¯”è¾ƒä¸¤è€…çš„å¤§å°ï¼Œæœ€åè¿”å›å¤§äºæ‰€æœ‰æ•™å¸ˆå¹³å‡å¹´é¾„çš„ä¸åŒå›½ç±ä¸‹çš„å…¨éƒ¨æ•™å¸ˆä¿¡æ¯\n\n# å­æŸ¥è¯¢\nSELECT * FROM teachers \n    WHERE country IN\n        (SELECT country FROM teachers GROUP BY country\n            HAVING AVG(age) > (SELECT AVG(age) FROM teachers))\n\n\nå­æŸ¥è¯¢(Base)\nSELECT è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nSELECT `column_name(s)`\nFROM `table_name`\nWHERE `column_name` OPERATOR (\n    SELECT `column_name(s)`\n    FROM `table_name`\n);\n\nINSERT è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nINSERT INTO `table_name`\n\tSELECT `colnum_name(s)`\n\tFROM `table_name`\n\t[ WHERE VALUE OPERATOR ]\n\nUPDATE è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nUPDATE `table_name` \nSET `column_name` = `new_value`\nWHERE `column_name` OPERATOR \n   (SELECT `column_name`\n   FROM `table_name`\n   [WHERE] )\n\nDELETE è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nDELETE FROM `table_name`\nWHERE `column_name` OPERATOR \n   (SELECT `column_name`\n   FROM `table_name`  \n   [WHERE] )\nå­æŸ¥è¯¢(Adv.)\nå†…è”è§†å›¾å­æŸ¥è¯¢\n\nå°†æŸ¥è¯¢çš„ç»“æœé›†ä½œä¸ºä¸€ä¸ªæŸ¥è¯¢è¡¨ï¼Œç»§ç»­è¿›è¡ŒæŸ¥è¯¢æ“ä½œ\n\nSELECT *\nFROM (\n\tSELECT * xxxx\n) `T`\nWHERE xxx = (\n\tSELECT xxxx\n);\n\nIN æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢ / NOT IN \n\nANY æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢\n\nåœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ANY ï¼Œè¡¨ç¤ºä¸å­æŸ¥è¯¢è¿”å›çš„ä»»ä½•å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›çœŸ\n\nSELECT `column_name(s)`\nFROM `table_name`\nWHERE `column_name` OPERATOR\n   ANY(SELECT column_name\n   FROM table_name)\n\nALL æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢\n\nåœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ALL ï¼Œè¡¨ç¤ºä¸å­æŸ¥è¯¢è¿”å›çš„æ‰€æœ‰å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›çœŸ\n\n\nå¤šåˆ—å­æŸ¥è¯¢\n\nHAVING å­å¥ä¸­çš„å­æŸ¥è¯¢\n\n\n","slug":"note/sql","date":"2021-07-28T16:07:28.000Z","categories_index":"NOTE","tags_index":"note,sql","author_index":"Maskros"},{"id":"0308df9afb3678486e587f2739f6cf31","title":"ç«èµ›è®°å½•","content":"ç«èµ›è®°å½•\n\n\n\n\n\n\n\n\n= æ‰“é“è®°å½•\n2020.10 CCPCå¨æµ·æ‰“é“2020.10.17 è“æ¡¥çœäºŒæ‰“é“2020.11 åä¸ºæ¯æ ¡èµ›ä¸‰ç­‰2020.12 ICPCå—äº¬çº¿ä¸Šèµ›æ‰“é“2021.3 ICPCå±±ä¸œçœèµ›æ‰“é“\n\n\n\n\n\n\n\n\nè¿™ä¹Ÿèƒ½é“ï¼Ÿçº¯åºŸç‰©\n2021.5.16 ICPCé“¶å·ç°åœºèµ›æ‰“é“\n\n\n\n\n\n\n\n\né˜…è¯»ç­¾åˆ°WA32ï¼Œå¡è¡Œæœ«ç©ºæ ¼AC+6ï¼ŒTrieå½“æ—¶æ²¡æŒæ¡\n2021.4.18 è“æ¡¥çœäºŒæ‰“é“2021.8.21 ç™¾åº¦ä¹‹æ˜Ÿå¤èµ›æ‰“é“2021.8 CCPCç½‘ç»œé¢„é€‰èµ›æ‰“é“2021.9 ICPCç½‘ç»œé¢„é€‰èµ›æ‰“é“2021.10 CCPCç½‘ç»œèµ›é‡èµ›æ‰“é“2021.11.28 ICPCä¸Šæµ·çº¿ä¸Šèµ›æ‰“é“\n\n\n\n\n\n\n\n\nå¡æ ‘ä¸ŠDPç­¾åˆ°ï¼ŒDPå˜å½¢\n2021.12 CCSPåˆ†èµ›é“œé¦–åä¸œrk71","slug":"life/ç«èµ›è®°å½•","date":"2019-08-24T16:00:01.000Z","categories_index":"LIFE","tags_index":"ACM,Life","author_index":"Maskros"}]