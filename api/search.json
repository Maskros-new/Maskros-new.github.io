[{"id":"e2ac4861d604a0866410e8860947b013","title":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ)","content":"ç‰›å®¢2022å¹´é™¤å¤•AKåœº- E æ˜¥è”(åšå¼ˆ)\n\n\n\n\n\n\n\n\nlink\né¢˜é¢å°çº¢å’Œç´«å‡†å¤‡çŽ©ä¸€ä¸ªæ¸¸æˆã€‚å¥¹ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸² ã€‚ä¸¤äººè½®æµå°†ä¸€ä¸ªå°å†™å­—æ¯æ·»åŠ åˆ°ä¸€ä¸ªæ–°ä¸²  çš„ç»“å°¾ï¼Œå¿…é¡»ä¿è¯tæ—¶åˆ»éƒ½æ˜¯  çš„ä¸€ä¸ªå­åºåˆ—ã€‚è°å…ˆæ— æ³•æ“ä½œåˆ™è¾“æŽ‰æ¸¸æˆã€‚ åˆå§‹æ˜¯ä¸€ä¸ªç©ºä¸²ã€‚å°çº¢å…ˆæ‰‹æ·»åŠ ï¼Œå‡è®¾ä¸¤äººéƒ½è¶³å¤Ÿèªæ˜Žï¼Œè¯·é—®è°æœ€ç»ˆèƒ½èŽ·å¾—èƒœåˆ©ï¼Ÿ \nå­åºåˆ— Defâ€˜ï¼šè‹¥ä¸€ä¸ªå­—ç¬¦ä¸²  åˆ é™¤éƒ¨åˆ†å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰åŽå¾—åˆ°å­—ç¬¦ä¸² ï¼Œé‚£ä¹ˆç§°  æ˜¯  çš„å­åºåˆ—ã€‚\nå¦‚æžœå°çº¢èŽ·å¾—èƒœåˆ©ï¼Œåˆ™è¾“å‡º â€œkouâ€ï¼Œå¦åˆ™è¾“å‡º â€œyukariâ€\né¢˜è§£é¦–å…ˆï¼Œæœ€åŽä¸€ä¸ªå­—æ¯æ˜¯å¿…èƒœä½ç½®ï¼Œé‚£ä¹ˆä¸Žæœ€åŽä¸€ä¸ªå­—æ¯ç›¸åŒçš„ä½ç½®åˆ°æœ€åŽä¸€ä¸ªå­—æ¯ä¹‹é—´éƒ½æ˜¯å¿…è´¥åŒºé—´ï¼Œå› ä¸ºåœ¨è¿™ä¸­é—´é€‰ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å¯¹æ‰‹è‡³éœ€è¦é€‰æœ€åŽä¸€ä¸ªå­—æ¯å³å¯èŽ·èƒœã€‚\né‚£ä¹ˆï¼Œå°±ä¼šå½¢æˆ $(abc)a[b]()ä»£è¡¨å¿…è´¥åŒºé—´ï¼Œ[ ]$ ä»£è¡¨å¿…èƒœåŒºé—´\né‚£ä¹ˆè€ƒè™‘ç”±å¿…èƒœä½œä¸ºç¬¬ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆå°çº¢åªéœ€è¦å…ˆæ‰‹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆå°±ä¼šå°†å¯¹æ‰‹é€¼å…¥å¿…è´¥\nä¸å®Œæ•´çš„å¿…è´¥åŒºé—´ä½œä¸ºå¼€å¤´ï¼Œå°çº¢ä¹Ÿå¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªå¿…èƒœç‚¹ï¼Œè½¬ä¸ºæƒ…å†µ1\nåªæœ‰å½“å®Œæ•´çš„å¿…è´¥åŒºé—´ï¼ˆæ‰¾åˆ°äº†ä¸Žä¹‹åŽç¬¬ä¸€ä¸ªå¿…è´¥åŒºé—´ç›¸åŒçš„å­—æ¯ï¼‰ä½œä¸ºå¼€å¤´ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°çº¢åªèƒ½åœ¨å¿…è´¥åŒºé—´é€‰å–ï¼Œåˆ™æ— æ³•å–èƒœ\nðŸ´void solve(){\n    string s;\n    cin&gt;&gt;s;\n    int i,j=s.length()-1;\n    for(i=j-1;i&gt;=0;i--){\n        if(s[i]==s[j])j=i-1,i=j;\n    }\n    if(j==-1) puts(\"yukari\");\n    else puts(\"kou\");\n}\n\n\n\n\n\n\n\n\n\nå¦‚æžœè¦æ±‚æ¯æ¬¡æ·»åŠ çš„æ—¶å€™téƒ½æ˜¯sçš„å­ä¸²ï¼Œè§£æ³•æ˜¯åŽç¼€è‡ªåŠ¨æœºnextæŒ‡é’ˆdagå›¾ä¸Šæ±‚sgå‡½æ•° &gt;~&lt;\n","slug":"probs/æ˜¥è”sg","date":"2022-02-04T15:30:50.000Z","categories_index":"nowcoder","tags_index":"ACM,algorithm,åšå¼ˆ","author_index":"Maskros"},{"id":"d86326d363487a856acca015612626c4","title":"è®°å¿µäºŒã€‡äºŒä¸€","content":"è®°å¿µäºŒã€‡äºŒä¸€\n\n\n\n\n\n\n\n\nä»¥ä¸‹ Q&amp;Aï¼š\nQï¼šä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€ï¼Ÿ\nAï¼šè¿™ä¸ªè¯å¯¹äºŽæˆ‘æ¥è¯´æœ€æ—©å‡ºè‡ªé«˜ä¸­å­¦è¿‡çš„ä¸€ç¯‡è¯¾æ–‡ï¼Œé²è¿…çš„ã€Šè®°å¿µåˆ˜å’Œçå›ã€‹ï¼Œå…³äºŽè¿™ä¸€ç¯‡ä¸ºå•¥æˆ‘è®°å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œè¿™é‡ŒæŒ‰ä¸‹ä¸è¡¨ã€‚å½“æ—¶å°±åœ¨æƒ³ä¸ºä»€ä¹ˆæ˜¯â€œè®°å¿µâ€è€Œéžâ€œçºªå¿µâ€ï¼Œç„¶åŽæŸ¥äº†æŸ¥ï¼Œæˆ‘è§‰å¾—æœ€é è°±çš„ç†ç”±å°±æ˜¯ä»–å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ–‡ç™½æ··æ‚ã€ç®€ç¹æ··ç”¨æ‰å†™çš„â€œè®°å¿µâ€ã€‚ä»€ä¹ˆè¯¸å¦‚ç»†ç»†å“å‘³åœ¨ã€Šçº¿ä»£æ±‰è¯­è¯å…¸ã€‹ä¸­è¯æ€§å’Œç”¨æ³•çš„å¾®å¾®å·®å¼‚ï¼Œæˆ‘è§‰å¾—è¿™ç§çžŽJBçŒœçš„éƒ½æ˜¯æ‰¯æ·¡ã€‚ä½†æ˜¯è¯´å›žæ­£é¢˜ï¼Œæˆ‘åœ¨è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨â€è®°å¿µâ€œå‘¢ï¼Œå°±æ˜¯å› ä¸ºæƒ³ç”¨äº†ã€‚\nQï¼šä¸ºä»€ä¹ˆå¤§å¹´åˆä¸€æ‰å‘å¹´ç»ˆæ€»ç»“ï¼Œè€Œä¸æ˜¯1æœˆ1å·ï¼Ÿ\nAï¼šè¿™ä¸ªæœ‰å¾ˆå¤šåŽŸå› ã€‚æˆ‘è¿˜æ˜¯æ›´å€¾å‘äºŽ1æœˆ1å·ä»£è¡¨æ–°çš„ä¸€å¹´ï¼Œæ—¥åŽ†ä¹Ÿå¾—æ¢æœ¬æ–°çš„ï¼Œè™½ç„¶ðŸ‘´ðŸ»ä¸ç”¨å°åŽ†ã€‚é‚£å¤©æ™šä¸Šæƒ³å†™æ¥ç€åˆå› ä¸ºæ„Ÿè§‰æœ‰äº›ä½œä¸šæ²¡å¤„ç†ï¼Œæ¯”è¾ƒå¿™ï¼Œå°±æ²¡å†™ã€‚å®žé™…æƒ…å†µæ˜¯å½“å¤©æ™šä¸Šæ‘†äº†ï¼Œå•¥æ­£äº‹æ²¡å¹²ï¼Œè¿‡äº†é‚£å¤©åˆè§‰å¾—å†™æœ‰æ²¡å•¥æ„æ€ï¼Œå°±æ‹–ä¸‹æ¥äº†ã€‚æ€»ç»“ï¼šæ‘†äº†ï¼Œæ²¡æ¥å¾—åŠå†™ã€‚\nOKï¼ŒæŽ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ã€‚\næœ¬æ–‡è´¯å½»æ€»-åˆ†-æ€»çš„è¡Œæ–‡ç»“æž„ï¼Œä»¥ä¸‹å™äº‹æŒ‰æ—¶é—´è½´è¿›è¡Œï¼Œæ— å›¾ï¼ˆå…¶å®žå›¾æŒºå¤šçš„è¦æ”¾å›¾ä¹Ÿè¡Œä½†æ˜¯æ‡’å¾—æ”¾ï¼‰ï¼Œæœ€åŽæ¥ä¸ªæ€»ç»“ï¼Œover. \nï¼ˆä»¥ä¸‹ä¸ºç›®å½•ï¼Œå¦‚æžœä½ æ˜¯PCçš„è¯å³è¾¹å„¿ðŸ‘‰ðŸ»ä¹Ÿæœ‰ã€æŽ’ç‰ˆéƒ¨åˆ†å€Ÿé‰´äº†coinå“¥å“¥ðŸ¥°çš„é£Žæ ¼ï¼‰\n\n\nä¸€æœˆ\nä¸€äº›æ–°é²œäº‹\nç”Ÿæ—¥\nè€ƒè¯•å‘¨\n\n\näºŒæœˆ\nMCM[1]\næ˜¥æ™š\n\n\nä¸‰æœˆ\nå››æœˆ\nè“èŽ²èŠ±\nTake On me\nThe Dawn\n1ä¸¶æƒŠå–œ\n\n\näº”æœˆ\nè´¥èµ°é“¶å·\næ‘‡æ»šä¹‹å¤œ\n\n\nå…­æœˆ\nå±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£Žâ€\nLivehouse\næ¬§æ´²æ¯\nè€ƒè¯•æœˆ\n\n\nä¸ƒæœˆ\nä½“éªŒç”Ÿæ´»\nNBA Final\nè®­ç»ƒ\n\n\nå…«æœˆ\nä¸œäº¬å¥¥è¿\nðŸ‘©â€™s Birthday\nCR7\n\n\nä¹æœˆ\nWebæ¡†æž¶ç¼–ç¨‹\nå›½èµ›\nè—ä¹¦ç¥¨\n\n\nåæœˆ\nðŸ‘‹ï¼Œæ—§æ‰‹æœº\nVlogðŸ‘¶ðŸ»æ¨ªç©ºå‡ºä¸–\n\n\nåä¸€æœˆ\nEDG\næµ·è¶…[2]\nè´¥èµ°ä¸Šæµ·\n\n\nåäºŒæœˆ\nCCSP\nè½¯ä»¶å·¥ç¨‹\n\n\næ€»ç»“\nè¿·èŒ«\nè½®å»“\nå±•æœ›\n\n\n\n\nä¸€æœˆ\n\n\n\n\n\n\n\n\nè¿‘å¹´çš„ä¸€æœˆéƒ½å¦‚æ­¤èˆ¬ç»å…¸ï¼Œä¸è¿‡ä»Šå¹´æ–°é²œä¸€ç‚¹\nä¸€äº›æ–°é²œäº‹æ¥è‡ªbilibiliå¹´ç»ˆæŠ¥å‘Šï¼šåŸæ¸¸å¤§å¸äººå¯èƒ½æ˜¯ä½ ä»Šå¹´æœ€å–œæ¬¢çš„UPä¸»ï¼Œä½ ä¸€å…±çœ‹äº†TAçš„è§†é¢‘ 718 æ¬¡ï¼Œè¿™æˆ–è®¸è¯æ˜Žäº†æˆ‘å¯¹é‡‘è½®çš„çˆ±ï¼Œä½†æ˜¯ä¹Ÿä¾§é¢è¯æ˜Žäº†æŠŠå¾ˆå¤šæ—¶é—´æµªè´¹åˆ°äº†çŸ­è§†é¢‘ä¸Šã€‚\næ¥è‡ªðŸ‘©[1]ï¼šä¸åŒä»¥å¾€çš„æ˜¯ï¼Œæˆ‘åœ¨2020å¹´åº•å› ä¸ºè¯¸å¤šå› ç´ æ”¶èŽ·äº†ä¸€ä¸ªðŸ‘©ï¼Œæ‰€ä»¥ç»™æœ´ç´ çš„ä¸€æœˆå¢žæ·»äº†è®¸å¤šæ´»åŠ›ã€‚\n\n[1]ðŸ‘©: æŒ‡ðŸ‘©\nç”Ÿæ—¥\n\n\n\n\n\n\n\n\n2021/1/10\næ¯å¹´ä¸€è¶Ÿçš„ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæœ‰äº†ðŸ‘©çš„æˆ‘åœ¨ðŸ‘©çš„å¸¦é¢†ä¸‹å‡ºåŽ»æ°é¥­ï¼Œç”±äºŽæœ‰ðŸ‘©ä¹‹å‰æˆ‘ä¸€å‘æ˜¯ä¸å’‹ç¦»æ ¡çš„ï¼Œä¸€æ˜¯å› ä¸ºæ²¡å•¥äººå’Œæˆ‘å‡ºåŽ»ï¼Œè‡ªå·±å‡ºåŽ»ä¹Ÿæ²¡å•¥æ„æ€ï¼›äºŒæ˜¯å‡ºåŽ»è¦ä¹ˆå°±ç»å…¸çŸ³è€äººï¼Œè¿™ä¸ªæˆ‘ä¸å¥½è¯„ä»·ï¼›æ‰€ä»¥ä¸å¾—ä¸è¯„ä»·å‡ºåŽ»æ°é¥­çš„æ„Ÿè§‰è¿˜æŒºå—¨çš„ã€‚\nè€ƒè¯•å‘¨ä¸€å¦‚æ—¢å¾€çš„è€ƒè¯•å‘¨ï¼Œä»Šå¹´æˆ‘æ¢äº†ç­–ç•¥ï¼Œåœ¨ç†Ÿç»ƒè¿ç”¨markdownæŠ€æœ¯åŽæˆ‘å¿ƒè¡€æ¥æ½®ç”¨markdownç»“åˆè¯¾ä»¶å¼€å§‹çŒ›æ•´å¤ä¹ èµ„æ–™ï¼Œç»“è®ºæ˜¯åŠç”¨æ²¡æœ‰ã€‚æœ‰äº›cvçš„ä¸œè¥¿ä½ cväº†ä¹Ÿæ²¡å•¥å°è±¡ï¼Œæ‰“å°äº†ä¹‹åŽæŽ’ç‰ˆå¤§é‡çš„ç©ºä½™ä¹Ÿè®©æˆ‘æ‡’å¾—ç¿»é¡µï¼Œæ‰€ä»¥ä¸å‡ºæ„å¤–çš„è€ƒå¯„äº†ï¼Œè®©ç–«æƒ…ç»™é«˜åˆ†åŽé‡æ–°å¸¦ç»™æˆ‘çš„ä¿¡å¿ƒåˆç“¦äº†[2]ã€‚\n\n[2] ç“¦äº†ï¼šæŒ‡æ— äº†\näºŒæœˆ\n\n\n\n\n\n\n\n\nä»Šå¹´çš„å¯’å‡æ¯”å¾€å¹´çš„å¯’å‡å……å®žä¸€ç‚¹ã€ã€\nMCM[1]\n\n\n\n\n\n\n\n\n[1] MCM:  The Mathematical Contest in Modelingï¼ŒæŒ‡ç¾Žå›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«žèµ›ï¼Œåˆåæ°´èµ›\nå¾€å¹´çš„å¯’å‡å¯¹äºŽæˆ‘æ¥è¯´ç¡®å®žæ˜¯çº¯çº¯çš„å‡æœŸï¼Œä½†æ˜¯æ€»æœ‰äººåˆ©ç”¨è¿™æ®µæ—¶é—´å·å·å­¦ä¹ ã€‚æ­£å¦‚å±±ä¸œçœå®žéªŒä¸­å­¦æ ¡é•¿ï¼Œå…šå§”ä¹¦è®°éŸ©ç›¸æ²³åœ¨å¼€å­¦å…¸ç¤¼ä¸Šçš„é‡è¦è®²è¯ï¼šâ€œä¸æ€•åŒå­¦æ˜¯å­¦éœ¸ï¼Œå°±æ€•å­¦éœ¸æ”¾ä¹¦æž¶[2] â€ï¼Œæˆ‘æ·±æ„ŸèµžåŒã€‚ä½†æ˜¯ä»Šå¹´å¿ƒè¡€æ¥æ½®ï¼Œå†³å®šç¢°ç¢°è¿æ°”ï¼ŒäºŽæ˜¯å¼€å§‹è¿›è¡Œå»ºæ¨¡é€Ÿæˆ[3]ã€‚èµ›å‰ï¼Œæˆ‘åšå¥½äº†å……åˆ†çš„æ—¶é—´è§„åˆ’ï¼Œå‡è£…è‡ªå·±æ˜¯ä¸ªé«˜æ‰‹ã€‚\næœ€ç»ˆèµ›æ—¶åœ¨ä¸¤ä½ðŸ‘´çš„å¸¦é¢†ä¸‹æŒ‰ç…§è®¡åˆ’ï¼Œå®Œæˆäº†ç”±(&gt;60%)Googleç¿»è¯‘æž„æˆçš„ã€å›¾æ–‡å¹¶èŒ‚çš„ã€Šè®ºçœŸèŒã€‹[4]ï¼Œé€šç¯‡çœ‹èµ·æ¥æžä¸ºå”¬äººã€‚å½“æ™šæŒ‰æ—¶ä¸Šäº¤ï¼Œç›´æŽ¥å€’å¤´å°±ç¡ï¼Œå¯’å‡å­¦ä¹ ä¹‹æ—…å‘Šä¸€æ®µè½ï¼Œå®žé™…ä¸Šå­¦äº†ä¹Ÿæ²¡å•¥ç”¨ã€‚\n\n[2] ä¹¦æž¶ï¼šé€šâ€æš‘å‡â€œï¼ŒéŸ©ç›¸æ²³æ ¡é•¿ç²¾é€šå±±ä¸œæŸåœ°å£éŸ³ï¼Œæ•…å…¶è®²è¯å£°è°ƒæŠ‘æ‰¬é¡¿æŒ«\n[3] å»ºæ¨¡é€Ÿæˆï¼šæŒ‡è§‚çœ‹Blibiliã€Šç¾Žèµ›é€Ÿæˆã€‹ç­‰åŸ¹è®­è§†é¢‘(&lt;=2)ï¼›ä¸€æ–¹é¢é…ç½®SumatraPDF+WinEdtçš„LaTexè®ºæ–‡çŽ¯å¢ƒã€å­¦ä¹ LaTexè¯­æ³•ï¼›ä¸€æ–¹é¢çŸ¥ä¹Žç ”è¯»å¾€å¹´Oå¥–è®ºæ–‡(&lt;=3)ï¼Œå¹¶æ·±æ„Ÿéœ‡æ’¼äºŽç¬”è€…å‡ºè‰²çš„æŽ’ç‰ˆã€ç»˜å›¾å’Œç¾Žå·¥æŠ€æœ¯ï¼›ä¸€æ–¹é¢è§‚çœ‹åŠ¨ç”»ç‰‡ã€Šå–œç¾Šç¾Šä¸Žç°å¤ªç‹¼ä¹‹ç­å‡ºèƒœåˆ©ã€‹ï¼Œå¤ªç²¾å½©äº†å±žäºŽæ˜¯\n[4] ã€Šè®ºçœŸèŒã€‹ï¼šèµ›æ—¶ç¬”è€…é˜Ÿä¼æ‰€é€‰çš„Aé¢˜ä¸ºçœŸèŒç›¸å…³çš„å»ºæ¨¡ï¼Œè®ºæ–‡å…·ä½“æ ‡é¢˜ä¸ºã€ŠXXXXæ¨¡åž‹ï¼šXXXXXXã€‹ï¼Œæ–‡é‡‡è—»é¥°ï¼Œè‡­è¯ä¹±æ‹½ï¼Œçœ‹èµ·æ¥å¾ˆJBé«˜çº§å®žåˆ™éƒ½æ˜¯å±è¯\næ˜¥æ™šæ˜¥æ™šå°å“å°±æ˜¯ä¸ªå¯„ï¼Œä¸äºˆè¯„ä»·ã€‚\nä¸‰æœˆ\n\n\n\n\n\n\n\n\nå¼€å­¦ï¼Œå†è§ðŸ‘©ï¼ŒåŠ¨ç‰©å›­ä¹‹æ—…ï¼Œç¬¬ä¸€æ¬¡æ„Ÿå—æµ·åº•æž\næµ·åº•æžç¡®å®žæœåŠ¡æ¯”è¾ƒå—¨ï¼Œä½†æ˜¯é‚£ä¸ªç”Ÿæ—¥æ­Œå°¬ä¹Ÿæ˜¯å°¬\nå››æœˆ\n\n\n\n\n\n\n\n\nä¸€äº›æ¼”å‡º\nè“èŽ²èŠ±Bassåº·å¤è®­ç»ƒçš„æ›²ç›®ï¼Œæ²¡å•¥éš¾åº¦ï¼Œå…¨æ˜¯loopðŸ˜…ï¼Œä½†æ˜¯å¥½ä¹…æ²¡ä¸Šè¿‡å°äº†ï¼Œè¿˜æ˜¯èµ·åˆ°äº†ä¸¶çƒ­èº«çš„ä½œç”¨\nTake On me\n\n\n\n\n\n\n\n\nå¤§è‰ºå›¢åˆå”±å›¢æœ€åŽçš„è°¢å¹•ï¼Œåªèƒ½è¯´æœ‰ç‚¹é—æ†¾å§ï¼Œå‡ é¦–é˜¿å¡åˆ°æœ€åŽä¹Ÿæ²¡è¿‡ä¸€æ¬¡bass solo\n6äººçš„é˜¿å¡è´æ‹‰ï¼ŒæŽ’ç»ƒäº†å¾ˆä¹…çš„ä¸€é¦–å¿«æ­Œï¼Œä»Žä¸€å¼€å§‹çš„è¿›åº¦ç¼“æ…¢ã€äº§ç”Ÿçš„ä¸€äº›äº‰æ‰§ã€å†åˆ°æœ€ç»ˆæ¼”å‡ºæ—¶èˆžå°çš„ä¸€äº›è®¾æ–½åŽŸå› ï¼Œæ•´ä¸ªè¿‡ç¨‹å¹¶æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€æ¬¡ç¾Žå¥½çš„ç»åŽ†ï¼Œæ¼”å‡ºçš„æ•ˆæžœä¹Ÿè¿˜ä¸é”™\nã€ŠTake On Meã€‹\nThe Dawnä»è®°å¾—å°æ—¶å€™å¬è¿‡äº¡çµåºæ›²çš„é’¢ç´ç‰ˆï¼Œå½“æ—¶æ·±æ„Ÿéœ‡æ’¼ï¼Œå¦‚ä»Šå¤åˆ»äº†ä¸€ä¸‹ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§è‡´æ•¬                                                                                                        \n1ä¸¶æƒŠå–œMeritorious Winnerï¼Œä¸€ä¸ªæ™®é€šçš„æ—©ä¸Šé†’æ¥ï¼Œé—²çš„æ²¡äº‹å¹²æŸ¥äº†æŸ¥MCMç»“æžœï¼Œç›´æŽ¥ä»ŽåºŠä¸Šåäº†èµ·æ¥\nåªèƒ½è¯´æ˜¯å‚èµ›å³é€€å½¹ï¼Œä½†æ²¡æƒ³åˆ°è¿™ç«Ÿæ˜¯ä»Šå¹´æ‰€æœ‰ç«žèµ›çš„ç»å”±ðŸ˜…\näº”æœˆ\n\n\n\n\n\n\n\n\nè‡³ä»Šä»åœ¨åŽæ‚”ï¼Œæ‚”äºŽè‡ªå·±çš„åºŸç‰©ï¼Œä½†åŽæ‚”åˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ\nè´¥èµ°é“¶å·\n\n\n\n\n\n\n\n\nä¼—æ‰€å‘¨çŸ¥ï¼ŒACPC[1]é“¶å·ç«™å°±æ˜¯ä¸ªç¬‘è¯[2]ã€‚åœ¨2021å¹´ä¹‹å‰ï¼Œé“¶å·çš„ç‰Œå­æ˜¯å…¬è®¤å«é‡‘é‡æœ€ä½Žï¼Œä¹Ÿæ˜¯æœ€å¥½æ‹¿ç‰Œçš„èµ›ç«™ï¼Œä½†æ˜¯ðŸ‘´åœ¨è¿™é‡Œæ‰“é“äº†\nâ€é‡‘å·é“¶å·ï¼Œä¸å¦‚ðŸ‘´çš„é“å·ã€‚â€œ\n\n\n\n\n\n\n\n\n\n2021/5/14\né’å²›çš„æ™šä¸Šå¤§é›¨æ»‚æ²±ï¼Œæˆ‘åŒ†åŒ†ä»Žæ‰“å°åº—æ‰“å¥½æœ€åŽçš„æ¿å­ï¼Œç™»ä¸Šäº†ç¦»å¼€çš„å‡ºç§Ÿè½¦ï¼Œä¸ŽæŒ‡çŽ¯çŽ‹ï¼Œæ°å®[3]è¸ä¸Šäº†ç¦»å¼€çš„æ—…ç¨‹ã€‚\nç”±äºŽä¸€å¤§æ—©çš„é£žæœºï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æœºåœºé™„è¿‘æ‰¾ä¸ªäº†ç§â¤ï¸äººâ¤ï¸å½±â¤ï¸é™¢â¤ï¸å‹‰å¼ºåº¦è¿‡ä¸€å¤œï¼Œåœ¨é‚£é‡Œç¬¬ä¸€æ¬¡é‚‚é€…äº†æƒ…è¶£ç¤¼ç›’ï¼Œä¸‰ä¸ªè¡€æ°”æ–¹åˆšçš„å¹´è½»äººè¡¨ç¤ºååˆ†çš„å¥½å¥‡ã€‚ç„¶åŽå°±æ˜¯ä¸€é¡¿çžŽJBå¹æ°´ï¼Œè¿™æ¯•ç«Ÿæ˜¯æˆ‘ä»¬å¸¦å­¦ç”Ÿæ¶¯çš„ç¬¬ä¸€åœºçŽ°åœºèµ›ï¼Œç¡®å®žæ¯”è¾ƒæ¿€åŠ¨ã€‚\n\n\n\n\n\n\n\n\n\n2021/5/15\né£žæœºèµ·é£žï¼Œé™è½ã€‚\nç»ˆäºŽæ¥åˆ°äº†ä¸€ä¸ªæ–°çš„åŸŽå¸‚ï¼Œä¸€å‡ºæœºé—¨å°±èƒ½çœ‹åˆ°å†’ç€çº¢å…‰çš„æž¸æžå®£ä¼ æ¿ï¼ŒåŸŽå¸‚æ–‡åŒ–äº†å±žäºŽæ˜¯ã€‚\néšåŽå°±åä¸Šäº†å‰å¾€çŸ³å˜´å±±(å³å®ç†æ‰€åœ¨åŸŽå¸‚)çš„é¢åŒ…è½¦ï¼Œä¸€è·¯ä¸Šçš„æ™¯è‰²å¹¶ä¸èƒ½ç®—å¾—ä¸Šæ˜¯ä»€ä¹ˆæ™¯è‰²ï¼Œå¬è¯´è¿˜æœ‰ä»€ä¹ˆæ²™æ¹–æ¸¸çš„å®‰æŽ’ï¼Œæ¯”è¾ƒæ¿€åŠ¨ï¼Œä½†æ˜¯åŽé¢ç»™å–æ¶ˆäº†ðŸ˜…ï¼ŒçŽ°åœ¨æœäº†ä¸€ä¸‹å±…ç„¶æ˜¯AAAAAçº§æ™¯åŒºï¼ŒðŸ´çš„ï¼Œäºäº†ã€‚\nä¸­åˆåŽ»å­¦æ ¡æŠ¥é“ï¼Œæœ‰ä¸¤ä¸ªä¸ªå°æ”¹æ”¹[4]å¸¦ç€æˆ‘ä»¬ç®€å•å‚è§‚äº†ä¸€ä¸‹ï¼Œä¸å¾—ä¸è¯´ï¼Œç¡®å®žæŒºå¤§ï¼Œå­¦æ ¡å°±åƒåœ¨ä¸€ä¸ªå°å²›ä¸Šä¸€æ ·ï¼Œå‘¨å›´è¢«ä¸çŸ¥é“æ˜¯æ¹–è¿˜æ˜¯æ²³çš„ä¸œè¥¿å›´èµ·æ¥ï¼Œæ¯”è¾ƒç©ºæ—·åŠ ä¸Šé£Žè¿˜æŒºå¤§ï¼Œæ‰€ä»¥æ„Ÿè§‰ç©¿çš„è¿˜æœ‰ç‚¹å°‘ï¼ŒæŒºå†·ã€‚åŽæ¥é¢†äº†ä¸ªç¤¼è¢‹ï¼Œé‡Œé¢é™¤äº†å‚èµ›æœå°±æ˜¯ä¸€ç›’åŒ…è£…è¿˜ç®—å¯ä»¥çš„æž¸æžï¼Œæƒ³äº†æƒ³æˆ‘ä¹Ÿç”¨ä¸ä¸Šè¿™çŽ©æ„ï¼Œæ­£å¥½å¸¦å›žå®¶åŽ»ã€‚ä¸´èµ°çš„æ—¶å€™çœ‹è§æœ‰å¹¿æ’­ç«™çš„åœ¨é‚£é‡Œæ‹¿ç€ä¸ªéº¦å…‹é‡‡è®¿ï¼Œå¿ƒè¡€æ¥æ½®å’Œä¸ªæ¥žbä¸€æ ·å°±ä¸ŠåŽ»äº†ï¼Œè¯´äº†å‡ å¥å°¬è¯åŠ äº†ä¸ªå®ç†ä¹‹å£°å¹¿æ’­ç«™çš„vxæ¶¦äº†ã€‚\nä¸‹åˆçƒ­èº«èµ›ï¼Œå››é“é¢˜å…¨ç»™Aäº†ï¼Œç»“æžœåˆ¤é¢˜æœºç‚¸äº†ï¼Œä¸€ç›´ä¸ç»™åˆ¤ï¼Œæ¦œä¹Ÿå¡ç€ï¼Œç„¶åŽå¾…äº†ä¸€ä¼šå°±æ¶¦äº†ï¼Œæƒ³ç€å›žåŽ»æºœè¾¾æºœè¾¾åƒé¡¿å¥½çš„ðŸ¤¡ã€‚\næ™šä¸ŠðŸ”’æ£’å­éª¨ï¼Œæ°ç¾ŠèŽå­ï¼Œæœ‰ç‚¹è¾£ä½†å±žå®žå—¨ðŸ¤¡ï¼ŒéšåŽé‡‡è´­äº†ç‚¹æœ¬åœ°ç‰¹äº§ï¼Œæäº†ä¸€å¤§å…œå­å›žäº†å®¾é¦†ï¼Œé™å¾…ç¬¬äºŒå¤©çš„æ­£èµ›ã€‚\n\n\n\n\n\n\n\n\n\n2021/5/16\næ—©ä¸Šæ»¡æ€€akçš„æ–—å¿—åŽ»äº†ï¼Œåä¸‹å‡³å­ï¼Œå‘çŽ°æ˜¨å¤©çƒ­èº«èµ›æ¦œä¸Šâ€œä¸­å›½æµ·æ´‹å¤§å­¦ æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7[5]â€ï¼Œæœ‰ç‚¹æ¿€åŠ¨ï¼ŒéšåŽæ‚„ä¹ˆå£°åœ°æŠŠé¡µé¢å…³æŽ‰ï¼Œé™é™ç­‰å¾…æ¯”èµ›å¼€å§‹ã€‚\næ¯”èµ›è¿‡ç¨‹ä¸æƒ³è¯´äº†ï¼Œå¤§é‡çš„æ— ç”¨æ€è€ƒï¼Œå…¨åœºæœ€ç­¾åˆ°çš„ä¸€é“é¢˜ä¸‰ä¸ªäººä¹ç‰›äºŒè™Žä¹‹åŠ›è¯»äº†æ— æ•°ééƒ½è¯»æ¸…æ¥šé¢˜æ„WA[6]32ä¹Ÿæ²¡è¿‡ï¼Œç„¶åŽæœ‰é“é¢˜å¡äº†è¡Œæœ«ç©ºæ ¼ç™½WAäº†6ï¼Œæœ€åŽæ—¶é—´èµ°å®Œï¼Œéƒ½æ²¡æ¥å¾—åŠçœ‹å­—å…¸æ ‘çš„ç®€å•é¢˜ï¼Œé“äº†ã€‚\næˆ‘ä»¬è¾¾æˆäº†äº†å‡ ä¹Žå¾ˆéš¾è¾¾æˆçš„é“¶å·æ‰“é“çš„æˆå°±ï¼Œç°å¤´åœŸè„¸åœ°é€ƒå›žäº†é’å²›ã€‚\né™¤äº†è‡ªå·±èœï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€è·ä»Šå·²260å¤©ï¼Œè­¦é’Ÿé•¿é¸£ã€‚\n\n[1] ACPCï¼šæŒ‡ACM-ICPCäºšæ´²åŒºåŸŸèµ›ï¼ŒACM-ACPCä¸ºæœ¬åœºå¼€å¹•å¼ä¸Šå‘è¨€äººçš„é€†å¤©å£è¯­è¡¨è¾¾\n[2] ç¬‘è¯ï¼šä¸»åŠžæ–¹å®å¤ç†å·¥å­¦é™¢ä¹ƒæˆ‘å›½è¥¿éƒ¨æž¢çº½ï¼Œå¦‚ä½•çœ‹å¾… 2021 å¹´ ICPC é“¶å·èµ›åŒºä¸»åŠžæ–¹å®å¤ç†å·¥å­¦é™¢èŽ·å¾—ä¸€é‡‘ä¸€é“¶ï¼Ÿï¼Œæœ‰ä¸‰äººä¸‰æœºï¼ˆæ¯”èµ›ä¸­åº”ä¸‰äººä¸€æœºï¼‰ï¼Œæ›´æœ‰æ²ˆé˜³ç«™æ’¤ç¡•è¿‡é¢˜ï¼ˆå¦‚ä½•è¯„ä»·å®å¤ç†å·¥å­¦é™¢TS1é˜Ÿå‚åŠ ICPCæ²ˆé˜³ç«™ï¼Œå¹¶åœ¨ä¸ŠåŽ•æ‰€åŽåšå‡ºäº†Hé¢˜ï¼Ÿï¼‰, ä¸å¥½è¯„ä»·\n[3] æŒ‡çŽ¯çŽ‹ã€æ°å®ï¼šæŒ‡ä¸¤åé˜Ÿå‹ï¼ŒæŒ‡çŽ¯çŽ‹ç½‘åè„‚çŽ¯ï¼Œå°åæˆ‘çˆ¹ï¼Œæ°å®å–è‡ªäºŽçœŸåçš„å°¾å­—\n[4] å°æ”¹æ”¹ï¼šå€¼å°å§å§\n[5] æ²¡æœ‰æ˜¾å¡èƒ½æ‰“ACMå— rk7ï¼šå‰è€…æŒ‡é„™é˜Ÿé˜Ÿåï¼ŒåŽè€…æŒ‡æŽ’åå³rank\n[6] WAï¼šæŒ‡Wrong Answerï¼Œå¯¹é¢˜ç›®çš„é”™è¯¯æäº¤ï¼ŒåŽè·Ÿæ•°å­—è¡¨ç¤ºé”™è¯¯æäº¤çš„æ¬¡æ•°\næ‘‡æ»šä¹‹å¤œæœˆæœ«ï¼Œä¹é˜Ÿå‚åŠ äº†æˆ‘æ ¡å‰ä»–ç¤¾çš„æ‘‡æ»šä¹‹å¤œï¼Œä¹Ÿç®—æ˜¯ä¸ºä¸‹ä¸ªæœˆçš„å„å¤§æ¼”å‡ºåšäº†æå‰çš„ä¸€æ¬¡å½©æŽ’ï¼Œæ•ˆæžœä¸é”™ï¼Œåœ¨è¿™é‡Œä¸å¤šèµ˜è¿°ã€‚\nå…­æœˆ\n\n\n\n\n\n\n\n\næ¼”å‡ºæœˆã€è€ƒè¯•æœˆã€æ¬§æ´²æ¯\nå±±ä¸œå¤§å­¦â€œå…­æœˆçš„é£Žâ€\n\n\n\n\n\n\n\n\n2021/06/06\nåº”é‚€å‚åŠ å±±å¸¦ï¼ˆé’å²›ï¼‰â€œå…­æœˆçš„é£Žâ€æ¯•ä¸šæ­Œä¼šï¼Œæ•´äº†ä¸ªè“èŽ²èŠ±å’Œ Itâ€™s my lifeï¼Œåäº†äº”ååˆ†é’Ÿåœ°é“ç»ˆäºŽåˆ°äº†å±±å¸¦ï¼Œè™½ç„¶åœ¨æ›´åè¿œçš„éƒŠåŒºä½†æ˜¯ä¸å¾—ä¸è¯´å»ºçš„çœŸæ˜¯æ°”æ´¾ï¼Œå®¿èˆæ¡ä»¶ä¹Ÿæ¯”æˆ‘æ ¡å¥½ï¼ˆåŸºæœ¬æ²¡æœ‰æ¯”æˆ‘ä½çš„åœ°æ–¹çƒ‚çš„ï¼‰ï¼Œé‡Œé¢æ•´äº†ä¸ªä¸‰å±‚å°å•†åœˆï¼Œå–çš„ä¸œè¥¿åº”æœ‰å°½æœ‰å±žå®žçœ‹çš„çœ¼é¦‹ã€‚\nè¿™æ¬¡æ­Œä¼šåœ¨ä¸€å—å°è¶³çƒåœºä¸¾è¡Œï¼Œè‰çš®ä¹Ÿæ˜¯çœŸå¥½ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–°å»ºçš„ä½†æ˜¯ç¡®å®žå¥½ï¼Œæ¯”å¾—ä¸Šçœä½“çš„é‚£ä¸ªè¶³çƒå…¬å›­åˆšå»ºå¥½çš„æ—¶å€™é‚£è‰çš®è´¨é‡ï¼Œé‚£äº›è®¾å¤‡ç¡®å®žå¼„çš„ä¹ŸæŒºé«˜çº§ï¼Œè¿˜æœ‰ä¸¤å—æŠ•å±ï¼Œå’Œç½‘ä¸Šç›´æ’­æ˜¾ç¤ºçš„ç”»é¢æ˜¯åŒæ­¥çš„ã€‚ä¸‹é¢ä¹Ÿçš„åœºåœ°ä¹Ÿå¸ƒç½®çš„æŒºå¥½çš„ï¼Œåªèƒ½è¯´æ˜¯è§äº†ä¸–é¢ï¼Œæ¯•ç«Ÿå’±ä¹Ÿæ²¡æ¥è¿‡è¿™ç§éœ²å¤©çš„æ¼”å‡ºðŸ˜…\næ¼”å‡ºå¼€å§‹ã€‚å› ä¸ºæŽ¥è®¾å¤‡éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ðŸ‘´å³å…´å‘è¡¨äº†ä¸€æ®µæ¼”è®²ï¼Œå¤§æœ‰ä¸¤æ ¡æƒ…è°Šé•¿å­˜ä¹‹æ„ï¼Œå®žå±žå…¨æ˜¯å±è¯ã€‚ä½†æ˜¯è¿™æ®µå®£è¨€å…¨è¢«ç›´æ’­å‡ºåŽ»äº†ï¼Œå®žå±žè¢«å½“åœºé€®æ•ï¼ŒçŽ°åœ¨æœä¸€ä¸‹å½•åƒçœ‹è¿˜æ˜¯è§‰å¾—å¾ˆå°¬ðŸ˜…ï¼Œæ¼”å®Œäº†é¢†äº†ç‚¹é¥­é’±æ¶¦äº†ã€‚\næ¼”å‡ºæ•ˆæžœè¿˜è¡Œï¼Œå°±æ˜¯å¯¼æ’­ä¸å¤§æ‡‚ä¹é˜Ÿå¯èƒ½ï¼Œçœ‹åˆ«äººæ¼”åŠ å·žæ—…é¦†å‰ä»–soloçš„æ—¶å€™ä¸€ç›´ç»™èŠ‚å¥é•œå¤´ðŸ˜…ðŸ˜…ðŸ˜…\nLivehouse\n\n\n\n\n\n\n\n\n2021/06/12  DMC\næœ¬æ¥æƒ³çš„æ˜¯ä¸ªSo Downtown[1]ä¸€æ ·çš„å¸¦Livehouseï¼ŒåŽ»äº†æ‰å‘çŽ°æ˜¯ä¸ªå°é…’å§ï¼Œä½†æ˜¯é‚£ä¸ªéŸ³ç®±ç¡®å®žè›®å¥½çš„ï¼ŒçŽ°åœºæ¥äº†å¾ˆå¤šå¾ˆå¥½çš„æœ‹å‹ï¼Œæ°”æ°›ä¹ŸæŒºå—¨çš„ï¼Œæ„Ÿå—åˆ°äº†å¤§åˆå”±çŽ¯èŠ‚ï¼Œåœ¨å°ä¸Šä¼šè¿›å…¥ä¸€ç§å¿˜æˆ‘çš„å¢ƒç•Œï¼Œæˆ‘å¾ˆäº«å—ã€‚åœ¨è¿™ä¸ªè´¦å·ä¸Šæˆ‘ä»¬å‘å¸ƒäº†å½“å¤©çš„å½•åƒï¼Œå†ä½“å‘³ä¸€éè¿˜æ˜¯ä¸é”™çš„ï¼Œè¿™ç®—æ˜¯ä»Šå¹´ä¹é˜Ÿæ­£å¼æ¼”å‡ºçš„å®Œç¾Žè°¢å¹•å§ã€‚(ä¸‹åŠå¹´å› ä¸ºå¤§å®¶çš„æ—¶é—´èµ¶ä¸åˆ°ä¸€èµ·åŽ»ï¼Œæ‰€ä»¥æš‚æ—¶åœæŽ’)\n\n[1] So Downtownï¼šé’å²›æŸçŸ¥åLivehouse\næ¬§æ´²æ¯è‘¡è„ç‰™çš„æ¯”èµ›ä¸€åœºä¸è½çš„çœ‹å®Œï¼Œç¡®å®žåœºé¢ä¸å¤ªå¥½çœ‹ï¼Œè¸¢å¾·å›½é‚£åœºä¹Ÿç¡®å®žè¢«å¹²ç¢Žäº†ï¼Œæ·˜æ±°ä¹Ÿæ˜¯æƒ…ç†ä¹‹ä¸­ï¼Œæ²¡æƒ³åˆ°çš„æ˜¯æ­»äº¡ä¹‹ç»„æ³•å¾·è‘¡å…«å¼ºå…¨å¯„äº†ðŸ˜…\nè€ƒè¯•æœˆç»åŽ†äº†ä¸Šæ¬¡è€ƒè¯•çš„æƒ¨ç—›æ•™è®­ï¼Œè¿™æ¬¡æˆ‘åˆæ¢å¤äº†æ‰‹å†™æçº²çš„æ–¹æ³•ï¼Œä¿®ä¹ äº†ä¸‰å¤§æ•°å­¦(å³ç¦»æ•£æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚çŽ‡ç»Ÿè®¡)çš„æˆ‘æœ€åŽä»Žç»“æžœæ¥çœ‹æ•´ä½“å·®å¼ºäººæ„ï¼Œå°±æ˜¯è¯¾æœ‰ç‚¹å¤šï¼Œæœ‰å‡ é—¨æ‘†çƒ‚äº†ï¼Œå¤ä¹ çš„å¾ˆå°‘æˆ–è€…æ˜¯æ²¡å¤ä¹ ï¼Œæžœç„¶å¯„äº†ðŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€è¾ƒäºŽä¸Šå­¦æœŸè¿˜æ˜¯æœ‰äº†ä¸€å®šçš„è¿›æ­¥\nä¸ƒæœˆ\n\n\n\n\n\n\n\n\nä¸€äº›ç”Ÿæ´»ç¢Žç‰‡\nä½“éªŒç”Ÿæ´»å›žå®¶äº†ä¸€é˜µåŽåœ¨é’å²›ä½“éªŒç”Ÿæ´»ï¼Œå¦‚é¢˜ï¼Œä¸è¯¦è¿°ã€‚\nNBA Finalä¼´éšcp3å’ŒSunsä¸€è·¯èµ°æ¥ï¼Œæ‰“åˆ°æ€»å†³èµ›å·²ç»éžå¸¸æƒŠå–œï¼Œè™½ç„¶æœ€åŽä¸æ•Œï¼Œè™½ç„¶æœ‰ä¸€äº›è£åˆ¤å’Œçƒå‘˜çš„å…¶ä»–åŽŸå› ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒæ»¡è¶³çš„ï¼Œæ¯•ç«Ÿä¸å¯èƒ½æœ‰è¿™ä¹ˆä¸€å¸†é£Žé¡ºçš„æ—…ç¨‹ï¼Œå¤±è´¥æ°¸è¿œæ˜¯äººç”Ÿçš„ä¸»æ—‹å¾‹ï¼Œé‡å¤´å†æ¥å§ã€‚\nè®­ç»ƒåœ¨æ‰¾åˆ°ç¨³å®šçš„ç”Ÿæ´»èŠ‚å¥å‰ï¼ŒæŒ‰æ—¶æ‰“äº†Nowcoderå¤šæ ¡çš„è®­ç»ƒèµ›è¿˜æœ‰HDUçš„å¤šæ ¡è”èµ›ï¼Œä¸­é—´æ‰“äº†ä¸¤ä¸‰åœºç™¾åº¦â­â­ï¼Œæœ€åŽæ­¢æ­¥å¤èµ›ã€‚è™½ç„¶æ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªå—åˆ°æ‰“å‡»çš„è¿‡ç¨‹ï¼Œä½†æ˜¯è¿™ä¹Ÿå¸®åŠ©æˆ‘æ›´æœ‰æ•ˆçš„è®¤çŸ¥è‡ªå·±çš„æ°´å¹³ï¼Œä½†æ˜¯å›žå¤´æ¥çœ‹ï¼Œåšé¢˜ä¸è¡¥é¢˜ç›¸å½“äºŽç™½æ‰“ðŸ˜…\nå…«æœˆ\n\n\n\n\n\n\n\n\nä¸€äº›é”è¯„\nä¸œäº¬å¥¥è¿è™½ç„¶å¥¥è¿ä¼šç¡®å®žæ˜¯é‚£ç§è®©å¤§å®¶éƒ½èƒ½ä¹å‘µèµ·æ¥çš„å¤§ä¼šï¼Œå¸¦ðŸ”¥äº’ç›¸èŠèŠä¹Ÿæ˜¯æ²¡å•¥æ¯›ç—…çš„ï¼Œä½†æ˜¯è¯¸å¦‚æœ‹å‹åœˆã€å¾®åšç­‰ç­‰ç¤¾äº¤å¹³å°ä¸ŠæŸäº›å•¥éƒ½ä¸æ‡‚å°±åœ¨é‚£ä¹±è¯„å¤´è®ºè¶³è¹­çƒ­åº¦çš„æˆ‘çš„è¯„ä»·æ˜¯çº¯å±žå•¥bã€ã€\nðŸ‘©â€™s Birthday\n\n\n\n\n\n\n\n\n2021/08/14\nå‡†å¤‡äº†æŒºä¹…çš„ðŸ‘©ç”Ÿæ—¥å¦‚æœŸè€Œè‡³ï¼Œæˆ‘åªèƒ½è¯´æˆ‘å‡†å¤‡çš„ç¤¼ç‰©ç¡®å®žæ˜¯çº¯çº¯çš„åˆ«å‡ºå¿ƒè£ã€‚\nCR7è€ç‰¹æ‹‰ç¦å¾·çš„å® å„¿é‡æ–°å›žåˆ°äº†æ¢¦å‰§åœºï¼Œä¸»é˜Ÿä»ŽJUVæ¢åˆ°äº†MNUï¼Œè™½ç„¶çƒ­è¡€æ²¸è…¾ï¼Œä½†ä¸‹åŠå¹´çš„æ›¼è”ä¼¼ä¹Žæ˜¯çº¯çº¯çš„ðŸ¤¡ã€‚\nä¹æœˆ\n\n\n\n\n\n\n\n\nå¼€å­¦å•¦ã€ã€\nWebæ¡†æž¶ç¼–ç¨‹è®©æˆ‘çŸ¥é“äº†ä¸å°‘é«˜åˆ†ä½Žèƒ½ç¥žäººçš„å­˜åœ¨ï¼Œç¡®å®žä¸èƒ½ç†è§£ðŸ˜…ðŸ˜…ï¼Œä¸ä¼šåˆä¸å­¦å°±å¼€å§‹å½“ä¹žä¸æˆ‘çœŸç¬‘å˜»äº†ðŸ˜…\nå›½èµ›å»ºæ¨¡å›½èµ›ï¼Œç‹—éƒ½ä¸æ‰“ã€‚æœ¬å°±ä¸æƒ³å‚åŠ ä½†è¿˜æ˜¯æ‰“æ‰°äº†ä¸‰å¤©çš„ä½œæ¯ðŸ˜…ðŸ˜…\nè—ä¹¦ç¥¨ä¿®äº†ä¸€é—¨å«åš å¤§å­¦ç¾Žæœ¯é‰´èµ çš„é€šè¯†è¯¾ï¼Œé‡Œé¢æœ‰ä¸€é¡¹ä½œä¸šæ˜¯æ¯å‘¨æ‰‹ç”»ä¸€å¼ è—ä¹¦ç¥¨ï¼Œæˆ‘è§‰å¾—è¿˜è›®æœ‰æ„æ€çš„ï¼ŒèŠ±ä¸Šä¸‰ä¸ªå°æ—¶é™å¿ƒå®Œæˆä¸€å¹…ä½œå“ç¡®å®žå·²ç»å¾ˆä¹…æ²¡å¹²è¿‡äº†ï¼Œè®©æˆ‘æ‰¾å›žäº†å°å­¦åˆä¸­çš„é‚£ç§æ„Ÿè§‰ã€‚\nåæœˆ\n\n\n\n\n\n\n\n\næ—§çš„ä¸åŽ»ï¼Œæ–°çš„ä¸æ¥\nðŸ‘‹ï¼Œæ—§æ‰‹æœº\n\n\n\n\n\n\n\n\n2021/10/10\næ‰“äº†åœºCCPCç½‘ç»œèµ›ï¼Œæ‰“å®Œå‘çŽ°æ—§æ‰‹æœºå¯„äº†ã€‚\nè¿™é‡Œè°ˆä¸€ä¸‹æˆ‘çš„æ—§æ‰‹æœºï¼Œå®ƒæ˜¯é«˜è€ƒç»“æŸåŽæ¥åˆ°çš„æˆ‘çš„èº«è¾¹ã€‚ä»…ä»…7å¤©ï¼Œä¸€æ¬¡å‡ºé—¨åœ¨å¤–ï¼Œè¿½èµ¶å…¬äº¤è½¦çš„æ—¶å€™ï¼Œçœ¼è§ç€æˆ‘å°±è¦åˆ°å…¬äº¤è½¦é—¨å‰ï¼Œå‘ç”Ÿäº†ä»¥ä¸‹çš„é»˜å‰§ï¼š\nâ€‹    â€œï¼ï¼ï¼â€ï¼ˆå¸ˆå‚…å¼€é—¨ï¼Œè®©æˆ‘ä¸Šè½¦ï¼ï¼‰\nâ€‹    â€œâ€¦â€  (æ‰‹æŒ‡åœ°é¢)\nâ€‹    â€œï¼Ÿï¼Ÿï¼ï¼â€ ï¼ˆå¼€é—¨å•Šï¼Ÿæˆ‘è¦ä¸Šè½¦å•Šï¼ï¼‰\nâ€‹    â€œâ€¦â€\nâ€‹    â€œâ€¦ï¼â€ ï¼ˆå‘çŽ°æ‰‹æœºå€’æ‰£åœ¨åœ°ä¸Šï¼‰\nâ€‹    â€œï¼ï¼ï¼â€ (wocï¼æ­£é¢ç¢Žçƒ‚äº†ï¼)\nâ€‹    â€œâ€¦â€ ï¼ˆå…¬äº¤è½¦é©¶å‘è¿œæ–¹ï¼‰\nå¤§è‡´çš„è¿‡ç¨‹å°±æ˜¯æ‰‹æœºå¹²ç¢Žäº†ï¼Œå…¬äº¤è½¦ä¹Ÿè·‘äº†ï¼Œè¾¾æˆåŒèµ¢ã€‚ç”±äºŽæ‰‹æœºæ˜¯åˆšä¹°çš„ï¼Œé—®äº†ä¸€ä¸‹ä¿®ä¸ªå±è¦äº”ä¼¯ï¼Œä¿®ä¸¤ä¸‰æ¬¡å°±å¤Ÿæˆ‘å†ä¹°ä¸€ä¸ªäº†ï¼ŒäºŽæ˜¯æˆ‘å†³å®šèŠ‚ä¿­ä¸‹åŽ»ä¸ä¿®ï¼Œè¿™å°±å¯¼è‡´äº†ä¸€äº›å’Œæˆ‘å…±äº‹çš„äººè§åˆ°æˆ‘çš„æ‰‹æœºéƒ½è¦å•§å•§ç§°å¥‡ï¼Œè¿™ä¸€ç”¨å°±æ˜¯ä¸¤å¹´ã€‚\nç»ˆäºŽï¼Œåœ¨è¿™å¤©ä¸‹åˆï¼Œæˆ‘å‘çŽ°å®ƒçš„å±å¹•è§£é”åŽï¼Œåªéœ€è¦äº”ç§’ï¼Œå°±ä¼šé€æ¸å˜é»„ï¼Œå†è¿‡äº”ç§’ï¼Œæ•´ä¸ªå±å¹•å°±å˜æˆäº†ä¸€äº›æ˜Žæš—äº¤ç»‡çš„æ¡å¸¦ï¼Œå¦‚åŒå¤©ä¸Šçš„é“¶æ²³ã€‚\näºŽæ˜¯ï¼Œæˆ‘å‘Šåˆ«äº†å®ƒã€‚\nVlogðŸ‘¶ðŸ»æ¨ªç©ºå‡ºä¸–æ¢äº†å½•åƒè®¾å¤‡çš„æˆ‘å¦‚é¢˜ï¼Œå‰ªäº†ä¸€ä¸ªè¿˜ä¸é”™çš„Vlogå¹¶ä¸”æ·±æ·±é™¶é†‰å…¶ä¸­ã€‚\nåä¸€æœˆ\n\n\n\n\n\n\n\n\næ†§æ†¬å°±æ˜¯ç”¨æ¥æ‰“ç ´çš„\nEDG\n\n\n\n\n\n\n\n\n2021/10/07\n EDG 3-2 æˆ˜èƒœäº†DKï¼Œå¤ºå¾—äº†s11çš„å† å†›ã€‚\nå¸¦ç€ðŸ‘©åŽ»æ“åœºæ„Ÿå—çº¿ä¸‹è§‚èµ›çš„çƒ­è¡€ï¼Œç¬¬ä¸€æŠŠèµ¢äº†å·²ç»å‡ºä¹Žæ„æ–™ï¼ŒçŽ°åœºæ°”æ°›æ¥åˆ°äº†é«˜æ½®ï¼Œä½†æ˜¯äºŒä¸‰å±€çš„å¤±åˆ©åˆè®©æˆ‘æœ‰äº›å¤±åŽ»ä¿¡å¿ƒï¼Œç»“æžœEDGå±…ç„¶æ²¡è®©æ·€ç²‰å¤±æœ›ï¼Œæœ€ç»ˆç¿»ç›˜å¤ºå† ã€‚\nä»Žs5å¼€å§‹å½“æ·€ç²‰[1]ï¼Œå…­å¹´äº†ï¼Œç»ˆäºŽçˆ½äº†ä¸€æŠŠï¼Œæ™šä¸Šåˆ·äº†åŠå¤©æ–°é—»æ‰ç¡ï¼Œçº¯å—¨ã€‚\n\n[1] æ·€ç²‰ï¼šæŒ‡EDGçš„ç²‰ä¸ï¼ŒEDGåˆè¢«æˆç§°â€œä¸­å›½ç”µç«žâ€ï¼Œæ•…ç²‰ä¸ç¾¤ä½“è¢«ç§°ä¸ºæ·€ç²‰å³â€œç”µç²‰â€\næµ·è¶…[2]\n\n\n\n\n\n\n\n\n[2] æµ·è¶…ï¼šæµ·è¶…ï¼Œå…¨ç§°â€œä¸­å›½æµ·æ´‹å¤§å­¦è¶³çƒè¶…çº§è”èµ›â€\nç»§åˆšæ‰“ä¸€åœºå°±èƒŽæ­»è…¹ä¸­çš„æ–°ç”Ÿæ¯å®Œæˆçš„å¸½å­æˆæ³•ç»™äºˆæˆ‘ä¿¡å¿ƒä¹‹åŽï¼Œæˆ‘åŠ å…¥äº†é™¢é˜Ÿï¼Œè¿Žæ¥äº†æµ·è¶…è”èµ›ã€‚\nä½œä¸ºä»Žä¿¡é™¢ç§Ÿå€Ÿåˆ°ç®¡é™¢çš„çƒå‘˜ç¬¬ä¸€åœºé¢å¯¹æ—§ä¸»è¢«å¹²äº†ä¸ª7-0ðŸ˜…ï¼Œæœ‰ç‚¹æ— åŠ›åˆæ·±æ·±å¿æ‚”äºŽè‡ªå·±çš„å¤±è¯¯ã€‚\nç´§æŽ¥ç€åœ¨å†·é£Žå¹ç€çš„å°é›¨ä¸­è¿Žæ¥äº†ç¬¬äºŒåœºé¢å¯¹æ³•å­¦é™¢çš„æ¯”èµ›ï¼Œè¿™åœºæˆ‘æ”¹å˜äº†ä¸€äº›æ‰“æ³•ï¼Œæƒ³é€šè¿‡å‡å°‘å¸¦çƒæ¥å¢žåŠ ä¸€è„šå‡ºçƒå’Œæ— çƒè·‘åŠ¨æ¥æ‰°ä¹±å¯¹æ‰‹çš„åŽé˜²çº¿ï¼Œæ•ˆæžœè¿˜æ˜¯æœ‰ä¸€äº›çš„ã€‚æœ€ç»ˆ4-2æœ‰æƒŠæ— é™©ï¼Œæ²¡æœ‰æ”¶èŽ·è¿›çƒä½†æ˜¯æœ‰ä¸€è„šåŠ©æ”»ï¼Œä¸è¿‡ä¹Ÿæ˜¯æµªè´¹äº†ä¸‰æ¬¡è¿‘åœ¨å’«å°ºçš„è‰¯æœºï¼Œå‰ä¸¤æ¬¡æ˜¯æ²¡æœ‰æŠŠæ¡å‡†ç¬¬äºŒç‚¹ï¼Œä¸­åœºå‰çš„ä¸€è„šæŠ½å°„ä¹Ÿæ˜¯å› ä¸ºå·¦è„šæ²¡æœ‰ç«™ç¨³å¯¼è‡´åŠ›é“ä¸è¶³ï¼Œæ¯”è¾ƒé—æ†¾ï¼Œä½†æ˜¯é‚£ç§äº«å—æ¯”èµ›çš„è¿‡ç¨‹è¿˜æ˜¯ä»¤æˆ‘çƒ­è¡€æ¾Žæ¹ƒï¼Œæ²¡æƒ³åˆ°çš„æ˜¯åœ¨é›¨é‡Œæ‡‚äº†ä¿©å°æ—¶å›žåŽ»å±…ç„¶æ²¡æœ‰æ„Ÿå†’ï¼Œå½³äºã€‚\nè´¥èµ°ä¸Šæµ·\n\n\n\n\n\n\n\n\n2021/11/28\nICPCäºšæ´²åŒºé¢„èµ›ä¸Šæµ·ç«™ï¼Œçº¿ä¸Šèµ›ï¼Œå°±åœ¨ä¿¡é™¢æ‰“ï¼Œæœ€ç»ˆæ‰“é“ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œèƒ½åŠ›ä¸è¶³å°±æ˜¯èƒ½åŠ›ä¸è¶³ã€‚\nå‡†å¤‡äº†å¾ˆä¹…çš„å­—ç¬¦ä¸²æ²¡æœ‰æ´¾ä¸Šç”¨åœºï¼Œæœ€ç»ˆè¢«ä¸¤é“DP[3]å¡äº†ï¼Œäº‹å®žè¯æ˜Žï¼Œåšå‡ºè¿™ä¸¤é“DPä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ¯•ç«Ÿä¸Šæµ·ç«™å·²ç»å·åˆ°äº†äº”é¢˜é“œç‰Œï¼Œè¿˜æ˜¯éœ€è¦åŠªåŠ›ï¼Œå¸Œæœ›ä¸‹æ¬¡ä¸ç•™é—æ†¾å§ã€‚\n\n[3] DPï¼šDynamic Programmingï¼ŒåŠ¨æ€è§„åˆ’ï¼Œä¸€ç§ç®—æ³•\nåäºŒæœˆ\n\n\n\n\n\n\n\n\næ€¥\nCCSPå‚åŠ äº†CCSPçš„åˆ†èµ›ï¼Œæœ€åŽ10åˆ†é’Ÿè¿‡äº†Bé¢˜30åˆ†ï¼Œæœ€åŽæ‹¿äº†ä¸ªåŽä¸œèµ›åŒºrk71é“œé¦–[1]ï¼Œæ ¡æŽ’ç¬¬5ã€‚\nè™½ç„¶ç»“æžœç¡®å®žä»¤æˆ‘è¡€åŽ‹å‡é«˜ï¼Œè¿™ç§é“œé¦–çš„äº‹ä¹Ÿèƒ½è½®åˆ°æˆ‘å¤´ä¸ŠðŸ˜…ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€å¯¹ç»“æžœå·²ç»è¾ƒä¸ºæ»¡æ„ï¼Œæ¯•ç«Ÿå¡äº†è¿™ä¹ˆä¹…ï¼Œæ²¡å•¥æ¯›ç—…ï¼Œç»§ç»­åŠªåŠ›å§ã€‚\n\n[1] é“œé¦–ï¼šæŒ‡é“œç‰Œç¬¬ä¸€åï¼Œrk70é“¶ä½†rk71é“œ\nè½¯ä»¶å·¥ç¨‹\n\n\n\n\n\n\n\n\næ°¸è¿œä¸è¦å’ŒåºŸç‰©ç»„é˜Ÿã€‚\nè¿™é—¨è¯¾å°±åƒä»–çš„åå­—ä¸€æ ·ï¼Œå¹³æ—¶æ˜¯è¦è¿›è¡Œå°ç»„åˆ†å·¥å®Œæˆä¸€ä¸ªé¡¹ç›®ä½œä¸ºè¯„åˆ†æŒ‡æ ‡ï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ˜¯å®Œæˆå¯¹å›¾ç‰‡çš„20ç§ç›®æ ‡æ£€æµ‹ã€‚\né„™ç»„ç”±5åæˆå‘˜ç»„æˆï¼Œå®žåˆ™ç”±ä¸¤åæˆå‘˜ç»„æˆï¼Œæˆ‘å’Œé˜¿æ˜Šï¼Œä»–æ¥å®Œæˆæ¨¡åž‹çš„è®­ç»ƒï¼Œæˆ‘æ¥å®ŒæˆGUIç•Œé¢ï¼Œè¯´æ¥ä¹Ÿæƒ­æ„§ï¼Œæˆ‘è¿™éƒ¨åˆ†çš„åˆ†å·¥æ˜Žæ˜¾ç®€å•äºŽä»–ï¼Œä»–ä¸ºè¿™ä¸ªé¡¹ç›®ç¡®å®žä»˜å‡ºäº†æœ€å¤šã€‚\nå› ä¸ºæˆ‘æœ€ç†Ÿæ‚‰C++ï¼ŒäºŽæ˜¯å°±æƒ³æŠŠç”¨pytorchè®­ç»ƒçš„æ¨¡åž‹ç§»æ¤åˆ°é€šè¿‡ libtorch+opencv+msvc+qt æ¥å®žçŽ°GUIçš„ç¼–å†™ï¼Œç»“æžœé…äº†å¥½å‡ å¤©çš„çŽ¯å¢ƒï¼Œå‘çŽ°æ¨¡åž‹éƒ¨åˆ†åŠŸèƒ½çš„å®žçŽ°libtorchæ˜¯ä¸æ”¯æŒçš„ï¼Œåªèƒ½å·åœŸé‡æ¥ã€‚æ—¶é—´æµé€ï¼Œå½“æˆ‘é‡æ–°é…å¥½pyqtçš„çŽ¯å¢ƒå¼€å§‹åŠ¨æ‰‹ç¼–å†™æ—¶ï¼Œè·ç¦»è€ƒè¯•å‘¨å·²ç»æ—¶æ—¥ä¸å¤šã€‚\nå‰©ä¸‹å‡ ä½bç”¨æ²¡æœ‰ï¼Œä¸€è¾¹è¯´ç€ä¸ä¼šï¼Œâ€œæˆ‘ä¹ŸçŸ¥é“ï¼Œæˆ‘è¦æ˜¯ä¼šæˆ‘è‚¯å®šå¹²ç‚¹ä»€ä¹ˆâ€ä¹‹ç±»çš„å±è¯ï¼Œä¸€épä¹Ÿä¸å­¦ï¼Œå¼€å§‹äº†è‡ªå·±çš„æœŸæœ«å¤ä¹ ã€‚\nè¿™ä»¤æˆ‘ååˆ†çƒ¦èºï¼Œæˆ‘æ˜¯ä¸æ˜¯ä¸å¤ä¹ å•Šï¼Œæˆ‘ä»–å—æ˜¯ä¸æ˜¯å°±æ˜¯çº¯é›·é”‹éžå¾—åšå¥½äº‹å•Šï¼Œæœ€åŽé¡¹ç›®æˆ‘ä»¬ä¿©å¹²äº†åŠå¤©ï¼Œåˆ°å¤´æ¥æœ€åŽä¸€ä¸ªä¸ªçš„éƒ½æ¯”æˆ‘ä»¬åˆ†é«˜æˆ–è€…å’Œæˆ‘ä»¬ä¸€æ ·ï¼Œå‡­ä»€ä¹ˆå‘¢ï¼Œä»–ä»¬é…å—ï¼ŸäºŽæ˜¯å°±å‰©ä¸€å¤©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”©äº†è„¸ï¼Œè®©ä»–ä»¬å­¦ç€å¹²ä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚é…ç½®æœåŠ¡å™¨è¿™ç§ç®€å•çš„äº‹æƒ…ã€‚è™½ç„¶å¿ƒé‡Œæƒ³ç€ä»–ä»¬è‚¯å®šå¹²ä¸å®Œï¼Œä½†æ˜¯è‡³å°‘ä¹Ÿå¾—å‡ºç‚¹åŠ›ï¼ŒäºŽæ˜¯æŠŠä»»åŠ¡å¸ƒç½®äº†ä¸‹åŽ»ï¼Œè¿˜æŠ±æœ‰ä¸€ä¸å¿µæƒ³ã€‚ç»“æžœæ˜¯ï¼šâ€”â€”åœ¨ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œæœ‰äººé…äº†ä¸€ä¸ªå°æ—¶æ²¡é…æ˜Žç™½å°±æ”¾å¼ƒäº†ï¼Œæœ‰çš„äººæ ¹æœ¬æ²¡æ€Žä¹ˆçœ‹ã€‚\nåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¦ä¹ˆæ˜¯åƒå·¨å©´ä¸€æ ·é—®ä½Žçº§é—®é¢˜ï¼Œè¦ä¹ˆå°±æ˜¯å¼€æ‘†ï¼Œè¿žæœéƒ½æ‡’å¾—æœã€‚ä¸æƒ³å†åšè¯„ä»·äº†ã€‚\næœ€åŽé¡¹ç›®çš„ç»“æžœæ˜¯ï¼šæˆ‘ä¿©å®Œæˆäº†åˆ†å†…çš„å·¥ä½œï¼Œä½†æ˜¯é¡¹ç›®çš„å®Œæˆåº¦æ¯”ç›®æ ‡æ¥è¯´åªè¾¾æˆäº†60%ï¼Œå‹‰å¼ºåŠæ ¼ç½¢ã€‚\n\n\n\n\n\n\n\n\n\nå¼•ç”¨ Eric Steven Raymond åœ¨ã€Šæé—®çš„æ™ºæ…§ã€‹ä¸­çš„è¯ç»“å°¾ï¼š\næˆ‘ä»¬åªæ˜¯æ¯«æ— æ­‰æ„åœ°é„™è§†é‚£äº›æé—®å‰ä¸æ„¿æ€è€ƒã€ä¸åšåŠŸè¯¾çš„äººã€‚è¿™ç§äººå°±åƒæ—¶é—´é»‘æ´žä¸€æ ·ï¼ŒåªçŸ¥é“ç´¢å–ï¼Œä¸æ„¿æ„ä»˜å‡ºï¼Œä»–ä»¬åœ¨æµªè´¹æˆ‘ä»¬æ—¶é—´ï¼Œè€Œè¿™äº›æ—¶é—´æˆ‘ä»¬æœ¬å¯ç”¨äºŽå…¶ä»–æ›´æœ‰è¶£çš„é—®é¢˜æˆ–æ›´å€¼å¾—å›žç­”çš„äººèº«ä¸Šã€‚æˆ‘ä»¬å°†è¿™ç§äººå«åš loserã€‚\næ€»ç»“\n\n\n\n\n\n\n\n\néžå¸¸ç®€ç•¥çš„æ€»ç»“\nè¿·èŒ«è¿·èŒ«äºŽè‡ªå·±çš„æœªæ¥ï¼Œè¿·èŒ«äºŽè‡ªå·±çš„å½“ä¸‹ï¼Œè¿·èŒ«äºŽè‡ªå·±çš„é€‰æ‹©ï¼Œè¿·èŒ«äºŽå¯¹é”™ã€‚\nè½®å»“æˆ‘ä¼¼ä¹Žæ¸æ¸æ‘¸æ¸…äº†ä¸è¿œçš„æœªæ¥çš„è½®å»“ï¼Œå¯¹è‡ªå·±è½®å»“çš„æç»˜ä¹Ÿè¶Šæ¥è¶Šæ¸…æ™°ï¼Œè·Ÿä¸åŒäººä¹‹é—´çš„è½®å»“çš„åŒºåˆ†ã€‚\nå±•æœ›å…‹åˆ¶ï¼Œè§„å¾‹çš„ä½œæ¯ï¼Œæ‰Žå®žåœ°å‰è¿›ã€‚\n\n\n\n\n\n\n\n\n\nå¾ˆè£å¹¸ä½ èƒ½å¤Ÿå¿å—ç€æˆ‘æŠ½è±¡çš„æ–‡å­—ã€åƒæ€¨å¦‡ä¸€æ ·çš„æŠ±æ€¨ã€å’Œä¸€äº›éš¾å¬çš„è¯‹æ¯çœ‹åˆ°è¿™é‡Œï¼Œè°¢è°¢ä½ æˆ‘çš„æœ‹å‹ï¼Œ2022æ–°å¹´å¿«ä¹ã€‚\n","slug":"life/Summary_2021","date":"2022-02-01T15:50:00.000Z","categories_index":"LIFE","tags_index":"Life","author_index":"Maskros"},{"id":"cecfd7cf2ccfddc88833814024f39f99","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥2\n\n\n\n\n\n\n\n\nAC  6 / 12 æˆ‘æ˜¯çº¯åºŸç‰©\n*A  (äºŒåˆ†/ç»“è®º)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå°æ²™å½“å‰çš„æ‰‹ä¸Šæœ‰nå¼ æ³•æœ¯è¿›æ”»ç‰Œï¼Œæ¯å¼ ç‰Œéƒ½ä¼šæ¶ˆè€—ä¸€ç‚¹æ³•åŠ›ï¼Œé€ æˆä¸€ç‚¹åŸºç¡€ä¼¤å®³ï¼Œæœ‰må¼ æ³•æœ¯å›žå¤ç‰Œï¼Œä¸éœ€è¦æ¶ˆè€—æ³•åŠ›å€¼ï¼Œæ¯æ¬¡å¯ä»¥æ¢å¤ä¸€ç‚¹æ³•åŠ›ã€‚å°æ²™ä¸€å¼€å§‹æœ‰ä¸€ç‚¹æ³•åŠ›ï¼Œæ³•åŠ›æ²¡æœ‰ä¸Šé™ã€‚æ³•æœ¯è¿›æ”»ç‰Œçš„ä¼¤å®³å€¼=å½“å‰å‡ºçš„æ˜¯ç¬¬å‡ å¼ ç‰Œã€‚kæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªè¡€é‡xï¼Œé—®èƒ½å¦åšåˆ°ä¼¤å®³åˆšå¥½ç­‰äºŽè¡€é‡å€¼ï¼Œå³åˆšå¥½æ–©æ€ã€‚\né¢˜è§£ï¼šäºŒåˆ†æ˜¯æœ´ç´ å†™æ³•ï¼Œç»“è®ºä¹Ÿå¾ˆå¥½è¯æ˜Žï¼Œè¯æ˜Žå¦‚ä¸‹ï¼š\né¦–å…ˆæˆ‘ä»¬è¦è¯æ˜Žä¸€ä¸ªç‚¹ï¼Œå¯¹äºŽä½¿ç”¨æ”»å‡»ç‰Œæ˜¯ä¸€ä¸ªå®šå€¼çš„è¯ï¼Œæˆ‘ä»¬çš„æ”»å‡»èŒƒå›´æ˜¯ä¸€ä¸ªåŒºé—´ä¸Šçš„ä»»æ„çš„ä¼¤å®³å€¼ï¼šå½“æˆ‘ä»¬çš„æ”»å‡»ç‰Œä½¿ç”¨æ¬¡æ•°ä¸ºaï¼Œè“é‡ä½¿ç”¨ç‰Œä¸ºbæ—¶ï¼Œå¯¹äºŽa&lt;=b+1ï¼Œæˆ‘ä»¬çš„æœ€å°æ”»å‡»ä¸€å®šä¸ºæ”»ï¼Œå›žå¤ï¼Œæ”»ï¼Œå›žå¤â€¦..ç›´åˆ°ç”¨å®Œæ‰€ä»¥æ”»å‡»åŽè¡¥å…¨å›žå¤ã€‚å¯å¾—ç­‰å·®æ•°åˆ—ï¼Œæ±‚å’Œå¯å¾— ã€‚åœ¨æœ€å°æ”»å‡»çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ”»å‡»ç‰Œçš„ä½ç½®å’Œä»–åŽé¢çš„å›žå¤ç‰Œçš„ä½ç½®äº¤æ¢ï¼Œä½¿å¾—ä¼¤å®³+1ã€‚æœ€åŽå¯å¾—æœ€å¤§ä¼¤å®³ä¸ºï¼šå›žå¤ï¼Œå›žå¤â€¦..æ”»ï¼Œæ”»ï¼Œæ”»â€¦..æœ€å¤§ï¼Œå¯å¾—ç­‰å·®æ•°åˆ— ,æ±‚å’Œå¯å¾— \nvoid solve() {\n    ll n, m, k, x, q;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    n = min(n, m + 1);\n    for (int i = 0; i &lt; k; i++) {\n        cin &gt;&gt; x;\n        q = sqrt(x);\n        if (q &gt; n) q = n;\n        if (x &lt;= q * (2 * m + q + 1) / 2) puts(\"YES\");\n        else puts(\"NO\");\n    }\n}\nC \n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    ll x,a,b; cin&gt;&gt;x&gt;&gt;a&gt;&gt;b;\n    int ans=0;\n    string s; cin&gt;&gt;s;\n    int len=s.length();\n    rep(i,0,len){\n        if(s[i]=='0') x+=b;\n        else{\n            if(x&gt;=a) {x-=a; ans++;}\n            else x+=b;\n        }\n    }\n    cout&lt;&lt;ans;\n}\n*E  (å›¾è®º/æ¬§æ‹‰å›¾)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nâ€‹ é˜¶ç«žèµ›å›¾(å¯ä»¥è‡ªå®šä¹‰æ¯æ¡è¾¹çš„æ–¹å‘)ï¼Œæ¯æ¡è¾¹åªèƒ½èµ°ä¸€æ¬¡ï¼Œè¯¢é—®æœ€é•¿è·¯å¾„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼\né¢˜è§£ï¼š\næœ€é•¿è·¯çš„æœ€å°å€¼ï¼šã€‚å¦‚æžœå›¾ä¸Šæœ‰çŽ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šèƒ½å°½å¯èƒ½å¤šçš„èµ°çŽ¯ï¼Œè¿™æ ·çš„è¯æˆ‘ä¸€å®šä¼šæ¯”æˆ‘ä¸èµ°çŽ¯æ›´é•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æž„é€ çš„å›¾è¦å°½å¯èƒ½çš„æ²¡çŽ¯ã€‚åœ¨æ²¡çŽ¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä¼šç»è¿‡æ¯ä¸ªç‚¹å„ä¸€æ¬¡ï¼Œæ‰€ä»¥æ€»é•¿åº¦æ˜¯ \næœ€é•¿è·¯çš„æœ€å¤§å€¼ï¼š ä¸ºå¥‡æ•°ï¼š ;  ä¸ºå¶æ•°ï¼š ã€‚æˆ‘ä»¬è€ƒè™‘å°½å¯èƒ½çš„å°†æ¯ä¸€æ¡è·¯éƒ½èµ°éï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå¯¹ä¸€ä¸ªå®Œå…¨å›¾è¿›è¡Œåˆ è¾¹ï¼Œæˆ‘ä»¬éœ€è¦åˆ å°½å¯èƒ½å°‘çš„è¾¹ï¼Œä»Žè€Œä½¿ä»–èƒ½å¤Ÿä»Žå¤´èµ°åˆ°å°¾ï¼Œä¹Ÿå°±æ˜¯æž„é€ å‡ºä¸€ä¸ªæ¬§æ‹‰å›žè·¯ã€‚åˆç”±æ¬§æ‹‰å›žè·¯çš„å®šä¹‰å¯çŸ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªç‚¹çš„å‡ºå…¥åº¦æŽ§åˆ¶ä¸ºå¶æ•°å³å¯ç»„æˆæ¬§æ‹‰å›žè·¯ï¼Œæ‰€ä»¥å¥‡å¶ç‰¹åˆ¤å³å¯ã€‚ (TIPS: åˆ åŽ»  å³ä¸ºä½¿åŽŸå›¾ä»…æœ‰ä¸¤ä¸ªå¥‡åº¦é¡¶ç‚¹æž„æˆæ¬§æ‹‰å›¾)\nvoid solve() {\n    ll n; cin&gt;&gt;n;\n    ll mx,mn;\n    mn=n-1;\n    if(n&amp;1) { \n        mx=(n-1)*n/2;   \n    }else{\n        mx=n*(n-1)/2-(n-2)/2;\n    }\n    cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx;\n}\nF  (æ¨¡æ‹Ÿ/æ¡¶/é€†å…ƒ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™å®šä»…æœ‰+å’ŒÃ—çš„ç®—å¼ï¼Œqæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡å°†ç¬¬xä¸ªç®—æ•°å˜ä¸ºyï¼Œé—®æ¯æ¬¡ä¿®æ”¹åŽåŽŸå¼çš„å€¼ä¸ºå¤šå°‘ï¼Ÿç­”æ¡ˆå¯¹1e9+7å–æ¨¡\né¢˜è§£ï¼šç”±äºŽè¿ç®—æœ‰ä¼˜å…ˆçº§ï¼Œæ¯ä¸ª+åˆ†å¼€å„ä¸ªåŒºé—´ï¼Œæå‰å°†åŒºé—´å†…çš„ä¿¡æ¯æ•´åˆåˆ°æ•°ç»„é‡Œä¿å­˜ï¼Œç„¶åŽè¿›è¡Œè®¡ç®—å³å¯ï¼Œéœ€è¦ç”¨é€†å…ƒå¤„ç†é™¤æ³•\nint a[maxn], pos[maxn];\nll res[maxn];\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a % mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res % mod;\n        b &gt;&gt;= 1;\n        res = res * res % mod;\n    }\n    return ans % mod;\n}\nll inv(ll x) {\n    return quickpow(x, mod - 2);\n}\nvoid solve(){\n    int n, q;\n    cin &gt;&gt; n &gt;&gt; q;\n    char c;\n    int tmppos = 1;\n    rep(i, 1, n) {\n        cin &gt;&gt; c;\n        if (i == n - 1) {\n            if (c == '+') {\n                pos[i] = tmppos;\n                pos[i + 1] = tmppos + 1;\n            } else {\n                pos[i] = tmppos;\n                pos[i + 1] = tmppos;\n            }\n        } else {\n            if (c == '+') {\n                pos[i] = tmppos;\n                tmppos++;\n            } else {\n                pos[i] = tmppos;\n            }\n        }\n    }\n    ll ans = 0;\n    ll tmp = 1;\n    tmppos = 1;\n    rep(i, 1, n + 1) {\n        cin &gt;&gt; a[i];\n        if (pos[i] == tmppos) {\n            tmp = (tmp * (a[i] % mod)) % mod;\n        } else {\n            ans = (ans + tmp) % mod;\n            res[tmppos] = tmp;\n            tmp = a[i] % mod;\n            tmppos++;\n        }\n    }\n    if (tmppos == pos[n]) {\n        ans = (ans + tmp) % mod;\n        res[tmppos] = tmp;\n    }\n    int x, y;\n    rep(i, 0, q) {\n        cin &gt;&gt; x &gt;&gt; y;\n        tmppos = pos[x];\n        ans = (ans - res[tmppos] + mod) % mod;\n        res[tmppos] = (res[tmppos] * inv(a[x] * 1ll) % mod * y) % mod;\n        ans = (ans + res[tmppos]) % mod;\n        a[x] = y;\n        cout &lt;&lt; ans &lt;&lt; endl;\n    }\n}\nH (ä½è¿ç®—)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næœ‰ä¸€ä¸ªaæ•°ç»„ï¼Œæˆ‘ä»¬å·²çŸ¥ä»–çš„é•¿åº¦ä¸ºnï¼Œa[+]çš„å’Œä¸ºmï¼Œè¯·é—®å¦‚æžœæˆ‘ä»¬æƒ³è¦a[âŠ•]çš„å€¼æœ€å¤§ï¼Œæ•°ç»„aåœ¨æ»¡è¶³a[+]=mæ—¶æœ‰å¤šå°‘ç§æƒ…å†µï¼Ÿæˆ‘ä»¬å®šä¹‰a[+]æŒ‡a1+a2â€¦.ana_1+a_2â€¦.a_na1+a2â€¦.ançš„å€¼ï¼›a[âŠ•]æŒ‡a1a_1a1âŠ•a2a_2a2âŠ•a3a_3a3â€¦.anâ€¦.a_nâ€¦.ançš„å€¼ï¼Œaæ•°ç»„å…¨éƒ¨ä¸ºéžè´Ÿæ•´æ•°\né¢˜è§£ï¼š\nç”±äºŽåœ¨äºŒè¿›åˆ¶æ‹†ä½æœ€åŽåŒä½æƒ…å†µä¸‹å¦‚æžœå­˜åœ¨ä¸æ­¢ä¸€ä¸ªä¸€ï¼Œé‚£ä¹ˆå¼‚æˆ–ä¹‹åŽçš„è´¡çŒ®ä¸€å®šå°äºŽæˆ‘ä»¬çš„è´¹ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯å¯¹äºŽæ¯ä¸€ä½çš„ä¸ªæ•°è¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ï¼Œè¿™æ ·çš„è¯æ‰èƒ½ä¿è¯a=a[+]ï¼ŒéšåŽæˆ‘ä»¬å‘çŽ°å¯¹äºŽæ¯ä¸€ä½æ¥è¯´ï¼Œä»–ä»¬å‡ä¸ç›¸äº’å¹²æ‰°ï¼Œé‚£ä¹ˆä»–ä»¬å¯èƒ½äº§ç”Ÿçš„æƒ…å†µä¾¿éƒ½æ˜¯nç§ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ±‚äºŒè¿›åˆ¶ä¸‹mæœ‰å¤šå°‘ä¸ª1ï¼ŒéšåŽæ±‚n^xæ¬¡æ–¹å³å¯\nint foo(ll x) { //è®¡ç®—äºŒè¿›åˆ¶æœ‰å¤šå°‘ä¸ª1\n    int count = 0;\n    while (x) {\n        count++;\n        x = x &amp; (x - 1);\n    }\n    return count;\n}\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a % mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res % mod;\n        b &gt;&gt;= 1;\n        res = res * res % mod;\n    }\n    return ans % mod;\n}\nvoid solve() {\n    ll n,m; cin&gt;&gt;n&gt;&gt;m;\n    int base=foo(m);\n    ll ans = 0;\n    if(base==1) cout&lt;&lt;n%mod;\n    else cout&lt;&lt;quickpow(n,base)%mod;\n}\nI \n\n\n\n\n\n\n\n\næž„é€ é¢˜ï¼Œè´ªå¿ƒæž„é€ å³å¯\nstring all=\"\\\"!\\'*+-.08:=^_WTYUIOAHXVM|\"; //25\nstring db=\"&lt;&gt;\\\\/[]{}()\"; //10\nchar s[maxn];\nvoid solve() {\n    int n,m; cin&gt;&gt;n&gt;&gt;m;\n    if(m==36 || n&lt;m) {cout&lt;&lt;-1; return;}\n    int have=0;\n    int dbpos=0,allpos=0;\n    bool add=true;\n    rep(i,0,n/2){\n        if(have&lt;m){\n            if(dbpos&lt;10 &amp;&amp; have+2&lt;m){\n                s[i]=db[dbpos];\n                dbpos++;\n                s[n-1-i]=db[dbpos];  \n                dbpos++;\n                have+=2;\n            }else{\n                s[i]=all[allpos];\n                s[n-1-i]=all[allpos];\n                have++;\n                if(have&lt;m) allpos++;\n            }\n        }else{\n            s[i]=all[allpos];\n            s[n-1-i]=all[allpos];\n            add=false;\n        }\n    }\n    if(n&amp;1){\n        s[n/2]=all[allpos];\n        if(add) have++;\n    } \n    if(have&lt;m) {cout&lt;&lt;-1; return;}\n    rep(i,0,n) cout&lt;&lt;s[i];\n}\nK \n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    string s;\n    cin&gt;&gt;s;\n    int len=s.length();\n    int a[15];\n    mem(a,0);\n    rep(i,0,len){\n        if(s[i]=='5'){\n            continue;\n        }else{\n            a[5]++;\n            int tmp=int(s[i]-'0');\n            a[tmp]++;\n        }\n    }\n    rep(i,1,10){\n        cout&lt;&lt;a[i]&lt;&lt;\" \";\n    }\n}\n\n\n\n\n\n\n\n\n\nå¾…è¡¥â€¦\n","slug":"nowcoder/2022winter/round2","date":"2022-01-30T13:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,ACM,æ€ç»´,äºŒåˆ†,å›¾è®º,nowcoder,é€†å…ƒ,ä½è¿ç®—","author_index":"Maskros"},{"id":"142ce69226a9e0c02878db8c17a201ec","title":"Codeforces Round 768 (Div.2)","content":"Codeforces Round #768 (Div.2)\n\n\n\n\n\n\n\n\nåº·å¤è®­ç»ƒç¬¬äºŒåœºcf\nA_Min_Max_Swap\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼Œæ¨¡æ‹Ÿ\nint a[200],b[200];\nvoid solve() {\n    int n; cin&gt;&gt;n;\n    rep(i,0,n) cin&gt;&gt;a[i];\n    rep(i,0,n) cin&gt;&gt;b[i];\n    rep(i,0,n){\n        if(a[i]&lt;b[i]) swap(a[i],b[i]);\n    }\n    sort(a,a+n); sort(b,b+n);\n    cout&lt;&lt;a[n-1]*b[n-1]&lt;&lt;endl;\n}\nB_Fun_with_Even_Subarrays\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä¸€ä¸ªåºåˆ—ï¼Œè§„å®šæ“ä½œï¼šé€‰æ‹©èµ·ç‚¹ä¸ºlå°†é•¿ä¸ºkçš„åºåˆ—ç”¨å®ƒç›¸é‚»çš„ä¸‹ä¸€ä¸ªé•¿ä¸ºkçš„åºåˆ—è¦†ç›–ï¼Œé—®æœ€å°‘ç»è¿‡å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿åºåˆ—ä¸­æ‰€æœ‰æ•°ç›¸åŒï¼Ÿ\næ€è·¯ï¼š\nåŒæ ·ç²—ç•¥åœ°æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œä»Žåºåˆ—å°¾éƒ¨å‘å‰åæŽ¨å³å¯\nint a[maxn];\nvoid solve() {\n    int n; cin&gt;&gt;n;\n    rep(i,0,n){\n        cin&gt;&gt;a[i];\n    }\n    if(n==1) cout&lt;&lt;0&lt;&lt;endl;\n    else{\n        int sd=a[n-1];\n        int len=1;\n        int ans=0;\n        red(i,n-1,0){\n            if(a[i]==sd){ len++; }\n            else{\n                ans++;\n                i=i-len+1;\n                len*=2;\n            }\n        }\n        cout&lt;&lt;ans&lt;&lt;endl;\n    }\n}\nC_And_Matching\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®š , , è¦æ±‚å°†  æž„é€ å‡º  å¯¹ ï¼Œæ»¡è¶³ â€‹\nè§„å®š  æ˜¯ 2 çš„å¹‚ï¼Œ \næ€è·¯ï¼š\nä¸€å¼€å§‹å› ä¸ºè¯»é¢˜æ¼æŽ‰äº†è§„å®šæ¡ä»¶å¯¼è‡´ä¸€æ—¶æ²¡æ³•åšï¼Œä¸€å®šè¦ä»”ç»†è¯»é¢˜ã€‚\nå¯ä»¥æ‰¾åˆ°è§„å¾‹ï¼šåºåˆ—é¦–å°¾ä¾æ¬¡åšANDæ“ä½œä¸€å®šä¸º0ï¼Œä¸å¦¨å°†  ä¸Ž  ç›¸ä¸Žï¼Œå› ä¸º  å¿…å®šæ‰€æœ‰ä½éƒ½ä¸º1ï¼Œæ‰€ä»¥ä¸Žå€¼ä¸º ã€‚ç„¶åŽå†é¦–å°¾ä¾æ¬¡ç›¸ä¸Žï¼ŒåŽŸæœ¬ç†åº”ä¸Ž  ç›¸ä¸Žçš„æ•°ä½¿å®ƒä¸Ž0ç›¸ä¸Žå³å¯ã€‚ç‰¹åˆ«çš„ï¼Œå½“ æ—¶ï¼Œç‰¹æ®Šè€ƒè™‘ä¸€ç§ç»„åˆæ–¹æ³•å³å¯ã€‚\nvoid solve() {\n    ll n,k; cin&gt;&gt;n&gt;&gt;k;\n    if(n==4&amp;&amp;k==3) cout&lt;&lt;-1&lt;&lt;endl;\n    eif(n-1==k){\n        cout&lt;&lt;n-2&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl;\n        cout&lt;&lt;1&lt;&lt;\" \"&lt;&lt;n-3&lt;&lt;endl;\n        cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;2&lt;&lt;endl;\n        rep(i,3,n/2){\n            if (i == n - 2 || i == n - 1 || i == n - 3 || n - i - 1 == n - 1 || n - i - 1 == n - 2 || n - i - 1 == n - 3)\n                continue;\n            else cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n        }\n    }\n    else{\n        cout&lt;&lt;k&lt;&lt;\" \"&lt;&lt;n-1&lt;&lt;endl;\n        rep(i,1,n/2){\n            if(k!=i &amp;&amp; k!=n-i-1){\n                cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n            }else{\n                if(k==i){\n                    cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;n-i-1&lt;&lt;endl;\n                }else{\n                    cout&lt;&lt;0&lt;&lt;\" \"&lt;&lt;i&lt;&lt;endl;\n                }\n            }\n        }\n    }\n}\nD_Range_and_Partition\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šä¸€ä¸ªé•¿ä¸º  çš„åºåˆ—  ï¼Œæ‰¾åˆ°ä¸€ç³»åˆ—åŒºé—´  (x&lt;=y)ï¼Œå°†åºåˆ—  åˆ†ä¸º  ä¸ªå­åºåˆ—ï¼Œè¦æ±‚æ¯ä¸ªåºåˆ—ä¸­åœ¨åŒºé—´  çš„æ•°ä¸¥æ ¼å¤§äºŽåœ¨åŒºé—´å¤–çš„æ•°ï¼Œè¦æ±‚æœ€å°åŒ– \nè§„å®š k&lt;=n&lt;=2e5\næ€è·¯ï¼š\nç”±é¢˜å¯çŸ¥ï¼Œ æ®µä¸­æ¯ä¸€æ®µåœ¨åŒºé—´çš„æ•°çš„æ•°é‡è‡³å°‘æ¯”ä¸åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡å¤š1, å¹¶ä¸”åªè¦æ•´ä¸ªæ•°ç»„æ»¡è¶³æ•´ä¸ªæ¡ä»¶é‚£ä¹ˆä¸€å®šå­˜åœ¨å°†æ•°ç»„åˆ†æˆkæ®µä»ç„¶æ»¡è¶³çš„æ–¹æ³•ã€‚åˆ¤æ–­æ¡ä»¶ï¼šè®¾æ•´ä¸ªæ•°ç»„ä¸­åœ¨åŒºé—´å†…çš„æ•°çš„æ•°é‡ä¸º numï¼Œä¸åœ¨åŒºé—´å†…çš„ä¸ºn-numã€‚åªè¦num-(n-num)&gt;=kå³æ»¡è¶³æ¡ä»¶ã€‚äºŽæ˜¯æˆ‘ä»¬æžšä¸¾åŒºé—´çš„å·¦è¾¹ç•Œï¼ŒäºŒåˆ†æ±‚è§£æ»¡è¶³æ¡ä»¶çš„æœ€å°å³è¾¹ç•Œå³å¯ã€‚\n\n\n\n\n\n\nTIP\nå½“å‘çŽ° ã€æœ€å°åŒ–å·®å€¼å¯¹è±¡ã€æ•°æ®èŒƒå›´ä¸º2e5æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè€ƒè™‘ï¼š\nï¼ˆ1ï¼‰å°ºå–æ³•(åŒæŒ‡é’ˆ) ï¼ˆ2ï¼‰ç»“è®ºé¢˜ ï¼ˆ3ï¼‰æžšä¸¾ä¸€ç«¯ï¼Œå¦ä¸€ç«¯ log/O(1) å¤æ‚åº¦\n\n\n#define maxn 200005\nusing namespace std;\nint n,k,a[maxn];\nint vis[maxn];\nvoid solve() {\n    cin&gt;&gt;n&gt;&gt;k;\n    mem(vis,0);\n    rep(i,1,n+1){\n        cin&gt;&gt;a[i]; \n        vis[a[i]]++; //è®¡æ•°\n    }\n    rep(i,1,n+1) vis[i]+=vis[i-1]; //å‰ç¼€å’Œç»Ÿè®¡åŒºé—´è®¡æ•°\n    int x=1,y=n;\n    rep(i,1,n+1){   //æžšä¸¾åŒºé—´å·¦è¾¹ç•Œ\n        int l=i, r=n;\n        int num=vis[r]-vis[l-1];\n        if(num-(n-num)&lt;k) break; // ä¸å­˜åœ¨ä»¥iä¸ºå·¦è¾¹ç•Œçš„åˆæ³•åŒºé—´\n        while(l&lt;=r){\n            int mid=(l+r)&gt;&gt;1;\n            num=vis[mid]-vis[i-1]; //åŒºé—´èŒƒå›´å†…çš„æ•°\n            if(num-(n-num)&gt;=k) r=mid-1;\n            else l=mid+1;\n        }\n        if(l-i&lt;y-x){ x=i; y=l;}\n    }\n    cout&lt;&lt;x&lt;&lt;\" \"&lt;&lt;y&lt;&lt;endl;\n    for(int l=1,r=1; l&lt;=n; l=r+1,r=l,k--){\n        if(k==1){\n            cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;n&lt;&lt;endl;\n            break;\n        }else{\n            int cnt1=0, cnt2=0;\n            while(1){\n                if(a[r]&gt;=x &amp;&amp; a[r]&lt;=y) cnt1++;\n                else cnt2++;\n                if(cnt1&lt;=cnt2) r++;\n                else break;\n            }\n            cout&lt;&lt;l&lt;&lt;\" \"&lt;&lt;r&lt;&lt;endl;\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\nåæ€ï¼šä¸€åœºä¸å¦‚ä¸€åœºï¼Œå¯„\n","slug":"codeforces/cf 768","date":"2022-01-29T10:30:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´,æž„é€ ,äºŒåˆ†","author_index":"Maskros"},{"id":"4d57a46c5dece510b3e0ea6a4904b3f9","title":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1","content":"2022ç‰›å®¢å¯’å‡ç®—æ³•åŸºç¡€é›†è®­è¥1\n\n\n\n\n\n\n\n\nAC  9 / 12\n*A ä¹å°æ—¶ä¹ä¸ªäººä¹æ‰‡é—¨ (dp (0/1èƒŒåŒ…))\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šn ä¸ªäººï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªæ•°å­— a[i]ï¼Œå¯ä»¥éšæ„ç»„åˆï¼Œç»„åˆèµ·æ¥ä¸ºæ•°å­—çš„åŠ å’Œã€‚ä¸€å…±1~9å·é—¨ ï¼Œå¦‚æžœç»„åˆåŽçš„æ•°å­—æ ¹ç­‰äºŽé—¨çš„åºå·ï¼Œå³å¯æ‰“å¼€ã€‚é—®åˆ†åˆ«æœ‰å¤šå°‘ç§äººç‰©ç»„åˆå¯ä»¥æ‰“å¼€å¯¹åº”çš„é—¨ã€‚æ•°å­—æ ¹ï¼šå°†è¯¥æ•°å­—å„æ•°ä½ä¸Šçš„æ•°å­—ç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ï¼Œç›´åˆ°å¾—åˆ°çš„æ•°å­—å°äºŽ10ä¸ºæ­¢ã€‚\næœ‰ç”¨çš„ç»“è®ºï¼šä¸€ä¸ªæ•°çš„æ•°å­—æ ¹ç­‰äºŽè¿™ä¸ªæ•°å¯¹9å–æ¨¡çš„ç»“æžœ(å¾—0æ—¶æ•°å­—æ ¹ä¸º9)\næ€è·¯ï¼š\nç»å…¸0/1èƒŒåŒ…å˜å½¢çš„DPé—®é¢˜ï¼Œdp[i][j]è¡¨ç¤ºè€ƒè™‘äº†å‰ i ä¸ªæ•°ï¼Œé€‰æ‹©äº†ä¸€äº›æ•°å­—ä½¿å¾—æ±‚å’Œå¯¹9å–æ¨¡å¾— jçš„æ–¹æ¡ˆæ•°ï¼Œè½¬ç§»ç±»ä¼¼0/1èƒŒåŒ…çš„è½¬ç§»\n// æ•°å­—æ ¹ = æœ¬èº« mod 9\nint a[maxn];\nint dp[maxn][15];\nvoid solve(){\n    int n; cin&gt;&gt;n;\n    int t;\n    rep(i,1,n+1){\n        cin&gt;&gt;t;\n        a[i]=t%9;\n    }\n    dp[1][a[1]]=1;\n    rep(i,2,n+1){\n        rep(j,0,9){\n            int k=(j+a[i])%9;\n            dp[i][k]=(dp[i-1][k]%mod+dp[i-1][j]%mod)%mod;\n        }\n        dp[i][a[i]]++;\n    }\n    rep(i,1,10){\n        if(i==9) cout&lt;&lt;dp[n][0];\n        else cout&lt;&lt;dp[n][i]&lt;&lt;\" \";\n    }\n}\nC Babyâ€™s first attempt on CPU\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šè®¡ç»„å­¦è¿‡çš„æµæ°´çº¿CPUï¼Œè§£å†³å…ˆå†™åŽè¯»ç›¸å…³é—®é¢˜éœ€è¦ä¸­é—´æ’å…¥ç©ºè¯­å¥ï¼Œå…±nä¸ªè¯­å¥ï¼Œæ¯ä¸ªè¯­å¥ä¸‰ä¸ªæ•°å­—è¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥æ˜¯å¦å­˜åœ¨å…ˆå†™åŽè¯»ç›¸å…³ï¼Œæ€»å…±éœ€è¦æ’å…¥å¤šå°‘ç©ºè¯­å¥\né¢˜è§£ï¼šæ°´é¢˜ï¼Œå½“æ—¶ä¸ºäº†æ—¶é—´ä¹±jbå†™çš„ï¼Œæ— å‚è€ƒä»·å€¼ï¼›ç»´æŠ¤ä¸‰ä¸ªdisè¡¨ç¤ºå’Œå‰1/2/3æ¡è¯­å¥çš„é—´éš”æ¡æ•°ï¼Œåˆ†ç±»åˆ¤æ–­å³å¯ã€‚\nvoid solve() {\n    int x1,x2,x3;\n    int n; scanf(\"%d\", &amp;n);\n    int ans=0;\n    int dis1=0,dis2=1,dis3=2;\n    rep(i,0,n){\n        scanf(\"%d%d%d\",&amp;x1,&amp;x2,&amp;x3);\n        if(x1==1) {ans+=3; dis2=4; dis3=5;}\n        eif(x2==1) {\n            if(dis2&gt;=3){dis3=dis2+1; dis2=dis1+1; dis1=0; } \n            else {\n                ans+=(3-dis2); dis2=4-dis2; dis3=3;\n            }\n        }eif(x3==1){\n            if(dis3&gt;=3) {dis3=dis2+1; dis2=dis1+1; dis1=0;}\n            else{\n                ans+=(3-dis3); dis2=4-dis3; dis3=4;\n            }\n        }else{\n            dis3=dis2+1; dis2=dis1+1; dis1=0;\n        }\n    }\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nD ç‰›ç‰›åšæ•°è®º (æ¬§æ‹‰å‡½æ•°)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå®šä¹‰å¯¹äºŽæ­£æ•´æ•° ,   ï¼Œç»™å®šä¸€ä¸ªæ•´æ•° ï¼Œåˆ†åˆ«æ±‚  ä½¿å¾—  åˆ†åˆ«å–æœ€å¤§å€¼å’Œæœ€å°å€¼\né¢˜è§£ï¼š\nâ‘  æ ¹æ®æ¬§æ‹‰å‡½æ•°çš„æ€§è´¨ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æžœ  ä¸ºè´¨æ•°ï¼Œåˆ™  ï¼Œæ­¤æ—¶ â€‹ å³å–æœ€å¤§å€¼ï¼›\nâ‘¡ æ¬§æ‹‰å‡½æ•°å¯ä»¥æ ¹æ®è´¨å› æ•°åˆ†è§£æ±‚å¾—ï¼š , å›žçœ‹ ï¼Œå‘çŽ°å¯ä»¥çº¦æŽ‰ ï¼Œæ•…å¯çŸ¥æ˜¯ç”±è´¨æ•°ä¾æ¬¡ç›¸ä¹˜ä¸€å®šæ˜¯æœ€å°å€¼:  ï¼Œæ•…å¯ç­›å‡ºè´¨æ•°åŽéåŽ†è´¨æ•°è¡¨å³å¯ã€‚\nconst int MAXN = 10000;\nint prime[MAXN + 1];\nvoid getPrime() {\n    memset(prime, 0, sizeof(prime));\n    for (int i = 2; i &lt;= MAXN; i++) {\n        if (!prime[i])\n            prime[++prime[0]] = i;\n        for (int j = 1; j &lt;= prime[0] &amp;&amp; prime[j] &lt;= MAXN / i; j++) {\n            prime[prime[j] * i] = 1;\n            if (i % prime[j] == 0)\n                break;\n        }\n    }\n}\nbool isPrime(int num) {\n    if (num == 2 || num == 3) {\n        return true;\n    }\n    if (num % 6 != 1 &amp;&amp; num % 6 != 5) {\n        return false;\n    }\n    for (int i = 5; i * i &lt;= num; i += 6) {\n        if (num % i == 0 || num % (i + 2) == 0) {\n            return false;\n        }\n    }\n    return true;\n}\nvoid solve() {\n    int n;\n    cin&gt;&gt;n;\n    if(n==1) {cout&lt;&lt;-1&lt;&lt;endl; return;}\n    int mx,mn=2;\n    red(i,n+1,2){\n        if(isPrime(i)) {mx=i; break;}\n    }\n    ll tmp=1;\n    rep(i,1,1000){\n        tmp*=prime[i];\n        if(tmp&lt;=n) mn=tmp;\n        else break;\n    }\n    cout&lt;&lt;mn&lt;&lt;\" \"&lt;&lt;mx&lt;&lt;endl;\n}\nE ç‚¸é¸¡å—å›çš„é«˜ä¸­å›žå¿†\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int m,n; cin&gt;&gt;n&gt;&gt;m;\n    if(m==1){\n        if(n==1) cout&lt;&lt;1&lt;&lt;endl;\n        else cout&lt;&lt;-1&lt;&lt;endl;\n        return;\n    }\n    int ans;\n    n-=m;\n    int tmp=n%(m-1);\n    ans=n/(m-1)*2;\n    if(tmp!=0) ans+=3;\n    else ans++;\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nF ä¸­ä½æ•°åˆ‡åˆ†\n\n\n\n\n\n\n\n\nç»“è®ºé¢˜ï¼šå¦‚æžœä¸­ä½æ•°å¤§äºŽ ï¼Œåˆ™è¯¥åˆ—ä¸­çš„å¤§äºŽ  çš„æ•°çš„ä¸ªæ•°ä¸€å®šè¶…è¿‡ä¸€åŠï¼Œåˆ’åˆ†æ®µæ•°ç›´æŽ¥ç­‰äºŽ å¤§äºŽmçš„ä¸ªæ•° - å°äºŽmçš„ä¸ªæ•°ï¼Œéšä¾¿æŽ¨æŽ¨å°±çŸ¥é“äº†ã€‚\nvoid solve() {\n    int n,m; scanf(\"%d%d\",&amp;n, &amp;m);\n    int bg=0,sm=0;\n    int t;\n    rep(i,0,n){\n        scanf(\"%d\", &amp;t);\n        if(t&gt;=m) bg++;\n        else sm++;\n    } \n    if(bg&lt;=n/2) cout&lt;&lt;-1&lt;&lt;endl;\n    else cout&lt;&lt;bg-sm&lt;&lt;endl;\n}\nH ç‰›ç‰›çœ‹äº‘\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªåºåˆ— , è®¡ç®— ï¼Œæ•°æ®èŒƒå›´ n&lt;1e6, 0&lt;=ai&lt;=1000\né¢˜è§£ï¼šæ³¨æ„åˆ° n&lt;=1e6 ä¸” a[i]&lt;=1000ï¼ŒçŸ¥é“a[i]èŒƒå›´å¾ˆå°ï¼Œæ‰€ä»¥æžé™æ•°æ®ä¸‹ä¼šæœ‰å¤§é‡é‡å¤å€¼å‡ºçŽ°ï¼Œæ•…å¯ä»¥ç”¨ cnt[i] è¡¨ç¤º i å‡ºçŽ°çš„æ¬¡æ•°ï¼Œæžšä¸¾(i,j)å¯¹(å…±1e6ç§)ï¼šä¸åŒæƒ…å†µç›´æŽ¥ç›¸ä¹˜ï¼Œç‰¹æ®Šå¤„ç†ç›¸åŒæƒ…å†µ\nvector&lt;int&gt; v[maxn];\nvoid solve() {\n    int n;\n    cin &gt;&gt; n;\n    ll ans = 0;\n    rep(i, 0, n) {\n        int x;\n        cin &gt;&gt; x;\n        v[x].pb(i);\n    }\n    rep(i, 0, 1001) {\n        rep(j, i, 1001) {\n            ll x = v[i].size();\n            ll y = v[j].size();\n            if (i == j) {\n                ans += x * (x + 1) / 2 * abs(i + j - 1000);\n            } else\n                ans += x * y * abs(i + j - 1000);\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n*I Bç«™ä¸Žå„å”±å„çš„ (æ¦‚çŽ‡/é€†å…ƒ)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šnä¸ªäººå”±må¥ï¼Œæ¯ä¸ªäººå¯¹æ¯ä¸€å¥éƒ½å¯ä»¥é€‰æ‹©å”±æˆ–ä¸å”±ï¼Œnä¸ªäººã€må¥ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œå¦‚æžœæŸä¸€å¥æ²¡äººå”±æˆ–è€…æ‰€æœ‰äººéƒ½å”±äº†åˆ™å¤±è´¥ï¼Œå¦åˆ™æˆåŠŸï¼Œæ±‚å”±æˆåŠŸå¥å­æ•°é‡çš„æœŸæœ›å€¼ã€‚å¯¹1e9+7å–æ¨¡ã€‚\né¢˜è§£ï¼šâ€‹\nç”±äºŽå¥å­é—´ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™æœ€ç»ˆæœŸæœ›ä¸ºä¸€å¥è¯çš„æœŸæœ›ä¹˜ ï¼›æ¯ä¸ªäººå”±ç¬¬æ¯å¥çš„å”¯ä¸€ç­–ç•¥å°±æ˜¯ä»¥  çš„æ¦‚çŽ‡å†³å®šå”±ä¸Žä¸å”±ï¼Œæ‰€ä»¥å¤±è´¥çš„æ¦‚çŽ‡å°±ä¸º  ï¼ˆéƒ½å”±+éƒ½ä¸å”±ï¼‰\nå½“  æ—¶ï¼Œä¸Šå¼å–æœ€å°å€¼ï¼Œæ•…å¤±è´¥çš„æ¦‚çŽ‡ä¸º  , æ•…æ˜“çŸ¥æˆåŠŸçš„æ¦‚çŽ‡\næ³¨æ„æ±‚é€†å…ƒ, æŽ¨å¼å­è¾“å‡ºé€†å…ƒçš„é¢˜æ¯”è¾ƒå¸¸è§ã€‚\nll quickpow(ll a, ll b) {\n    ll ans = 1;\n    ll res = a%mod;\n    while (b) {\n        if (b &amp; 1)\n            ans = ans * res%mod;\n        b &gt;&gt;= 1;\n        res = res * res%mod;\n    }\n    return ans%mod;\n}\nvoid solve() {\n    int n,m; cin&gt;&gt;n&gt;&gt;m;\n    ll a = (quickpow(2,n-1)-1+mod)%mod;\n    a=a*m%mod;\n    ll b = quickpow(2,n-1);\n    ll ans = a*quickpow(b,mod-2)%mod;\n    cout&lt;&lt;ans&lt;&lt;endl;\n}\nJ å°æœ‹å‹åšæ¸¸æˆ\n\n\n\n\n\n\n\n\næ°´é¢˜\nint a[maxn],b[maxn];\nint ans = 0;\nint posa,posb;\nvoid goA(){\n    ans+=a[posa];\n    posa++;\n}\nvoid goB(){\n    ans+=b[posb];\n    posb++;\n}\nvoid solve() {\n    int A,B,n; cin&gt;&gt;A&gt;&gt;B&gt;&gt;n;\n    rep(i,0,A) cin&gt;&gt;a[i];\n    rep(i,0,B) cin&gt;&gt;b[i]; \n    sort(a,a+A,greater&lt;int&gt;() );\n    sort(b,b+B,greater&lt;int&gt;() );\n    ans = 0;\n    if(n&gt;2*A) cout&lt;&lt;-1&lt;&lt;endl;\n    else{\n        posa=0,posb=0;\n        if(n&amp;1){\n            rep(i,0,(n+1)/2) ans+=a[i]; posa=(n+1)/2;\n        }else{\n            rep(i,0,n/2) ans+=a[i]; posa=n/2;\n        }\n        bool AA=true,BB=true;\n        if(posa==A) AA=false;\n        if(posb==B) BB=false;\n        rep(j,posa,n){\n            if(AA&amp;&amp;BB){\n                if (a[posa] &gt;= b[posb]) {\n                    goA();\n                }else goB();\n                if(posa==A) AA=false;\n                if(posb==B) BB=false;\n            }eif(AA){\n                goA();\n            }eif(BB) goB();\n        }\n        cout&lt;&lt;ans&lt;&lt;endl;\n    }\n}\n*K å†’é™©å…¬ç¤¾(dp)\n\n\n\n\n\n\n\n\nå¾…è¡¥ unsolved\nL ç‰›ç‰›å­¦èµ°è·¯\n\n\n\n\n\n\n\n\næ°´é¢˜\nvoid solve() {\n    int n;\n    cin&gt;&gt;n;    \n    char c;\n    double mx=0;\n    double tmp;\n    int x=0,y=0;\n    rep(i,0,n){\n        cin&gt;&gt;c;\n        if(c=='L') x-=1;\n        eif(c=='R') x+=1;\n        eif(c=='U') y+=1;\n        else y-=1;\n        tmp=sqrt(fabs(x*x)+fabs(y*y));\n        mx=max(mx,tmp);\n    }\n    printf(\"%.7lf\\n\",mx);\n}\n","slug":"nowcoder/2022winter/round1","date":"2022-01-25T15:30:50.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,ACM,æ€ç»´,æ•°å­¦,dp,nowcoder,euler,é€†å…ƒ","author_index":"Maskros"},{"id":"e01b09fa443fa76e0e60ac67459e983b","title":"Codeforces Round 767 (Div.2)","content":"Codeforces Round #767 (Div.2)\n\n\n\n\n\n\n\n\nè’åºŸäº†æœŸæœ«è€ƒè¯•æœˆçš„åº·å¤è®­ç»ƒç¬¬ä¸€åœº\nA_Download More RAM\n\n\n\n\n\n\n\n\næ°´é¢˜ï¼ŒæŽ’åºå³å¯\npair&lt;int,int> pr[105];\nbool cmp(pair&lt;int,int> a, pair&lt;int,int> b)&#123;\n    return a.fst&lt;b.fst;\n&#125;\nvoid solve() &#123;\n    int n,k; cin>>n>>k;\n    rep(i,0,n)&#123;\n        cin>>pr[i].fst;\n    &#125;\n    rep(i, 0, n) &#123;\n        cin >> pr[i].sec;\n    &#125;\n    sort(pr,pr+n,cmp);\n    ll tmp=k;\n    rep(i,0,n)&#123;\n        if(tmp>=pr[i].fst) tmp+=pr[i].sec;\n        else break;\n    &#125;\n    cout&lt;&lt;tmp&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nB_GCD Arrays\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå¯¹ä¸€ä¸ª [l,r] åŒºé—´é‡Œçš„æ•°ï¼Œæœ€å¤šæ“ä½œkæ¬¡ï¼Œæ¯æ¬¡å–ä¸¤ä¸ªæ•°ï¼Œå°†ä»–ä»¬çš„ä¹˜ç§¯æ›¿ä»£å…¶ä¸­ä¸€ä¸ªæ•°æ”¾å…¥åºåˆ—ä¸­ï¼Œé—®èƒ½ä¸èƒ½ä½¿åºåˆ—çš„GCDä¸ä¸º1ï¼Œèƒ½å³YESï¼Œä¸èƒ½å³NO\næ€è·¯ï¼š\nç²—ç•¥çš„æƒ³äº†ä¸€ä¸‹ï¼Œä¹˜ç§¯ä¹‹åŽè‚¯å®šåŒ…å«ä¸¤ä¸ªåŽŸæ•°ä½œä¸ºå› å­ï¼Œæ²¡å•¥åŒºåˆ«ï¼Œè€ƒè™‘è¿žç»­åŒºé—´ã€å¥‡å¶æ€§åŽï¼ŒçŒœæµ‹ç»“è®ºï¼šæ¯æ¬¡æ“ä½œä½¿å¥‡æ•°*å¶æ•°=å¶æ•°ï¼Œå°†ä¹˜ç§¯ä»£æ›¿å¥‡æ•°ï¼Œè‡³å¤škæ¬¡æ“ä½œèƒ½å¦ä½¿å¾—åºåˆ—å…¨å˜ä¸ºå¶æ•°(GCD=2)ï¼Œæ³¨æ„ç‰¹åˆ¤\nå†™çš„æ¯”è¾ƒä»“ä¿ƒï¼Œæ‰€ä»¥æ¯”è¾ƒä¸‘ï¼Œå¯ä»¥ç®€åŒ–= =\nvoid solve() &#123;\n    int l,r,k; cin>>l>>r>>k;\n    int ou=0,ji=0;\n    if((r-l+1)&amp;1)&#123;\n        if(l&amp;1)&#123;\n            ji++;\n        &#125;else ou++;\n        ji+=(r-l)>>1;\n        ou+=(r-l)>>1;\n    &#125;else&#123;\n        ou=(r-l+1)>>1; ji=ou;\n    &#125;\n    if(ou==0)&#123;\n        if(l!=1) cout&lt;&lt;\"YES\"&lt;&lt;endl;\n        else cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;else&#123;\n        if(ji&lt;=k) cout&lt;&lt;\"YES\"&lt;&lt;endl;\n        else cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nC_Meximum ArrayMexï¼šä¸€ä¸ªåºåˆ—ä¸­ä¸å­˜åœ¨çš„æœ€å°çš„éžè´Ÿæ•´æ•°\n\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„åºåˆ—aï¼Œæ¯æ¬¡ä»Žaæ•°ç»„çš„é¦–åœ°å€å¼€å§‹é€‰å–ä¸€æ®µï¼Œæ±‚mexåŽå°†å€¼å­˜å…¥bï¼ŒéšåŽåœ¨aä¸­åˆ åŽ»è¯¥æ®µã€‚é—®æœ€ç»ˆæ±‚å¾—çš„å­—å…¸åºæœ€å¤§çš„båºåˆ—æ˜¯ä»€ä¹ˆæ ·å­çš„\næ€è·¯ï¼š\næ¨¡æ‹Ÿï¼ˆé˜Ÿå‹ç”¨ä¸»å¸­æ ‘è‰¹è¿‡äº†xDï¼‰ä¸€ä¸ªmap&lt;int,int&gt; mè¡¨ç¤ºa[i]å‡ºçŽ°çš„æ¬¡æ•°ï¼Œæ¯æ¬¡æ±‚æœ€å¤§mexçš„æ—¶å€™å³åˆ©ç”¨è¯¥mapï¼Œåˆ é™¤åºåˆ—å³å¯¹mapè¿›è¡Œæ“ä½œå³å¯ï¼›set&lt;int&gt; Sè¡¨ç¤ºä»Žåºåˆ—å¼€å§‹æ‰€æœ‰å°äºŽmexçš„æ•°ï¼Œå¦‚æžœ S.size()&lt;=mexï¼Œç»§ç»­æ‹“å±•åºåˆ—çš„é•¿åº¦å°±ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæ•…è¯¥ä½ç½®å³ä½œä¸ºé€‰å–åºåˆ—çš„ç»“å°¾\nå¡äº†å¾ˆä¹…ï¼Œåˆšå¼€å§‹æƒ³äº†ä¸ªn2æ¨¡æ‹Ÿï¼Œç»“æžœTäº†ï¼Œæ¯”è¾ƒå‚»é€¼ï¼ŒåŽæ¥ä¼˜åŒ–ä¸€ä¸‹å°±è¿‡äº†\nint a[maxn];\nmap&lt;int, int> m;\nint check(int start) &#123;\n    rep(i, start, maxn) &#123;\n        if (m[i] == 0) &#123;\n            return i;\n        &#125;\n    &#125;\n    return 0;\n&#125;\nvector&lt;int> b;\nset&lt;int> S;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    int mex = 0;\n    m.clear();\n    b.clear();\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n        m[a[i]]++;\n        if (m[mex] > 0) &#123;\n            mex = check(mex);\n        &#125;\n    &#125;\n    S.clear();\n    rep(i, 0, n) &#123;\n        if (a[i] &lt; mex)\n            S.insert(a[i]);\n        m[a[i]]--;\n        if (S.size() >= mex) &#123;\n            b.pb(mex);\n            mex = check(0);\n            S.clear();\n        &#125;\n    &#125;\n    cout &lt;&lt; b.size() &lt;&lt; endl;\n    rep(i, 0, b.size()) cout &lt;&lt; b[i] &lt;&lt; \" \";\n    cout &lt;&lt; endl;\n&#125;\nint main() &#123;\n    IOS;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_Peculiar Movie Preferences\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½ ä¸€å †é•¿&lt;=3çš„å­—ç¬¦ä¸²ï¼Œé—®èƒ½ä¸èƒ½é€šè¿‡åˆ æŽ‰ä»»æ„ä¸ªæ•°çš„å­—ç¬¦ä¸²ï¼Œå‰©ä¸‹çš„å­—ç¬¦ä¸²æŒ‰é¡ºåºæ‹¼æŽ¥èµ·æ¥ä¸ºå›žæ–‡ä¸²\næ€è·¯ï¼š\næ²™æ¯”é¢˜ï¼Œå›žæ–‡ä¸²é¦–å°¾å¿…å®šä¸€æ ·ï¼Œæ‰€ä»¥å¦‚æžœå¯ä»¥çš„è¯æœ€å¤šæ‰¾ä¸¤ä¸ªä¸²å³å¯ç»„æˆå›žæ–‡ä¸²ï¼Œæ€»é•¿åº¦&lt;=6ã€‚é¦–å…ˆç‰¹åˆ¤å•ä¸ªä¸²ï¼Œå¦‚æžœå•ä¸ªå›žæ–‡å³ä¸ºYESï¼›å†è€…åˆ†åˆ«è€ƒè™‘ 2+2/3+3, 2+3/3+2 çš„æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åŽé¢é‚£ä¸€ç§ï¼Œè¿™é‡Œé€šè¿‡mapä¼˜åŒ–ï¼Œå¯¹å­—ç¬¦ä¸²åšreverseå¤„ç†ï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µåˆ¤æ–­å³å¯ TuT\nmap&lt;string,int> mp1,mp2;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    bool can = 0;\n    string s,ss;\n    mp1.clear(); mp2.clear();\n    rep(i, 0, n) &#123;\n        cin >> s;\n        if(!can)&#123;\n            ss = s;\n            reverse(ss.begin(), ss.end());\n            if (s.size() == 1) can = 1;\n            eif(s[0] == s[s.size() - 1]) can = 1;\n            else&#123;\n                if(mp1[ss]==1 || mp2[ss]==1) can=1;\n                eif(s.size()==3)&#123;\n                    ss.erase(ss.end()-1, ss.end());\n                    if (mp1[ss]) can = 1;\n                &#125;\n                mp1[s]=1;\n                if(s.size()==3)&#123;\n                    s.erase(s.end()-1, s.end());\n                    mp2[s]=1;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n    if (can) cout &lt;&lt; \"YES\" &lt;&lt; endl;\n    else cout &lt;&lt; \"NO\" &lt;&lt; endl;\n&#125;\nint main() &#123;\n    int T;\n    IOS;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nE_Grid Xor\n\n\n\n\n\n\n\n\næš‚æ—¶é¸½äº†ï¼Œå‡ºåŽ»è¿åŠ¨å®Œå›žæ¥è¡¥\næž„é€ é¢˜\nåæ€ï¼šå¥½ä¹…ä¸æ‰“ç¡®å®žæ‰‹ç”Ÿ+è„‘æ®‹ï¼Œå¯’å‡å†æŽ¥å†åŽ‰âœŠ\n","slug":"codeforces/cf 767","date":"2022-01-23T05:15:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´","author_index":"Maskros"},{"id":"9c59719004482610a68ff40b9f6386dd","title":"åˆ©ç”¨WeRoBotæ¡†æž¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘","content":"åˆ©ç”¨WeRoBotæ¡†æž¶è¿›è¡Œå¾®ä¿¡å…¬ä¼—å·å¼€å‘\n\n\n\n\n\n\n\n\nå¯„ç½‘å°å®žéªŒï¼Œå®žçŽ°èµ·æ¥ä¸éš¾ï¼Œè®°å½•ä¸€ä¸‹ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼ŒåŒ…æ‹¬ä¸€äº›å¯¹Tokençš„ç†è§£\nå‡†å¤‡å¾®ä¿¡å…¬ä¼—å·ã€äº‘æœåŠ¡å™¨ã€Xftp&amp;Xshell (Replaceable)ã€WeRoBot 1.13.1\næ€»ä½“æµç¨‹step1 : æ³¨å†Œå¾®ä¿¡å…¬ä¼—å·\nstep2 : é€šè¿‡éªŒè¯Tokenå°†å…¬ä¼—å·ä¸ŽæœåŠ¡å™¨ç»‘å®š\nstep3 : åœ¨æœåŠ¡å™¨ä»£ç é‡ŒåŠ å…¥å…¬ä¼—å·å®žçŽ°çš„åŠŸèƒ½\nå…³äºŽWeRoBot\n\n\n\n\n\n\n\n\nWeRoBotå®˜æ–¹æ–‡æ¡£: link\nWeRoBot æ˜¯ä¸€ä¸ªåŸºäºŽPythonçš„å¾®ä¿¡æœºå™¨äººæ¡†æž¶ï¼Œé‡‡ç”¨MITåè®®å‘å¸ƒã€‚å¯ä»¥å°†å¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯è¿›è¡Œè§£æžå’Œè½¬æ¢ï¼Œä½¿ç”¨ Session è®°å½•ç”¨æˆ·çŠ¶æ€ï¼ŒåŒ…æ‹¬å¼€å‘è‡ªå®šä¹‰èœå•ç­‰åŠŸèƒ½ï¼Œå¯¹åˆå­¦è€…æ¥è®²ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚WeRoBot å¯ä»¥ä½œä¸ºç‹¬ç«‹æœåŠ¡è¿è¡Œï¼Œä¹Ÿå¯ä»¥é›†æˆåœ¨å…¶ä»– Web æ¡†æž¶ä¸­ä¸€åŒè¿è¡Œã€‚ä»¥ä¸‹ç®€å•ä¸¾ä¾‹ï¼š\n0x01 Hello World# ç»™æ”¶åˆ°çš„æ¯ä¸€æ¡ä¿¡æ¯å›žå¤ Hello World\nimport werobot\n\nrobot = werobot.WeRoBot(token='tokenhere')\n\n@robot.handler\ndef hello(message):\n    return 'Hello World!'\n\n# è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80\nrobot.config['HOST'] = '0.0.0.0'\nrobot.config['PORT'] = 80\nrobot.run()\n0x02 æ¶ˆæ¯å¤„ç†\n\n\n\n\n\n\n\n\nWeRoBot ä¼šè§£æžå¾®ä¿¡æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯ï¼Œ å¹¶å°†æ¶ˆæ¯è½¬æ¢æˆæˆ Message æˆ–è€…æ˜¯ Event ã€‚ Message è¡¨ç¤ºç”¨æˆ·å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æ–‡æœ¬æ¶ˆæ¯ã€å›¾ç‰‡æ¶ˆæ¯ï¼› Event åˆ™è¡¨ç¤ºç”¨æˆ·è§¦å‘çš„äº‹ä»¶ï¼Œ å¦‚å…³æ³¨äº‹ä»¶ã€æ‰«æäºŒç»´ç äº‹ä»¶ã€‚ åœ¨æ¶ˆæ¯è§£æžã€è½¬æ¢å®ŒæˆåŽï¼Œ WeRoBot ä¼šå°†æ¶ˆæ¯è½¬äº¤ç»™ Handler è¿›è¡Œå¤„ç†ï¼Œå¹¶å°† Handler çš„è¿”å›žå€¼è¿”å›žç»™å¾®ä¿¡æœåŠ¡å™¨\n@robot.handler #robot ä¼šå°†æ‰€æœ‰æŽ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬äº¤ç»™è¿™ä¸ª Handler æ¥å¤„ç†\n@robot.text  # @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯\n@robot.image  # @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯\n@robot.subscribe # ç”¨æˆ·å…³æ³¨åŽæ‰§è¡Œè¯¥æ“ä½œ\n0x03 demo\n\n\n\n\n\n\n\n\nå®žéªŒè¯¾åŽŸå‘³ðŸ´, ç®€å•å®Œæˆäº†æ¶ˆæ¯å¤„ç†ï¼Œè°ƒäº†ä¸ªæŽ¥å£ï¼Œè°ƒäº†ä¸ªç‹—å±ä¸é€šæ–‡æœ¬ç”Ÿæˆå™¨ï¼Œ ç³™çš„ä¸€ï¼Œç•™åšçºªå¿µ\nimport werobot\nimport requests\nimport json\nimport gpbtwzbuilder as gp\n\nrobot = werobot.WeRoBot(token='qwertyuiopasdfghjkl')\n\n# æ˜¯å¦èœå•æ¨¡å¼\nisMenu = 1\n# åŠŸèƒ½æ¨¡å¼åºå·\nfunCode = 0\n# åˆæ³•æ“ä½œ\ncodelist = ['1','2','3']\ndef menu():\n    return \"æ¬¢è¿Žä½¿ç”¨æœ¬å…¬ä¼—å·ï¼\\n æœ¬å…¬ä¼—å·å…±æœ‰ä¸¤ä¸ªæ¨¡å¼ï¼šèœå•æ¨¡å¼å’ŒåŠŸèƒ½æ¨¡å¼ \\n \" + \"åŠŸèƒ½é€‰æ‹©æ¨¡å¼ï¼š\\n menu - æŸ¥çœ‹èœå• \\n 1 - æŸ¥è¯¢åŸŽå¸‚çš„å¤©æ°”çŠ¶å†µ \\n 2 - è‡ªè¨€è‡ªè¯­æ¨¡å¼\\n 3 - ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨\\n\" + \"åŠŸèƒ½æ¨¡å¼ï¼š\\n 0 - é€€å‡ºåŠŸèƒ½æ¨¡å¼è¿”å›žèœå•\"\n\ndef check(fcode):\n    global codelist\n    global isMenu\n    if fcode in codelist:\n        isMenu = 0\n        if fcode == '1': \n            return \"è¾“å…¥åŸŽå¸‚åæŸ¥è¯¢å¤©æ°”\"\n        elif fcode == '2':\n            return \"è‡ªè¨€è‡ªè¯­ï¼\"\n        elif fcode == '3':\n            return \"è¾“å…¥'æ–‡ç« ä¸»é¢˜&amp;å­—æ•°(&lt;=600)'å¼€å§‹ç‹—å±ä¸é€š\"\n    else:\n        return \"Wrong Operation. Input 'menu' to know more!ðŸ˜…\"\n\n@robot.subscribe\ndef subscribe(message):\n    return menu()\n\n# @robot.text ä¿®é¥°çš„ Handler åªå¤„ç†æ–‡æœ¬æ¶ˆæ¯\n@robot.text\ndef echo(message, session):\n    global isMenu\n    global funCode \n\n    if 'first' not in session:\n        isMenu = 1\n    session['first'] = True\n\n    msgtext = message.content\n    if isMenu == 1:\n        if \"menu\" in msgtext or \"Menu\" in msgtext:\n            return menu()\n        else:\n            funCode = msgtext\n            return check(funCode)\n    else:\n        if msgtext == '0' or \"menu\" in msgtext or \"Menu\" in msgtext:\n            isMenu = 1\n            return \"é€€å‡ºæˆåŠŸï¼\" + menu()\n\n        if funCode == '1':\n            addr = msgtext\n            url = 'http://wthrcdn.etouch.cn/weather_mini?city=' + addr\n            response = requests.get(url=url)\n            result = json.loads(response.text)\n            #è§£æžjson\n            data = result[\"data\"][\"forecast\"][0][\"date\"]\n            high = result[\"data\"][\"forecast\"][0][\"high\"]\n            fengli = result[\"data\"][\"forecast\"][0][\"fengli\"]\n            low = result[\"data\"][\"forecast\"][0][\"low\"]\n            fengxiang = result[\"data\"][\"forecast\"][0][\"fengxiang\"]\n            tian = result[\"data\"][\"forecast\"][0][\"type\"]\n            return \"æ—¶é—´ï¼š\" + data + \"\\næœ€å¥½æ°”æ¸©ï¼š\" + high + \"\\næœ€ä½Žæ°”æ¸©ï¼š\" + low + \"\\né£Žå‘ï¼š\" + fengxiang + \"\\nå¤©æ°”ï¼š\" + tian\n        \n        elif funCode == '2':\n            return msgtext\n\n        elif funCode == '3':\n            ret = msgtext.partition('&amp;')\n            xx = ret[0]\n            for x in xx:\n                tmp = str()\n                maxlength = int(ret[2])\n                if maxlength > 600:\n                    return \"å­—æ•°è¶…äº†ðŸ˜…ï¼Œçœ‹ä¸æ‡‚ä¸­å›½è¯æ˜¯8ðŸ˜…\"\n                while (len(tmp) &lt; maxlength):\n                    åˆ†æ”¯ = gp.random.randint(0, 100)\n                    if åˆ†æ”¯ &lt; 5:\n                        tmp += gp.å¦èµ·ä¸€æ®µ()\n                    elif åˆ†æ”¯ &lt; 20:\n                        tmp += gp.æ¥ç‚¹åäººåè¨€()\n                    else:\n                        tmp += next(gp.ä¸‹ä¸€å¥åºŸè¯)\n            tmp = tmp.replace(\"x\", xx)\n            return tmp\n\n# @robot.image ä¿®é¥°çš„ Handler åªå¤„ç†å›¾ç‰‡æ¶ˆæ¯\n@robot.image\ndef img(message):\n    return message.img\n\n\n# è®©æœåŠ¡å™¨ç›‘å¬åœ¨ 0.0.0.0:80\nrobot.config['HOST'] = '0.0.0.0'\nrobot.config['PORT'] = 80\nrobot.run()\nå…³äºŽToken\n\n\n\n\n\n\n\n\næœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç«  : linkï¼Œä»¥ä¸‹å†…å®¹éƒ¨åˆ†å€Ÿé‰´ \nTokenï¼šèº«ä»½è®¤è¯ä¸­ä»£æŒ‡ä»¤ç‰Œ\nTokenéªŒè¯è¿‡ç¨‹Step1 : ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚ã€‚\nStep2 : æœåŠ¡å™¨ç«¯ç¨‹åºéªŒè¯ã€‚\nStep3 : æœåŠ¡å™¨ç«¯ç¨‹åºè¿”å›žä¸€ä¸ªå¸¦ç­¾åçš„token ç»™å®¢æˆ·ç«¯ã€‚\nStep4 : å®¢æˆ·ç«¯å‚¨å­˜token,å¹¶ä¸”æ¯æ¬¡è®¿é—®APIéƒ½æºå¸¦Tokenåˆ°æœåŠ¡å™¨ç«¯çš„ã€‚\nStep5 : æœåŠ¡ç«¯éªŒè¯tokenï¼Œæ ¡éªŒæˆåŠŸåˆ™è¿”å›žè¯·æ±‚æ•°æ®ï¼Œæ ¡éªŒå¤±è´¥åˆ™è¿”å›žé”™è¯¯ç ã€‚\n\nTokençš„ä¼˜åŠ¿\næ— çŠ¶æ€ï¼Œå¯æ‰©å±•\nåœ¨å®¢æˆ·ç«¯å­˜å‚¨çš„Tokenæ— çŠ¶æ€ã€å¯æ‰©å±•(èƒ½å¤Ÿåˆ›å»ºä¸Žå…¶å®ƒç¨‹åºå…±äº«æƒé™çš„ç¨‹åº)ã€‚åŸºäºŽè¿™ç§æ— çŠ¶æ€å’Œä¸å­˜å‚¨Sessionä¿¡æ¯ï¼Œè´Ÿè½½è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿå°†ç”¨æˆ·ä¿¡æ¯ä»Žä¸€ä¸ªæœåŠ¡ä¼ åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚tokensè‡ªå·±æºå¸¦äº†ç”¨æˆ·çš„éªŒè¯ä¿¡æ¯ã€‚\n\nå®‰å…¨æ€§ï¼šé˜²æ­¢CSRF\nè¯·æ±‚ä¸­å‘é€tokenè€Œéžå‘é€cookieèƒ½å¤Ÿé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚å³ä½¿åœ¨å®¢æˆ·ç«¯ä½¿ç”¨cookieå­˜å‚¨tokenï¼Œcookieä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨æœºåˆ¶è€Œä¸æ˜¯ç”¨äºŽè®¤è¯ã€‚ä¸å°†ä¿¡æ¯å­˜å‚¨åœ¨Sessionä¸­ï¼Œè®©æˆ‘ä»¬å°‘äº†å¯¹sessionæ“ä½œã€‚\npsï¼štokenæ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œä¸€æ®µæ—¶é—´ä¹‹åŽç”¨æˆ·éœ€è¦é‡æ–°éªŒè¯ã€‚\n\nå¤šå¹³å°è·¨åŸŸ\nè¿™é‡Œå¼•å…¥CORS(è·¨åŸŸèµ„æºå…±äº«)çš„æ¦‚å¿µï¼šå½“æˆ‘ä»¬éœ€è¦è®©æ•°æ®è·¨å¤šå°ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨æ—¶ï¼Œè·¨åŸŸèµ„æºçš„å…±äº«ä¼šæ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚åœ¨ä½¿ç”¨AjaxæŠ“å–å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œå°±å¯ä»¥ä¼šå‡ºçŽ°ç¦æ­¢è¯·æ±‚çš„æƒ…å†µã€‚\n\n\n\n\n\n\n\n\n\n\n\nä»¥ä¸Šåªæ˜¯å…³äºŽTokençš„ç²—ç•¥æè¿°ï¼Œå…³äºŽå…¶ä»–èº«ä»½è®¤è¯æœºåˆ¶æŒ–å‘å¾…å¡«ðŸ˜…\né™„ï¼šä¸€äº›Linuxå‘½ä»¤\nä½¿ç”¨ nohup å‘½ä»¤ä½¿ç¨‹åºåœ¨æœåŠ¡å™¨ä¿æŒåŽå°è¿è¡Œ\nsudo nohup python .&#x2F;webserver.py &amp;\n\næ€æŽ‰ nohup è¿›ç¨‹\nps -aux | grep python\nkill -9 pid\t\n\n\n\n\n\n\n\n\n\n\n\nEnd.\n","slug":"note/WeRoBot","date":"2021-12-27T17:24:28.000Z","categories_index":"NOTE","tags_index":"note,python,WeRoBot","author_index":"Maskros"},{"id":"73cfcb86305a1dc05f8e11e3779f31e9","title":"Notes on Kurose's Computer Networkingï¼šA TOP-DOWN APPROACH","content":"Notes on Kuroseâ€™s Computer NetworkingA TOP-DOWN APPROACH \n\n\n\n\n\n\n\n\n\nThanks to æˆ‘çˆ¹çš„åšå®¢ï¼Œè®©æˆ‘å·äº†ä¸å°‘ðŸ˜‹\nChapter 1  Computer Networks and the Internet1.1 What is the Internet?\n\n\n\n\n\n\n\n\nå› ç‰¹ç½‘ï¼šä¸–ç•ŒèŒƒå›´çš„è®¡ç®—æœºç½‘ç»œ\nNuts-and-Bolts Description\n\nè®¡ç®—è®¾å¤‡ç§°ä¸º ä¸»æœº(host) / ç«¯ç³»ç»Ÿ(end system) \nç«¯ç³»ç»Ÿé€šè¿‡ é€šä¿¡é“¾è·¯(communication link) å’Œ åˆ†ç»„äº¤æ¢æœº(packet switch) è¿žæŽ¥åˆ°ä¸€èµ·ï¼›ä¸åŒé“¾è·¯ä¼ è¾“é€ŸçŽ‡ä¸åŒï¼Œå‘é€ç«¯å°†æ•°æ®åˆ†æ®µåŽæ¯æ®µåŠ ä¸Šé¦–éƒ¨æ‰€å½¢æˆçš„ä¿¡æ¯åŒ…ç§°ä¸º åˆ†ç»„(packet)\n\nç«¯ç³»ç»Ÿé€šè¿‡ å› ç‰¹ç½‘æœåŠ¡æä¾›å•†(ISP, Internet Service Provider) æŽ¥å…¥å› ç‰¹ç½‘\n\nç«¯ç³»ç»Ÿã€åˆ†ç»„äº¤æ¢æœºå’Œå…¶ä»–éƒ¨ä»¶éœ€è¦è¿è¡Œä¸€ç³»åˆ—åè®®(protocol) ã€‚å› ç‰¹ç½‘çš„ä¸»è¦åè®®ï¼šTCP/IP (Transmission Control Protocol, ä¼ è¾“æŽ§åˆ¶åè®® / Internet Protocol, ç½‘é™…åè®®)\n\nService\n\nåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºï¼šå› ç‰¹ç½‘åº”ç”¨ä¸­æ¶‰åŠå¤šä¸ªç›¸äº’äº¤æ¢æ•°æ®çš„ç«¯ç³»ç»Ÿçš„åº”ç”¨ç¨‹åº\nä¸Žå› ç‰¹ç½‘ç›¸è¿žçš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ª å¥—æŽ¥å­—æŽ¥å£(Socket interface)ï¼Œè§„å®šåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åºè¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç›®çš„åœ°ç¨‹åºäº¤ä»˜æ•°æ®çš„æ–¹å¼\n\nProtocol\n\n\n\n\n\n\n\n\n\nDef:  å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®žä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼å’Œé¡ºåºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æŽ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œ\n\nä¸åŒçš„åè®®ç”¨äºŽä¸åŒçš„é€šä¿¡ä»»åŠ¡\n\n1.2 The Network Edge\nä¸»æœºåˆ†ç±»ï¼šå®¢æˆ·(Client) / æœåŠ¡å™¨(Server)\n\nAccess Networks\n\n\n\n\n\n\n\n\n\næŽ¥å…¥ç½‘ï¼šå°†ä¸»æœºç‰©ç†è¿žæŽ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨(Edge router)çš„ç½‘ç»œ\nå®¶åº­æŽ¥å…¥ï¼šæ•°å­—ç”¨æˆ·çº¿(DSL)ã€ç”µç¼†å› ç‰¹ç½‘æŽ¥å…¥ã€å…‰çº¤åˆ°æˆ·(FTTH)ã€æ‹¨å·ã€å«æ˜Ÿ\nä¼ä¸š/å®¶åº­æŽ¥å…¥ï¼šä»¥å¤ªç½‘(Ethernet)ã€WIFI\nå¹¿åŸŸæ— çº¿æŽ¥å…¥ï¼š3Gã€LTE\nPhysical Media\nåŒç»žé“œçº¿ã€åŒè½´ç”µç¼†ã€å…‰çº¤ã€é™†åœ°/å«æ˜Ÿæ— çº¿ç”µä¿¡é“\n1.3 The Network Core\n\n\n\n\n\n\n\n\né€šè¿‡ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®æœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼šç”µè·¯äº¤æ¢ å’Œ åˆ†ç»„äº¤æ¢\n1.3.1 Packet Switching\n\n\n\n\n\n\n\n\nåˆ†ç»„äº¤æ¢ : ç«¯ç³»ç»Ÿå½¼æ­¤äº¤æ¢æŠ¥æ–‡(message)ï¼Œæºç«¯å°†æŠ¥æ–‡åˆ’åˆ†æˆè¾ƒå°çš„æ•°æ®å—ï¼Œç§°ä¸ºåˆ†ç»„ï¼›åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æ¯ä¸ªåˆ†ç»„ç»è¿‡é€šä¿¡é“¾è·¯å’Œ åˆ†ç»„äº¤æ¢æœº (packet switch)ä¼ é€ï¼Œä¸¤ç±»äº¤æ¢æœºåˆ†åˆ«ä¸º è·¯ç”±å™¨(router) å’Œ é“¾è·¯å±‚äº¤æ¢æœº(link-layer switch)\nStore-and-Forward Transmission\nå­˜å‚¨è½¬å‘ä¼ è¾“ï¼šäº¤æ¢æœºåœ¨å¼€å§‹å‘è¾“å‡ºé“¾è·¯ä¼ è¾“åˆ†ç»„ä¹‹å‰éœ€è¦æŽ¥æ”¶åˆ°æ•´ä¸ªåˆ†ç»„\nexp: é€šè¿‡ $N$ æ¡é€ŸçŽ‡å‡ä¸º $R$ çš„é“¾è·¯ç»„æˆçš„è·¯å¾„ (å³åœ¨æºå’Œç›®çš„åœ°ä¹‹é—´æœ‰ $N-1$ å°è·¯ç”±å™¨) æ‰€ç”¨ ç«¯åˆ°ç«¯æ—¶å»¶ä¸º $d=N \\dfrac{L}{R}$\nQueuing Delays and Packet Loss\næŽ’é˜Ÿæ—¶å»¶å’Œåˆ†ç»„ä¸¢å¤±ï¼šåˆ†ç»„äº¤æ¢æœºå…·æœ‰ä¸€ä¸ªè¾“å‡ºç¼“å­˜(output buffer) å³è¾“å‡ºé˜Ÿåˆ—ï¼Œé™¤å­˜å‚¨è½¬å‘æ—¶å»¶å¤–åˆ†ç»„è¿˜è¦æ‰¿å—è¾“å‡ºç¼“å­˜çš„æŽ’é˜Ÿæ—¶å»¶(queuing delay)ï¼Œå¦‚æžœä¸€ä¸ªåˆ†ç»„åˆ°è¾¾åŽå‘çŽ°è¯¥ç¼“å­˜ç©ºé—´å·²æ»¡ï¼Œåˆ™å‘ç”Ÿä¸¢åŒ…(packet loss)ï¼Œåˆ°è¾¾çš„åˆ†ç»„æˆ–å·²ç»æŽ’é˜Ÿçš„åˆ†ç»„ä¹‹ä¸€å°†è¢«ä¸¢å¼ƒ\nForwarding Tables and Routing Protocols\nè½¬å‘è¡¨å’Œè·¯ç”±é€‰æ‹©åè®®ï¼šæ¯å°è·¯ç”±å™¨æœ‰ä¸€ä¸ªè½¬å‘è¡¨(Forwarding Table)ï¼Œç”¨äºŽå°†ç›®çš„åœ°å€/ç›®çš„åœ°å€çš„ä¸€éƒ¨åˆ†æ˜ å°„æˆè¾“å‡ºé“¾è·¯ã€‚è·¯ç”±é€‰æ‹©åè®®(routing protocol)ç”¨äºŽè‡ªåŠ¨åœ°è®¾ç½®è½¬å‘è¡¨\n1.3.2 Circuit Switching\n\n\n\n\n\n\n\n\nç”µè·¯äº¤æ¢ï¼šå»ºç«‹åå‰¯å…¶å®žçš„è¿žæŽ¥ï¼Œè·¯å¾„ä¸Šçš„äº¤æ¢æœºç»´æŠ¤è¿žæŽ¥çŠ¶æ€ï¼Œç”µè·¯äº¤æ¢ç½‘ç»œä¸Šçš„ä¸¤ä¸»æœºé€šä¿¡æ—¶ï¼Œç½‘ç»œåœ¨ä¸¤ä¸»æœºé—´åˆ›å»ºä¸€æ¡ä¸“ç”¨çš„ç«¯åˆ°ç«¯è¿žæŽ¥(end-to-end connection)\nMultiplexing\né“¾è·¯ä¸­çš„ç”µè·¯é€šè¿‡é¢‘åˆ†å¤ç”¨(FDM, Frequency-Division Multiplexing)æˆ–æ—¶åˆ†å¤ç”¨(TDM, Time-Division Multiplexing)æ¥å®žçŽ°\nFDMï¼šé“¾è·¯çš„é¢‘è°±ç”±æ‰€æœ‰è¿žæŽ¥å…±äº«ï¼Œåœ¨è¿žæŽ¥æœŸé—´é“¾è·¯ä¸ºæ¯æ¡è¿žæŽ¥ä¸“ç”¨ä¸€ä¸ªé¢‘æ®µï¼Œé¢‘æ®µçš„å®½åº¦ç§°ä¸ºå¸¦å®½(band-width)\nTDMï¼šæ—¶é—´è¢«åˆ’åˆ†ä¸ºå›ºå®šæœŸé—´çš„å¸§ï¼Œæ¯ä¸ªå¸§è¢«åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„æ—¶éš™(slot)ï¼Œåœ¨ç½‘ç»œè·¨è¶Šé“¾è·¯åˆ›å»ºè¿žæŽ¥æ—¶ï¼Œåœ¨æ¯ä¸ªå¸§ä¸­ä¸ºè¯¥è”ç»“åˆ¶å®šä¸€ä¸ªæ—¶éš™ï¼Œç”±è¯¥è¿žæŽ¥å•ç‹¬ä½¿ç”¨\n\n\n\n\n\n\n\n\n\nåˆ†ç»„äº¤æ¢çš„æ€§èƒ½ä¼˜äºŽç”µè·¯äº¤æ¢çš„æ€§èƒ½\n1.4 Delay, Loss, and Throughput in Packet-Switched Networks\n\n\n\n\n\n\n\n\nè®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æµ‹åº¦ï¼šæ—¶å»¶ã€ä¸¢åŒ…ã€åžåé‡\nDelay\nTotal nodal delay = èŠ‚ç‚¹å¤„ç†æ—¶å»¶(nodal processing delay) + æŽ’é˜Ÿæ—¶å»¶(queuing delay) + ä¼ è¾“æ—¶å»¶(transmission delay) + ä¼ æ’­æ—¶å»¶(propagation delay)\nä¼ è¾“æ—¶å»¶ï¼šå°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æŽ¨å‘é“¾è·¯æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{L}{R}$\nä¼ æ’­æ—¶å»¶ï¼šå°†æ¯”ç‰¹ä»Žé“¾è·¯çš„èµ·ç‚¹åˆ°ç›®çš„åœ°ä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ $\\frac{d}{s}$ï¼Œä¼ æ’­é€ŸçŽ‡ $s$ å–å†³äºŽç‰©ç†åª’ä½“(å…‰çº¤/åŒé“œç»žçº¿ç­‰)\nThroughput\nçž¬æ—¶åžåé‡(instantaneous throughput)ï¼šæŽ¥æ”¶åˆ°æ–‡ä»¶çš„çž¬æ—¶é€ŸçŽ‡ (bps)\nå¹³å‡åžåé‡(average throughput)ï¼šæ–‡ä»¶å¤§å°/æ”¶åˆ°æ–‡ä»¶æ‰€æœ‰æ¯”ç‰¹çš„æ—¶é—´ è®¡ç®—æ‰€å¾—çš„å¹³å‡é€ŸçŽ‡ (bps)\n1.5 Protocol Layers and Their Service Models\nåˆ†å±‚(Layer)çš„ä½“ç³»ç»“æž„\næ¯å±‚é€šè¿‡è‡ªå·±çš„å†…éƒ¨åŠ¨ä½œ/ä¾é ä¸‹ä¸€å±‚æä¾›çš„æœåŠ¡æ¥æä¾›æœåŠ¡\n\nProtocol Stack\n\n\n\n\n\n\n\n\n\nåè®®æ ˆï¼šå„å±‚çš„æ‰€æœ‰åè®®\nå› ç‰¹ç½‘åè®®æ ˆï¼šåº”ç”¨å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚\nISO OSIå‚è€ƒæ¨¡åž‹ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€è¿è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚\nåº”ç”¨å±‚ Application Layer\n\nç½‘ç»œåº”ç”¨ç¨‹åºã€åº”ç”¨å±‚åè®®\nHTTP/SMTP/FTP/DNS\nåè®®æ•°æ®å•å…ƒ(å®žä½“äº¤æ¢çš„æ•°æ®å•ä½)/ä¿¡æ¯åˆ†ç»„ï¼šæŠ¥æ–‡(message)\n\nè¿è¾“å±‚ Transport Layer\n\nTCP/UDP\nåè®®æ•°æ®å•å…ƒï¼šæŠ¥æ–‡æ®µ(segment)\nè¿›ç¨‹é—´ä¼ è¾“\n\nç½‘ç»œå±‚ Network Layer\n\nIP/è·¯ç”±é€‰æ‹©åè®®\nåè®®æ•°æ®å•å…ƒï¼šæ•°æ®æŠ¥(datagram)\nä¸»æœºé—´ä¼ è¾“\n\né“¾è·¯å±‚ Link Layer\n\nä»¥å¤ªç½‘/802.11(WiFi)/PPP\nåè®®æ•°æ®å•å…ƒï¼šå¸§(frame)\n\nç‰©ç†å±‚ Physical Layer\n\næŽ§åˆ¶æ¯”ç‰¹çš„å‘é€\n\nEncapsulation\n\n\n\n\n\n\n\n\n\nå°è£…è¿‡ç¨‹ï¼šåº”ç”¨å±‚æŠ¥æ–‡ -&gt; è¿è¾“å±‚æŠ¥æ–‡æ®µ -&gt; ç½‘ç»œå±‚æ•°æ®æŠ¥ -&gt; é“¾è·¯å±‚å¸§\næ¯ä¸€å±‚çš„åˆ†ç»„ï¼šé¦–éƒ¨å­—æ®µ + æœ‰æ•ˆè½½è·å­—æ®µ(payload field)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Applicationâ”‚â”‚Transportâ”‚        â”‚Networkâ”‚                  â”‚Linkâ”‚                    â”‚Physicalâ”‚\nâ””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”¬â”€â”€â”€â”˜                  â””â”€â”¬â”€â”€â”˜                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜\n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚Message &#x3D; Mâ”‚                 â”‚                        â”‚                           â”‚     \n      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚Segment &#x3D; H_t + Mâ”‚                        â”‚                           â”‚     \n      â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚Datagram &#x3D; H_n + H_t + Mâ”‚                           â”‚     \n      â”‚           â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚                           â”‚     \n      â”‚           â”‚                 â”‚                        â”‚Frame &#x3D; H_l + H_n + H_t + Mâ”‚     \n      â”‚           â”‚                 â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚     \nâ”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                  â”Œâ”€â”´â”€â”€â”                    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”\nâ”‚Applicationâ”‚â”‚Transportâ”‚        â”‚Networkâ”‚                  â”‚Linkâ”‚                    â”‚Physicalâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nChapter 2 Application Layer\n\n\n\n\n\n\n\n\nåº”ç”¨å±‚\n2.1 Principles of Network Applicationsä¸»æµä½“ç³»ç»“æž„ï¼šå®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æž„ (C/S, client-server)ï¼Œå¯¹ç­‰ä½“ç³»ç»“æž„ (P2P, peer-to-peer)\nC/Sï¼š\n\næœåŠ¡å™¨Sï¼š\n\næ€»æ˜¯æ‰“å¼€çš„ä¸»æœº (always-on host)\nå›ºå®šçš„IPåœ°å€ (permanent IP address)\næœåŠ¡äºŽå®¢æˆ·çš„è¯·æ±‚\n\n\nå®¢æˆ·C:\n\nè¯·æ±‚ä¸»æœº\nå®¢æˆ·é—´ä¸è¿›è¡Œé€šä¿¡  exp: ä¸¤ä¸ªæµè§ˆå™¨å¹¶ä¸ç›´æŽ¥é€šä¿¡\n\nåŠ¨æ€IPåœ°å€ (dynamic IP address)\n\n\n\n\nP2Pï¼š\n\næ²¡æœ‰æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨\n\nä»»æ„ä¸»æœºå¯¹ç›´æŽ¥é€šä¿¡ï¼Œå¯¹ç­‰æ–¹\n\nè‡ªæ‰©å±•æ€§ (self-scalability)  æ–°çš„å¯¹ç­‰æ–¹å¢žåŠ æœåŠ¡èƒ½åŠ› \nexp: P2Pæ–‡ä»¶å…±äº«\n\næµé‡å¯†é›†åž‹\n\nåŠ¨æ€IPåœ°å€\n\n\nProcesses Communicating\n\n\n\n\n\n\n\n\n\nè¿›ç¨‹(process) : è¿è¡Œåœ¨ä¸»æœºä¸Šçš„ç¨‹åº\nåŒä¸€ä¸»æœºå†…çš„è¿›ç¨‹ï¼šè¿›ç¨‹é—´é€šä¿¡\nä¸åŒä¸»æœºå†…çš„è¿›ç¨‹ï¼šäº¤æ¢æŠ¥æ–‡(Message)\nå®¢æˆ·è¿›ç¨‹ï¼šå‘èµ·é€šä¿¡çš„è¿›ç¨‹\næœåŠ¡å™¨è¿›ç¨‹ï¼šåœ¨ä¼šè¯å¼€å§‹æ—¶ç­‰å¾…è”ç³»çš„è¿›ç¨‹\nè¿›ç¨‹ä¸Žè®¡ç®—æœºç½‘ç»œé—´çš„æŽ¥å£ï¼šå¥—æŽ¥å­—(socket)ï¼Œè½¯ä»¶æŽ¥å£ï¼Œè¿›ç¨‹å‘/ä»Žå…¶å¥—æŽ¥å­—å‘é€/æŽ¥æ”¶æŠ¥æ–‡\nReliable Date Transfer\n\n\n\n\n\n\n\n\n\nDef: ç¡®ä¿åº”ç”¨ç¨‹åºçš„ä¸€ç«¯å‘é€çš„æ•°æ®æ­£ç¡®ã€å®Œå…¨åœ°äº¤ä»˜ç»™äº†è¯¥åº”ç”¨ç¨‹åºçš„å¦ä¸€ç«¯ï¼Œç§°ä¸ºå¯é æ•°æ®ä¼ è¾“\n2.2 The Web and HTTP\n\n\n\n\n\n\n\n\nWebçš„åº”ç”¨å±‚åè®®æ˜¯ è¶…æ–‡æœ¬ä¼ è¾“åè®® (HTTP, HyperText Transfer Protocol) \n\nC/S æ¨¡å¼\n\nHTTPå®¢æˆ·ç«¯ï¼šWebæµè§ˆå™¨ (Web browser)\n\nHTTPæœåŠ¡å™¨ç«¯ï¼šWebæœåŠ¡å™¨ (Web server)\n\nå®šä¹‰äº†Webå®¢æˆ·å‘WebæœåŠ¡å™¨è¯·æ±‚Webé¡µé¢çš„æ–¹å¼ï¼Œä»¥åŠæœåŠ¡å™¨å‘å®¢æˆ·ä¼ é€Webé¡µé¢çš„æ–¹å¼\n\næ”¯æ’‘è¿è¾“åè®®ï¼šTCP\n\nå®¢æˆ·å‘èµ·TCPè¿žæŽ¥ï¼ŒæœåŠ¡å™¨æŽ¥å—TCPè¿žæŽ¥\nå»ºç«‹è¿žæŽ¥åŽæµè§ˆå™¨å’ŒæœåŠ¡å™¨è¿›ç¨‹å°±å¯ä»¥é€šè¿‡å¥—æŽ¥å­—æŽ¥å£è®¿é—®TCP\næ— çŠ¶æ€åè®®(stateless protocol)ï¼šHTTPæœåŠ¡å™¨ä¸ä¿å­˜å…³äºŽå®¢æˆ·çš„ä¿¡æ¯\n\nHTTP Message Format\n\nRequest Message è¯·æ±‚æŠ¥æ–‡\nç¬¬ä¸€è¡Œä¸ºè¯·æ±‚è¡Œ(request line)ï¼šæ–¹æ³•å­—æ®µã€URLå­—æ®µã€HTTPç‰ˆæœ¬å­—æ®µ\nåŽç»§å››è¡Œä¸ºé¦–éƒ¨è¡Œ(header line)\n\n\nResponse Message å“åº”æŠ¥æ–‡\nä¸€ä¸ªçŠ¶æ€åˆå§‹è¡Œ(status linge)\nå…­ä¸ªé¦–éƒ¨è¡Œ(header line)\nå®žä½“ä½“(entity body)\n\n\nStatus Code çŠ¶æ€ç \n200 OKï¼šè¯·æ±‚æˆåŠŸï¼Œä¿¡æ¯åœ¨è¿”å›žçš„ç›¸åº”æŠ¥æ–‡ä¸­\n301 Moved Permanentlyï¼šè¯·æ±‚çš„å¯¹è±¡å·²ç»è¢«æ°¸ä¹…è½¬ç§»äº†ï¼Œæ–°çš„URLå®šä¹‰åœ¨å“åº”æŠ¥æ–‡çš„Locationï¼šé¦–éƒ¨è¡Œä¸­ã€‚å®¢æˆ·è½¯ä»¶å°†è‡ªåŠ¨èŽ·å–æ–°çš„URL\n400 Bad Requestï¼šä¸€ä¸ªé€šç”¨å·®é”™ä»£ç ï¼ŒæŒ‡ç¤ºè¯¥è¯·æ±‚ä¸èƒ½è¢«æœåŠ¡å™¨ç†è§£\n404 Not Foundï¼šè¢«è¯·æ±‚çš„æ–‡æ¡£ä¸åœ¨æœåŠ¡å™¨ä¸Š\n505 HTTP Version Not Supportedï¼šæœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚æŠ¥æ–‡ä½¿ç”¨çš„HTTPåè®®ç‰ˆæœ¬\n\n\n\nUser-Server Interaction: Cookies\ncookieçš„4ä¸ªç»„ä»¶ï¼š\n\nHTTPå“åº”æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ\nHTTPè¯·æ±‚æŠ¥æ–‡ä¸­çš„ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ\nä¿ç•™åœ¨å®¢æˆ·ç«¯çš„cookieæ–‡ä»¶ï¼Œç”±ç”¨æˆ·çš„æµè§ˆå™¨è¿›è¡Œç®¡ç†\nä¿ç•™åœ¨WebæœåŠ¡å™¨çš„åŽç«¯æ•°æ®åº“\n\nWeb Caching\n\n\n\n\n\n\n\n\n\nWebç¼“å­˜å™¨(Web cache) åˆç§° ä»£ç†æœåŠ¡å™¨(proxy server)\nä»£è¡¨åˆå§‹WebæœåŠ¡å™¨æ¥æ»¡è¶³HTTPè¯·æ±‚çš„ç½‘ç»œå®žä½“\n\næµè§ˆå™¨å»ºç«‹åˆ°Webç¼“å­˜å™¨çš„TCPè¿žæŽ¥ï¼Œå®¢æˆ·ç«¯å°†æ‰€æœ‰HTTPè¯·æ±‚é¦–å…ˆå‘é€åˆ°Webç¼“å­˜å™¨ä¸­çš„å¯¹è±¡ï¼ŒWebç¼“å­˜å™¨æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜å‚¨è¯¥å¯¹è±¡å‰¯æœ¬\n\næœ‰ï¼šWebç¼“å­˜å™¨å‘å®¢æˆ·æµè§ˆå™¨ç”¨HTTPå“åº”æŠ¥æ–‡è¿”å›žè¯¥å¯¹è±¡\næ— ï¼šæ‰“å¼€ä¸€ä¸ªä¸Žè¯¥å¯¹è±¡çš„åˆå§‹æœåŠ¡å™¨çš„TCPè¿žæŽ¥ï¼Œå‘é€è¯¥å¯¹è±¡çš„HTTPè¯·æ±‚ï¼Œæ”¶åˆ°è¯·æ±‚åŽåˆå§‹æœåŠ¡å™¨å‘è¯¥Webç¼“å­˜å™¨å‘é€HTTPå“åº”\n\n\nWebç¼“å­˜å™¨æ—¢æ˜¯å®¢æˆ·ä¹Ÿæ˜¯æœåŠ¡å™¨\n\næœåŠ¡å™¨ï¼šæŽ¥æ”¶æµè§ˆå™¨çš„è¯·æ±‚å‘å›žå“åº”\nå®¢æˆ·ï¼šå‘åˆå§‹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚å¹¶æŽ¥æ”¶å“åº”\n\n\nå‡å°‘äº†å®¢æˆ·ç«¯è¯·æ±‚çš„å“åº”æ—¶é—´\n\nå‡å°‘äº†ä¸€ä¸ªæœºæž„çš„æŽ¥å…¥é“¾è·¯åˆ°å› ç‰¹ç½‘çš„é€šä¿¡é‡\n\nThe Conditional GET\n\n\n\n\n\n\n\n\n\næ¡ä»¶GETï¼šä¸ºäº†ä¿è¯Webç¼“å­˜å™¨çš„å¯¹è±¡æ˜¯æœ€æ–°çš„\n\nè¯·æ±‚æŠ¥æ–‡ä¸­ä½¿ç”¨GETæ–¹æ³•å¹¶ä¸”åŒ…å«ä¸€ä¸ªâ€If-Modified-Sinceâ€é¦–éƒ¨è¡Œ\nå®¢æˆ·ç«¯ï¼šåœ¨HTTPè¯·æ±‚ä¸­æŒ‡å®šç¼“å­˜å‰¯æœ¬çš„æ—¥æœŸ\næœåŠ¡å™¨ï¼šå¦‚æžœç¼“å­˜çš„å‰¯æœ¬æ˜¯æœ€æ–°çš„ï¼Œåˆ™å“åº”ä¸åŒ…å«ä»»ä½•å¯¹è±¡\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”\nâ”‚clientâ”‚                  â”‚serverâ”‚\nâ””â”€â”€â”¬â”€â”€â”€â”˜                  â””â”€â”€â”¬â”€â”€â”€â”˜\n   â”‚                         â”‚    \n   â”‚If-modified-since &lt;date&gt; â”‚    \n   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚    \n   â”‚                         â”‚    \n   â”‚HTTP&#x2F;1.0 304 Not Modifiedâ”‚    \n   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    \n   â”‚                         â”‚    \n   â”‚If-modified-since &lt;date&gt; â”‚    \n   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚    \n   â”‚                         â”‚    \n   â”‚ HTTP&#x2F;1.0 200 OK &lt;data&gt;  â”‚    \n   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    \nâ”Œâ”€â”€â”´â”€â”€â”€â”                  â”Œâ”€â”€â”´â”€â”€â”€â”\nâ”‚clientâ”‚                  â”‚serverâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”˜\n2.3 Electronic Mail in the InternetComponents of Email\n\nç”¨æˆ·ä»£ç†(User Agent)ï¼šé‚®ä»¶å®¢æˆ·ç«¯\né‚®ä»¶æœåŠ¡å™¨(Mail Server)ï¼š\né‚®ç®±(mailbox)ï¼šåŒ…å«ç”¨æˆ·çš„ä¼ å…¥ä¿¡æ¯\næŠ¥æ–‡é˜Ÿåˆ—(message queue)ï¼šåŒ…å«å¤–å‘(å¾…å‘)ä¿¡æ¯\n\n\nç®€å•é‚®ä»¶ä¼ è¾“åè®®(SMTP, Simple Mail Transfer Protocol)ï¼š\n\nå‘/åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Šä¼ é€’/å­˜å‚¨æ¶ˆæ¯\nC/Sæ¨¡å¼ï¼š\nå®¢æˆ·ç«¯ï¼šç”¨æˆ·ä»£ç†æˆ–é‚®ä»¶æœåŠ¡å™¨\næœåŠ¡å™¨ï¼šé‚®ä»¶æœåŠ¡å™¨\n\n\nä¸ŽHTTPçš„æ¯”è¾ƒï¼š\nHTTPï¼šæ‹‰åè®®(pull protocol)ï¼Œç”¨æˆ·ä½¿ç”¨HTTPåè®®ä»ŽæœåŠ¡å™¨æ‹‰å–ä¿¡æ¯\nSMTPï¼šæŽ¨åè®®(push protocol)ï¼Œå‘é€é‚®ä»¶æœåŠ¡å™¨æŠŠæ–‡ä»¶æŽ¨å‘æŽ¥å—é‚®ä»¶æœåŠ¡å™¨\n\n\n\n\nå› ç‰¹ç½‘é‚®ä»¶è®¿é—®åè®®(IMAP, Internet Mail Access Protocol)\n\næ£€ç´¢/åˆ é™¤/æ–‡ä»¶å¤¹ä¸­å­˜å‚¨çš„é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶\n\n\n\nexp: Alice sends an email to Bob\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚                 â”‚Bob&#39;s user agentâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚        SMTP        â”‚                   â”‚                                  â”‚         \n         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚       SMTP        â”‚                                  â”‚         \n         â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚                                  â”‚         \n         â”‚                    â”‚                   â”‚mail access protocol (IMAP or POP)â”‚         \n         â”‚                    â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚         \nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚Alice&#39;s user agentâ”‚â”‚Alice&#39;s mail serverâ”‚â”‚Bob&#39;s mail serverâ”‚                 â”‚Bob&#39;s user agentâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n2.4 DNS-The Internetâ€™s Directory Service\n\n\n\n\n\n\n\n\nåŸŸåç³»ç»Ÿ(DNS, Domain Name System)ï¼šä¸€ä¸ªç”±åˆ†å±‚çš„DNSæœåŠ¡å™¨(DNS server)å®žçŽ°çš„åˆ†å¸ƒå¼æ•°æ®åº“ï¼›ä¸€ä¸ªä½¿å¾—ä¸»æœºèƒ½å¤ŸæŸ¥è¯¢åˆ†å¸ƒå¼æ•°æ®åº“çš„åº”ç”¨å±‚åè®®\nServices\n\nä¸»æœºååˆ°IPåœ°å€çš„è½¬æ¢\nä¸»æœºåˆ«å(host aliasing)ï¼Œè§„èŒƒä¸»æœºå(CNAME, canonical hostname)\n\né‚®ä»¶æœåŠ¡å™¨åˆ«å(mail server aliasing)\n\nè´Ÿè½½åˆ†é…(load distribution)ï¼šè®¸å¤šIPåœ°å€å¯¹åº”ä¸€ä¸ªåç§°\n\n\nHow DNS Works\n\nåˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“\næ ¹DNSæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸDNSæœåŠ¡å™¨ï¼Œæƒå¨DNSæœåŠ¡å™¨\næœ¬åœ°DNSæœåŠ¡å™¨\né€’å½’æŸ¥è¯¢(recursive query)ï¼Œè¿­ä»£æŸ¥è¯¢(iterative query)\n\n\nDNSç¼“å­˜(DNS caching)\n\n\n\n\n\n\n\n\n\n\nexp: a distributed, hierarchical database\n\n\n\n\n\n\n\n\n\n\nexp: iterative query (more commonly used) vs recursive query\n\n2.6 Video Streaming and Content Distribution Networks\n\n\n\n\n\n\n\n\nç»HTTPçš„åŠ¨æ€é€‚åº”æ€§æµ(DASH, Dynamic Adaptive Streaming over HTTP)\nå†…å®¹åˆ†å‘ç½‘(CDN, Content Distribution Network)\n\næœåŠ¡å™¨ï¼š\nå°†è§†é¢‘æ–‡ä»¶åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—ä»¥å¤šç§ä¸åŒé€ŸçŽ‡è¿›è¡Œç¼–ç \nä¸åŒé€ŸçŽ‡çš„ç¼–ç (encoding)å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­\næ–‡ä»¶è¢«å¤åˆ¶åˆ°å¤šä¸ªCDNèŠ‚ç‚¹ä¸­\nç”Ÿæˆå‘Šç¤ºæ–‡ä»¶(maifest file)ï¼Œä¸ºä¸åŒå—æä¾›URL\n\n\nå®¢æˆ·ç«¯ï¼š\nå®šä¹‰ä¼°ç®—æœåŠ¡å™¨åˆ°å®¢æˆ·çš„å¸¦å®½\næŸ¥é˜…å‘Šç¤ºæ–‡ä»¶ï¼Œæ¯æ¬¡è¯·æ±‚ä¸€ä¸ªåˆ†å—\nå†³å®šä½•æ—¶/ä½•ç§ç¼–ç çŽ‡/è¯·æ±‚å“ªå°æœåŠ¡å™¨\n\n\n\nStreaming stored video: playout buffering\n\n\n\n\n\n\n\n\n\nSummary: video streaming = encoding + DASH + playout buffering\n\nChapter 3 Transport Layer\n\n\n\n\n\n\n\n\nä¼ è¾“å±‚\n3.1 Introduction and Transport-Layer Services\n\n\n\n\n\n\n\n\nè¿è¾“å±‚åè®®ä¸ºä¸åŒä¸»æœºä¸Šçš„åº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›äº†é€»è¾‘é€šä¿¡(logic communication)\n\nå‘é€æ–¹\né€šè¿‡å¥—æŽ¥å­—ä¼ é€’åº”ç”¨å±‚çš„æŠ¥æ–‡\nç¡®å®šæŠ¥æ–‡æ®µ(segment)æŠ¥å¤´çš„å€¼\nåˆ›å»ºæŠ¥æ–‡æ®µ\nå°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚\n\n\næŽ¥æ”¶æ–¹\nä»Žç½‘ç»œå±‚æŽ¥æ”¶æŠ¥æ–‡æ®µ\næ£€æŸ¥æŠ¥å¤´å€¼\næå–åº”ç”¨å±‚çš„æŠ¥æ–‡\né€šè¿‡å¥—æŽ¥å­—å°†æŠ¥æ–‡ä¼ é€’ç»™åº”ç”¨å±‚\n\n\n\nTransport vs Network layer services\nexp: å®¶åº­é—´çš„é‚®ä»¶ä¼ é€’\nä¸»æœºï¼šå®¶åº­\nè¿›ç¨‹ï¼šå­©å­\nåº”ç”¨å±‚æŠ¥æ–‡ï¼šä¿¡ä»¶\nè¿è¾“å±‚åè®®ï¼šä¸¤ä¸ªå®¶åº­ä¸­ç”± Ann å’Œ Bill ä¸ºå­©å­ä»¬æ”¶å‘ä¿¡ä»¶\nç½‘ç»œå±‚åè®®ï¼šé‚®æ”¿æœåŠ¡\nä¸æä¾›çš„æœåŠ¡ï¼šå»¶è¿Ÿä¿è¯ï¼Œå¸¦å®½ä¿è¯\n3.2 Multiplexing and Demultiplexing\n\n\n\n\n\n\n\n\nå¤ç”¨(multiplexing)ï¼šåœ¨æºä¸»æœºä»Žä¸åŒå¥—æŽ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°è£…ä¸Šé¦–éƒ¨ä¿¡æ¯ç”ŸæˆæŠ¥æ–‡æ®µï¼Œå°†æŠ¥æ–‡æ®µä¼ é€’ç»™ç½‘ç»œå±‚\nåˆ†ç”¨(demultiplexing)ï¼šå°†è¿è¾“å±‚æŠ¥æ–‡æ®µçš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æŽ¥å­—\nå¥—æŽ¥å­—æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè€Œæ¯ä¸ªæŠ¥æ–‡æ®µé€šè¿‡æºç«¯å£å·å­—æ®µ(source port number field)ï¼Œç›®çš„ç«¯å£å·å­—æ®µ(destination port number field)æŒ‡ç¤ºæŠ¥æ–‡æ®µæ‰€è¦äº¤ä»˜åˆ°çš„å¥—æŽ¥å­—\n\n\n\n\n\n\n\n\n\nä¸‹å›¾å±•ç¤ºäº†å¤ç”¨å’Œåˆ†ç”¨çš„è¿‡ç¨‹\n\n3.3 UDP: Connectionless Transport\n\n\n\n\n\n\n\n\nç”¨æˆ·æ•°æ®æŠ¥åè®®\n\næ— è¿žæŽ¥çš„\n\nUDPå‘é€æ–¹å’ŒæŽ¥æ”¶æ–¹ä¹‹é—´æ²¡æœ‰æ¡æ‰‹åè®®\næ¯ä¸ªUDPæ•°æ®æŠ¥ç‹¬ç«‹å¤„ç†\n\n\nå°½åŠ›è€Œä¸ºäº¤ä»˜æœåŠ¡(best-effort delivery service)\n\næŠ¥æ–‡æ®µå¯èƒ½ä¸¢å¤±\næŠ¥æ–‡æ®µå¯èƒ½ä¸ç¬¦åˆé¡ºåº\n\n\n\nWhy there is a UDP\n\næ— éœ€å»ºç«‹è¿žæŽ¥\nä¸éœ€è¦æ¡æ‰‹(æ— RTTå»¶è¿Ÿ)\næ— è¿žæŽ¥çŠ¶æ€\n\n\næŠ¥å¤´å°ºå¯¸å°\næ²¡æœ‰æ‹¥å¡žæŽ§åˆ¶\né€Ÿåº¦å¿«\næœ‰é¢å¯¹æ‹¥å µæ—¶çš„æœºåˆ¶\n\n\nç”¨ä¾‹ï¼šDNS, SNMP, HTTP/3(åœ¨åº”ç”¨å±‚å¢žåŠ æ‰€éœ€å¯é æ€§ä»¥åŠæ‹¥å µæŽ§åˆ¶)\n\nUDP Segment Structure\n ------------ 32bit ------------\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n| source port # |  dest port #  |\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n|    length     |   checksum    |\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n|                               |\n|  application data (payload)   |\n|                               |\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\næ£€éªŒå’Œ(checksum): æä¾›å·®é”™æ£€æµ‹åŠŸèƒ½ï¼Œå‘é€æ–¹çš„UDPå¯¹æŠ¥æ–‡æ®µä¸­æ‰€æœ‰16bitå­—çš„å’Œè¿›è¡Œåç è¿ç®—å¾—åˆ°\n3.4 Principles of Reliable Data Transfer\n\n\n\n\n\n\n\n\nå¯é æ•°æ®ä¼ è¾“åè®®(rdtåè®®, reliable data transfer protocol)ï¼šä¸ºTCPçš„å¯é æ€§ä¿è¯åšå‡†å¤‡\nBuilding a Reliable Data Transfer Protocol\nå‡è®¾ï¼š\n\nå•å‘çš„æ•°æ®ä¼ è¾“(å‘é€æ–¹åˆ°æŽ¥æ”¶æ–¹)\nåœ¨ä¸å¯é çš„ä¿¡é“ä¸­è¿›è¡ŒåŒå‘æŽ§åˆ¶ä¿¡æ¯(å³ACK)æµåŠ¨\n\né€æ­¥æ”¹è¿›rdtåè®®(æä¾›æœ‰é™çŠ¶æ€æœº(Finite-State Machine, FSM) )ï¼š\n\nrdt1.0ï¼šä¿¡é“å®Œå…¨å¯é \nrdt2.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™ï¼Œä½¿ç”¨ACK(è‚¯å®šç¡®è®¤, positive acknowledgment) /NAK(å¦å®šç¡®è®¤, negative acknowledgment)ï¼ŒåŸºäºŽè¿™æ ·é‡ä¼ æœºåˆ¶çš„å¯é æ•°æ®ä¼ è¾“åè®®ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚(ARQ, Automatic Repeat reQuest)åè®®\n\nrdt2.1ï¼šå¦‚æžœACK/NAKè¢«ç ´åï¼Œä½¿ç”¨åºå·(sequence number)æ¥å¤„ç†é‡å¤çš„ä¿¡æ¯\n\nrdt2.2ï¼šåªä½¿ç”¨ACK\nrdt3.0ï¼šä¿¡é“å…·æœ‰æ¯”ç‰¹å·®é”™å’Œä¸¢åŒ…ï¼Œä½¿ç”¨å€’è®¡æ•°å®šæ—¶å™¨(countdown timer)ï¼Œrdt3.0åˆç§°æ¯”ç‰¹äº¤æ›¿åè®®\n\nStop-and-Wait (starting from rdt2.0)\n\n\n\n\n\n\n\n\n\nåœç­‰åè®®ï¼šå‘é€æ–¹å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç„¶åŽç­‰å¾…æŽ¥æ”¶æ–¹çš„å›žåº”\nå‘é€æ–¹å¿…é¡»ç­‰å¾…å‘é€çš„æ•°æ®åŒ…åˆ°è¾¾ï¼Œæˆ–è€…ç›´åˆ°è¶…æ—¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´å‘é€æ–¹é•¿æ—¶é—´å¤„äºŽç©ºé—²çŠ¶æ€ç­‰å¾…ç¡®è®¤\nPipelining\n\n\n\n\n\n\n\n\n\nsuccessor of Stop-and-Wait\næµæ°´çº¿ï¼šå‘é€æ–¹å…è®¸å¤šä¸ªå‘é€ä¸­çš„ã€å°šæœªè¢«ACKçš„æ•°æ®åŒ…\n\nGo-Back-N(GBN)\nå‘é€æ–¹ï¼š\næœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿žç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£ï¼ŒNè¢«ç§°ä¸ºçª—å£é•¿åº¦(window size)\nç´¯è®¡ç¡®è®¤(commulative ACK(n))\nè¡¨æ˜ŽæŽ¥æ”¶æ–¹ä»¥æ­£ç¡®æ”¶åˆ°åºå·ä¸ºnçš„ä»¥å‰ä¸”åŒ…æ‹¬nåœ¨å†…çš„æ‰€æœ‰æ•°æ®åŒ…\nå‘å‰ç§»åŠ¨çª—å£ä½¿èµ·ç‚¹ä½äºŽ n+1\n\n\nå¯¹å‘é€æ—¶é—´æœ€æ—©ä½†æœªè¢«ç¡®è®¤çš„æ•°æ®åŒ…è¿›è¡Œè®¡æ—¶\nè¶…æ—¶äº‹ä»¶(timeout(n))ï¼šé‡ä¼ nå·å’Œæ‰€æœ‰åºå·æ›´é«˜çš„æ•°æ®åŒ…\n\n\næŽ¥æ”¶æ–¹ï¼š\nä»…å‘é€æœ€é«˜åºå·çš„ACK\nåœ¨æ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶\nä¸¢å¼ƒæˆ–ç¼“å­˜\né‡æ–°å‘é€æŒ‰ç…§é¡ºåºçš„æœ€é«˜åºå·çš„ACK\n\n\n\n\n\n\nSelective Repeat(SR)\nå‘é€æ–¹ï¼š\næœ€å¤šå¯ä»¥æœ‰åºå·èŒƒå›´ä¸ºNä¸ªçš„ã€è¿žç»­ä¼ è¾“ä½†æœªACKçš„æ•°æ®åŒ…çš„çª—å£\nACK(n)ï¼šæ ‡è®°nå·æ•°æ®åŒ…å·²æ”¶åˆ°ï¼Œå¦‚æžœnæ˜¯æœ€å°çš„æœªACKçš„æ•°æ®åŒ…ï¼Œåˆ™çª—å£å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæœªACKçš„æ•°æ®åŒ…å¼€å§‹\ntimeout(n)ï¼šå¯¹æœªACKçš„æ•°æ®åŒ…å•ç‹¬é‡ä¼ \n\n\næŽ¥æ”¶æ–¹\nå•ç‹¬ACK(n)\næ”¶åˆ°å¤±åºçš„æ•°æ®åŒ…æ—¶ï¼šç¼“å­˜\næ”¶åˆ°æœ‰åºçš„æ•°æ®åŒ…æ—¶ï¼šäº¤ä»˜(ä¹Ÿäº¤ä»˜ç¼“å†²çš„ã€ç¬¦åˆé¡ºåºçš„æ•°æ®åŒ…)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nåœ¨Go-Back-Nä¸­ä½¿ç”¨çš„ç´¯è®¡ç¡®è®¤åœ¨TCPä¸­ä¹Ÿæœ‰ä½¿ç”¨\nå‘é€çª—å£å’ŒæŽ¥æ”¶çª—å£çš„å¤§å°å¿…é¡»ç›¸ç­‰\n3.5 TCP: Connection-Oriented Transport\n\n\n\n\n\n\n\n\nä¼ è¾“æŽ§åˆ¶åè®®\n\nç‚¹å¯¹ç‚¹(point-to-point)ï¼šä¸€ä¸ªå‘é€æ–¹ï¼Œä¸€ä¸ªæŽ¥æ”¶æ–¹\nå¯é çš„ï¼Œæœ‰åºçš„å­—èŠ‚æµ(byte-stream)\né¢å‘è¿žæŽ¥çš„(connection-oriented)ï¼šåœ¨æ•°æ®äº¤æ¢å‰ æ¡æ‰‹(handshaking) åˆå§‹åŒ–å‘é€æ–¹å’ŒæœåŠ¡å™¨çŠ¶æ€\nç´¯è®¡ç¡®è®¤(cumulative ACKs)\nå…¨åŒå·¥æœåŠ¡(full-duplex service)ï¼šåœ¨åŒä¸€è¿žæŽ¥ä¸­åŒæ—¶è¿›è¡ŒåŒå‘æ•°æ®æµ\næµæ°´çº¿ï¼šæµé‡å’Œæ‹¥å µæŽ§åˆ¶\n\nTCP Segment Structure\n\n\n\n\n\n\n\n\n\n\nUAPRSFï¼šURG, ACK, PSH, RST, SYN, FIN\n\nåºåˆ—å·(Sequence Number)ï¼šåˆ†æ®µæ•°æ®ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å­—èŠ‚æµç¼–å·\nç¡®è®¤å·(Acknowledgement Number)ï¼šç¡®è®¤å¯¹æ–¹ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·ï¼Œç´¯è®¡ACK\n\nRTT Estimation(via EWMA) and Timeout\n\n\n\n\n\n\n\n\n\nRTT: è¿žæŽ¥çš„å¾€è¿”æ—¶é—´\nSampleRTT: æŠ¥æ–‡æ®µçš„æ ·æœ¬RTT\nEstimateRTT: ä¼°è®¡å¾€è¿”æ—¶é—´\nTimeoutInterval: è¶…æ—¶é‡ä¼ é—´éš”\nDevRTT: åå·®RTT\nEWMA: æŒ‡æ•°åŠ æƒç§»åŠ¨å¹³å‡ Exponential Weighted Moving Average\n\nEstimatedRTT = (1-Î±) * EstimatedRTT + Î± * SampleRTT\n\nå–Î± = 0.125\n\nTimeoutInterval = EstimatedRTT + 4Â·DevRTT\n\nDevRTT = (1-Î²) * DevRTT + Î² * |SampleRTT - EstimatedRTT|\n\nå–Î² = 0.25\n\n\nFast Retransmit\nTCPå¿«é€Ÿé‡ä¼ ï¼šå¦‚æžœæ£€æµ‹åˆ°3ä¸ªå†—ä½™çš„ACKï¼Œåˆ™TCPæ‰§è¡Œå¿«é€Ÿé‡ä¼ ï¼Œåœ¨è¯¥æŠ¥æ–‡æ®µçš„å®šæ—¶å™¨è¿‡æœŸä¹‹å‰é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µ\nFlow Control\næµé‡æŽ§åˆ¶ï¼š\n\næŽ¥æ”¶æ–¹æŽ§åˆ¶å‘é€æ–¹ï¼Œè¿™æ ·å‘é€æ–¹å°±ä¸ä¼šæº¢å‡ºæŽ¥æ”¶æ–¹çš„ç¼“å†²åŒº\n\næŽ¥æ”¶çª—å£rwnd(receive window)ï¼šåœ¨TCPå¤´çš„rwndå­—æ®µä¸­ï¼ŒæŒ‡ç¤ºè¯¥æŽ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨çš„ç¼“å­˜ç©ºé—´ï¼Œæˆ–è¡¨ç¤ºå‘é€æ–¹å°†æ•°æ®é‡é™åˆ¶åœ¨rwndå†…\n\n\nTCP Connection Management\n\nä¸‰æ¬¡æ¡æ‰‹(three-way handshake)å»ºç«‹è¿žæŽ¥\n\n\n\nå››æ¬¡æŒ¥æ‰‹(four-way handshake)ç»“æŸè¿žæŽ¥\n\n\n\n\n\n\n\n\n\n\n\nTCPçŠ¶æ€(TCO state)çš„å˜è¿ï¼Œæœ‰é™çŠ¶æ€æœº(FSM)\n3.6 Principles of Congestion Control\n\n\n\n\n\n\n\n\næ‹¥å¡žæŽ§åˆ¶\næ‹¥å¡ž(Congestion)ï¼š\n\nå¤ªå¤šçš„å‘é€è€…ä»¥å¤ªå¿«çš„é€Ÿåº¦å‘é€å¤ªå¤šçš„æ•°æ®\nè¡¨çŽ°ï¼šé«˜å»¶è¿Ÿã€ä¸¢åŒ…\nä¸Žæµé‡æŽ§åˆ¶ä¸åŒ(ä¸€ä¸ªå‘é€æ–¹å¯¹äºŽä¸€ä¸ªæŽ¥æ”¶æ–¹æ¥è¯´é€Ÿåº¦å¤ªå¿«)\n\nThe Causes and the Costs of Congestion\n\nåžåé‡æ°¸è¿œä¸ä¼šè¶…è¿‡å®¹é‡\nå»¶è¿Ÿéšç€å®¹é‡çš„å¢žåŠ è€Œå¢žåŠ \nä¸¢å¤±/è½¬å‘/ä¸å¿…è¦çš„ä¸­ç«¯ä¼šé™ä½Žæœ‰æ•ˆåžåé‡(throughput)\nä¸Šæ¸¸ä¼ è¾“å®¹é‡/ç¼“å†²åŒºä¼šå› ä¸‹æ¸¸ä¸¢åŒ…è€Œè¢«æµªè´¹\n\nCongestion Control\n\nç«¯åˆ°ç«¯æ‹¥å¡žæŽ§åˆ¶(end-end approach)ï¼š\næ²¡æœ‰æ¥è‡ªç½‘ç»œçš„æ˜Žç¡®åé¦ˆï¼Œä»Žè§‚å¯Ÿåˆ°çš„å»¶è¿Ÿã€æŸå¤±æŽ¨æ–­æ‹¥å¡žæƒ…å†µ\n\nç½‘ç»œè¾…åŠ©çš„æ‹¥å¡žæŽ§åˆ¶ï¼š\nIPè·¯ç”±å™¨åœ¨æ‹¥å µæ—¶å‘å‘é€/æŽ¥å—ä¸»æœºæä¾›ç›´æŽ¥åé¦ˆï¼Œå¯ä»¥æ˜¾ç¤ºæ‹¥å µç¨‹åº¦æˆ–è€…æ˜Žç¡®è®¾ç½®å‘é€é€ŸçŽ‡\n\n\n3.7 TCP Congestion ControlTCPçš„æ‹¥å¡žæŽ§åˆ¶ç®—æ³•(CCA, congestion control algorithm)ï¼š\n\næ‹¥å¡žçª—å£cwnd(Congestion Window)\n\næ…¢å¯åŠ¨(slow-start)ï¼š\n\ncwndçš„å€¼ä»¥1ä¸ªMSSå¼€å§‹ï¼Œæ¯å½“ä¼ è¾“çš„æŠ¥æ–‡æ®µé¦–æ¬¡è¢«ç¡®è®¤å°±å¢žåŠ ä¸€ä¸ªMSSï¼Œè¿™ä¸€è¿‡ç¨‹ä¸­æ¯è¿‡ä¸€ä¸ªRTTï¼Œå‘é€é€ŸçŽ‡å°±ç¿»å€ï¼ŒæŒ‡æ•°å¢žé•¿\næ…¢å¯åŠ¨é˜ˆå€¼ssthreshï¼šå¦‚æžœå­˜åœ¨ä¸€ä¸ªç”±è¶…æ—¶æŒ‡ç¤ºçš„ä¸¢åŒ…(å³æ‹¥å¡ž)ï¼ŒTCPå‘é€æ–¹å°† cwnd è®¾ç½®ä¸º1å¹¶é‡æ–°å¼€å§‹æ…¢å¯åŠ¨ï¼Œå°†ssthreshè®¾ä¸º cwnd/2, å³å½“æ£€æµ‹åˆ°æ‹¥å¡žæ—¶å°†å…¶ç½®ä½æ‹¥å¡žçª—å£å€¼çš„ä¸€åŠã€‚å½“åˆ°è¾¾æˆ–è€…è¶…è¿‡ssthreshçš„å€¼æ—¶ï¼Œè¿›å…¥æ‹¥å¡žé¿å…\n\n\næ‹¥å¡žé¿å…(Congestion Avoidance)\ncwndçš„å€¼æ¯ä¸ªRTTåªå¢žåŠ ä¸€ä¸ªMSSï¼Œçº¿æ€§å¢žé•¿\nç”±3ä¸ªå†—ä½™ACKå¼•èµ·çš„ä¸¢åŒ…æ—¶, ssthresh = cwnd/2, cwnd = 1MSS, è¿›å…¥å¿«é€Ÿæ¢å¤\n\n\nå¿«é€Ÿæ¢å¤(Fast Recovery)\n\nå¯¹äºŽå¼•èµ·TCPè¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ”¶åˆ°çš„æ¯ä¸ªå†—ä½™ACKï¼Œcwndçš„å€¼å°±åŠ ä¸€ä¸ªMSSï¼Œå½“å¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ä¸€ä¸ªACKåˆ°è¾¾æ—¶ï¼ŒTCPé™ä½ŽcwndåŽè¿›å…¥æ‹¥å¡žé¿å…çŠ¶æ€\n\n\nåŠ æ€§å¢žã€ä¹˜æ€§å‡(AIMD, Additive-Increase, Multiplicative-Decrease) æ‹¥å¡žæŽ§åˆ¶æ–¹å¼\nå‡å®šä¸¢åŒ…ç”±3ä¸ªå†—ä½™ACKè€Œä¸æ˜¯è¶…æ—¶æŒ‡ç¤ºï¼šæ¯ä¸ªRTTå†…cwndçº¿æ€§(åŠ æ€§)å¢žåŠ 1MSSï¼Œç„¶åŽå‡ºçŽ°3ä¸ªå†—ä½™ACKäº‹ä»¶æ—¶cwndå‡åŠ(ä¹˜æ€§å‡)\n\n\n\nChapter 4 The Network Layer: Data Planeç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢\n4.1 Overview of Network Layer\nå‘é€æ–¹ï¼š\nå°†æŠ¥æ–‡æ®µå°è£…æˆæ•°æ®æŠ¥(datagram)ï¼Œä¼ é€’ç»™é“¾è·¯å±‚\n\n\næŽ¥æ”¶æ–¹ï¼š\nä»Žæ•°æ®æŠ¥ä¸­æå–æŠ¥æ–‡æ®µï¼Œä¼ é€’ç»™ä¼ è¾“å±‚\n\n\nä¸¤ç§é‡è¦åŠŸèƒ½ï¼š\nè½¬å‘(Forwarding)ï¼šå°†æ•°æ®æŠ¥ä»Žè¾“å…¥é“¾è·¯è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯ä¸Šï¼Œç±»æ¯”æ—…æ¸¸ä¸­åœ¨æ¯ä¸ªè·¯å£åšå†³å®š\nè·¯ç”±(Routing)ï¼šç¡®å®šæ•°æ®æŠ¥ä»ŽåŽŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯çº¿\n\n\n\nTwo Network Layer Planes\n\nData Plane æ•°æ®å¹³é¢\n\næœ¬åœ°ï¼Œæ¯å°è·¯ç”±å™¨çš„åŠŸèƒ½\nè·¯ç”±å™¨å†…çš„æ•°æ®æŠ¥è½¬å‘\nç¡¬ä»¶\n\n\nControl Plane æŽ§åˆ¶å¹³é¢\n\nå…¨ç½‘\næ²¿ç€ä»ŽåŽŸç‚¹åˆ°ç›®çš„åœ°çš„è·¯å¾„ï¼Œåœ¨è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œæ•°æ®æŠ¥è·¯ç”±\nä¼ ç»Ÿè·¯ç”±ç®—æ³•ï¼šåœ¨è·¯ç”±å™¨ä¸­å®žçŽ°\nè½¯ä»¶å®šä¹‰ç½‘ç»œ(SDN, Software-Defined Networking)ï¼šåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸­å®žçŽ°\n\n\nè½¯ä»¶\n\n\n\nNetwork layerâ€™s â€œbest effortâ€ service model\n\n\n\n\n\n\n\n\n\nå°½åŠ›è€Œä¸ºæœåŠ¡ï¼šä¸ä¿è¯æˆåŠŸäº¤ä»˜ï¼ŒåŠæ—¶/æŒ‰é¡ºåºäº¤ä»˜ï¼Œæœ€å°å¸¦å®½\n4.2 Whatâ€™s inside a Router?\nè¾“å…¥ç«¯å£(input port):\n\né€šè¿‡headerçš„å€¼è¿›è¡Œè½¬å‘è¡¨æŸ¥è¯¢\nè½¬å‘æ–¹å¼ï¼š\nåŸºäºŽç›®çš„åœ°è½¬å‘ï¼šåªæ ¹æ®ç›®çš„åœ°çš„IPåœ°å€è¿›è¡Œè½¬å‘\né€šç”¨è½¬å‘ï¼šåŸºäºŽä»»ä½•ä¸€ç»„headerå€¼çš„è½¬å‘ï¼Œä¸ä»…ä»…æ˜¯ç½‘ç»œå±‚çš„åŠŸèƒ½ï¼šè½¬å‘(è·¯ç”±å™¨ï¼Œäº¤æ¢æœº)ï¼Œä¸¢å¼ƒ(é˜²ç«å¢™)ï¼Œä¿®æ”¹(NAT)ï¼Œå°è£…å¹¶è½¬å‘åˆ°æŽ§åˆ¶å™¨(SDN)\n\n\næœ€é•¿å‰ç¼€åŒ¹é…(longest prefix matching rule)ï¼šé€šå¸¸ä½¿ç”¨ä¸‰æ€å†…å®¹å¯å¯»å€å­˜å‚¨å™¨(TCAM, Tenary Content Address Memory)æ¥æŸ¥æ‰¾\n\näº¤æ¢ç»“æž„(switching fabric)ï¼š\n\nå°†æ•°æ®æŠ¥ä»Žè¾“å…¥é“¾è·¯ä¼ è¾“åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯\näº¤æ¢çŽ‡ï¼šæ•°æ®æŠ¥ä¼ è¾“çš„é€ŸçŽ‡ï¼Œé€šå¸¸ä»¥å¤šä¸ªè¾“å…¥/è¾“å‡ºçº¿è·¯é€ŸçŽ‡æ¥è¡¡é‡\nä¸‰ç§ä¸»è¦ç±»åž‹ï¼šå†…å­˜ã€æ€»çº¿ã€äº’è”ç½‘\n\næŽ’é˜Ÿ(queueing)ï¼š\n\nè¾“å…¥æŽ’é˜Ÿï¼š\nè¾“å…¥ç«¯å£çš„ç»¼åˆçº¿è·¯é€ŸçŽ‡å¤§äºŽäº¤æ¢é€ŸçŽ‡\néœ€è¦ç¼“å†²ï¼šæŽ’é˜Ÿå»¶è¿Ÿå’Œè¾“å…¥ç¼“å†²å™¨æº¢å‡ºé€ æˆçš„æŸå¤±\né˜»å¡ž(HOL, Head-Of-the-Line)ï¼šæŽ’åœ¨å‰é¢çš„æ•°æ®æŠ¥é˜»æ–­åŽé¢çš„æ•°æ®æŠ¥\n\n\nè¾“å‡ºæŽ’é˜Ÿï¼š\näº¤æ¢çŽ‡å¤§äºŽé“¾è·¯ä¼ è¾“é€ŸçŽ‡\néœ€è¦ç¼“å†²ï¼šç”±äºŽè¾“å‡ºç¼“å†²åŒºæº¢å‡ºï¼Œé€ æˆæŽ’é˜Ÿå»¶è¿Ÿå’ŒæŸå¤±\n\n\n\nç¼“å†²åŒºç®¡ç†ï¼š\n\nä¸¢å¼ƒç­–ç•¥ï¼šå°¾éƒ¨ä¸¢å¼ƒï¼ŒåŸºäºŽä¼˜å…ˆçº§çš„ä¸¢å¼ƒ\næ ‡è®°ï¼šECNï¼ŒRED\n\nPacket Scheduling\n\nå…ˆè¿›å…ˆå‡º(FIFO, First-In-First-Out)\nä¼˜å…ˆæƒæŽ’é˜Ÿ(priority queuing)ï¼š\nåˆ°è¾¾æ—¶åˆ†ç±»\nä»Žæœ€é«˜ä¼˜å…ˆçº§åˆ°æœ€ä½Žä¼˜å…ˆçº§\nä¼˜å…ˆçº§å†…çš„FIFO\n\n\nå¾ªçŽ¯æŽ’é˜Ÿ(RR, Round Robin queuing discipline)\nåˆ°è¾¾æ—¶åˆ†ç±»\né€šè¿‡ç±»å¾ªçŽ¯\nä¾æ¬¡ä»Žæ¯ä¸ªç±»ä¸­é€‰å‡ºä¸€ä¸ª\n\n\nåŠ æƒå…¬å¹³æŽ’é˜Ÿ(WFQ, Weight Fair Queuing)\nå¹¿ä¹‰çš„Round  Robin\næ¯ä¸ªç±»åˆ«æœ‰æƒé‡\nåœ¨æ¯ä¸ªå¾ªçŽ¯ä¸­åŠ æƒæœåŠ¡é‡\næ¯ä¸ªæµé‡ç±»åˆ«çš„æœ€ä½Žå¸¦å®½ä¿è¯\n\n\n\n4.3 The Internet Protocol(IP): IPv4, Addressing, IPv6, and Moreç½‘é™…åè®®IP\nIPv4 vs IPv6\n\n\n\n\n\n\n\n\n\nIPv4 32ä½åœ°å€ç¼–ç    IPv6 128ä½åœ°å€ç¼–ç \n\né€šè¿‡éš§é“(tunnel)æ—¶ï¼ŒIPv6æ•°æ®æŠ¥ä½œä¸ºIPv4æ•°æ®æŠ¥çš„æœ‰æ•ˆè½½è·å®žçŽ°å…±å­˜\n\nIP Addressingï¼š\n\nIPåœ°å€ï¼šä¸Žæ¯ä¸ªä¸»æœº/è·¯ç”±å™¨æŽ¥å£(interface)ç›¸å…³çš„32ä½æ ‡è¯†ç¬¦\næŽ¥å£ï¼š\nä¸»æœº/è·¯ç”±å™¨å’Œç‰©ç†é“¾è·¯ä¹‹é—´çš„è¿žæŽ¥\næŽ¥å£çš„æ•°é‡ï¼šè·¯ç”±å™¨é€šå¸¸å¤šä¸ªï¼Œä¸»æœºé€šå¸¸ä¸€ä¸ªæˆ–ä¸¤ä¸ª\næœ‰çº¿ä»¥å¤ªç½‘\næ— é™802.11\n\n\n\n\nç‚¹åˆ†åè¿›åˆ¶è®°æ³•(dotted-decimal notation)\næ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©(CIDR, Classless Interdomain Routing)\nä»»æ„é•¿åº¦çš„å­ç½‘åœ°å€xï¼Œå³å­ç½‘æŽ©ç (subnet mask)\na.b.c.d/x\n\n\n\nHow to get an IP ?\n\nä¸»æœºï¼š\nç¡¬ç¼–ç \nåŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP, Dynamic Host Configuration)ï¼š\nä¸»æœºåœ¨åŠ å…¥ç½‘ç»œæ—¶åŠ¨æ€åœ°ä»ŽDHCPæœåŠ¡å™¨èŽ·å–ä¸€ä¸ªIPåœ°å€\nDHCPæœåŠ¡å™¨ä½äºŽè·¯ç”±å™¨ä¸­\nåœ°å€çš„é‡å¤ä½¿ç”¨\nå³æ’å³ç”¨åè®®(plug-and-play protocol)\nè¿”å›žçš„ä¸ä»…ä»…æ˜¯å­ç½‘ä¸­åˆ†é…çš„IPåœ°å€\nç¬¬ä¸€è·³è·¯ç”±å™¨çš„åœ°å€\nDNSæœåŠ¡å™¨çš„åç§°å’ŒIPåœ°å€\nå­ç½‘æŽ©ç \n\n\n\n\n\n\nå­ç½‘(subnet) (å³ç½‘ç»œå¦‚ä½•èŽ·å¾—å…¶IPåœ°å€çš„å­ç½‘éƒ¨åˆ†)\nä»Žå…¶ISPèŽ·å¾—\n\n\nISP (å³ä¸€ä¸ªISPå¦‚ä½•èŽ·å¾—å…¶åœ°å€å—)\nä»ŽICANN\n\n\n\nNetwork Address Translation(NAT)\nç½‘ç»œåœ°å€è½¬æ¢NAT\n\nå°±å¤–éƒ¨ä¸–ç•Œè€Œè¨€ï¼Œæœ¬åœ°ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡åªå…±äº«ä¸€ä¸ªIPv4åœ°å€\næœ¬åœ°IPåœ°å€åœ¨3ä¸ªä¸“ç”¨IPåœ°å€(private network)èŒƒå›´å†…\n\n\nä¼˜åŠ¿\næ‰€æœ‰è®¾å¤‡éƒ½æœ‰ä¸€ä¸ªæ¥è‡ªISPçš„IPåœ°å€\næ”¹å˜æœ¬åœ°åœ°å€ä¸éœ€è¦é€šçŸ¥å¤–éƒ¨ä¸–ç•Œ\næ”¹å˜ISPè€Œä¸æ”¹å˜æœ¬åœ°åœ°å€\næœ¬åœ°è®¾å¤‡ä¸ä¼šè¢«å¤–ç•Œç›´æŽ¥çœ‹åˆ°ï¼Œä¿è¯å®‰å…¨\n\n\nå®žçŽ° (é€æ˜Ž)\nå¯¹å‘å‡ºçš„æ•°æ®æŠ¥ï¼š\nå°† (æºIPåœ°å€ï¼Œç«¯å£) æ›¿æ¢ä¸º (NAT IPåœ°å€ï¼Œæ–°ç«¯å£)\nè¿œç¨‹ä¸»æœºå°†ä»¥ (NAT IPåœ°å€ï¼Œæ–°ç«¯å£) ä½œä¸ºç›®çš„åœ°è¿›è¡Œå“åº”\n\n\nNATè½¬æ¢è¡¨(NAT translation table)\næ¯ä¸ª (æºIPåœ°å€ï¼Œç«¯å£)  &lt;-&gt;  (NAT IPåœ°å€ï¼Œç«¯å£)\n\n\nå¯¹ä¼ å…¥çš„æ•°æ®æŠ¥ï¼š\nç”¨NATè½¬æ¢è¡¨è¿›è¡Œåå‘è½¬æ¢\n\n\n\n\n\n4.4 Generalized Forwarding and SDNGeneralized Forwarding\né€šç”¨è½¬å‘ï¼šä¸€å¼ æµè¡¨(flow table)å°†åŸºäºŽç›®çš„åœ°çš„è½¬å‘è¡¨ä¸€èˆ¬åŒ–\n\nOpenFlowï¼šä¸€ä¸ªåŒ¹é…åŠ åŠ¨ä½œè½¬å‘æŠ½è±¡çš„æ ‡å‡†\n\næµè¡¨ï¼šåŒ¹é…åŠ åŠ¨ä½œè½¬å‘è¡¨\n\nåŒ¹é…ï¼šå…¥ç«¯å£ã€IPæºåœ°å€ã€IPç›®çš„åœ°å€ (å…è®¸é€šé…ç¬¦*)\nåŠ¨ä½œï¼šè½¬å‘ã€ä¸¢å¼ƒã€ä¿®æ”¹å­—æ®µ\n\n\n\n\nChapter 5 The Network Layer: Control Planeç½‘ç»œå±‚ï¼šæŽ§åˆ¶å¹³é¢\n5.1 Introductionæž„å»ºç½‘ç»œæŽ§åˆ¶å¹³é¢çš„ä¸¤ç§æ–¹æ³•ï¼š\n\næ¯è·¯ç”±å™¨æŽ§åˆ¶(per-router control)ï¼š(ä¼ ç»Ÿçš„ï¼Œåˆ†å¸ƒå¼)\næ¯ä¸ªè·¯ç”±å™¨ä¸­éƒ½æœ‰å•ç‹¬çš„è·¯ç”±ç®—æ³•ç»„ä»¶\nè·¯ç”±å™¨ä¹‹é—´ç›´æŽ¥äº’åŠ¨\n\n\né€»è¾‘é›†ä¸­å¼æŽ§åˆ¶(logically centralized/ SDN control)\nè·¯ç”±å™¨ä¹‹é—´ä¸ç›¸äº’å½±å“\n\n\n\n\n\n\n\n\n\n\n\n\nè·¯ç”±ç®—æ³•åœ¨ä¸¤ç§æ–¹æ³•ä¸­éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åªæ˜¯å¦‚ä½•å®žçŽ°\n5.2 Routing Algorithmsè·¯ç”±é€‰æ‹©ç®—æ³•\n\nDijkstraâ€™s link state algorithm\n\n\n\n\n\n\n\n\n\né“¾è·¯çŠ¶æ€(Link State, LS)\n\nå±žäºŽé›†ä¸­å¼è·¯ç”±é€‰æ‹©ç®—æ³•(centralized routing algorithm)\nå¿…é¡»çŸ¥é“ç½‘ç»œä¸­æ¯æ¡é“¾è·¯çš„å¼€é”€\n\n\nBellman Fordâ€™s (BS) distance vector algorithm\n\n\n\n\n\n\n\n\n\nè·ç¦»å‘é‡(Distance Vector, DV)\n\nå±žäºŽåˆ†æ•£å¼è·¯ç”±é€‰æ‹©ç®—æ³•(decentralized routing algorithm)\næ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤åˆ°ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„å¼€é”€(è·ç¦»)ä¼°è®¡çš„å‘é‡\n\n\n\nDijkstraâ€™s Link State Algorithm\n\né›†ä¸­å¼\næ‰€æœ‰èŠ‚ç‚¹éƒ½çŸ¥é“ç½‘ç»œæ‹“æ‰‘ç»“æž„(å›¾)\næ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ç›¸åŒçš„ä¿¡æ¯\né€šè¿‡é“¾è·¯çŠ¶æ€å¹¿æ’­å®Œæˆ\n\n\nè®¡ç®—ä»Žä¸€ä¸ªèŠ‚ç‚¹åˆ°æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„æœ€å°æˆæœ¬è·¯å¾„ï¼Œä¸ºè¯¥èŠ‚ç‚¹ç”Ÿæˆè½¬å‘è¡¨\n\nè¿­ä»£(iterative)\n\nç»è¿‡kæ¬¡è¿­ä»£ï¼ŒçŸ¥é“åˆ°kä¸ªç›®çš„åœ°çš„æœ€ä½Žæˆæœ¬è·¯å¾„\n\n\nç®—æ³•å¤æ‚æ€§: $O(n^2)$\næ¯æ¬¡è¿­ä»£éœ€è¦æ£€æŸ¥æ‰€æœ‰ä¸åœ¨Nä¸­çš„èŠ‚ç‚¹\næœ‰ $O((n+m)logn )$ çš„å¯èƒ½ï¼Œæœ‰æœ€å°ä¼˜å…ˆçº§çš„é˜Ÿåˆ—\n\n\nä¿¡æ¯å¤æ‚æ€§: $O(n^2)$\n\né“¾è·¯çŠ¶æ€å¹¿æ’­(link state broadcast)ï¼šæ¯ä¸ªè·¯ç”±å™¨å¿…é¡»å‘æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é“¾æŽ¥çŠ¶æ€\næœ‰æ•ˆçš„å¹¿æ’­ç®—æ³•ï¼š$O(n)$ ä¸ªé“¾è·¯äº¤å‰ç‚¹æ¥ä¼ æ’­æ¥è‡ªä¸€ä¸ªæºçš„å¹¿æ’­æ¶ˆæ¯\næ¯ä¸ªè·¯ç”±å™¨çš„æ¶ˆæ¯ç©¿è¿‡ $O(n)$â€‹â€‹ ä¸ªé“¾æŽ¥\n\n\nå½“é“¾è·¯æˆæœ¬å–å†³äºŽæµé‡æ—¶å¯èƒ½å‡ºçŽ°æŒ¯è¡\n\n\nBellman Fordâ€™s Distance Vector Algorithm\n\nåˆ†æ•£å¼(decentralized)\n\nè·¯ç”±å™¨æœ€åˆåªçŸ¥é“è¿žæŽ¥åˆ°é‚»å±…çš„æˆæœ¬\nè·¯ç”±é€‰æ‹©è¡¨(routing table)\n\n\nè¿­ä»£çš„(iterative)\næ¯ä¸ªèŠ‚ç‚¹çš„è¡ŒåŠ¨ï¼š\n\nç­‰å¾…è§¦å‘æœ¬åœ°è¿­ä»£çš„å˜åŒ–\næœ¬åœ°é“¾è·¯æˆæœ¬å˜åŒ–\næ¥è‡ªé‚»å±…çš„è·ç¦»å‘é‡æ›´æ–°ä¿¡æ¯\n\n\né‡æ–°è®¡ç®—æœ¬åœ°è·ç¦»å‘é‡\nå¦‚æžœå˜åŒ–ï¼Œå‘é€æ–°çš„æœ¬åœ°è·ç¦»å‘é‡ç»™é‚»å±…\n\n\nå¼‚æ­¥çš„(asynchronous)\n\næ¯ä¸ªèŠ‚ç‚¹çš„è¿­ä»£é€Ÿåº¦å¯ä»¥ä¸åŒ\nè‡ªæˆ‘ç»ˆæ­¢çš„(self stopping) \næ¯ä¸ªèŠ‚ç‚¹åªåœ¨æœ¬åœ°è·ç¦»å‘é‡å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥å…¶é‚»å±…\næ²¡æœ‰æ”¶åˆ°é€šçŸ¥ï¼Œä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨\n\n\n\n\nå¥½æ¶ˆæ¯ä¼ å¾—å¿«(é“¾æŽ¥æˆæœ¬é™ä½Ž)ï¼Œåæ¶ˆæ¯ä¼ çš„æ…¢(é“¾æŽ¥æˆæœ¬å¢žåŠ )ï¼šæ— ç©·è®¡æ•°(count-to-infinity)é—®é¢˜\n\nç®—æ³•å¤æ‚æ€§ï¼š$O(n+m)$\nä¿¡æ¯å¤æ‚æ€§ï¼š(ç½‘ç»œç›´å¾„ä¸º $d$ çš„èŠ‚ç‚¹) $O(d)$ : çŠ¶æ€ä¿¡æ¯çš„æ‰©æ•£\n\næ”¶æ•›çš„é€Ÿåº¦ä¸åŒå¯¼è‡´æ”¶æ•›çš„æ—¶é—´ä¸åŒï¼Œå¯èƒ½æœ‰è·¯ç”±é€‰æ‹©çŽ¯è·¯(routing loop) å’Œ æ— ç©·è®¡æ•°é—®é¢˜ (count-to-infinity)\n\n\n5.3 Intra-AS Routing in the Internet: OSPF\n\n\n\n\n\n\n\n\nISP, AS, åŸŸåœ¨è¿™é‡Œå…·æœ‰ç›¸åŒå«ä¹‰\nAutonomous System(AS)\n\n\n\n\n\n\n\n\n\nè‡ªæ²»ç³»ç»Ÿï¼šå°†è·¯ç”±å™¨ç»„ç»‡è¿›AS\nåŸŸå†…è·¯ç”±åè®®ï¼š\n\nASä¸­çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»è¿è¡Œç›¸åŒçš„åŸŸå†…åè®®\nä¸åŒASç§çš„è·¯ç”±å™¨å¯ä»¥è¿è¡Œä¸åŒçš„åŸŸå†…åè®®\nç½‘å…³è·¯ç”±å™¨(gateway router)ï¼š\n\nåŸŸé—´è·¯ç”±åè®®ï¼š\n\nåœ¨ASä¹‹é—´è¿›è¡Œè·¯ç”±é€‰æ‹©\nç½‘å…³è·¯ç”±å™¨æ—¢æ‰§è¡ŒåŸŸé—´è·¯ç”±ï¼Œä¹Ÿæ‰§è¡ŒåŸŸå†…è·¯ç”±\n\nè½¬å‘è¡¨(Forwarding table)æ˜¯ç”±åŸŸå†…å’ŒåŸŸé—´å¡«å……çš„åè®®(ç›®çš„åœ°åœ¨ASå†…: Intra-; ç›®çš„åœ°åœ¨ASå¤–: Intra- å’Œ Inter-)\nOSPF(Open Shortest Path First)\n\n\n\n\n\n\n\n\n\nå¼€æ”¾æœ€çŸ­è·¯ä¼˜å…ˆ\n\næœ€å¸¸ç”¨çš„åŸŸå†…è·¯ç”±åè®®\nç»å…¸çš„Dijkstraé“¾è·¯çŠ¶æ€ç®—æ³•\næ¯ä¸ªè·¯ç”±å™¨å‘ASå†…æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å¹¿æ’­é€‰æ‹©ä¿¡æ¯(ç›´æŽ¥é€šè¿‡IPè€ŒéžTCP/UDP)\nå¯èƒ½æœ‰å¤šä¸ªæŒ‡æ ‡ï¼šå¸¦å®½ã€å»¶è¿Ÿ\n\n\næ‰€æœ‰OSPFæ¶ˆæ¯éƒ½ç»è¿‡è®¤è¯ä»¥é˜²æ­¢æ¶æ„å…¥ä¾µ\n\n\n5.4 Routing Among the ISPs: BGP\n\n\n\n\n\n\n\n\nè¾¹ç•Œç½‘å…³åè®® (Broder Gateway Protocol, BGP)\næ—¢æ¶‰åŠå†³ç­–ï¼Œä¹Ÿæ¶‰åŠæ€§èƒ½\n\nè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±é€‰æ‹©åè®® (inter- AS routing protocol)\nBGPä¸ºæ¯ä¸ªASæä¾›äº†ä¸€ç§æ–¹æ³•æ¥ï¼š\nä»Žé‚»è¿‘çš„ASèŽ·å¾—å¯è¾¾æ€§ä¿¡æ¯(eBGP)\nå°†å¯è¾¾æ€§ä¿¡æ¯ä¼ æ’­ç»™ASå†…çš„æ‰€æœ‰è·¯ç”±å™¨(iBGP)\n\n\nBGPä¼šè¯\nä¸¤ä¸ªBGPè·¯ç”±å™¨é€šè¿‡TCPè¿žæŽ¥äº¤æ¢BGPä¿¡æ¯\nè·¯å¾„é€šå‘Šï¼šå‰ç¼€(prefix, CIDRåŒ–ç›®æ ‡ç½‘ç»œ) + å±žæ€§(BGP attribute)\nä¸¤ä¸ªé‡è¦çš„å±žæ€§ï¼š\nAS-PATHï¼šé€šå‘Šå·²ç»é€šè¿‡çš„ASåˆ—è¡¨\nNEXT-HOP(ä¸‹ä¸€è·³)ï¼šé€šå¾€ä¸‹ä¸€è·³ASçš„å†…éƒ¨ASè·¯ç”±å™¨\n\n\n\n\nåŸºäºŽç­–ç•¥çš„è·¯ç”±é€‰æ‹©ï¼š\næ˜¯å¦æŽ¥å—ä¸€ä¸ªè·¯å¾„é€šå‘Šï¼Œexp: æ°¸è¿œä¸é€šè¿‡Xçš„è·¯ç”±\næ˜¯å¦å‘å¸ƒè·¯å¾„é€šå‘Šï¼Œexp: æµé‡æ°¸è¿œä¸ä¼šè·¯ç”±åˆ°X\n\n\n\n\nHot Potato Routing\n\n\n\n\n\n\n\n\n\nçƒ­åœŸè±†è·¯ç”±é€‰æ‹©ï¼šé€‰æ‹©åŸŸå†…æˆæœ¬æœ€ä½Žçš„æœ¬åœ°ç½‘å…³ï¼Œä¸ç”¨æ‹…å¿ƒåŸŸé—´æˆæœ¬ï¼Œå³å°½å¯èƒ½å¿«åœ°å°†æ•°æ®é€å‡º\nRoute-Selection Algorithm\n\n\n\n\n\n\n\n\n\nè·¯ç”±å™¨é€‰æ‹©ç®—æ³•ï¼šå½“æœ‰ä¸€æ¡ä»¥ä¸Šçš„è·¯ç”±å¯ç”¨æ—¶\n\nç­–ç•¥å†³å®š\næœ€çŸ­çš„AS-PATH\næœ€è¿‘çš„NEXT-HOPè·¯ç”±å™¨(hot potato)\né¢å¤–æ ‡å‡†\n\n5.5 The SDN Control Plane\n\n\n\n\n\n\n\n\nè½¯ä»¶å®šä¹‰ç½‘ç»œ(Software Defined Networking, SDN)\nWhy a logically centralized control plane?\n\næ›´å®¹æ˜“ç®¡ç†\n\nåŸºäºŽè¡¨çš„è½¬å‘ (OpenFlow API) å…è®¸å¯¹è·¯ç”±å™¨è¿›è¡Œç¼–ç¨‹\n\né›†ä¸­å¼ç¼–ç¨‹æ›´å®¹æ˜“ï¼šé›†ä¸­è®¡ç®—è¡¨å¹¶åˆ†å‘\n\n\nå¼€æ”¾çš„å®žçŽ°\nä¿ƒè¿›åˆ›æ–°\n\n\nChapter 6 The Link Layer and LANsé“¾è·¯å±‚å’Œå±€åŸŸç½‘\n6.1 Introduction to the Link Layer\nå‘é€æ–¹ï¼š\nå°†ç½‘ç»œå±‚çš„æ•°æ®æŠ¥å°è£…æˆå¸§(Frame)\n\n\næŽ¥æ”¶æ–¹\nä»Žå¸§ä¸­æå–æ•°æ®æŠ¥ï¼Œä¼ é€’ç»™ç½‘ç»œå±‚\n\n\né“¾è·¯å±‚ä¿¡é“ï¼š\nå¹¿æ’­ä¿¡é“ï¼šæœ‰çº¿å±€åŸŸç½‘ã€å«æ˜Ÿç½‘ã€HFC\nç‚¹å¯¹ç‚¹é€šä¿¡é“¾è·¯ï¼šç‚¹å¯¹ç‚¹åè®®(PPP, Point-to-Point Protocol)\n\n\n\nThe Services Provided by the Link Layer\n\næˆå¸§(framing)\né“¾è·¯æŽ¥å…¥(link access)ï¼šåª’ä½“è®¿é—®æŽ§åˆ¶(MAC, Media Access Control)åè®®è§„å®šäº†å¸§åœ¨é“¾è·¯ä¸Šçš„ä¼ è¾“è§„åˆ™\nå¯é äº¤ä»˜(Reliable delivery)ï¼šæ— å·®é”™åœ°ç»é“¾è·¯å±‚ç§»åŠ¨æ¯ä¸ªç½‘ç»œå±‚æ•°æ®æŠ¥\nå·®é”™æ£€æµ‹å’Œçº æ­£(Error detection and correction)\n\nWhere Is the Link Layer Implemented?\nç½‘ç»œé€‚é…å™¨(network adapter)ï¼Œä¹Ÿç§°ç½‘å¡(Network Interface Card , NIC)\n6.2 Error-Detection and -Correction Techniques\nå¥‡å¶æ ¡éªŒ(Parity Checks)\nå‰å‘çº é”™(Forward Error Correction, FEC)ï¼šæŽ¥æ”¶æ–¹æ£€æµ‹å’Œçº æ­£å·®é”™çš„èƒ½åŠ›\n\n\næ£€éªŒå’Œ(Checksumming)\nå¾ªçŽ¯å†—ä½™æ£€æµ‹(CRC, Cyclic Redundancy Check)\nå¤šé¡¹å¼ç¼–ç (polynomial code)\nç”Ÿæˆå¤šé¡¹å¼(generator)\n\n\n\n6.3 Multiple Access Links and Protocols\n\n\n\n\n\n\n\n\nå¤šè·¯è®¿é—®é“¾è·¯å’Œåè®®\n\nä¿¡é“åˆ’åˆ†åè®®(Channel Partitioning Protocols)ï¼š\nTDMï¼ˆæ—¶åˆ†å¤šè·¯å¤ç”¨ï¼‰\nFDMï¼ˆé¢‘åˆ†å¤šè·¯å¤ç”¨ï¼‰\nCDMA (ç åˆ†å¤šå€, Code Divison Multiple Access)\n\n\néšæœºæŽ¥å…¥åè®®(Random Access Protocols)\nSlotted ALOHAï¼ˆæ—¶éš™ALOHAï¼‰\nALOHA\nCSMAï¼ˆè½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰\nCSMA/CDï¼ˆå…·æœ‰ç¢°æ’žæ£€æµ‹çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®ï¼‰\n\n\nè½®æµåè®®(Taking-Turns Protocols)\nè½®è¯¢åè®®(polling protocol)\nä»¤ç‰Œä¼ é€’åè®®(token-passing protocol)\n\n\nDOCSISï¼šç”¨äºŽç”µç¼†å› ç‰¹ç½‘æŽ¥å…¥çš„é“¾è·¯å±‚åè®®\n\n6.4 Switched Local Area NetworksLink-Layer Addressing and ARP\n\nMAC Addresses(ç‰©ç†åœ°å€)\né•¿åº¦6å­—èŠ‚ï¼Œ2^48ä¸ªå¯èƒ½çš„MACåœ°å€\nMACå¹¿æ’­åœ°å€(broadcast address)ï¼šFF-FF-FF-FF-FF-FF\n\n\nARP(åœ°å€è§£æžåè®®, Address Resolution Protocol)\nåœ¨IPåœ°å€å’ŒMACåœ°å€é—´è¿›è¡Œè½¬æ¢\n\n\n\nEthernet Frame \n\nLink-Layer Switches\né“¾è·¯å±‚äº¤æ¢æœºï¼š\n\näº¤æ¢æœºè¡¨(switch table)ï¼š(MACåœ°å€ï¼Œé€šå‘è¯¥MACåœ°å€çš„äº¤æ¢æœºæŽ¥å£ï¼Œæ—¶é—´)\nè‡ªå­¦ä¹ (self-learning)\nå³æ’å³ç”¨è®¾å¤‡(plug-and-play device)\n\nSwitches vs Routers\n\näº¤æ¢æœºæ˜¯ç¬¬äºŒå±‚çš„åˆ†ç»„äº¤æ¢æœºï¼Œè·¯ç”±å™¨æ˜¯ç¬¬ä¸‰å±‚çš„åˆ†ç»„äº¤æ¢æœº\näº¤æ¢æœºå³æ’å³ç”¨ï¼Œä½†å¯¹äºŽå¹¿æ’­é£Žæš´(broadcast storms)æ²¡æœ‰ä¿æŠ¤æŽªæ–½\n\nè·¯ç”±å™¨å’Œè¿žæŽ¥åˆ°ä»–ä»¬çš„ä¸»æœºéœ€è¦äººä¸ºé…ç½®IPåœ°å€ï¼Œè·¯ç”±å™¨å¯¹ç¬¬äºŒå±‚çš„å¹¿æ’­é£Žæš´æä¾›äº†é˜²ç«å¢™ä¿æŠ¤(firewall protections)\n\n\n\n\n\n\n\n\n\n\n\näº¤æ¢æœºï¼Œè·¯ç”±å™¨å’Œä¸»æœºä¸­çš„æ•°æ®åŒ…å¤„ç†\n\nVirtual Local Area Networks (VLANs)\nè™šæ‹Ÿå±€åŸŸç½‘çš„ä½œç”¨ï¼šæµé‡éš”ç¦»(traffic isolation)ï¼Œç®¡ç†ç”¨æˆ·(managing users)\n\nChapter 7 Wireless and Mobile Networksæ— çº¿ç½‘ç»œå’Œç§»åŠ¨ç½‘ç»œ\n7.1 Introduction\næ— çº¿ä¸»æœº(wireless host)ï¼šä¸»æœºæœ¬èº«å¯èƒ½ç§»åŠ¨ä¹Ÿå¯èƒ½ä¸ç§»åŠ¨\næ— çº¿é“¾è·¯(wireless communication link)ï¼šä¸»æœºé€šè¿‡æ— çº¿çº¿è·¯è¿žæŽ¥åˆ°ä¸€ä¸ªåŸºç«™æˆ–è€…å¦ä¸€å°æ— çº¿ä¸»æœº\nåŸºç«™(base station)ï¼šexp: èœ‚çªå¡”(cell tower)ï¼Œ802.11æ— çº¿LANä¸­çš„æŽ¥å…¥ç‚¹(access point)\n\n\n\n7.2 Wireless Links and Network Characteristicswire link vs wireless link\n\nè·¯å¾„æŸè€—(path loss)ï¼šä¿¡å·å¼ºåº¦é€’å‡\n\næ¥è‡ªå…¶ä»–æºçš„å¹²æ‰°\n\nå¤šå¾„ä¼ æ’­(multipath propagation)ï¼šç”µç£æ³¢çš„ä¸€éƒ¨åˆ†å—åå°„åœ¨å‘é€æ–¹å’ŒæŽ¥æ”¶æ–¹é—´èµ°äº†ä¸åŒé•¿åº¦çš„è·¯å¾„\n\nSignal-to-Noise Ratio(SNR)\n\n\n\n\n\n\n\n\n\n ä¿¡å™ªæ¯”(SNR)ï¼šæ‰€å—åˆ°çš„ä¿¡å·å’Œå™ªå£°å¼ºåº¦çš„ç›¸å¯¹æµ‹é‡\næ¯”ç‰¹å·®é”™çŽ‡(BER)ï¼šæŽ¥æ”¶æ–¹æ”¶åˆ°çš„æœ‰é”™ä¼ è¾“çš„æ¯”ç‰¹çš„æ¦‚çŽ‡\n\nç»™å®šè°ƒåˆ¶æ–¹æ¡ˆï¼ŒSNRè¶Šé«˜BERè¶Šä½Ž\nç»™å®šSNRï¼Œå°±è¦è¾ƒé«˜æ¯”ç‰¹ä¼ è¾“çŽ‡çš„è°ƒåˆ¶æŠ€æœ¯å°†å…·æœ‰è¾ƒé«˜çš„BER\nç‰©ç†å±‚è°ƒåˆ¶æŠ€æœ¯çš„åŠ¨æ€é€‰æ‹©èƒ½ç”¨äºŽé€‚é…å¯¹ä¿¡é“æ¡ä»¶çš„è°ƒåˆ¶æŠ€æœ¯\n\n7.3 WiFi: 802.11 Wireless LANsThe 802.11 Architecture\n\n\n\n\n\n\n\n\n\né€ŸçŽ‡é€‚åº”(Rate Adaptation)ï¼ŒåŠŸçŽ‡ç®¡ç†(Power Management)\n\nåŸºæœ¬æž„å»ºæ¨¡å—ï¼šåŸºæœ¬æœåŠ¡é›†(Basic Service Set, BSS)\nBSSï¼šä¸€ä¸ª/å¤šä¸ªæ— çº¿ç«™ç‚¹ï¼Œä¸€ä¸ªæŽ¥å…¥ç‚¹(Access Point, AP)çš„ä¸­å¤®åŸºç«™(base station)\n\n\nChannels and Association\nexp: ä½ æºå¸¦ç§»åŠ¨è®¾å¤‡è¿›å…¥WiFiä¸›æž—ï¼Œæ‰¾æ— çº¿å› ç‰¹ç½‘æŽ¥å…¥ï¼Œè®¾åœ¨ä¸›æž—ä¸­æœ‰5ä¸ªAPï¼Œä¸ºèŽ·å¾—å› ç‰¹ç½‘æŽ¥å…¥ä½ çš„æ— çº¿ç«™ç‚¹åº”åŠ å…¥å…¶ä¸­ä¸€ä¸ªå­ç½‘æ•…éœ€ä¸Žå…¶ä¸­ä¸€ä¸ªAPç›¸å…³è”(associate)ï¼Œå³å»ºç«‹ä¸€æ¡è™šæ‹Ÿçº¿è·¯\nThe 802.11 MAC Protocol\n\néšæœºè®¿é—®åè®®ï¼šå¸¦ç¢°æ’žé¿å…çš„CSMA(CSMA with collision avoidance)ï¼ŒCSMA/CAï¼Œç±»æ¯”ä»¥å¤ªç½‘çš„CSMA/CD\n\nå¤„ç†éšè—ç»ˆç«¯ï¼šRTS(çŸ­è¯·æ±‚å‘é€ï¼ŒReqeust to Send), CTS(å…è®¸å‘é€ï¼ŒClear to Send)\n\n\nThe IEEE 802.11 Frame\n\n\n","slug":"note/ComputerNetwork_Note","date":"2021-12-10T05:44:28.000Z","categories_index":"NOTE","tags_index":"note,ComputerNetwork","author_index":"Maskros"},{"id":"845d8d8490a208e5b118592a6863cd87","title":"Trieä¸“é¢˜è®­ç»ƒ","content":"Trie ä¸“é¢˜è®­ç»ƒ0.0\n0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼šç»™äº†ä¸€å †å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡ä»¥æ¨¡å¼ä¸²ä½œå‰ç¼€å‡ºçŽ°çš„å•è¯ä¸ªæ•°\ntrieå…¥é—¨é¢˜ï¼Œå­˜ç»“ç‚¹æ—¶ç»Ÿè®¡ä¸€ä¸‹è¿‡å½“å‰ç»“ç‚¹çš„å•è¯ä¸ªæ•°å³å¯\n&#x2F;&#x2F;å¯¹äºŽå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æŽ¥ç”¨å­—å…¸æ ‘\n&#x2F;&#x2F;å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸²\nconst int maxn &#x3D; 2e6 + 5;  &#x2F;&#x2F;å¦‚æžœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§\nint tree[maxn][30];        &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];          &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;                   &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•°\nint cnt[maxn];\nvoid insert_(char* str) &#123;\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            tree[root][id] &#x3D; ++tot;\n        root &#x3D; tree[root][id];\n        cnt[root]++;\n    &#125;\n    flagg[root] &#x3D; true;\n&#125;\nbool find_(char* str) &#123;  &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    int ans;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            return false;\n        root &#x3D; tree[root][id];\n        &#x2F;&#x2F; if(!flagg[root] &amp;&amp; i&#x3D;&#x3D;len-1) return false;   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é…\n    &#125;\n    ans &#x3D; cnt[root];\n    cout&lt;&lt;ans&lt;&lt;endl;\n    return true;\n&#125;\nvoid init() &#123;  &#x2F;&#x2F;æœ€åŽæ¸…ç©ºï¼ŒèŠ‚çœæ—¶é—´\n    for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123;\n        flagg[i] &#x3D; false;\n        for (int j &#x3D; 0; j &lt; 10; j++)\n            tree[i][j] &#x3D; 0;\n    &#125;\n    memset(cnt,0,sizeof(cnt));\n    tot &#x3D; 0;  &#x2F;&#x2F;REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜\n&#125;\nvoid solve() &#123;\n    char str[15];\n    init();\n    while(gets(str)&amp;&amp;str[0]!&#x3D;&#39;\\0&#39;)&#123;\n        insert_(str);\n    &#125;\n    while(gets(str)&amp;&amp;str[0]!&#x3D;EOF)&#123;\n        bool t &#x3D; find_(str);\n        if(!t) cout&lt;&lt;0&lt;&lt;endl;    \n    &#125;\n&#125;\n0x02 Remember the Word LA 3942\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nç»™å‡ºä¸€ä¸ªç”±Sä¸ªä¸åŒå•è¯ç»„æˆçš„å­—å…¸å’Œä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼ŒæŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ†è§£æˆè‹¥å¹²ä¸ªå•è¯çš„è¿žæŽ¥(å¯é‡å¤ä½¿ç”¨)ï¼Œæœ‰å¤šå°‘ç§æ–¹æ³•ã€‚ex: æœ‰å››ä¸ªå•è¯ï¼ša, b, cd, abï¼›åˆ™abcdæœ‰ä¸¤ç§åˆ†è§£æ–¹æ³•ï¼ša+b+cd å’Œ ab+cd\næ€è·¯ï¼š\ndp + Trie\nè®¡æ•°é—®é¢˜è€ƒè™‘dpï¼š\nè€ƒè™‘çŠ¶æ€ï¼šdp[i] ä¸ºä»¥iå¼€å§‹çš„åŽç¼€çš„æ–¹æ¡ˆæ•°\nè€ƒè™‘è½¬ç§»ï¼šå› ä¸ºå•è¯é•¿åº¦ä¸å¤§äºŽ100ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æš´åŠ›å‘åŽçœ‹å½“å‰å•è¯æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Trieæˆ–è€…å­—ç¬¦ä¸²å“ˆå¸Œå®Œæˆ\nä»¤dp(i)è¡¨ç¤ºä»Žå­—ç¬¦iå¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œdp(i)=sum{dp(i+len(x))}, xæ˜¯s[iâ€¦L]çš„å‰ç¼€ã€‚ç„¶åŽæŠŠæ‰€æœ‰å¯åˆ†è§£æˆçš„å•è¯æž„é€ æˆä¸€é¢—Trieæ ‘ï¼Œå†è®©æ¯ä¸²åœ¨ä¸Šé¢è·‘ï¼Œdp[0]å³æ˜¯æ–¹æ¡ˆæ€»æ•°ã€‚\n#include &lt;bits&#x2F;stdc++.h&gt;\n#define maxn 300005\n#define mod 20071027\nchar P[maxn];\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt;&#x3D; y; i--)\nusing namespace std;\nint dp[maxn];        &#x2F;&#x2F;dp[i] ä¸ºä»¥iå¼€å§‹çš„åŽç¼€çš„æ–¹æ¡ˆæ•°\nint tree[maxn][30];  &#x2F;&#x2F;tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];    &#x2F;&#x2F;è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;             &#x2F;&#x2F;æ€»èŠ‚ç‚¹æ•°\nint m;               &#x2F;&#x2F;ä¸»ä¸²é•¿åº¦\nvoid insert_(char* str) &#123;\n    int len &#x3D; strlen(str);\n    int root &#x3D; 0;\n    for (int i &#x3D; 0; i &lt; len; i++) &#123;\n        int id &#x3D; str[i] - &#39;a&#39;;\n        if (!tree[root][id])\n            tree[root][id] &#x3D; ++tot;\n        root &#x3D; tree[root][id];\n    &#125;\n    flagg[root] &#x3D; true;\n&#125;\nvoid find_(int id) &#123;  &#x2F;&#x2F;æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int root &#x3D; 0;\n    for (int i &#x3D; id; i &lt;&#x3D; m; i++) &#123;\n        int k &#x3D; P[i] - &#39;a&#39;;\n        if (!tree[root][k]) break;\n        root &#x3D; tree[root][k];\n        if (flagg[root])    \n            dp[id] &#x3D; (dp[id] + dp[i + 1]) % mod;\n    &#125;\n&#125;\nvoid init() &#123; \n    for (int i &#x3D; 0; i &lt;&#x3D; tot; i++) &#123;\n        flagg[i] &#x3D; false;\n        for (int j &#x3D; 0; j &lt; 30; j++)\n            tree[i][j] &#x3D; 0;\n    &#125;\n    memset(dp, 0, sizeof(dp));\n    tot &#x3D; 0; \n&#125;\nchar c[105];\nint main() &#123;\n    long long times &#x3D; 0;\n    init();\n    while (scanf(&quot;%s&quot;, P)!&#x3D;EOF) &#123;\n        times++;\n        int S;\n        cin &gt;&gt; S;\n        &#x2F;&#x2F; init();\n        rep(i, 0, S) &#123;\n            scanf(&quot;%s&quot;, c);\n            insert_(c);\n        &#125;\n        m &#x3D; strlen(P);\n        dp[m] &#x3D; 1;\n        red(i, m, 0) &#123;\n            find_(i);\n        &#125;\n        cout &lt;&lt; &quot;Case &quot; &lt;&lt; times &lt;&lt; &quot;: &quot; &lt;&lt; dp[0] &lt;&lt; endl;\n        init();\n    &#125;\n&#125;\n0x03 â€œstrcmp()â€ Anyone?\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nè¾“å…¥nä¸ªå­—ç¬¦ä¸²ï¼Œä¸¤ä¸¤è°ƒç”¨ä¸€æ¬¡strcmp()ï¼Œé—®å­—ç¬¦æ¯”è¾ƒçš„æ€»æ¬¡æ•°æ˜¯å¤šå°‘ï¼Ÿex:\nstrcmp(â€œthanâ€, &quot;that&quot;)ï¼šcnt = 7\né¢˜è§£ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒæ¬¡æ•°å…¶å®žæ˜¯ ç›¸åŒå­—ç¬¦æ•°*2 + (å­˜åœ¨ä¸åŒå­—ç¬¦? 1 : 0)ï¼›ç„¶åŽå»ºå­—å…¸æ ‘ï¼Œdfsä¸€ä¸‹å³å¯ã€‚å› ä¸ºèŠ‚ç‚¹çš„ä¸ªæ•°æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ç”¨å·¦å­©å­å³å…„å¼Ÿçš„æ–¹æ³•å»ºç«‹å­—å…¸æ ‘ã€‚\n#include&lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nconst int maxnode &#x3D; 4000 * 1000 + 10;\nconst int sigma_size &#x3D; 26;\n&#x2F;&#x2F; å­—æ¯è¡¨ä¸ºå…¨ä½“å°å†™å­—æ¯çš„Trie\nstruct Trie &#123;\n    int head[maxnode];  &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å·\n    int next[maxnode];  &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å·\n    char ch[maxnode];   &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦\n    int tot[maxnode];   &#x2F;&#x2F; tot[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘åŒ…å«çš„å¶ç»“ç‚¹æ€»æ•°\n    int sz;             &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n    long long ans;      &#x2F;&#x2F; ç­”æ¡ˆ\n    void clear() &#123;\n        sz &#x3D; 1;\n        tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0;\n    &#125;  &#x2F;&#x2F; åˆå§‹æ—¶åªæœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹\n\n    &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²sï¼ˆåŒ…æ‹¬æœ€åŽçš„&#39;\\0&#39;ï¼‰ï¼Œæ²¿é€”æ›´æ–°tot\n    void insert(const char* s) &#123;\n        int u &#x3D; 0, v, n &#x3D; strlen(s);\n        tot[0]++;\n        for (int i &#x3D; 0; i &lt;&#x3D; n; i++) &#123;\n            &#x2F;&#x2F; æ‰¾å­—ç¬¦a[i]\n            bool found &#x3D; false;\n            for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                if (ch[v] &#x3D;&#x3D; s[i]) &#123;  &#x2F;&#x2F; æ‰¾åˆ°äº†\n                    found &#x3D; true;\n                    break;\n                &#125;\n            if (!found) &#123;\n                v &#x3D; sz++;  &#x2F;&#x2F; æ–°å»ºç»“ç‚¹\n                tot[v] &#x3D; 0;\n                ch[v] &#x3D; s[i];\n                next[v] &#x3D; head[u];\n                head[u] &#x3D; v;  &#x2F;&#x2F; æ’å…¥åˆ°é“¾è¡¨çš„é¦–éƒ¨\n                head[v] &#x3D; 0;\n            &#125;\n            u &#x3D; v;\n            tot[u]++;\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F; ç»Ÿè®¡LCP&#x3D;uçš„æ‰€æœ‰å•è¯ä¸¤ä¸¤çš„æ¯”è¾ƒæ¬¡æ•°ä¹‹å’Œ\n    void dfs(int depth, int u) &#123;\n        if (head[u] &#x3D;&#x3D; 0)  &#x2F;&#x2F; å¶ç»“ç‚¹\n            ans +&#x3D; tot[u] * (tot[u] - 1) * depth;\n        else &#123;\n            int sum &#x3D; 0;\n            for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                sum +&#x3D; tot[v] * (tot[u] - tot[v]);  &#x2F;&#x2F; å­æ ‘vä¸­é€‰ä¸€ä¸ªä¸²ï¼Œå…¶ä»–å­æ ‘ä¸­å†é€‰ä¸€ä¸ª\n            ans +&#x3D; sum &#x2F; 2 * (2 * depth + 1);       &#x2F;&#x2F; é™¤ä»¥2æ˜¯æ¯ç§é€‰æ³•ç»Ÿè®¡äº†ä¸¤æ¬¡\n            for (int v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                dfs(depth + 1, v);\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F; ç»Ÿè®¡\n    long long count() &#123;\n        ans &#x3D; 0;\n        dfs(0, 0);\n        return ans;\n    &#125;\n&#125;;\nconst int maxl &#x3D; 1000 + 10;  &#x2F;&#x2F; æ¯ä¸ªå•è¯æœ€å¤§é•¿åº¦\nint n;\nchar word[maxl];\nTrie trie;\nint main() &#123;\n    int kase &#x3D; 1;\n    while (scanf(&quot;%d&quot;, &amp;n) &#x3D;&#x3D; 1 &amp;&amp; n) &#123;\n        trie.clear();\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            scanf(&quot;%s&quot;, word);\n            trie.insert(word);\n        &#125;\n        printf(&quot;Case %d: %lld\\n&quot;, kase++, trie.count());\n    &#125;\n    return 0;\n&#125;\n","slug":"algorithm/exercise/trie_problem","date":"2021-11-27T04:20:00.000Z","categories_index":"ALGORITHM TRAINING","tags_index":"ACM,string,algorithm,Trie,dp,dfs","author_index":"Maskros"},{"id":"f9c5a67ed89813cc4d2fda9f690375dd","title":"Trie","content":"Trieå­—å…¸æ ‘/å‰ç¼€æ ‘\nä»€ä¹ˆæ˜¯Trie\n\n\n\n\n\n\n\n\nä»Žæ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå•è¯ç»“ç‚¹çš„è·¯å¾„ä¸Šæ‰€æœ‰å­—æ¯è¿žæŽ¥æˆçš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥ç»“ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²\n\nå¤šå‰æ ‘ï¼Œæœ€å¤§åˆ†æ”¯æ•°ç”±å­—å…¸çš„å­—ç¬¦é›†å«æœ‰çš„å­—ç¬¦æ•°å†³å®š\n\n\næ“ä½œ\næ’å…¥å­—ç¬¦ä¸² insert \n\nåˆå§‹åŒ– root = 0 , éåŽ†å­—ç¬¦ä¸², å¯¹äºŽå…¶æ¯ä¸€ä¸ªå­—ç¬¦, è®¡ç®—å…¶æ˜ å°„å€¼ id\n\næ£€æŸ¥Trie[root][id] == 0 æ˜¯å¦æˆç«‹ï¼š\nè‹¥æˆç«‹, åˆ™è¿›è¡Œæ’å…¥,  Trie[root][id] = ++cnt\nè‹¥ä¸æˆç«‹,è¯´æ˜Žè¯¥ä½ç½®å·²ç»æœ‰è¯¥å­—ç¬¦,ç›´æŽ¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦åº”æ’å…¥çš„ä½ç½®: root = trie[root][id].\n\né‡å¤ä¸Šè¿°æ­¥éª¤,ç›´åˆ°å­—ç¬¦ä¸²å®Œå…¨æ’å…¥Trieæ ‘.\n\n\n\nåŒ¹é…å­—ç¬¦ä¸² search\n\nåˆå§‹åŒ–root = 0,éåŽ†å­—ç¬¦ä¸²,å¯¹äºŽå…¶æ¯ä¸€ä¸ªå­—ç¬¦,è®¡ç®—å…¶æ˜ å°„å€¼id\n\næ£€æŸ¥Trie[root][id] == 0æ˜¯å¦æˆç«‹ï¼š\nè‹¥æˆç«‹, åˆ™è¯´æ˜ŽTrieæ ‘å½“å‰è·¯å¾„ä¸å­˜åœ¨è¯¥å­—ç¬¦,è¿”å›žåŒ¹é…å¤±è´¥\nè‹¥ä¸æˆç«‹,åˆ™è¯´æ˜Žå½“å‰è·¯å¾„å­˜åœ¨è¯¥å­—ç¬¦,æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®: root = trie[root][id]\n\né‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè‹¥é¡ºåˆ©åŒ¹é…å®Œæ•´ä¸ªå­—ç¬¦ä¸²,åˆ™åº”è¯¥æ£€æŸ¥å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®åœ¨Trieæ ‘ä¸­æ˜¯å¦æ˜¯ç»“æŸæ ‡å¿—ï¼Œflag[root] == trueæˆç«‹,è¡¨æ˜Žæ˜¯ç»“æŸæ ‡å¿—,åˆ™è¿”å›žåŒ¹é…æˆåŠŸ,å¦åˆ™è¿”å›žåŒ¹é…å¤±è´¥\n\n\n\n\næ¨¡æ¿\né™„ï¼šå­—ç¬¦æ•°ç»„æ“ä½œ\n\nchar s1[maxn], s2[maxn];\nstrcpy(s1, s2);\t\t&#x2F;&#x2F;å¤åˆ¶å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1ã€‚\nstrcat(s1, s2);\t\t&#x2F;&#x2F;è¿žæŽ¥å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1 çš„æœ«å°¾ã€‚\nstrlen(s1);\t\t\t&#x2F;&#x2F;è¿”å›žå­—ç¬¦ä¸² s1 çš„é•¿åº¦ã€‚\nstrcmp(s1, s2);\t\t&#x2F;&#x2F;å¦‚æžœ s1 å’Œ s2 æ˜¯ç›¸åŒçš„ï¼Œåˆ™è¿”å›ž 0ï¼›å¦‚æžœ s1&lt;s2 åˆ™è¿”å›žå€¼å°äºŽ 0ï¼›å¦‚æžœ s1&gt;s2 åˆ™è¿”å›žå€¼å¤§äºŽ 0ã€‚\nstrchr(s1, ch);\t\t&#x2F;&#x2F;è¿”å›žä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ ch çš„ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®ã€‚\nstrstr(s1, s2);\t\t&#x2F;&#x2F;è¿”å›žä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ä¸² s2 çš„ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®ã€‚\n\næ¨¡æ‹Ÿ\n\n\n\n\n\n\n\n\n\n\nå¯¹ç»“æž„ä½“Trieè¿›è¡Œæ’å…¥å’ŒæŸ¥è¯¢æ“ä½œ\nval[i] &gt; 0 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå•è¯ç»“ç‚¹\n#define maxn 41000\n#define sigmasize 26  &#x2F;&#x2F; å­—ç¬¦é›†çš„å¤§å° ex: å…¨ä½“å°å†™å­—æ¯ï¼š26\nstruct Trie&#123;\n    int ch[maxn][sigmasize];\n    int val[maxn];  &#x2F;&#x2F; ç»“ç‚¹iå¯¹åº”çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªå­—ç¬¦ä¸²çš„æƒå€¼, å¦‚val[i]&gt;0 å½“ä¸”ä»…å½“ç»“ç‚¹iæ˜¯å•è¯ç»“ç‚¹\n    int sz;            &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    Trie() &#123; sz &#x3D; 1; memset(ch[0], 0, sizeof(ch[0]));&#125;   &#x2F;&#x2F;åˆå§‹åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹\n    int idx(char c) &#123; return c - &#39;a&#39;; &#125;  &#x2F;&#x2F;å­—ç¬¦cçš„ç¼–å·\n\n    &#x2F;&#x2F; æ’å…¥å­—ç¬¦ä¸²s, é™„åŠ ä¿¡æ¯ä¸ºvã€‚vå¿…é¡»éž0, 0 ä»£è¡¨â€œæœ¬ç»“ç‚¹ä¸æ˜¯å•è¯ç»“ç‚¹â€\n    inline void insert(char *s, int v) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (!ch[u][c]) &#123;  &#x2F;&#x2F;ç»“ç‚¹ä¸å­˜åœ¨\n                memset(ch[sz], 0, sizeof(ch[sz]));\n                val[sz] &#x3D; 0;      &#x2F;&#x2F;ä¸­é—´èŠ‚ç‚¹çš„é™„åŠ ä¿¡æ¯ä¸º0\n                ch[u][c] &#x3D; sz++;  &#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹\n            &#125;\n            u &#x3D; ch[u][c];  &#x2F;&#x2F;å¾€ä¸‹èµ°\n        &#125;\n        val[u] &#x3D; v;  &#x2F;&#x2F;å­—ç¬¦ä¸²çš„æœ€åŽä¸€ä¸ªå­—ç¬¦çš„é™„åŠ ä¿¡æ¯ä¸ºv\n    &#125;\n    &#x2F;&#x2F; æŸ¥æ‰¾å­—ç¬¦ä¸²s\n    inline bool search(char *s) &#123;\n        int u &#x3D; 0, n &#x3D; strlen(s);\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            int c &#x3D; idx(s[i]);\n            if (ch[u][c] &#x3D;&#x3D; 0) return false;\n            u &#x3D; ch[u][c];\n        &#125;\n        if (val[u] &#x3D;&#x3D; 0)\n            return false;\n        return true;\n    &#125;\n&#125;trie;\n\nç‰ˆæœ¬2\n\n\n\n\n\n\n\n\n\n\nå¯ä»¥ç”¨ find(str) åˆ¤æ–­å­—å…¸æ ‘ä¸­æ˜¯å¦æœ‰ä»¥ str ä½œå‰ç¼€çš„å•è¯\n//å¯¹äºŽå­—ç¬¦ä¸²æ¯”è¾ƒå¤šçš„è¦ç»Ÿè®¡ä¸ªæ•°çš„ï¼Œmapè¢«å¡çš„æƒ…å†µä¸‹ï¼Œç›´æŽ¥ç”¨å­—å…¸æ ‘\n//å¾ˆå¤šé¢˜éƒ½æ˜¯è¦ç”¨åˆ°èŠ‚ç‚¹ä¸‹æ ‡æ¥è¡¨ç¤ºæŸä¸ªå­—ç¬¦ä¸²\nconst int maxn = 2e6 + 5;  //å¦‚æžœæ˜¯64MBå¯ä»¥å¼€åˆ°2e6+5ï¼Œå°½é‡å¼€å¤§\nint tree[maxn][30];        //tree[i][j]è¡¨ç¤ºèŠ‚ç‚¹içš„ç¬¬jä¸ªå„¿å­çš„èŠ‚ç‚¹ç¼–å·\nbool flagg[maxn];          //è¡¨ç¤ºä»¥è¯¥èŠ‚ç‚¹ç»“å°¾æ˜¯ä¸€ä¸ªå•è¯\nint tot;                   //æ€»èŠ‚ç‚¹æ•°\nvoid insert_(char* str) &#123;\n    int len = strlen(str);\n    int root = 0;\n    for (int i = 0; i &lt; len; i++) &#123;\n        int id = str[i] - 'a';\n        if (!tree[root][id])\n            tree[root][id] = ++tot;\n        root = tree[root][id];\n    &#125;\n    flagg[root] = true;\n&#125;\nbool find_(char* str)&#123;  //æŸ¥è¯¢æ“ä½œï¼ŒæŒ‰å…·ä½“è¦æ±‚æ”¹åŠ¨\n    int len = strlen(str);\n    int root = 0;\n    for (int i = 0; i &lt; len; i++) &#123;\n        int id = str[i] - 'a';\n        if (!tree[root][id])\n            return false;\n        root = tree[root][id];\n        if(!flagg[root] &amp;&amp; i==len-1) return false;   //åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå•è¯å®Œå…¨åŒ¹é…\n    &#125;\n    return true;\n&#125;\nvoid init()&#123; \n    for (int i = 0; i &lt;= tot; i++) &#123;\n        flagg[i] = false;\n        for (int j = 0; j &lt; 30; j++)\n            tree[i][j] = 0;\n    &#125;\n    tot = 0;  //REæœ‰å¯èƒ½æ˜¯è¿™é‡Œçš„é—®é¢˜\n&#125;\n\nä¼˜åŒ–trieæ ‘\n\n\n\n\n\n\n\n\n\nå½“ç»“ç‚¹æ¯”è¾ƒå¤šï¼Œsigma_sizeæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œé‡‡ç”¨å·¦å„¿å­-å³å…„å¼Ÿå»ºç«‹trie\n\n\nstruct Trie &#123;\n    int head[maxn];  &#x2F;&#x2F; head[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å·¦å„¿å­ç¼–å·\n    int next[maxn];  &#x2F;&#x2F; next[i]ä¸ºç¬¬iä¸ªç»“ç‚¹çš„å³å…„å¼Ÿç¼–å·\n    char ch[maxn];   &#x2F;&#x2F; ch[i]ä¸ºç¬¬iä¸ªç»“ç‚¹ä¸Šçš„å­—ç¬¦\n    int sz;             &#x2F;&#x2F; ç»“ç‚¹æ€»æ•°\n\n    void clear() &#123;\n        sz &#x3D; 1;\n        tot[0] &#x3D; head[0] &#x3D; next[0] &#x3D; 0;\n    &#125;\n    void insert(const char* s) &#123;\n        int u &#x3D; 0, v, n &#x3D; strlen(s);\n        tot[0]++;\n        for (int i &#x3D; 0; i &lt; n; i++) &#123;\n            bool found &#x3D; false;\n            for (v &#x3D; head[u]; v !&#x3D; 0; v &#x3D; next[v])\n                if (ch[v] &#x3D;&#x3D; s[i]) &#123;\n                    found &#x3D; true;\n                    break;\n                &#125;\n            if (!found) &#123;\n                v &#x3D; sz++;\n                tot[v] &#x3D; 0;\n                ch[v] &#x3D; s[i];\n                next[v] &#x3D; head[u];\n                head[u] &#x3D; v;\n                head[v] &#x3D; 0;\n            &#125;\n            u &#x3D; v;\n            tot[u]++;\n        &#125;\n    &#125;\n&#125;;\né¢˜å•solution\n\n0x01 ç»Ÿè®¡éš¾é¢˜ HDU 1251 link\n\n0x02 èƒŒå•è¯ LA 3942 link\n\n0x03 strcmp()å‡½æ•° UVa 11732 link\n\n\n\n\n\n\n\n\n\n\n\nå‡å¦‚å†æ¥ä¸€éé“¶å·\n","slug":"algorithm/learn/trie","date":"2021-11-27T03:55:50.000Z","categories_index":"ALGORITHMS","tags_index":"ACM,string,note,algorithm,Trie","author_index":"Maskros"},{"id":"eb0105647eb3a218c386b75ad79d5f5a","title":"kmpä¸“é¢˜è®­ç»ƒ","content":"kmp/ekmp ä¸“é¢˜è®­ç»ƒ\n\n\n\n\n\n\n\n\nðŸ´ç³™äººè ¢å‡‘åˆçœ‹\n0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087\n\n\n\n\n\n\n\n\nlink\nçº¯çº¯kmpè£¸é¢˜ï¼Œä¸å¯é‡å è®¡æ•° \n#include&lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nvoid kmp_pre(string p, int next[])\n&#123;\n    int i, j;\n    j &#x3D; next[0] &#x3D; -1;\n    i &#x3D; 0;\n    while (i &lt; p.length())\n    &#123;\n        while (-1 !&#x3D; j &amp;&amp; p[i] !&#x3D; p[j])\n            j &#x3D; next[j];\n        next[++i] &#x3D; ++j;\n    &#125;\n&#125;\nint kmp_Count(string x, string y, int next[])\n&#123; \n    int i, j;\n    int ans &#x3D; 0;\n    kmp_pre(x, next);\n    i &#x3D; j &#x3D; 0;\n    while (i &lt; y.length())\n    &#123;\n        while (-1 !&#x3D; j &amp;&amp; y[i] !&#x3D; x[j])\n            j &#x3D; next[j];\n        i++;\n        j++;\n        if (j &gt;&#x3D; x.length())\n        &#123;\n            ans++;\n            j &#x3D; 0;       &#x2F;&#x2F;ä¸å¯é‡å è®¡æ•°\n        &#125;\n    &#125;\n    return ans;\n&#125;\nint main()&#123;\n    string a,b;\n    int nxt[1005];\n    while(1)&#123;\n        cin&gt;&gt;a;\n        if(a&#x3D;&#x3D;&quot;#&quot;) break;\n        else&#123;\n            cin&gt;&gt;b;\n            memset(nxt,0,b.length()+1);\n            int ans&#x3D;kmp_Count(b,a,nxt);\n            cout&lt;&lt;ans&lt;&lt;endl;            \n        &#125;\n    &#125;    \n&#125;\n0x02 Secret HDU-6153\n\n\n\n\n\n\n\n\nlink\né¢˜æ„ï¼š\nç»™ä¸¤ä¸ªä¸²s1,s2ï¼Œæ±‚s2æ‰€æœ‰çš„åŽç¼€å­ä¸²çš„é•¿åº¦ä¹˜åœ¨ä¸»ä¸²s1ä¸­å‡ºçŽ°çš„æ¬¡æ•°ä¹‹å’Œ\nè§£æ³•ï¼š\næŒ¨ä¸ªæžšä¸¾åŽç¼€æ˜¯ðŸ·båšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²ç¿»è½¬ï¼Œè¿™æ ·åŽç¼€å˜å‰ç¼€ï¼Œå°±æ¥åˆ°äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„kmpåŒ¹é…çŽ¯èŠ‚\nè§£æ³•ä¸€ï¼šexkmp\nç¿»è½¬åŽå‘çŽ°è¿™ä¸å°±æ­£å¥½åˆ©ç”¨extend[]æ•°ç»„çš„å®šä¹‰ç›´æŽ¥æ±‚è§£ï¼Œåšä¸€éekmpï¼ŒéåŽ†extend[]æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå€¼åš (1+entend[i])*entend[i]&gt;&gt;1 å¤„ç†ï¼Œå…¨éƒ¨åŠ å’Œå³ä¸ºç­”æ¡ˆ\nè§£æ³•äºŒï¼škmp\nåˆ©ç”¨å¯¹next[]æ•°ç»„çš„ç†è§£ï¼Œæš‚æ—¶é¸½äº†ï¼Œå› ä¸ºæƒ³äº†å¾ˆä¹…æ²¡æƒ³æ˜Žç™½\nè§£æ³•ä¸€ï¼š ekmp \n\n\n\n\n\n\n\n\n\nçŒ›waä¹‹åŽç»™äº†æˆ‘æ·±åˆ»çš„æ•™è®­ï¼šæ•°ç»„å¼€ longlongðŸ˜…ðŸ˜…\n#include &lt;bits&#x2F;stdc++.h&gt;\nusing namespace std;\nconst int mod &#x3D; 1000000007;\n#define ll long long\n#define maxn 1000005\n#define rep(i,x,y) for(int i&#x3D;x;i&lt;y;i++)\nll nxt[maxn], extend[maxn];\nvoid ekmp_pre(string x, ll next[])\n&#123;\n    int m &#x3D; x.length();\n    next[0] &#x3D; m;\n    int j &#x3D; 0;\n    while (j + 1 &lt; m &amp;&amp; x[j] &#x3D;&#x3D; x[j + 1])\n        j++;\n    next[1] &#x3D; j;\n    int k &#x3D; 1;\n    for (int i &#x3D; 2; i &lt; m; i++)\n    &#123;\n        int p &#x3D; next[k] + k - 1;\n        int L &#x3D; next[i - k];\n        if (i + L &lt; p + 1)\n            next[i] &#x3D; L;\n        else\n        &#123;\n            j &#x3D; max(0, p - i + 1);\n            while (i + j &lt; m &amp;&amp; x[i + j] &#x3D;&#x3D; x[j])\n                j++;\n            next[i] &#x3D; j;\n            k &#x3D; i;\n        &#125;\n    &#125;\n&#125;\nll ekmp(string x, string y, ll next[], ll extend[])\n&#123;\n    ekmp_pre(x, next);\n    int j &#x3D; 0;\n    ll ret &#x3D; 0;\n    int m &#x3D; x.length(), n &#x3D; y.length();\n    while (j &lt; n &amp;&amp; j &lt; m &amp;&amp; x[j] &#x3D;&#x3D; y[j])\n        j++;\n    extend[0] &#x3D; j;\n    int k &#x3D; 0;\n    for (int i &#x3D; 1; i &lt; n; i++)\n    &#123;\n        int p &#x3D; extend[k] + k - 1;\n        int L &#x3D; next[i - k];\n        if (i + L &lt; p + 1)\n            extend[i] &#x3D; L;\n        else\n        &#123;\n            j &#x3D; max(0, p - i + 1);\n            while (i + j &lt; n &amp;&amp; j &lt; m &amp;&amp; y[i + j] &#x3D;&#x3D; x[j])\n                j++;\n            extend[i] &#x3D; j;\n            k &#x3D; i;\n        &#125;\n    &#125;\n    rep(i, 0, n)\n    &#123;\n        ret &#x3D; (ret % mod + (((1 + extend[i])* extend[i])&gt;&gt;1) % mod) % mod;\n    &#125;\n    return ret;\n&#125;\nint main()\n&#123;\n    int t;\n    ios::sync_with_stdio(false);\n    cin &gt;&gt; t;\n    while (t--)\n    &#123;\n        string s, p;\n        cin &gt;&gt; s &gt;&gt; p;\n        reverse(s.begin(), s.end());\n        reverse(p.begin(), p.end());\n        memset(nxt, 0, p.length() + 1);\n        memset(extend, 0, s.length() + 1);\n        ll ans;\n        ans&#x3D;ekmp(p, s, nxt, extend);\n        cout&lt;&lt;ans&lt;&lt;endl;\n    &#125;\n&#125;\nè§£æ³•äºŒï¼škmp\n&#x2F;&#x2F; å¯„\n0x03 Cow Patterns POJ-3167\n\n\n\n\n\n\n\n\nlink ç‰›é¢˜\né¢˜æ„ï¼š\næ¨¡å¼ä¸²å¯ä»¥æµ®åŠ¨çš„æ¨¡å¼åŒ¹é…é—®é¢˜\nç»™å‡ºæ¨¡å¼ä¸²çš„ç›¸å¯¹å¤§å°é¡ºåºï¼Œéœ€è¦æ‰¾å‡ºåœ¨ä¸»ä¸²ä¸­æ¨¡å¼ä¸²çš„åŒ¹é…æ¬¡æ•°å’Œèµ·å§‹ä½ç½®\næ ·ä¾‹ï¼š\nS: 5 6 2 10 10 7 3 2 9  \nP: 1 4 4 3 2 1\næ•… 2 10 10 7 3 2 ç¬¦åˆè¦æ±‚ï¼Œè¾“å‡ºä¸º 1 3\nè§£æ³•ï¼š KMP+å‰ç¼€å’Œ\nç»Ÿè®¡æ¯”å½“å‰æ•°å°ï¼Œå’ŒäºŽå½“å‰æ•°ç›¸ç­‰çš„ï¼Œç„¶åŽè¿›è¡Œkmp\n&#x2F;&#x2F;POJ 3167\n#include &lt;cstdio&gt;\n#include &lt;cstring&gt;\n#include &lt;vector&gt;\nusing namespace std;\nconst int MAXN &#x3D; 100005;\nconst int MAXM &#x3D; 25005;\n\nint a[MAXN];       &#x2F;&#x2F; å­˜æ”¾ä¸»ä¸²\nint b[MAXM];       &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸²\nint as[MAXN][30];  &#x2F;&#x2F; as[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j\nint bs[MAXM][30];  &#x2F;&#x2F; bs[i][j] &#x3D; kè¡¨ç¤º0 - iä½ä¸­æœ‰kä¸ªæ•°å­—j\nint next[MAXM];    &#x2F;&#x2F; å­˜æ”¾æ¨¡å¼ä¸²å¤±é…æ—¶çš„ç§»åŠ¨ä½æ•°\nvector&lt;int&gt; ans;   &#x2F;&#x2F; å­˜æ”¾ç»“æžœ\nint n, m, s;\n\nvoid Init() &#123;\n    ans.clear();\n    memset(as, 0, sizeof(as));\n    memset(bs, 0, sizeof(bs));\n    as[1][a[1]] &#x3D; 1;\n    bs[1][b[1]] &#x3D; 1;\n    for (int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123;\n        memcpy(as[i], as[i - 1], sizeof(as[0]));\n        ++as[i][a[i]];\n    &#125;\n    for (int i &#x3D; 2; i &lt;&#x3D; m; ++i) &#123;\n        memcpy(bs[i], bs[i - 1], sizeof(bs[0]));\n        ++bs[i][b[i]];\n    &#125;\n&#125;\n\nvoid GetNext() &#123;\n    memset(next, 0, sizeof(next));\n    int i &#x3D; 1, j &#x3D; 0, k &#x3D; 0;\n    next[1] &#x3D; 0;\n    while (i &lt;&#x3D; m) &#123;\n        int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0;\n        for (k &#x3D; 1; k &lt; b[i]; ++k)\n            si +&#x3D; bs[i][k] - bs[i - j][k];\n        ei &#x3D; bs[i][k] - bs[i - j][k];\n        for (k &#x3D; 1; k &lt; b[j]; ++k)\n            sj +&#x3D; bs[j][k];\n        ej &#x3D; bs[j][k];\n        if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej))\n            next[++i] &#x3D; ++j;\n        else\n            j &#x3D; next[j];\n    &#125;\n&#125;\n\nvoid Kmp() &#123;\n    int i &#x3D; 1, j &#x3D; 1, k &#x3D; 1;\n    while (i &lt;&#x3D; n) &#123;\n        int si &#x3D; 0, sj &#x3D; 0, ei &#x3D; 0, ej &#x3D; 0;\n        for (k &#x3D; 1; k &lt; a[i]; ++k)\n            si +&#x3D; as[i][k] - as[i - j][k];\n        ei &#x3D; as[i][k] - as[i - j][k];\n        for (k &#x3D; 1; k &lt; b[j]; ++k)\n            sj +&#x3D; bs[j][k];\n        ej &#x3D; bs[j][k];\n        if (0 &#x3D;&#x3D; j || (si &#x3D;&#x3D; sj &amp;&amp; ei &#x3D;&#x3D; ej))\n            ++i, ++j;\n        else\n            j &#x3D; next[j];\n        if (j &#x3D;&#x3D; m + 1) &#123;\n            ans.push_back(i - m);\n            j &#x3D; next[j];\n        &#125;\n    &#125;\n&#125;\n\nint main() &#123;\n    while (scanf(&quot;%d %d %d&quot;, &amp;n, &amp;m, &amp;s) &#x3D;&#x3D; 3) &#123;\n        for (int i &#x3D; 1; i &lt;&#x3D; n; ++i)\n            scanf(&quot;%d&quot;, &amp;a[i]);\n        for (int i &#x3D; 1; i &lt;&#x3D; m; ++i)\n            scanf(&quot;%d&quot;, &amp;b[i]);\n        Init();\n        GetNext();\n        Kmp();\n        size_t len &#x3D; ans.size();\n        printf(&quot;%d\\n&quot;, len);\n        for (size_t i &#x3D; 0; i &lt; len; ++i)\n            printf(&quot;%d\\n&quot;, ans[i]);\n    &#125;\n    return 0;\n&#125;\n","slug":"algorithm/exercise/kmp_problem","date":"2021-11-26T13:59:50.000Z","categories_index":"ALGORITHM TRAINING","tags_index":"ACM,string,algorithm,dp,kmp,å‰ç¼€å’Œ","author_index":"Maskros"},{"id":"38cc96ca6220c98ec8c78c52ef6fea74","title":"2021CCPCå¹¿å·žç«™vp","content":"2021CCPCå¹¿å·žç«™vp\n\n\n\n\n\n\n\n\nâ€œå¦‚ä½•è§£æ–¹ç¨‹â€\nC_Necklace\n\n\n\n\n\n\n\n\näºŒåˆ†+è´ªå¿ƒ\nè¯»é¢˜æ¯”è¾ƒå…³é”® æ²¡æ”¹æ˜Žç™½wa3\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')    \n#define rep(i, x, y) for (ll i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 1000005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll M,N;\nll pos[maxn];\nbool check(ll x)&#123;\n    ll last=0,tmp,end;\n    end=N-pos[M-1]+pos[0];\n    rep(i,0,M)&#123;\n        if(i==0)&#123;\n            if(end&lt;=x) &#123;last=end; end=0; continue;&#125;\n            else&#123; end-=x;  last=x; continue;&#125;\n        &#125;eif(i==M-1) tmp=end+pos[i]-pos[i-1];\n        else tmp=pos[i]-pos[i-1];\n\n        ll can=pos[i]-pos[i-1]-1;\n        can=(can>0)?can:0;\n        ll sub=(x-last>can)?can:(x-last);\n        if(tmp>=sub) tmp-=sub;\n        else tmp=0;\n        if(tmp&lt;=x) last=tmp;\n        else return 0;\n    &#125;\n    return 1;\n&#125;\nvoid solve() &#123;\n    // N=read(); M=read();\n    cin>>N>>M;\n    ll ans=1,tmp,last=1;\n    rep(i,0,M)&#123;\n        cin>>pos[i];\n    &#125;\n    if(M==1) &#123;cout&lt;&lt;N; return;&#125;\n    ll l=1,r=N;\n    while(l&lt;=r)&#123;\n        ll mid=(l+r)>>1;\n        if(check(mid))&#123;\n            ans=mid;\n            r=mid-1;\n        &#125;else&#123;\n            l=mid+1;\n        &#125;\n    &#125;   \n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    IOS;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nH_Three Intergers (æ•°å­¦)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™a,b,cï¼Œæ±‚æ»¡è¶³x%y=a, y%z=b, z%x=c çš„ä»»æ„ä¸€ç»„x,y,z\næ€è·¯ï¼šæ•°å­¦é¢˜ï¼Œæ–¹ç¨‹åŒ–ç®€ï¼Œæ ¹æ®æ¡ä»¶ç›´æŽ¥é€ ï¼Œèµ·åˆå¿˜è®°äº†æ¨¡çš„æ€§è´¨å¯¼è‡´è§£ä¸å‡ºæ–¹ç¨‹ï¼Œçœ‹äº†é¢˜è§£æç„¶å¤§æ‚Ÿ é¢˜è§£\n#include &lt;bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() &#123;\n    ios::sync_with_stdio(false);\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        int a, b, c;\n        cin >> a >> b >> c;\n        if (a == b &amp;&amp; b == c) &#123;\n            if (!a) &#123;\n                cout &lt;&lt; \"YES\\n\";\n                cout &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; 1 &lt;&lt; \"\\n\";\n            &#125; else\n                cout &lt;&lt; \"NO\\n\";\n            continue;\n        &#125;\n        ll x, y, z, k;\n        if (b > a) &#123;\n            k = max(0, (c - a) / b) + 1;\n            x = k * b + a;\n            y = b;\n            z = (k * b + a) * 2 + c;\n        &#125; else if (a > c) &#123;\n            k = max(0, (b - c) / a) + 1;\n            x = a;\n            y = (k * a + c) * 2 + b;\n            z = k * a + c;\n        &#125; else if (c > b) &#123;\n            k = max(0, (a - b) / c) + 1;\n            x = (k * c + b) * 2 + a;\n            y = k * c + b;\n            z = c;\n        &#125; else\n            assert(false);\n        cout &lt;&lt; \"YES\\n\";\n        cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; \" \" &lt;&lt; z &lt;&lt; \"\\n\";\n        assert(x % y == a &amp;&amp; y % z == b &amp;&amp; z % x == c);\n        assert(x &lt;= 1e18);\n        assert(y &lt;= 1e18);\n        assert(z &lt;= 1e18);\n    &#125;\n    return 0;\n&#125;\nI_Pudding Store ï¼ˆæ‰“è¡¨ï¼‰\n\n\n\n\n\n\n\n\næ‰‹ç®—äº†ä¸€ä¸‹å¤ªéº»çƒ¦ï¼Œå…¨æŽ’åˆ—æ‰“è¡¨æ‰¾è§„å¾‹å³å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\n#define mod 998244353\nusing namespace std;\n// 1 2 6 12 24 48 96 192 384 768\n// int a[50];\n// void init(int n)&#123;\n//     rep(i,1,n+1) a[i]=i;\n// &#125;\n// void dfs()&#123;\n//     rep(i,1,11)&#123;\n//         ll cnt=0;\n//         init(i);\n//         bool t=true;\n//         while(t)&#123;\n//             bool can=false;\n//             rep(j,1,i+1)&#123;\n//                 ll fuck=0;\n//                 rep(k,1,j+1)&#123;\n//                     fuck+=a[k];\n//                 &#125;\n//                 fuck*=2;\n//                 if(fuck%j==0) can=true;\n//                 else &#123;can=false; break;&#125;\n//             &#125;\n//             if(can) cnt++;\n//             t=next_permutation(a+1,a+i+1);\n//         &#125;\n//         cout&lt;&lt;cnt&lt;&lt;\" \";\n//     &#125;\n// &#125;\nll qpow(ll a, ll b)&#123;\n    ll ans=1;\n    ll res=a;\n    res%=mod;\n    while(b)&#123;if(b&amp;1) ans=ans*res%mod; b>>=1; res=res*res%mod;&#125;\n    return ans%mod;\n&#125;\nvoid solve() &#123;\n    int n; cin>>n;\n    if(n==1) cout&lt;&lt;1&lt;&lt;endl;\n    eif(n==2) cout&lt;&lt;2&lt;&lt;endl;\n    eif(n==3) cout&lt;&lt;6&lt;&lt;endl;\n    else&#123;\n        ll tmp=6;\n        ll add=qpow(2,n-3);\n        tmp=add%mod*tmp%mod;\n        cout&lt;&lt;tmp&lt;&lt;endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    IOS;\n    // dfs();\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šä»€ä¹ˆæ—¶å€™æ‰èƒ½ä¸ç²—å¿ƒ\n","slug":"xcpc/2021ccpc_guangzhou","date":"2021-11-24T16:42:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,ACM,äºŒåˆ†,CCPC,æ‰“è¡¨,æ•°å­¦,è´ªå¿ƒ","author_index":"Maskros"},{"id":"5746fb5b2209a46ecf437112c82754ca","title":"2021CCPCæ¡‚æž—ç«™vp","content":"2021CCPCæ¡‚æž—ç«™vp\n\n\n\n\n\n\n\n\nâ€ç¥­å¥ æ“¦è‚©è€Œè¿‡çš„æ¡‚æž—ä¸¤æ—¥æ¸¸â€œ\nA_Hero Named Magnus\n\n\n\n\n\n\n\n\næ°´é¢˜ã€‚ä¸ºä»€ä¹ˆä¸bançŒ›çŠ¸ï¼Ÿè¾“å‡º2n-1\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll x; cin>>x;\n    ll ans;\n    ans=x*2-1;\n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_Assumption is All You Need\n\n\n\n\n\n\n\n\næž„é€ é¢˜\né¢˜æ„ï¼šç»™ä½ ä¸¤ä¸ªåºåˆ—Aï¼ŒBï¼Œå¯¹Aå¯æ‰§è¡Œæ“ä½œï¼šè‹¥ iAjï¼Œå¯å°†Aiä¸ŽAjäº¤æ¢ï¼Œé—®èƒ½å¦é€šè¿‡åˆæ³•çš„æ“ä½œå°†Aå˜æˆBï¼Œå¹¶æ‰“å°æ“ä½œåºåˆ—  \næ€è·¯ï¼šä»Žå±è‚¡å¾€å‰æ‰«ä¸€éï¼Œå¦‚æžœAiå’ŒBiä¸ä¸€æ ·ï¼Œå°±ä»ŽA[Bi_pos]å¾€å‰æ‰«ï¼Œå¯»æ±‚æœ€ä¼˜è§£ï¼ŒçžŽJBè´ªå¿ƒï¼Œwa2å¾…è¡¥\n\nE_Buy and Delete (å›¾è®º)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼šç»™äº†ä½ ä¸€äº›å¸¦æƒæœ‰å‘è¾¹ï¼ŒAliceå¯ä»¥ç”¨å·²æœ‰çš„cå…ƒé’±è´­ä¹°ä¸€äº›è¾¹å½¢æˆä¸€å¼ æœ‰å‘å›¾ï¼›éšåŽBobè¿›è¡Œåˆ è¾¹ï¼Œæ¯æ¬¡å¯ä»¥åˆ é™¤ä¸€ä¸ªæ— çŽ¯çš„å­é›†ï¼ŒAliceæƒ³æœ€å¤§åŒ–åˆ è¾¹æ¬¡æ•°ï¼ŒBobæƒ³æœ€å°åŒ–ï¼ŒäºŒè€…éƒ½é‡‡å–æœ€ä¼˜æ“ä½œï¼Œé—®Bobéœ€è¦åˆ é™¤å‡ æ¬¡\næ€è·¯ï¼šç­”æ¡ˆåªå¯èƒ½æ˜¯0,1,2ï¼Œ0çš„æƒ…å†µæ˜¯Aliceä¸€æ¡è¾¹éƒ½ä¹°ä¸èµ·ï¼Œ1çš„æƒ…å†µæ˜¯Aliceä¹°çš„æ— çŽ¯å›¾ï¼Œ2çš„æƒ…å†µæ˜¯Aliceä¹°çš„å¸¦çŽ¯å›¾ï¼Œæ— è®ºæœ‰å‡ ä¸ªçŽ¯ï¼ŒBobéƒ½åªéœ€è¦åˆ ä¸¤æ¬¡å°±å¤Ÿäº†ï¼Œè¿™ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚\nè§£æ³•ï¼šç›´æŽ¥æŠŠæ‰€æœ‰è¾¹å­˜åˆ°ä¸€ä¸ªæœ‰å‘å›¾é‡Œï¼ŒåšDijkstraæ‰¾ä»Žv-&gt;v çš„æœ€çŸ­è·¯ï¼Œåˆ¤æ–­ä¹°ä¸ä¹°å¾—èµ·å°±å¯ä»¥äº†\nps: å¼€å§‹çŠ¯ç—…ç”¨ n2 çš„Dijç»“æžœTäº†ï¼Œæ¢äº† nlogn çš„å †ä¼˜åŒ–Dijå°±ä¸Täº†ï¼›ç„¶åŽè¿˜åœ¨æƒ³æ”¹é€ ä¸€ä¸‹Dijè®©èµ·ç‚¹ä¸º i çš„distæ•°ç»„å¯ä»¥å­˜ dist[i]ï¼Œç»“æžœæƒ³äº†æƒ³ç›´æŽ¥Dijå®Œäº†ä¹‹åŽdist[j] + mincost[j][i] ä¸å°±æ˜¯çŽ¯çš„é•¿åº¦å—ï¼Œwssb \n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 1000000001\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 2005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint n, m, c;\nstruct qnode&#123;\n    int v,c;\n    qnode(int _v=0,int _c=0):v(_v),c(_c)&#123;&#125;\n    bool operator &lt;(const qnode &amp;r)const&#123;\n        return c>r.c;\n    &#125;\n&#125;;\nstruct Edge&#123;\n    int v,cost;\n    Edge(int _v=0,int _cost=0):v(_v),cost(_cost)&#123;&#125;\n&#125;;\nvector&lt;Edge>E[maxn];\nbool vis[maxn];\nint dist[maxn];\nint mincost[maxn][maxn];\nvoid Dijkstra(int start)&#123; \n    memset(vis,false,sizeof(vis));\n    for(int i=1;i&lt;=n;i++)dist[i]=INF;\n    priority_queue&lt;qnode>que;\n    while(!que.empty()) que.pop();\n    dist[start]=0;\n    que.push(qnode(start,0));\n    qnode tmp;\n    while(!que.empty())&#123;\n        tmp=que.top(); que.pop();\n        int u=tmp.v;\n        if(vis[u])continue;\n        vis[u]=true;\n        for(int i=0;i&lt;E[u].size();i++)&#123;\n            int v=E[tmp.v][i].v;\n            int cost=E[u][i].cost;\n            if(!vis[v]&amp;&amp;dist[v]>dist[u]+cost)&#123;\n                dist[v]=dist[u]+cost; \n                que.push(qnode(v,dist[v]));\n            &#125;\n        &#125;\n    &#125;\n&#125;\nvoid addedge(int u,int v,int w)&#123;\n    E[u].push_back(Edge(v,w));\n&#125;\nint main() &#123;\n    scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;c);\n    int mncost=INF;\n    int u, v, p;\n    rep(i,1,n+1)\n        rep(j,1,n+1)\n            mincost[i][j]=INF;\n    rep(i,0,m)&#123;\n        scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;p);\n        addedge(u,v,p);\n        mincost[u][v]=min(mincost[u][v],p);\n        mncost=min(mncost,p);\n    &#125;\n    if(mncost>c)&#123; cout&lt;&lt;0; return 0; &#125;\n    eif(mncost==c)&#123; cout&lt;&lt;1; return 0;&#125; \n    rep(i,1,n+1)&#123;\n        Dijkstra(i);\n        rep(j,1,n+1)&#123;\n            if(i!=j &amp;&amp; dist[j]+mincost[j][i]&lt;=c)&#123;cout&lt;&lt;2; return 0;&#125;\n        &#125;\n    &#125;\n    cout&lt;&lt;1;\n    return 0;\n&#125;\nG_Occupy the Cities\n\n\n\n\n\n\n\n\näºŒåˆ†ç­”æ¡ˆ/dp\né¢˜æ„ï¼šä¸€ä¸ª01ä¸²ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†ä¸²ä¸­æ‰€æœ‰çš„1çš„å·¦è¾¹ä¸€ä½æˆ–å³è¾¹ä¸€ä½ä¹Ÿå˜æˆ1ï¼Œé—®å˜æˆå…¨1ä¸²éœ€è¦å‡ æ¬¡æ“ä½œ\nè§£æ³•ï¼šäºŒåˆ†ç­”æ¡ˆï¼Œcheck() ä¸­ä»Žä¸²çš„å·¦è¾¹åˆ°å³è¾¹å¯¹æ¯ä¸€ä½1å—¯è´ªå¿ƒï¼Œdpè§£æ³•æ²¡çœ‹\n#include &lt;bits/stdc++.h>\n#define mp make_pair\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define maxn 1000005\n#define pb push_back\n#define fst first\n#define sec second\nusing namespace std;\nchar s[maxn];\nint n;\nvector&lt;int> one;\nint need[maxn];\nvoid init(int t) &#123;\n    scanf(\"%s\", s + 1);\n    one.clear();\n    rep(i, 1, t + 1) &#123;\n        need[i] = 0;\n        if (s[i] == '1') &#123;\n            one.pb(i);\n        &#125;\n    &#125;\n&#125;\nint check(int x) &#123;\n    if (one[0] - 1 > x)\n        return 0;\n    if (one[0] - 1 == x)\n        need[1] = 1;\n    int tmp;\n    rep(i, 1, one.size()) &#123;\n        if (one[i] - one[i - 1] == 1)\n            continue;\n        tmp = one[i] - one[i - 1] - 1 + need[i];\n        if ((tmp + 1) / 2 > x)\n            return 0;\n        else if ((tmp + 1) / 2 == x) &#123;\n            if (tmp / 2 == x)\n                need[i + 1] = 1;\n        &#125;\n    &#125;\n    tmp = n - one[one.size() - 1] + need[one.size()];\n    if (tmp > x)\n        return 0;\n    return 1;\n&#125;\nvoid solve() &#123;\n    cin >> n;\n    init(n);\n    if (one.size() == n) &#123;\n        cout &lt;&lt; 0 &lt;&lt; endl;\n        return;\n    &#125;\n    int l = 1, r = n;\n    int ret = 0;\n    while (l &lt;= r) &#123;\n        int mid = (l + r) >> 1;\n        //cout &lt;&lt; mid &lt;&lt; \" \"\n        rep(i, 1, n + 2) need[i] = 0;\n        if (check(mid)) &#123;\n            ret = mid;\n            r = mid - 1;\n        &#125; else &#123;\n            l = mid + 1;\n        &#125;\n    &#125;\n\n    cout &lt;&lt; ret &lt;&lt; endl;\n&#125;\n\nint main() &#123;\n    int T;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nI_PTSD\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜ï¼Œä¸æƒ³å¤ç›˜äº†\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 1000005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nchar a[maxn];\nvoid solve() &#123;\n    int n;\n    cin &gt;&gt; n;\n    ll ret&#x3D;0;\n    rep(i,0,n)&#123;\n        cin&gt;&gt;a[i];\n    &#125;\n    int lead&#x3D;0;\n    int mxpos;\n    red(i,n,0)&#123;\n        if(a[i]&#x3D;&#x3D;&#39;0&#39;)&#123;\n            lead++;\n        &#125;else&#123;\n            if(lead&gt;0)&#123;\n                lead--;\n                ret+&#x3D;(i+1);\n            &#125;else&#123;\n                lead++;\n            &#125;\n        &#125;\n    &#125;\n    cout&lt;&lt;ret&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šä»Šå¤©æƒ³å‡ºæ¥Däº†å—\n","slug":"xcpc/2021ccpc_guilin","date":"2021-11-23T16:03:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,ACM,æ€ç»´,äºŒåˆ†,CCPC,æ¨¡æ‹Ÿ,å›¾è®º,Dijkstra","author_index":"Maskros"},{"id":"790ed4c1d654821efb9fe604376d5483","title":"Educational Codeforces Round 117 (Div.2)","content":"Educational Codeforces Round 117 (Rated for Div. 2)A_Distance\n\n\n\n\n\n\n\n\nç­¾åˆ°\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    int x, y;\n    cin &gt;&gt; x &gt;&gt; y;\n    int xx &#x3D; -1, yy &#x3D; -1;\n    int tot &#x3D; x + y;\n    if (abs(tot) % 2 &#x3D;&#x3D; 1) &#123;\n        cout &lt;&lt; xx &lt;&lt; &quot; &quot; &lt;&lt; yy &lt;&lt; endl;\n        return;\n    &#125; else &#123;\n        if (abs(x) % 2 &#x3D;&#x3D; 0 &amp;&amp; abs(y) % 2 &#x3D;&#x3D; 0) &#123;\n            cout &lt;&lt; x &#x2F; 2 &lt;&lt; &quot; &quot; &lt;&lt; y &#x2F; 2 &lt;&lt; endl;\n            return;\n        &#125; else &#123;\n            tot &#x2F;&#x3D; 2;\n            if (x &gt; y)\n                cout &lt;&lt; tot &lt;&lt; &quot; &quot; &lt;&lt; 0 &lt;&lt; endl;\n            else\n                cout &lt;&lt; 0 &lt;&lt; &quot; &quot; &lt;&lt; tot &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Special_Permutation\n\n\n\n\n\n\n\n\nè´ªå¿ƒæž„é€ \n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nint num[105];\nbool vis[105];\nvoid solve() &#123;\n    int n,a,b; cin&gt;&gt;n&gt;&gt;a&gt;&gt;b;\n    memset(vis,0,sizeof(vis));\n    memset(num, 0, sizeof(num));\n    vis[a]&#x3D;1;\n    vis[b]&#x3D;1;\n    num[n&#x2F;2+1]&#x3D;b;\n    num[1]&#x3D;a;\n    int tmp&#x3D;1;\n    bool find;\n    rep(i,n&#x2F;2+2,n+1)&#123;\n        find&#x3D;false;\n        rep(j,tmp,b)&#123;\n            if(!vis[j])&#123;\n                vis[j]&#x3D;1;\n                num[i]&#x3D;j;\n                tmp&#x3D;j+1;\n                find&#x3D;1;\n                break;\n            &#125;\n        &#125;\n        if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125;\n    &#125;\n    tmp&#x3D;n;\n    rep(i,2,n&#x2F;2+1)&#123;\n        find&#x3D;false;\n        red(j,tmp+1,a)&#123;\n            if(!vis[j])&#123;\n                vis[j]&#x3D;1;\n                num[i]&#x3D;j;\n                tmp&#x3D;j-1;\n                find&#x3D;1;\n                break;\n            &#125;\n        &#125;\n        if(!find) &#123;cout&lt;&lt;-1&lt;&lt;endl; return;&#125;\n    &#125;\n    rep(i,1,n+1)&#123;\n        cout&lt;&lt;num[i]&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nC_Chat_Ban\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nè¾“å…¥k,x ; ä½ æœ‰2k-1æ¡ä¿¡æ¯è¦å‘ï¼Œä¿¡æ¯çš„é•¿åº¦ä¸º1,2,3â€¦k-1,k,k-1â€¦1ï¼Œåœ¨å‘å‡ºå½“å‰ä¿¡æ¯æ—¶ï¼Œä½ å·²ç»å‘é€çš„æ€»é•¿åº¦å¿…é¡»å°äºŽxï¼Œé—®ä½ æœ€å¤šèƒ½å‘å¤šå°‘æ¡\næ€è·¯ï¼š\näºŒåˆ†ç­”æ¡ˆå³å¯\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x - 1; i &gt;&#x3D; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll cal(ll begin, ll end)&#123;\n    ll ret;\n    if((begin+end)%2&#x3D;&#x3D;0)&#123;\n        ret&#x3D;(begin+end)&#x2F;2*(end-begin+1);\n    &#125;else&#123;\n        ret&#x3D;(end-begin+1)&#x2F;2*(begin+end);\n    &#125;\n    return ret;\n&#125;\nvoid solve() &#123;\n    ll k,x; cin&gt;&gt;k&gt;&gt;x;\n    ll ans&#x3D;0;\n    ll test&#x3D;cal(1,k);\n    if(test&#x3D;&#x3D;x)&#123;\n        cout&lt;&lt;k&lt;&lt;endl;\n        return;\n    &#125;eif(test&lt;x)&#123;\n        ans+&#x3D;k;\n        x-&#x3D;test;\n        test&#x3D;cal(1,k-1);\n        if(test&lt;&#x3D;x)&#123; cout&lt;&lt;2*k-1&lt;&lt;endl; return;&#125;\n        else&#123;\n            ll l&#x3D;1,r&#x3D;k;\n            ll mid;\n            ll tmp&#x3D;0;\n            while(l&lt;&#x3D;r)&#123;\n                mid&#x3D;(l+r)&gt;&gt;1;\n                test&#x3D;cal(mid,k-1);\n                if(test&#x3D;&#x3D;x)&#123;\n                    tmp&#x3D;k-mid;\n                    break;\n                &#125;eif(test&lt;x)&#123;\n                    tmp&#x3D;k-mid+1;\n                    r&#x3D;mid-1;\n                &#125;else&#123;\n                    l&#x3D;mid+1;\n                &#125;\n            &#125;\n            ans+&#x3D;tmp;\n            cout&lt;&lt;ans&lt;&lt;endl;\n        &#125;\n    &#125;else&#123;\n        ll l&#x3D;1,r&#x3D;k;\n        ll mid;\n        while(l&lt;&#x3D;r)&#123;\n            mid&#x3D;(l+r)&gt;&gt;1;\n            test&#x3D;cal(1,mid);\n            if(test&#x3D;&#x3D;x)&#123;\n                ans&#x3D;mid;\n                break;\n            &#125;eif(test&lt;x)&#123;\n                ans&#x3D;mid+1;\n                l&#x3D;mid+1;\n            &#125;else&#123;\n                r&#x3D;mid-1;\n            &#125;\n        &#125;\n        cout&lt;&lt;ans&lt;&lt;endl;\n    &#125;\n\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nD_X_Magic_Pair (gcd)\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™ä½  a, b, xï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥å°†aæˆ–bæ›¿æ¢ä¸º |a-b|, è¯¢é—®èƒ½å¦å°†aæˆ–bè¿›è¡Œä»»æ„æ¬¡æ“ä½œåŽæ›¿æ¢ä¸º x\næ€è·¯ï¼š\ngcdå˜ç§ï¼Œæ¯æ¬¡åˆ¤æ–­ä¸€ä¸‹ a%b æ˜¯å¦ç­‰äºŽ x%bï¼Œå³ (a-x)%b==0 ï¼Œå¦‚æžœç›¸ç­‰å³ä¸ºYESï¼Œå¦åˆ™å³ä¸ºNO\n#include &lt;bits/stdc++.h>\n\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define sec second\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x - 1; i >= y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll a, b, x;\nbool gcd(ll a, ll b)&#123;\n    if(a==x||b==x) return 1;\n    if(b==0) return 0;\n    if(a>x&amp;&amp;(a-x)%b==0) return 1;    \n    if(b>x&amp;&amp;(b-x)%a==0) return 1;\n    return gcd(b,a%b);\n&#125;\nvoid solve() &#123;\n    cin>>a>>b>>x;\n    if(x>a&amp;&amp;x>b)&#123; cout&lt;&lt;\"NO\"&lt;&lt;endl; return; &#125;\n    if(x==a||x==b)&#123; cout&lt;&lt;\"YES\"&lt;&lt;endl; return;&#125;\n    ll tmpa=(a>b)?a:b;\n    ll tmpb=(b&lt;a)?b:a;\n    if(gcd(tmpa,tmpb)) puts(\"YES\");\n    else puts(\"NO\");\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\næ€»ç»“ä»¨ç­¾åˆ°å¾ˆé¡ºæºœï¼Œæœ€åŽä¸€ä¸ªé¢˜å› ä¸ºåˆ¤æ–­æ¡ä»¶ç»“æžœsbäº†ï¼ŒæŽ‰åˆ†\n","slug":"codeforces/cf Edu 117","date":"2021-11-23T10:02:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´,äºŒåˆ†,gcd","author_index":"Maskros"},{"id":"a2c6874fc71d3b8d32c3fc7e259ed58d","title":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬","content":"è¿›è¡Œä¸€ä¸ªæ¯›æ¦‚é¢˜åº“çš„çˆ¬\n\n\n\n\n\n\n\n\nå‰è¨€ï¼šðŸ·bæ¯›æ¦‚é¢˜åº“è¦æˆªæ­¢äº†ï¼Œå‡ ä¸ªæ—¶é—´æ®µçš„é¢˜åº“å„è‡ªæœ‰æˆªæ­¢æ—¥æœŸðŸ˜…ï¼Œçœ¼è§ç€ddlå°±è¦åˆ°äº†å¯ðŸ‘´åˆä¸æƒ³åŽ»åˆ·ï¼Œæ‰€ä»¥èŒç”Ÿäº†å€ŸåŠ©pythonçˆ¬è™«æ¥è¿›è¡Œå·æ‡’çš„æƒ³æ³•\nåŠžäº‹æµç¨‹\n\n\n\n\n\n\n\n\nç”±äºŽä¹‹å‰ðŸ‘´è¯´è¿‡ï¼šâ€œpythonç‹—éƒ½ä¸ç”¨â€ï¼Œâ€œç”¨pythonçš„éƒ½æ²™æ¯”â€ çš„åè¨€ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æ˜¯æ‹’ç»çš„ï¼Œä½†æ˜¯è¿«äºŽçŽ°çŠ¶ï¼Œæ‰€ä»¥ç®€å•çªå‡»äº†å‡ å¤©ï¼Œå­¦åˆ°äº†ä¸€äº›çŸ¥è¯†ï¼Œå®žæˆ˜ç”¨åˆ°çš„ä¹Ÿå°±åªæœ‰ä¸åˆ° 1/5\néœ€æ±‚ï¼š\né¢˜åº“å…±è®¡ä¸€ç™¾å¤šé“é¢˜ç›®ï¼Œæ¯æ¬¡æµ‹è¯•15é“é¢˜ï¼Œ5å•é€‰5å¤šé€‰5åˆ¤æ–­ï¼Œæäº¤åšé¢˜ç»“æžœä¹‹åŽæ–¹å¯èŽ·å¾—æ‰€æœ‰é¢˜çš„æ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯ä»Žæ‰€æœ‰æµ‹è¯•å°è¯•çš„åé¦ˆé¡µé¢ä¸­çˆ¬å–é¢˜ç›®é¢˜é¢å’Œæ­£ç¡®ç­”æ¡ˆå¹¶æŒä¹…åŒ–å­˜å‚¨ï¼Œover\nåŽŸå…ˆæ­¥éª¤(å…¨è‡ªåŠ¨)\n\næ¨¡æ‹Ÿç™»å½•\nç”±äºŽè¿™ä¸ªb bbå¹³å°éœ€è¦ä¿¡æ¯é—¨æˆ·ç™»å½•æˆåŠŸä¹‹åŽæ‰èƒ½åšé‚£bé¢˜ï¼Œæ‰€ä»¥éœ€è¦æ¨¡æ‹Ÿç™»é™†ä¹‹åŽæ‰èƒ½è¯·æ±‚åˆ°åšé¢˜ç»“æžœçš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨sessionä¼šè¯å¯¹è±¡åœ¨å‘ç™»å½•é¡µé¢å‘èµ·è¯·æ±‚åŽå‚¨å­˜cookieï¼Œè¿™æ ·åŽé¢ç›´æŽ¥ç”¨sessionå¯¹è±¡å†å¯¹éœ€æ±‚çš„é¡µé¢è¿›è¡Œgetè¯·æ±‚å³å¯ã€‚\n\nè‡ªåŠ¨åšé¢˜\nè‡ªåŠ¨å¼€å§‹æ–°å°è¯•å¹¶ä¸”æäº¤\n\nå¼€çˆ¬\ngetåˆ°äº†é¡µé¢ä¹‹åŽï¼Œåˆ©ç”¨xpathè¿›è¡Œæ•°æ®è§£æžï¼ŒæŒä¹…åŒ–å­˜å‚¨å³å¯\n\n\n\n\n\n\n\n\n\n\n\næƒ³æ³•å¾ˆå¥½ï¼ŒåŽæ¥å‡ºçŽ°äº†ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯æœ€ç»ˆæµç¨‹ï¼š\n\nçŽ°å®žæ­¥éª¤(å‡ ä¹Žå…¨è‡ªåŠ¨)\n\n\n\n\n\n\n\n\n\n2021/11/13 æ›´æ–°äº† v1.1 ç‰ˆæœ¬ï¼šâ‘ ä¼˜åŒ–äº†å­˜å‚¨æ–¹å¼ï¼šæŒ‰å­—å…¸åºæŽ’åºå³æŒ‰é¢˜ç›®çš„ç« èŠ‚è¿›è¡Œåˆ†ç±»ï¼›â‘¡å®žçŽ°äº† v1.0 æ²¡å®žçŽ°çš„è‡ªåŠ¨åšé¢˜åŠŸèƒ½\n\næ¨¡æ‹Ÿç™»å½•(x) æ‰‹åŠ¨ç™»å½•(âˆš)\næŒ‰ç…§åŽŸå…ˆçš„æƒ³æ³•æ¨¡æ‹Ÿç™»é™†ï¼Œè¿”å›žçš„æ¶ˆæ¯ä¹Ÿæ˜¯ç™»é™†æˆåŠŸï¼Œä½†æ˜¯è¯·æ±‚æ‰€éœ€é¡µé¢æ˜¯è¿˜æ˜¯è¢«æ‹¦æˆªäº†ï¼Œéœ€è¦é‡æ–°ç™»å½•ï¼Œç”±äºŽæ‰ç–å­¦æµ…ï¼Œä¸€æ—¶ä¸çŸ¥é“å¦‚ä½•æ˜¯å¥½ï¼Œå¹²è„†ç›´æŽ¥æ‰‹åŠ¨ç™»å½•åŽï¼Œåˆ©ç”¨æµè§ˆå™¨F12ï¼Œæ‰¾åˆ°ç™»å½•çš„cookieï¼Œæ‰‹åŠ¨å¤åˆ¶åˆ°æºç ä¸­çš„ headers å†…ï¼Œç›´æŽ¥ç”¨ requests è¿›è¡Œ post å’Œ get çš„è¯·æ±‚å³å¯èŽ·å¾—æ‰€éœ€é¡µé¢\n\nè‡ªåŠ¨åšé¢˜(âˆš)\n\nå¼€å§‹æ–°å°è¯•ï¼šå‘çŽ°å¼€å§‹æ–°å°è¯•çš„æŒ‰é’®ä¸­å¯¹åº”çš„ &lt;a&gt;æ ‡ç­¾çš„ url ä¸­çš„å‚æ•°æœ‰ä¸ªæœ‰è¶£çš„åœ°æ–¹ new_attempt=1ï¼Œç›´æŽ¥è®¿é—®å³å¯ä»¥å¼€å§‹ä¸€æ¬¡æ–°çš„å°è¯•ï¼Œç›´æŽ¥getè¯·æ±‚å³å¯\næäº¤æ–°å°è¯•ï¼šç‚¹å‡»æäº¤æŒ‰é’®åŽè¿›è¡ŒæŠ“åŒ…ï¼Œå‘çŽ°æœ‰ä¸€ä¸ªpostè¯·æ±‚å¯¹åº”çš„ url : do/take/saveAttempt?saveSequence=1/... ï¼Œè§‚å¯Ÿæ•°æ®åŒ…ä¸­ä¼ è¾“çš„æ•°æ®å‘çŽ°æœ‰è¿™æ ·å‡ ä¸ªæœ‰è¶£çš„åœ°æ–¹ï¼šdata_submitted:true, save_and_submit:trueï¼›æˆ‘ä»¬çŒœæµ‹è¿™å°±æ˜¯å¯¹æœåŠ¡å™¨è¿›è¡Œçš„æäº¤ç»“æžœè¯·æ±‚ã€‚ä¹‹åŽå¯¹æ¯”ä¸¤æ¬¡ä¸åŒçš„æäº¤æ‰€å¾—çš„æ•°æ®åŒ…å‘çŽ°ï¼Œæ‰€éœ€ä¿®æ”¹çš„å‚æ•°ä¸ºcurrent_attempt_id å’Œ current_attempt_id_backupï¼ŒäºŒè€…æ˜¯ä¸€æ ·çš„ï¼ŒäºŽæ˜¯è§‚å¯Ÿå“ªé‡Œæœ‰è¿™ä¸ªidï¼Œå‘çŽ°å’Œåšé¢˜é¡µé¢ä¸­çš„&lt;div&gt;æ ‡ç­¾çš„ç±»åæœ‰ç€æƒŠäººçš„ä¸€è‡´ðŸ¤ ã€‚ç›´æŽ¥å¯¹åšé¢˜é¡µé¢è¿›è¡Œxpathè§£æžï¼Œè§£æžåˆ°divæ ‡ç­¾çš„ç±»åä¼ è¾“è¿›postè¯·æ±‚çš„æ•°æ®ä¸­ï¼Œå†å‘é€postè¯·æ±‚å³å¯å®Œæˆè‡ªåŠ¨æäº¤æ–°å°è¯•ðŸ˜ª\n\n\nè‡ªåŠ¨å¼€çˆ¬ ï¼(âˆš)\n\ngetåˆ°æ‰€æœ‰å°è¯•çš„é¡µé¢ï¼Œåˆ©ç”¨xpathè§£æžåˆ°å¯¹åº”æ¯æ¬¡åšé¢˜ç»“æžœçš„ &lt;a&gt; æ ‡ç­¾çš„hrefåœ°å€å­˜åˆ° list ä¸­ï¼Œæ‹¼æŽ¥æˆå®Œæ•´çš„url\n\nå¯¹æ¯ä¸ªurl åˆ©ç”¨xpathè§£æžåˆ°å¯¹åº”é¢˜ç›®å’Œç­”æ¡ˆçš„æ ‡ç­¾ï¼Œæ ¹æ®é¢˜ç›®ç±»åž‹åˆ†åˆ«å­˜å‚¨ï¼Œåˆ©ç”¨å­—å…¸å­˜å‚¨ï¼Œé¢˜ç›®åç§°ä¸ºkeyï¼Œé¢˜ç›®ç­”æ¡ˆä¸ºvalueï¼Œä¸ºäº†é˜²æ­¢å­˜å‚¨é‡å¤é¢˜ç›®ï¼Œæ¯æ¬¡å­˜å‚¨å‰å…ˆæŸ¥è¯¢keyæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å†å­˜å…¥å­—å…¸ä¸­ï¼Œå†™å…¥æ–‡ä»¶çš„åŒæ—¶è®¡æ•°å™¨+1ï¼Œæ–¹ä¾¿ç»Ÿè®¡çˆ¬å–é¢˜ç›®çš„ä¸ªæ•°\n\nå†»æ‰‹å†»æ‰‹\n\n\n\n\nðŸ´æ¥import requests\nfrom lxml import etree\nimport os\nimport time\n\nif __name__ == '__main__':\n    # åˆ›å»ºæ–‡ä»¶å¤¹\n    if not os.path.exists('./maogai/Round_2/'):\n        os.mkdir('./maogai/Round_2/')\n\n    session = requests.Session()\n    detail_url = 'https://wlkc.ouc.edu.cn'\n    # ä½¿ç”¨çŽ°æˆçš„cookieç›´æŽ¥ç»•è¿‡ç™»å½•é¡µé¢\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36',\n        'Cookie': 'JSESSIONID=AC1DEAF6D6037A4B310E53885942338D; LOGIN=3139303230303331303330; UM_distinctid=17bcb2f4e579ab-0e328a4e032f8-a7d193d-144000-17bcb2f4e58315; SCREEN_NAME=4f566b646b73396b79642f396274486b665a503656773d3d; session_id=4025A5EAD4245D545DCB1E8FD2D1EE4E; s_session_id=864B98DCC97327775D6853902DCD0138; web_client_cache_guid=871e5dc2-27ae-44b8-898f-a44d97e217f2',\n    &#125;\n\n    # è‡ªåŠ¨è¯·æ±‚å¼€å§‹æµ‹è¯•å’Œæäº¤ times_attä¸ºæ¬¡æ•° æ¯æ¬¡è¯·æ±‚é—´éš”3s\n    times_att = 10\n    print('attempt started...')\n    for i in range(0,times_att):\n        # è¯·æ±‚æµ‹è¯•\n        attempt_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;new_attempt=1&amp;content_id=_633969_1&amp;step='\n        atmp = session.get(url=attempt_url, headers=headers)\n        \n        # æ‹¿åˆ°æœ¬æ¬¡æµ‹è¯•id\n        do_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/take/launch.jsp?course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1&amp;step=null'\n        do = session.get(url=do_url, headers=headers)\n        tree_att = etree.HTML(do.text)\n        atnum = tree_att.xpath('//div[@class=\"takeQuestionDiv \"]/@id')[0]\n        print('attemptid = ' + str(atnum))\n\n        # æäº¤æœ¬æ¬¡æµ‹è¯•\n        submit_url = 'https://wlkc.ouc.edu.cn/webapps/assessment/do/take/saveAttempt?saveSequence=17&amp;takePageId=1636771783088&amp;course_assessment_id=_30131_1&amp;course_id=_13492_1&amp;content_id=_633969_1'\n        data = &#123;\n            'blackboard.platform.security.NonceUtil.nonce.ajax': 'c87385ed-48d7-4d9c-8c8c-a9f6cb45826d',\n            'data-submitted': 'true',\n            'course_assessment_id': '_30131_1',\n            'course_id': '_13492_1',\n            'content_id': '_633969_1',\n            'step': '',\n            'original_user_id': '_47406_1',\n            'save_and_submit': 'true',\n            'timer_completion': '',\n            'fileUploadType': '',\n            'toggle_state': 'qShow',\n            'current_question': '1',\n            'current_attempt_item_id': atnum,\n            'current_attempt_item_id_backup': atnum,\n            'method': 'notajax',\n            'saveonequestion': '',\n        &#125;\n        submit = session.post(url=submit_url, headers=headers, data=data)\n        print('post finished! times: '+ str(i+1))\n        time.sleep(3)\n    print('attempt over!')\n    print('--------------------')\n\n    # æ€»å°è¯•é¡µé¢\n    total_url = 'https://wlkc.ouc.edu.cn/webapps/gradebook/do/student/viewAttempts?method=list&amp;course_id=_13492_1&amp;outcome_definition_id=_95191_1&amp;outcome_id=_2069239_1'\n    page_text_tot = session.get(url=total_url, headers=headers)\n    tree_tot = etree.HTML(page_text_tot.text)\n    attempt_list = tree_tot.xpath('//div[@class=\" columnStep clearfix\"]//a/@href')\n\n    # ä¸ºäº†åŽ»é‡ä½¿ç”¨å­—å…¸ä¿å­˜é”®å€¼å¯¹\n    danxuan = &#123;&#125;\n    duoxuan = &#123;&#125;\n    panduan = &#123;&#125;\n    cnt1 = 0\n    cnt2 = 0\n    cnt3 = 0\n\n    fp1 = open('./maogai/Round_2/å•é€‰.txt', 'w', encoding='utf-8')\n    fp2 = open('./maogai/Round_2/å¤šé€‰.txt', 'w', encoding='utf-8')\n    fp3 = open('./maogai/Round_2/åˆ¤æ–­.txt', 'w', encoding='utf-8')\n\n    times = 0\n    print('download started...')\n    for attempt in attempt_list:\n        times = times + 1\n        new_url = detail_url + attempt\n        # print(new_url)\n        page_text = session.get(url=new_url, headers=headers)\n        tree = etree.HTML(page_text.text)\n        pro_list = tree.xpath('//ul[@id=\"content_listContainer\"]/li')\n\n        cnt = 0\n        # æ¯æ¬¡å°è¯•çš„å†…å®¹è¿›è¡Œçˆ¬å–\n        for li in pro_list:\n            cnt = cnt + 1\n            pro_name = li.xpath('normalize-space(.//div[@class=\"vtbegenerated inlineVtbegenerated\"])')\n            pro_answer_1 = li.xpath('.//div[@class=\"vtbegenerated inlineVtbegenerated\"]//label/text()')\n            pro_answer_1 = str(pro_answer_1)\n            pro_answer_2 = li.xpath('normalize-space(.//span[@class=\"answerTextSpan\"])')\n\n            if cnt &lt;= 5:\n                if pro_name not in danxuan:\n                    cnt1 = cnt1 + 1\n                    danxuan[pro_name] = pro_answer_1\n                    # fp1.write(str(cnt1) + '. ' + pro_name+'\\n'+pro_answer_1+'\\n')\n            elif cnt &lt;= 10:\n                if pro_name not in duoxuan:\n                    cnt2 = cnt2 + 1\n                    duoxuan[pro_name] = pro_answer_1\n                    # fp2.write(str(cnt2) + '. ' + pro_name + '\\n' +pro_answer_1+'\\n')\n            else:\n                if pro_name not in panduan:\n                    cnt3 = cnt3 +1\n                    panduan[pro_name] = pro_answer_2\n                    # fp3.write(str(cnt3) + '. ' + pro_name + '\\n'+pro_answer_2+'\\n')\n        print('times: ' + str(times) + ' å•é€‰: ' + str(cnt1) + ',å¤šé€‰ï¼š' + str(cnt2) + ',åˆ¤æ–­: ' + str(cnt3) )\n\n    # å°†å­—å…¸è¿›è¡ŒæŒ‰keyæŽ’åºå®žçŽ°ä¸åŒç« èŠ‚åˆ†ç±»è¿›è¡Œå­˜å‚¨\n    num = 0\n    for pro in sorted(danxuan):\n        num = num + 1\n        fp1.write(str(num)+'. '+ pro + '\\n' + danxuan[pro] + '\\n')\n    num = 0\n    for pro in sorted(duoxuan):\n        num = num + 1\n        fp2.write(str(num)+'. ' + pro + '\\n' + duoxuan[pro] + '\\n')\n    num = 0\n    for pro in sorted(panduan):\n        num = num + 1\n        fp3.write(str(num)+'. ' + pro + '\\n' + panduan[pro] + '\\n')\n\n    fp1.close()\n    fp2.close()\n    fp3.close()\n    print('total: ' + str(cnt1+cnt2+cnt3) + ' problems have been downloaded.')\n\n\n\n\n\n\n\n\n\nä¸€ä¸ªå°å®žæˆ˜ï¼Œæ•ˆæžœè¿˜è¡ŒðŸ˜…ï¼Œä»¥åŽä¼šæƒ³åŠžæ³•ä¿®æ”¹è‡ªåŠ¨ç™»å½•çš„é—®é¢˜ï¼Œå¯ä»¥æç‚¹æ„è§\ngithubé¡¹ç›®åœ°å€ link  çˆ¬å–çš„é¢˜åº“åœ¨æ–‡ä»¶å¤¹é‡Œ\noverå¤§ç«\n","slug":"projects/maogai_crawler","date":"2021-11-10T14:43:00.000Z","categories_index":"PROJECT","tags_index":"Crawler,python,requests","author_index":"Maskros"},{"id":"44a21ae344829c5e89324b4b716ab686","title":"pythonçˆ¬è™«æ‚è®°","content":"pythonçˆ¬è™«æ‚è®°Crawler in python\n\n\n\n\n\n\n\n\n\nåˆå ã€Šä¸ºäº†å·æ‡’çˆ¬æ¯›æ¦‚é¢˜åº“çš„çªå‡»å­¦ä¹ ã€‹\nä¸€äº›çŸ¥è¯†\nçˆ¬è™«åœ¨ä½¿ç”¨åœºæ™¯ä¸­çš„åˆ†ç±»ï¼š\n\né€šç”¨çˆ¬è™«ï¼šæŠ“å–ç³»ç»Ÿé‡è¦ä¿ƒæˆéƒ¨åˆ†ï¼ŒæŠ“å–çš„æ˜¯ä¸€æ•´å¼ é¡µé¢æ•°æ®\n\nèšç„¦çˆ¬è™«ï¼šæ˜¯å»ºç«‹åœ¨é€šç”¨çˆ¬è™«çš„åŸºç¡€ä¸Šï¼ŒæŠ“å–çš„æ˜¯é¡µé¢ä¸­ç‰¹å®šçš„å±€éƒ¨å†…å®¹\n\nå¢žé‡å¼çˆ¬è™«ï¼šæ£€æµ‹ç½‘ç«™ä¸­æ•°æ®æ›´æ–°çš„æƒ…å†µï¼Œåªä¼šæŠ“å–ç½‘ç«™ä¸­æœ€æ–°æ›´æ–°å‡ºæ¥çš„æ•°æ®\n\n\n\n\n\nrobots.txtåè®®ï¼šå›å­åè®®ï¼Œè§„å®šç½‘ç«™ä¸­å“ªäº›æ•°æ®èƒ½çˆ¬å“ªäº›ä¸èƒ½ï¼Œçº¦å®šä¿—æˆ\n\nhttp &amp; https åè®®ï¼š\n\n\n\n\n\n\n\n\n\nhttpåè®®ï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ä¸€ç§å½¢å¼\nhttpsåè®®ï¼šå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®® è¯ä¹¦ç§˜é’¥åŠ å¯†\n\nå¸¸ç”¨è¯·æ±‚å¤´ä¿¡æ¯ï¼š\n\nUser-Agentï¼šè¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†\n\nConnectionï¼šè¯·æ±‚å®Œæ¯•åŽï¼Œæ˜¯æ–­å¼€è¿žæŽ¥è¿˜æ˜¯ä¿æŒè¿žæŽ¥\n\n\n\n\n\nå¸¸ç”¨å“åº”å¤´ä¿¡æ¯ï¼š\nContent-Typeï¼šæœåŠ¡å™¨å“åº”å›žå®¢æˆ·ç«¯çš„æ•°æ®ç±»åž‹\n\n\n\nrequestsæ¨¡å—\n\n\n\n\n\n\n\n\nrequests: pythonåŽŸç”Ÿçš„åŸºäºŽç½‘ç»œè¯·æ±‚çš„æ¨¡å—ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å‘è¯·æ±‚\n.text å­—ç¬¦ä¸²   .content äºŒè¿›åˆ¶   .json() å¯¹è±¡\nç¼–ç æµç¨‹ï¼š\n\næŒ‡å®šurl\nå‘èµ·è¯·æ±‚\nèŽ·å–å“åº”æ•°æ®\næŒä¹…åŒ–å­˜å‚¨\n\n0x00 requests ä¸€è¡€\n\n\n\n\n\n\n\n\nresponse.text\nimport requests\n# 1.æŒ‡å®šurl\nurl='xxxx/xxx/xxx.xxx'\n# 2.å‘èµ·è¯·æ±‚ getæ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªå“åº”å¯¹è±¡\nresponse = requests.get(url=url)\n# 3.èŽ·å–å“åº”æ•°æ® .textè¿”å›žçš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®\npage_text = response.text\nprint(page_text)\n# 4.æŒä¹…åŒ–å­˜å‚¨\nwith open('./xxx.html','w',encoding='utf-8') as fp:\n    fp.write(page_text)\nprint('over!')\n0x01 ç½‘é¡µé‡‡é›†å™¨\nUAæ£€æµ‹ \nUAä¼ªè£…\n\n\n\n\n\n\n\n\n\n\nrequests.get(url, params, headers)\nimport requests\n\n# UAï¼šUser-Agent è¯·æ±‚è½½ä½“çš„èº«ä»½æ ‡è¯†\n# UAæ£€æµ‹ï¼šé—¨æˆ·ç½‘ç«™çš„æœåŠ¡å™¨ä¼šæ£€æµ‹å¯¹åº”è¯·æ±‚çš„è½½ä½“èº«ä»½æ ‡è¯†ï¼Œå¦‚æžœæ£€æµ‹åˆ°çš„æ ‡è¯†ä¸ºåŸºäºŽæŸä¸€æ¬¾æµè§ˆå™¨çš„ï¼Œ\n# åˆ™è¯´æ˜Žæ˜¯æ­£å¸¸è¯·æ±‚ï¼Œåä¹‹æœåŠ¡ç«¯å°±å¯èƒ½æ‹’ç»è¿™æ¬¡è¯·æ±‚\n\n# UAä¼ªè£…ï¼šè®©çˆ¬è™«å¯¹åº”çš„è¯·æ±‚è½½ä½“èº«ä»½æ ‡è¯†ä¼ªè£…æˆæŸä¸€æ¬¾æµè§ˆå™¨\nif __name__ == '__main__':\n    # UAä¼ªè£…ï¼šå°†å¯¹åº”çš„User-Agentå°è£…åˆ°ä¸€ä¸ªå­—å…¸ä¸­\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    url = 'https://www.sogou.com/web'\n    # å¤„ç†urlæºå¸¦çš„å‚æ•°ï¼šå°è£…åˆ°å­—å…¸ä¸­\n    kw = input('enter a word:')\n    param = &#123;\n        'query': kw\n    &#125;\n    # å¯¹æŒ‡å®šurlå‘èµ·çš„è¯·æ±‚å¯¹åº”urlæ˜¯æºå¸¦å‚æ•°çš„ï¼Œå¹¶ä¸”è¯·æ±‚è¿‡ç¨‹ä¸­å¤„ç†äº†å‚æ•°\n    response = requests.get(url=url, params=param, headers=headers)\n\n    page_text = response.text\n    fileName = './requests_test/test2/'+kw+'.html'\n    with open(fileName, 'w', encoding='utf-8') as fp:\n        fp.write(page_text)\n    print(fileName, ' is saved')\n\n0x02 ç™¾åº¦ç¿»è¯‘\npostè¯·æ±‚ (æºå¸¦äº†å‚æ•°)  \najax\nå“åº”æ•°æ®æ˜¯ä¸€ç»„jsonæ•°æ®\n\n\n\n\n\n\n\n\n\n\nrequests.post(url, data, json, headers...)\nresponse.json()\nimport requests\nimport json\nif __name__ == '__main__':\n    # 1.æŒ‡å®šurl\n    post_url = 'https://fanyi.baidu.com/sug'\n    # 2.è¿›è¡ŒUAä¼ªè£…\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    # 3.postè¯·æ±‚å‚æ•°å¤„ç†(åŒgetè¯·æ±‚ä¸€è‡´)\n    word = input('enter a word')\n    data = &#123;\n        'kw': word\n    &#125;\n    # 4.è¯·æ±‚å‘é€\n    response = requests.post(url=post_url, data=data, headers=headers)\n    # 5.èŽ·å–å“åº”æ•°æ®:json()æ–¹æ³•è¿”å›žçš„æ˜¯obj(å¦‚æžœç¡®è®¤å“åº”æ•°æ®æ˜¯jsonç±»åž‹æ‰èƒ½ä½¿ç”¨)\n    dic_obj=response.json()\n    print(dic_obj)\n    # 6.æŒä¹…åŒ–å­˜å‚¨\n    fileName = './requests_test/test3/'+word+'.json'\n    fp = open(fileName,'w',encoding='utf-8')\n    # ç”±äºŽä¸­æ–‡ä¸èƒ½ç”¨asciiç¼–ç ï¼Œæ‰€ä»¥ä»¤ensure_ascii=False\n    json.dump(dic_obj,fp=fp,ensure_ascii=False) \n    print('over!')\n\n0x03 è±†ç“£ç”µå½±\n\n\n\n\n\n\n\n\nrequest.get\nimport requests\nimport json\nif __name__ == '__main__':\n    url = 'https://movie.douban.com/j/chart/top_list'\n    param = &#123;\n        'type': '24',    \n        'interval_id': '100:90',\n        'action': '',\n        'start': '40',  # ä»Žåº“ä¸­çš„ç¬¬å‡ éƒ¨ç”µå½±åŽ»å–\n        'limit': '20',  # ä¸€æ¬¡ä»Žåº“ä¸­å–å‡ºçš„ä¸ªæ•°\n    &#125;\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    response = requests.get(url=url, params=param, headers=headers) \n    list_data = response.json()\n    # print(list_data)\n    fp = open('./requests_test/test4/douban.json', 'w', encoding='utf-8')\n    json.dump(list_data, fp=fp, ensure_ascii=False)\n\n    print('over!')\n\n0x04 ç»¼åˆæ¡ˆä¾‹-æ•°æ®æå–import requests\nimport json\n\nif __name__ == '__main__':\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    id_list = []  # å­˜å‚¨ä¼ä¸šid\n    all_data_list = []  # å­˜å‚¨æ‰€æœ‰çš„ä¼ä¸šè¯¦æƒ…æ•°æ®\n\n    # æ‰¹é‡èŽ·å–ä¸åŒä¼ä¸šçš„idå€¼\n    url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsList'\n    # å‚æ•°çš„å°è£…\n    for page in range(1,6):\n        page=str(page)\n        data = &#123;\n            'on': 'true',\n            'page': page,\n            'pagesize': '15',\n            'productName': '',\n            'conditionType': '1',\n            'applyname': '',\n            'applysn': '',\n        &#125;\n        json_ids = requests.post(url=url, headers=headers, data=data).json()\n        for dic in json_ids['list']:\n            id_list.append(dic['ID'])\n\n    # èŽ·å–ä¼ä¸šè¯¦ç»†æ•°æ®\n    post_url = 'http://125.35.6.84:81/xk/itownet/portalAction.do?method=getXkzsById'\n    for id in id_list:\n        data = &#123;\n            'id': id\n        &#125;\n        detail_json = requests.post(\n            url=post_url, headers=headers, data=data).json()\n        print(detail1_json, '--------ending--------')\n        all_data_list.append(detail_json)\n    # æŒä¹…åŒ–å­˜å‚¨all_data_list\n    fp = open('./requests_test/test5/allData.json', 'w', encoding='utf-8')\n    json.dump(all_data_list, fp=fp, ensure_ascii=False)\n    print('over!')\n\næ•°æ®è§£æž\n\n\n\n\n\n\n\n\nèšç„¦çˆ¬è™«ï¼šçˆ¬å–é¡µé¢ä¸­æŒ‡å®šçš„é¡µé¢å†…å®¹\nç¼–ç æµç¨‹ï¼š\n\næŒ‡å®šurl\nå‘èµ·è¯·æ±‚\nèŽ·å–å“åº”æ•°æ®\næ•°æ®è§£æž\næŒä¹…åŒ–å­˜å‚¨\n\næ•°æ®è§£æžåˆ†ç±»ï¼šæ­£åˆ™ï¼Œbs4ï¼Œxpath\næ•°æ®è§£æžåŽŸç†æ¦‚è¿°ï¼š\n\n\n\n\n\n\n\n\n\nè§£æžçš„å±€éƒ¨çš„æ–‡æœ¬å†…å®¹éƒ½ä¼šåœ¨æ ‡ç­¾ä¹‹é—´æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±žæ€§ä¸­è¿›è¡Œå­˜å‚¨\n\nè¿›è¡ŒæŒ‡å®šæ ‡ç­¾çš„å®šä½\næ ‡ç­¾æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±žæ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼è¿›è¡Œæå– (è§£æž)\n\n0x00 å›¾ç‰‡\n\n\n\n\n\n\n\n\n.content è¿”å›žäºŒè¿›åˆ¶\nimport requests\n\nif __name__ == '__main__':\n    # å¦‚ä½•çˆ¬å–å›¾ç‰‡æ•°æ®\n    url = 'https://i2.hdslb.com/bfs/archive/237001f0163eb48c1745a906c5b480f449183d66.jpg@672w_378h_1c_100q.webp'\n    # content è¿”å›žçš„æ˜¯äºŒè¿›åˆ¶å½¢å¼å›¾ç‰‡æ•°æ®\n    img_data = requests.get(url=url).content\n\n    with open('./data_parse_test/test1/dsm.jpg','wb') as fp:\n        fp.write(img_data)    \n\n0x01 æ­£åˆ™è§£æž\n\n\n\n\n\n\n\n\néœ€è¦å¯¼å…¥reæ¨¡å—\nå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼\n\nex:\n&lt;div class=\"test\">\n    &lt;a href=\"/dsadas/sdada\" target=\"_blank\">\n    &lt;img src=\"//sdadasd/dsadas/dasdas\" alt=\"sdada\">\n    &lt;/a>\n&lt;/div>\n\nex='&lt;div class=\"test\">.*?&lt;img src=\"(.*?)\" alt .*?&lt;/div>'\nç»ƒä¹ ï¼šå›¾ç‰‡åˆ†é¡µçˆ¬å–\nimport requests\nimport re\nimport os\n\n# éœ€æ±‚ï¼šçˆ¬å–æ‰€æœ‰å›¾ç‰‡\nif __name__ == '__main__':\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    #åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¿å­˜æ‰€æœ‰å›¾ç‰‡\n    if not os.path.exists('./data_parse_test/test1'):\n        os.mkdir('./data_parse_test/test1/')\n    #è®¾ç½®ä¸€ä¸ªé€šç”¨urlæ¨¡æ¿\n    url = 'https://www.qiushibaike.com/pic/page/%d/?s=5184961'\n    for pageNum in range(1,36):\n        #å¯¹åº”é¡µç çš„url\n        new_url = format(url%pageNum)\n        # ä½¿ç”¨é€šç”¨çˆ¬è™«å¯¹urlå¯¹åº”çš„ä¸€æ•´å¼ é¡µé¢è¿›è¡Œçˆ¬å–\n        page_text = requests.get(url=url, headers=headers).text\n\n        # ä½¿ç”¨èšç„¦çˆ¬è™«å°†é¡µé¢ä¸­æ‰€æœ‰æ¼«ç”»è¿›è¡Œè§£æž/æå–\n        ex = '&lt;div class=\"thumb\">.*?&lt;img src=\"(.*?)\" alt.*?&lt;/div> '\n        img_src_list = re.findall(ex, page_text, re.S)\n        # print(img_src_list)\n        for src in img_src_list:\n            #æ‹¼æŽ¥å‡ºä¸€ä¸ªå®Œæ•´çš„å›¾ç‰‡url\n            src='https:'+src\n            #è¯·æ±‚åˆ°äº†å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®\n            img_data=requests.get(url=src,headers=headers).content\n            #ç”Ÿæˆå›¾ç‰‡åç§°\n            img_name=src.split('/')[-1]\n            #å›¾ç‰‡å­˜å‚¨çš„è·¯å¾„\n            imgPath='./data_parse_test/test1/'+img_name\n            with open(imgPath,'wb') as fp:\n                fp.write(img_data)\n                print(img_name,'ä¸‹è½½æˆåŠŸï¼')\n\n0x02 bs4è§£æž\n\n\n\n\n\n\n\n\næ‰€éœ€æ¨¡å—ï¼šbs4 lxml\næ•°æ®è§£æžçš„åŽŸç†ï¼š\n\næ ‡ç­¾å®šä½\næå–æ ‡ç­¾ã€æ ‡ç­¾å±žæ€§ä¸­å­˜å‚¨çš„æ•°æ®å€¼\n\nbs4æ•°æ®è§£æžçš„åŽŸç†ï¼š\n\nå®žä¾‹åŒ–ä¸€ä¸ªBeautifulSoupå¯¹è±¡ï¼Œå¹¶ä¸”å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\né€šè¿‡è°ƒç”¨BeautifulSoupå¯¹è±¡ä¸­ç›¸å…³çš„å±žæ€§æˆ–è€…æ–¹æ³•è¿›è¡Œæ ‡ç­¾å®šä½å’Œæ•°æ®æå–\n\nå¦‚ä½•å®žä¾‹åŒ–Beautifulå¯¹è±¡ï¼š\n\n\n\n\n\n\n\n\n\nfrom bs4 import BeautifulSoup\n\nå¯¹è±¡çš„å®žä¾‹åŒ–ï¼šå°†æœ¬åœ°/äº’è”ç½‘ä¸ŠèŽ·å–çš„é¡µé¢æºç åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\nsoup=BeautifulSoap(page_text.content,&#39;lxml&#39;)\n\n\næä¾›çš„ç”¨äºŽæ•°æ®è§£æžçš„æ–¹æ³•å’Œå±žæ€§ï¼š\n\nsoup.tagName å¯¹åº”htmlæ ‡ç­¾ è¿”å›žçš„æ˜¯htmlä¸­ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„tagNameæ ‡ç­¾\n\nsoup.find() :\n\nsoup.find(&#39;tagName&#39;) åŒ soup.tagName\nå±žæ€§å®šä½ï¼šsoup.find(&#39;tagName&#39;,class_=&#39;xxx&#39;) (classè¦å¸¦ä¸‹åˆ’çº¿)\nsoup.find_all(&#39;tagName&#39;) è¿”å›žæ‰€æœ‰çš„æ ‡ç­¾(åˆ—è¡¨)\n\n\nsoup.select()\n\nsoup.select(&#39;æŸç§é€‰æ‹©å™¨(id,class,æ ‡ç­¾...)&#39;)ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªåˆ—è¡¨\n\n\n\n\n\n\n\n\n\n#id, tag, .class\n\nå±‚çº§é€‰æ‹©å™¨ï¼š\n\nsoup.select(&#39;.class1 &gt; ul &gt; li &gt; a&#39;)[2]  è¡¨ç¤º class1 ä¸‹çš„ ul æ ‡ç­¾ä¸‹çš„ li æ ‡ç­¾ä¸­çš„ç¬¬äºŒä¸ª a æ ‡ç­¾ã€‚ &gt; è¡¨ç¤ºä¸€ä¸ªå±‚çº§å…³ç³»\nsoup.select(&#39;.class1 &gt; ul a&#39;)[2] è¡¨ç¤ºåŒä¸Šï¼Œç©ºæ ¼è¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§å…³ç³»\n\n\n\n\nèŽ·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬æ•°æ®\n\nsoup.a.text/string/get_text()\n.text/.get_text() å¯ä»¥èŽ·å¾—æŸä¸€ä¸ªæ ‡ç­¾ä¸­æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹\n.string åªå¯ä»¥èŽ·å–æ”¹æ ‡ç­¾ä¸‹é¢ç›´ç³»çš„æ–‡æœ¬å†…å®¹\n\n\n\n\nèŽ·å–æ ‡ç­¾ä¸­å±žæ€§å€¼\nsoup.a[&#39;href&#39;]\n\n\n\nç»ƒä¹ ï¼šå°è¯´ç« èŠ‚åå’Œå†…å®¹çˆ¬å–\nimport requests\nimport lxml\nfrom bs4 import BeautifulSoup\n\n# éœ€æ±‚ï¼šçˆ¬å–å°è¯´çš„æ‰€æœ‰ç« èŠ‚æ ‡é¢˜å’Œå†…å®¹\nif __name__ == '__main__':\n    if not os.path.exists('./data_parse_test/test2'):\n        os.mkdir('./data_parse_test/test2/')\n    headers = &#123;\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'\n    &#125;\n    # å¯¹é¦–é¡µçš„é¡µé¢è¿›è¡Œçˆ¬å–\n    url = 'http://www.banzhu22.org/5_5853/'\n    page_text = requests.get(url=url, headers=headers)\n\n    # åœ¨é¦–é¡µä¸­è§£æžå‡ºç« èŠ‚çš„æ ‡é¢˜å’Œè¯¦æƒ…é¡µçš„url\n    # 1. å®žä¾‹åŒ–BeautifulSoupå¯¹è±¡ï¼Œå°†ç½‘é¡µæºç åŠ è½½åˆ°å¯¹è±¡ä¸­\n    soup = BeautifulSoup(page_text.content, 'lxml')\n    dd_list = soup.select('.box_con > #list dd')[9:]\n\n    fp = open('./data_parse_test/test2/49gifts.txt', 'w', encoding='utf-8')\n    for dd in dd_list:\n        title = dd.a.string\n        detail_url = 'http://www.banzhu22.org' + dd.a['href']\n        # å¯¹è¯¦æƒ…é¡µå‘èµ·è¯·æ±‚ï¼Œè§£æžå‡ºç« èŠ‚å†…å®¹\n        detail_page_text = requests.get(url=detail_url, headers=headers)\n        # è§£æžå‡ºè¯¦æƒ…é¡µä¸­ç›¸å…³ç« èŠ‚çš„å†…å®¹\n        detail_soup = BeautifulSoup(detail_page_text.content, 'lxml')\n        div_tag = detail_soup.find('div', id='content')\n        # è§£æžåˆ°ç« å†…å®¹\n        content = div_tag.text\n        fp.write(title+'\\n'+content+'\\n')\n        print(title+'downloaded successfully!')\n\n    print('over!')\n\n0x03 xpathè§£æž\n\n\n\n\n\n\n\n\næ˜¯æœ€å¸¸ç”¨ä¸”æœ€ä¾¿æ·é«˜æ•ˆçš„çˆ¬å–æ–¹å¼ï¼Œé€šç”¨æ€§æœ€å¼º\næ‰€éœ€æ¨¡å—ï¼šlxml\nxpathè§£æžåŽŸç†ï¼š\n\nå®žä¾‹åŒ–ä¸€ä¸ªetreeçš„å¯¹è±¡ï¼Œä¸”éœ€è¦å°†è¢«è§£æžçš„é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­\nè°ƒç”¨etreeå¯¹è±¡ä¸­çš„xpathæ–¹æ³•ç»“åˆç€xpathè¡¨è¾¾å¼å®žçŽ°æ ‡ç­¾çš„å®šä½å’Œå†…å®¹çš„æ•èŽ·\n\nå¦‚ä½•å®žä¾‹åŒ–etreeå¯¹è±¡ï¼š\n\n\n\n\n\n\n\n\n\nfrom lxml import etree\n\næœ¬åœ°æºç ï¼šetree.parse(filePath)\n\näº’è”ç½‘æºç ï¼šetree.HTML(&#39;page_text&#39;)\n\nxpath(&#39;xpathè¡¨è¾¾å¼&#39;)\n\nxpathè¡¨è¾¾å¼ï¼š\n\n\n\n\n\n\n\n\n\nå„è¡¨è¾¾å¼å¯ä»¥ç”¨ | è¿žæŽ¥\n\n/ï¼šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå±‚çº§ï¼Œä»Žæ ¹èŠ‚ç‚¹å¼€å§‹å®šä½\nå¼€å¤´./ï¼šå®šä½äº†å±‚çº§åŽï¼Œå½“å‰å±‚çº§ä¸‹çš„å±‚çº§\n//ï¼šè¡¨ç¤ºçš„æ˜¯å¤šä¸ªå±‚çº§ï¼Œå¯ä»¥ä»Žä»»æ„ä½ç½®å¼€å§‹å®šä½\nå±žæ€§å®šä½ï¼š//div[@class=&quot;xxx&quot;] å³ tag[@attrName=&quot;attrValue&quot;]\n\nç´¢å¼•å®šä½ï¼š//div[@class=&quot;xxx&quot;]/p[3] ç´¢å¼•æ˜¯ä»Ž1å¼€å§‹çš„\n\nå–æ–‡æœ¬ï¼š\n/text() æ ‡ç­¾ä¸‹ç›´ç³»çš„æ–‡æœ¬å†…å®¹\n//text() æ ‡ç­¾ä¸‹æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹\n\n\nå–å±žæ€§ï¼š/@attrName\n\né€šç”¨å¤„ç†ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ\nname = name.encode('iso-8859-1').decode('gbk')\n\n\nç»ƒä¹ ç•¥\néªŒè¯ç è¯†åˆ«åçˆ¬æœºåˆ¶ï¼šéªŒè¯ç \nè¯†åˆ«éªŒè¯ç çš„æ“ä½œï¼š\n\nç¬¬ä¸‰æ–¹è‡ªåŠ¨è¯†åˆ«ï¼šäº‘æ‰“ç  \n\nto be addedâ€¦.\næ¨¡æ‹Ÿç™»é™†éœ€æ±‚ï¼šå¯¹æ ¡å›­ç½‘è¿›è¡Œç™»é™† (æ— éªŒè¯ç )\n\nç‚¹å‡»ç™»é™†æŒ‰é’®åŽä¼šå‘èµ·ä¸€ä¸ªPOSTè¯·æ±‚ï¼ŒPOSTè¯·æ±‚ä¸­ä¼šæºå¸¦ç™»å½•ä¿¡æ¯(username,pwd)\nprint(response.status_code) æ‰“å°å“åº”çŠ¶æ€ç ï¼Œå¦‚æžœæ‰“å°200åˆ™è¯æ˜Žæ¨¡æ‹Ÿç™»é™†æˆåŠŸ\n\néœ€æ±‚ï¼šçˆ¬å–å½“å‰ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯\nhttp/httpsåè®®ç‰¹æ€§ï¼šæ— çŠ¶æ€\næ²¡æœ‰è¯·æ±‚åˆ°å¯¹åº”é¡µé¢æ•°æ®çš„åŽŸå› ï¼šå‘èµ·çš„ç¬¬äºŒæ¬¡åŸºäºŽé¡µé¢çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¸çŸ¥é“æ­¤æ¬¡è¯·æ±‚æ˜¯åŸºäºŽç™»å½•çŠ¶æ€ä¸‹çš„è¯·æ±‚\ncookieï¼šç”¨æ¥è®©æœåŠ¡ç«¯è®°å½•å®¢æˆ·ç«¯çš„ç›¸å…³çŠ¶æ€\n\ncookieå€¼çš„æ¥æºæ˜¯å“ªé‡Œï¼šæ¨¡æ‹Ÿç™»é™†postè¯·æ±‚åŽï¼Œæœ‰æœåŠ¡å™¨ç«¯åˆ›å»º\nsessionä¼šè¯å¯¹è±¡ï¼š\nå¯ä»¥è¿›è¡Œè¯·æ±‚çš„å‘é€\nå¦‚æžœè¯·æ±‚è¿‡ç¨‹ä¸­äº§ç”Ÿäº†cookieï¼Œåˆ™cookieä¼šè¢«è‡ªåŠ¨å­˜å‚¨/æºå¸¦åœ¨è¯¥sessionå¯¹è±¡ä¸­\n\n\n\næ­¥éª¤ï¼š\n\nåˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡ï¼š session = requests.Session()\nä½¿ç”¨sessionå¯¹è±¡è¿›è¡Œæ¨¡æ‹Ÿç™»å½•postè¯·æ±‚çš„å‘é€ (cookieå°±ä¼šè¢«å­˜å‚¨åœ¨sessionä¸­)\nsessionå¯¹è±¡å†å¯¹ç™»å½•åŽé¡µé¢å¯¹åº”çš„getè¯·æ±‚è¿›è¡Œå‘é€ (æºå¸¦äº†cookie)\n\nseleniumå·¥å…·\n\n\n\n\n\n\n\n\nè§£å†³requestsæ— æ³•æ‰§è¡ŒjavaScriptä»£ç çš„é—®é¢˜\n\nç”¨äºŽwebåº”ç”¨ç¨‹åºè‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œç›´æŽ¥è¿è¡Œåœ¨æµè§ˆå™¨å½“ä¸­ï¼Œæ”¯æŒchromeã€firefoxç­‰ä¸»æµæµè§ˆå™¨ã€‚å¯ä»¥é€šè¿‡ä»£ç æŽ§åˆ¶ä¸Žé¡µé¢ä¸Šå…ƒç´ è¿›è¡Œäº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥èŽ·å–æŒ‡å®šå…ƒç´ çš„å†…å®¹\n\nç¼ºç‚¹ï¼š æ•ˆçŽ‡ä½Žï¼Œé€Ÿåº¦æ…¢\n\n\n\n\n\n\n\n\n\n\n\nto be added â€¦\n","slug":"note/Crawler","date":"2021-11-10T09:03:30.000Z","categories_index":"NOTE","tags_index":"Crawler,note,python","author_index":"Maskros"},{"id":"e394fa1264795d63defb812bbe4eb503","title":"2021CCPCå¥³ç”Ÿä¸“åœºvp","content":"2021CCPCå¥³ç”Ÿä¸“åœº\n\n\n\n\n\n\n\n\nâ€œå‡å¦‚æˆ‘æ˜¯å¥³ç”Ÿâ€\nA_å…¬äº¤çº¿è·¯\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n,x,y; cin>>n>>x>>y;\n    int k[20];\n    rep(i,1,n+1) cin>>k[i];\n    int m; cin>>m;\n    int p[20];\n    rep(i,1,m+1) cin>>p[i];\n    int lpos=x-1,rpos=x+1;\n    rep(i,1,m+1)&#123;\n        if(k[lpos]!=p[i])&#123;\n            if(y&lt;x) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125;\n            else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125;\n        &#125;\n        if(k[rpos]!=p[i])&#123;\n            if(x&lt;y) &#123;cout&lt;&lt;\"Wrong\"&lt;&lt;endl; return;&#125;\n            else &#123;cout&lt;&lt;\"Right\"&lt;&lt;endl; return;&#125;\n        &#125;\n        lpos--; rpos++;\n    &#125;\n    cout&lt;&lt;\"Unsure\"&lt;&lt;endl;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nD_ä¿®å»ºé“è·¯\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜ï¼Œä¸¤ä¸¤å–æœ€å¤§å€¼å³å¯ï¼Œè„‚çŽ¯çŽ‹å†™äº†ä¸€å‘çº¿æ®µæ ‘ä¼˜åŒ–é€’å½’æˆ‘ä¸æ˜¯å¾ˆè®¤å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 200005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    ll ans = 0;\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n        if(i>0) ans+=max(a[i],a[i-1]);\n    &#125;\n    cout&lt;&lt;ans&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nG_3Gç½‘ç»œ\n\n\n\n\n\n\n\n\nè¾“å‡º1/nå³å¯ æˆ‘æžé”™äº†double ç»“æžœwaåœ¨ç²¾åº¦ä¸Šäº† æœ€åŽæ‰‹å†™äº†ä¸ªé™¤æ³•\nç»“æžœå‘çŽ° printf(â€œ%.16lfâ€,ans) å³å¯ï¼Œå°‘å†™ä¸ªå°æ•°ç‚¹ðŸ˜…\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n; cin>>n;\n    int x,y;\n    rep(i,0,n)&#123;\n        cin>>x>>y;\n    &#125;\n    int ans[15];  \n    rep(i,0,12)&#123;\n        if(i==0)&#123;\n            if(n==1) &#123;ans[0]=1; tmp=0;&#125;\n            else &#123;ans[0]=0; tmp*=10;&#125;\n        &#125;else&#123;\n            ans[i]=tmp/n;\n            tmp=tmp%n;\n            tmp*=10;\n        &#125;\n    &#125;\n    cout&lt;&lt;ans[0]&lt;&lt;\".\";\n    rep(i,1,12)&#123;\n        cout&lt;&lt;ans[i];\n    &#125;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n// ans=1.0/n\n// printf(\"%.16lf\",ans);\nI_é©¾é©¶å¡ä¸è½¦\n\n\n\n\n\n\n\n\næ¥žæ¨¡æ‹Ÿå°±è¡Œï¼Œå…«ä¸ªæ–¹å‘ dis[8][2] ç›´æŽ¥åšæŽ‰å•ŠåšæŽ‰\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nchar mp[55][55];\nint dis[8][2] = &#123;\n    &#123;-1, 0&#125;, &#123;-1, -1&#125;, &#123;0, -1&#125;, &#123;1, -1&#125;, &#123;1, 0&#125;, &#123;1, 1&#125;, &#123;0, 1&#125;, &#123;-1, 1&#125;&#125;;\nint n, m, x, y, v, face;\nbool crsh=0;\nbool check(int x, int y) &#123;\n    if (x &lt;= 0 || x > n || y &lt;= 0 || y > m)\n        return false;\n    if (mp[x][y] == '#')\n        return false;\n    else\n        return true;\n&#125;\nvoid go()&#123;\n    rep(j, 0, v) &#123;\n        if (dis[face][0] != 0 &amp;&amp; dis[face][1] != 0) &#123;\n            if (!check(x + dis[face][0], y) &amp;&amp; !check(x, y + dis[face][1])) &#123;\n                crsh = true;\n                v = 0;\n                break;\n            &#125;\n        &#125;\n        if (check(x + dis[face][0], y + dis[face][1])) &#123;\n            x += dis[face][0];\n            y += dis[face][1];\n        &#125; else &#123;\n            crsh = true;\n            v = 0;\n            break;\n        &#125;\n    &#125;\n&#125;\nvoid solve() &#123;\n    cin >> n >> m;\n    v=0, face=0;\n    rep(i, 1, n+1) &#123;\n        rep(j, 1, m+1) &#123;\n            cin >> mp[i][j];\n            if (mp[i][j] == '*') &#123;\n                x = i, y = j;\n            &#125;\n        &#125;\n    &#125;\n    int opcnt;\n    cin >> opcnt;\n    char op;\n    crsh = false;\n    rep(i, 0, opcnt) &#123;\n        cin >> op;\n        crsh = false;\n        if (op == 'L') &#123;\n            face++;\n            if (face > 7) &#123;\n                face = 0;\n            &#125;\n            go();\n        &#125;\n        eif(op == 'R') &#123;\n            face--;\n            if (face &lt; 0) &#123;\n                face = 7;\n            &#125;\n            go();\n        &#125;\n        eif(op == 'U') &#123;\n            v++;\n            go();\n        &#125;\n        eif(op == 'D') &#123;\n            v = max(v - 1, 0);\n            go();\n        &#125;\n        if (crsh)\n            cout &lt;&lt; \"Crash! \";\n        cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    // cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nK_éŸ³ä¹æ¸¸æˆ\n\n\n\n\n\n\n\n\næ²™æ¯”é¢˜\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    int n; cin&gt;&gt;n;\n    string s;\n    int cnt&#x3D;0;\n    rep(i,0,n+1)&#123;\n        getline(cin,s);\n        rep(j,0,s.length())&#123;\n            if (s[j] &#x3D;&#x3D; &#39;-&#39;)\n                cnt++;\n        &#125;\n    &#125;\n    cout&lt;&lt;cnt;\n\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    &#x2F;&#x2F; cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næ€»ç»“ï¼šå†æ¬¡åŒ–èº«ç­¾åˆ°çš‡å¸ï¼Œè¿˜åœ¨æƒ³Bé¢˜çš„å­—ç¬¦ä¸²ï¼Œè¯·æŠŠâ€œä»Šå¤©æƒ³å‡ºæ¥Bäº†å—â€æ‰“åœ¨è¯„è®ºåŒºðŸ˜˜\n","slug":"xcpc/2021ccpc_girl","date":"2021-11-08T14:25:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,ACM,æ€ç»´,CCPC,æ¨¡æ‹Ÿ","author_index":"Maskros"},{"id":"f6d54634de34a34bc60807e4bd91093d","title":"Codeforces Round 752 (Div.2)","content":"Codeforces Round #752 (Div.2)A_Era\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int n;\n    cin >> n;\n    ll ans = 0;\n    int t;\n    int pos = 1;\n    rep(i, 1, n + 1) &#123;\n        cin >> t;\n        if (t > pos) &#123;\n            ans += t - pos;\n            pos += t - pos;\n        &#125;\n        pos++;\n    &#125;\n    cout &lt;&lt; ans &lt;&lt; endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nB_XOR_Specia_LIS_t\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\næ²™æ¯”é¢˜ï¼Œå¦‚æžœåºåˆ—æ‰€åˆ†æˆçš„è‹¥å¹²å­åºåˆ—ä¸­ï¼Œæœ€é•¿çš„ä»»æ„é€’å¢žåºåˆ—(ä¸éœ€è¦è¿žç»­)çš„é•¿åº¦ç›¸å¼‚æˆ–ï¼Œå¯ä»¥ä¸º0åˆ™è¾“å‡º yes å¦åˆ™è¾“å‡º no\næ€è·¯ï¼š\næ²¡è¯´å’‹åˆ†ï¼Œå°±ä¸€ä¸ªä¸€ä¸ªåˆ†ï¼Œæ‰€ä»¥å°±æ˜¯ 1^1^1^â€¦ ï¼Œæ ¹æ®åºåˆ—é•¿åº¦çš„å¥‡å¶æ€§åˆ¤æ–­ä¸€ä¸‹å³å¯ï¼Œå¶æ•°ä¸€å®šyesï¼Œå¥‡æ•°å°±åˆ¤æ–­æ˜¯ä¸æ˜¯å•å¢žåºåˆ—ï¼Œä¸æ˜¯çš„è¯ä¸€å®šyesï¼Œåä¹‹no\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n; cin>>n;\n    int tmp;\n    rep(i,0,n)&#123;\n        cin >> a[i];\n    &#125;\n    bool is=false;\n    if(n&amp;1)&#123;\n        rep(i,1,n)&#123;\n            if(a[i]&lt;=a[i-1])&#123;\n                cout&lt;&lt;\"YES\"&lt;&lt;endl;\n                is=true;\n                break;\n            &#125;\n        &#125;\n        if(!is) cout&lt;&lt;\"NO\"&lt;&lt;endl;\n    &#125;else&#123;\n        cout&lt;&lt;\"YES\"&lt;&lt;endl;\n    &#125;\n\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\nC_Di_visible_Confusion\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥å¯¹a[i]è¿›è¡Œåˆ é™¤æ“ä½œçš„å‰ææ˜¯ a[i]%(i+1)!=0ï¼Œé—®è¿™ä¸ªåºåˆ—èƒ½ä¸èƒ½è¢«åˆ å¹²å‡€\næ€è·¯ï¼š\næš´åŠ›å³å¯\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nint a[maxn];\nvoid solve() &#123;\n    int n; cin>>n;\n    rep(i,1,n+1)&#123;\n        cin>>a[i];\n    &#125;\n    bool flag=false;\n    rep(i,1,n+1)&#123;\n        flag=false;\n        rep(j,2,i+2)&#123;\n            if(a[i]%j!=0)&#123;\n                flag=true;\n                break;\n            &#125;\n        &#125;\n        if(!flag)&#123;\n            cout&lt;&lt;\"NO\"&lt;&lt;endl;\n            return;\n        &#125;\n    &#125;\n    cout&lt;&lt;\"YES\"&lt;&lt;endl;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nD_Vupsen_Pupsen_and_0\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nè¾“å…¥x,y ä¸¤ä¸ªå¶æ•°ï¼Œæ‰¾å‡º nï¼Œä½¿å¾— n%x=y%n\næ€è·¯ï¼š\nåˆ†ç±»è®¨è®ºå³å¯ï¼š\n\nx&gt;y æ—¶ï¼Œn=x+y\nx&lt;y æ—¶ï¼Œn=y-(y%x)/2\nè€ƒè™‘ç‰¹ä¾‹\n\næ€è€ƒä¸å‡ºæ¥çš„æ—¶å€™ç”»æ•°è½´å¯ä»¥ç»™ä½ çµæ„Ÿ\n#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll x, y;\n    cin >> x >> y;\n    if (x == y) &#123;\n        cout &lt;&lt; x &lt;&lt; endl;\n        return;\n    &#125;\n    if (x > y) &#123;\n        cout &lt;&lt; x + y &lt;&lt; endl;\n    &#125; else &#123;\n        if (y % x == 0) &#123;\n            cout &lt;&lt; x &lt;&lt; endl;\n        &#125; else &#123;\n            cout &lt;&lt; y - (y % x) / 2 &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n","slug":"codeforces/cf 752","date":"2021-10-31T14:50:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´","author_index":"Maskros"},{"id":"4370eb9e88a3fbe0e8eca2138219f214","title":"Educational Codeforces Round 116 (Div.2)","content":"Educational Codeforces Round 116 (Rated for Div. 2)A_AB_Balance\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç”±abæž„æˆçš„ä¸²ï¼Œåšæœ€å°‘æ“ä½œä½¿abå’Œbaå‡ºçŽ°çš„æ¬¡æ•°ç›¸åŒ\næ€è·¯ï¼š\nå¦‚æžœå‡ºçŽ°æ¬¡æ•°ä¸åŒï¼Œæœ€å¤šå·®1ï¼Œä¿®æ”¹é¦–ä½å³å¯\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nvoid solve() &#123;\n    string s;\n    cin &gt;&gt; s;\n    int l &#x3D; s.length();\n    int ab &#x3D; 0, ba &#x3D; 0;\n    rep(i, 0, l) &#123;\n        if (s[i] &#x3D;&#x3D; &#39;a&#39;) &#123;\n            if (s[i + 1] &#x3D;&#x3D; &#39;b&#39;)\n                ab++;\n        &#125;\n        if (s[i] &#x3D;&#x3D; &#39;b&#39;) &#123;\n            if (s[i + 1] &#x3D;&#x3D; &#39;a&#39;)\n                ba++;\n        &#125;\n    &#125;\n    if (ab &#x3D;&#x3D; ba)\n        cout &lt;&lt; s &lt;&lt; endl;\n    else &#123;\n        if (ab &gt; ba) &#123;\n            if (s[0] &#x3D;&#x3D; &#39;a&#39;)\n                s[0] &#x3D; &#39;b&#39;;\n        &#125; else &#123;\n            if (s[0] &#x3D;&#x3D; &#39;b&#39;)\n                s[0] &#x3D; &#39;a&#39;;\n        &#125;\n        cout &lt;&lt; s &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Update_Files\n\n\n\n\n\n\n\n\næ°´é¢˜\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll quickpow(ll a, ll b) &#123;\n    ll ans &#x3D; 1;\n    ll res &#x3D; a;\n    while (b) &#123;\n        if (b &amp; 1)\n            ans &#x3D; ans * res;\n        b &gt;&gt;&#x3D; 1;\n        res &#x3D; res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve() &#123;\n    ll n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    if (n &#x3D;&#x3D; 1)\n        cout &lt;&lt; 0 &lt;&lt; endl;\n    else &#123;\n        int need &#x3D; 0;\n        ll tmp &#x3D; 0;\n        rep(i, 0, 65) &#123;\n            tmp &#x3D; quickpow(2, i);\n            if (tmp &gt;&#x3D; k || tmp &gt;&#x3D; n) &#123;\n                need &#x3D; i;\n                break;\n            &#125;\n        &#125;\n        if (tmp &gt;&#x3D; n)\n            cout &lt;&lt; need &lt;&lt; endl;\n        else &#123;\n            ll times &#x3D; need;\n            if ((n - tmp) % k &gt; 0) &#123;\n                times +&#x3D; (n - tmp) &#x2F; k + 1;\n            &#125; else &#123;\n                times +&#x3D; (n - tmp) &#x2F; k;\n            &#125;\n            cout &lt;&lt; times &lt;&lt; endl;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nC_Banknotes\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nç»™å®šn,k, nä»£è¡¨çº¸å¸ç§ç±»ï¼Œkä»£è¡¨æœ€å¤šå¯ç”¨çº¸å¸æ•°é‡ï¼ŒæŽ¥ä¸‹æ¥ç»™å‡ºa[0â€¦n-1]ï¼Œ é¡ºåºç”±å°åˆ°å¤§ï¼Œè¡¨ç¤ºæ¯å¼ çº¸å¸çš„é¢å€¼ä¸º 10^a[i]ï¼Œæ±‚ä¸èƒ½è¡¨ç¤ºå‡ºçš„é‡‘é¢çš„æœ€å°å€¼\næ€è·¯ï¼š\nè´ªå¿ƒï¼ŒæŒ‰10è¿›åˆ¶ä»Žä½Žä½åˆ°é«˜ä½å–ï¼Œèƒ½å–å¤Ÿä½Žä½å°±æ˜¯ a[i+1]-1 çš„å½¢å¼ï¼Œå³ä¸º x999â€¦ , å¦‚æžœa[i]å–ä¸åˆ°a[i+1] æˆ–è€… æ²¡æœ‰æ›´å¤§é¢å€¼çš„é’žç¥¨ï¼Œç­”æ¡ˆå³ä¸º a[i] * å‰©ä½™å¼ æ•° + a[i]-1 , èƒ½å–åˆ°å°±æŽ¥ç€æ‰¾a[i+1]ã€‚\n#include &lt;bits&#x2F;stdc++.h&gt;\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar(&#39;\\n&#39;)\n#define rep(i, x, y) for (int i &#x3D; x; i &lt; y; i++)\n#define red(i, x, y) for (int i &#x3D; x; i &gt; y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; &quot; &quot;;\ntypedef long long ll;\n#define pll pair&lt;ll, ll&gt;\nusing namespace std;\nll a[20];\nll quickpow(ll a, ll b) &#123;\n    ll ans &#x3D; 1;\n    ll res &#x3D; a;\n    while (b) &#123;\n        if (b &amp; 1)\n            ans &#x3D; ans * res;\n        b &gt;&gt;&#x3D; 1;\n        res &#x3D; res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve() &#123;\n    ll n, k;\n    cin &gt;&gt; n &gt;&gt; k;\n    rep(i, 0, n) &#123;\n        cin &gt;&gt; a[i];\n        a[i] &#x3D; quickpow(10, a[i]);\n    &#125;\n    a[n] &#x3D; 0;\n    ll ans &#x3D; 0;\n    ll tmp &#x3D; 0;\n    rep(i, 0, n) &#123;\n        if (i &#x3D;&#x3D; 0) &#123;\n            if (n &#x3D;&#x3D; 1) &#123;\n                cout &lt;&lt; k + 1 &lt;&lt; endl;\n                return;\n            &#125;\n            if (a[i] * k + 1 &lt; a[i + 1]) &#123;\n                cout &lt;&lt; a[i] * k + 1 &lt;&lt; endl;\n                return;\n            &#125; else &#123;\n                tmp +&#x3D; a[i + 1] &#x2F; a[i] - 2;\n                ans &#x3D; a[i + 1] - 1;\n            &#125;\n        &#125; else &#123;\n            if ((k - tmp) * a[i] &lt; a[i + 1]) &#123;\n                ans &#x3D; (k - tmp) * a[i] + a[i] - 1;\n                cout &lt;&lt; ans &lt;&lt; endl;\n                return;\n            &#125;\n            eif(a[i + 1] &#x3D;&#x3D; 0) &#123;\n                ans &#x3D; (k - tmp) * a[i] + a[i] - 1;\n                cout &lt;&lt; ans &lt;&lt; endl;\n                return;\n            &#125;\n            else &#123;\n                tmp +&#x3D; a[i + 1] &#x2F; a[i] - 1;\n                ans &#x3D; a[i] - 1;\n            &#125;\n        &#125;\n    &#125;\n&#125;\nint main() &#123;\n    int T &#x3D; 1;\n    cin &gt;&gt; T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\næ€»ç»“æˆ‘çœŸæ˜¯ä¸ªæ²™æ¯”ï¼Œæ‰“çš„æ—¶å€™å› ä¸ºæœ‰ä¸ªåˆ¤æ–­æ¡ä»¶å†™é”™äº†ä¸€ç›´wa2ï¼Œæ¯”èµ›å®Œååˆ†é’Ÿå°±è¿‡äº†ï¼Œçº¯æŽ‰åˆ†é£žèˆž ðŸ˜…\n","slug":"codeforces/cf Edu 116","date":"2021-10-30T06:02:00.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´","author_index":"Maskros"},{"id":"a34fa7abdbec32f8c07db7bb49b7ce14","title":"Codeforces Round 750 (Div.2)","content":"Codeforces Round #750 (Div.2)A_Luntik_and_Concerts#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    ll a, b, c;\n    cin >> a >> b >> c;\n    int mn = min(a, b);\n    if ((mn + c) &amp; 1) &#123;\n        mn--;\n        a -= mn;\n        b -= mn;\n    &#125; else &#123;\n        a -= mn;\n        b -= mn;\n    &#125;\n    b &amp;= 1;\n    if (b) &#123;\n        if (a >= 2)\n            a -= 2;\n        cout &lt;&lt; (a &amp; 1) &lt;&lt; endl;\n    &#125; else &#123;\n        cout &lt;&lt; (a &amp; 1) &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\nB_Luntik_and_Subsequences#include &lt;bits/stdc++.h>\n\n#define gcd(a, b) __gcd(a, b)\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 400005\n#define co(x) cout &lt;&lt; x &lt;&lt; \" \";\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nll quickpow(int a, int b)&#123; \n    ll ans = 1;\n    ll res = a;\n    while (b)\n    &#123;\n        if (b &amp; 1)\n            ans = ans * res;\n        b >>= 1;\n        res = res * res;\n    &#125;\n    return ans;\n&#125;\nvoid solve()\n&#123;\n    int n; cin>>n;\n    int a[65];\n    rep(i,0,n) cin>>a[i];\n    sort(a,a+n);\n    ll cnt=0;\n    if(a[0]>1) cout&lt;&lt;0&lt;&lt;endl;\n    else&#123;\n        ll cnt0=0,cnt1=0;\n        rep(i,0,n)&#123;\n            if(a[i]==0) cnt0++;\n            eif(a[i]==1) cnt1++;\n            else break;\n        &#125;\n        cnt=cnt1*quickpow(2,cnt0);\n        cout&lt;&lt;cnt&lt;&lt;endl;\n    &#125;\n&#125;\nint main()\n&#123;\n    IOS;\n    int T = 1;\n    cin >> T;\n    while (T--)\n    &#123;\n        solve();\n    &#125;\n&#125;\nC_Grandma_Capa_Knits_a_Scarf\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå¾…è¡¥\næ€è·¯ï¼š\nå¾…è¡¥\n#include &lt;iostream>\n#include &lt;algorithm>\n#include &lt;cstring>\n#include &lt;vector>\n#define ll long long\n#define pb push_back\nusing namespace std;\nint sum1[100005], sum2[100005];\nint p[1000005];\nint main() &#123;\n\tint T;\n\tcin >> T;\n\t//T = 1;\n\twhile(T--) &#123;\n\t\tint n;\n\t\tcin >> n;\n\t\tstring s;\n\t\tcin >> s;\n\t\tint ans = 0x3f3f3f3f;\n\t\tfor(int i = 0; i &lt; 26; i++) &#123;\n\t\t\tstring s1 = \"\";\n\t\t\tsum1[0] = sum2[n + 1] = sum2[n] = 0;\n\t\t\tchar now = 'a' + i;\n\t\t\tfor(int j = 0; j &lt; s.size(); j++) &#123;\n\t\t\t\tif(s[j] == now) &#123;\n\t\t\t\t\tif(j == 0) sum1[j] = 1;\n\t\t\t\t\telse sum1[j] = sum1[j - 1] + 1;\n\t\t\t\t&#125; else &#123;\n\t\t\t\t\tif(j == 0) sum1[j] = 0;\n\t\t\t\t\telse sum1[j] = sum1[j - 1];\n\t\t\t\t\ts1 += s[j];\n\t\t\t\t\tp[s1.size() - 1] = j;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\n\t\t\tfor(int j = s.size() - 1; j >= 0; j--) &#123;\n\t\t\t\tsum2[j] = sum2[j + 1];\n\t\t\t\tif(s[j] == now) sum2[j]++;\n\t\t\t&#125;\n\t\t\tstring s2 = s1;\n\t\t\treverse(s2.begin(), s2.end());\n\t\t\t//cout &lt;&lt; \"fuck\" &lt;&lt; endl;\n\t\t\tif(s1 == s2) &#123;\n\t\t\t\t//cout &lt;&lt; (char)('a' + i) &lt;&lt; endl;\n\t\t\t\tint del = 0;\n\t\t\t\tfor(int k = 0; k &lt; s1.size() / 2 + (s1.size() &amp; 1 ? 1 : 0); k++) &#123;\n\t\t\t\t\t//if(i == 0) cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; endl;\n\t\t\t\t\tint pos1 = p[k], pos2 = p[s1.size() - 1 - k];\n\t\t\t\t\t//if(i + 'a' == 'r') cout &lt;&lt; k &lt;&lt; \" \" &lt;&lt; del &lt;&lt; endl;\n\t\t\t\t\tif(k == 0) del += abs(sum1[pos1] - sum2[pos2]);\n\t\t\t\t\telse del += abs((sum1[pos1] - sum1[p[k - 1]]) - (sum2[pos2] - sum2[p[s1.size() - k]]));\n\t\t\t\t&#125;\n\t\t\t\tans = min(ans, del);\n\t\t\t&#125;\n\t\t&#125;\n\t\tif(ans == 0x3f3f3f3f) cout &lt;&lt; -1 &lt;&lt; endl;\n\t\telse cout &lt;&lt; ans &lt;&lt; endl;\n\t&#125;\n\n\treturn 0;\n&#125;\n// 1\n// 8\n// rprarlap\nD_Vupsen_Pupsen_and_0\n\n\n\n\n\n\n\n\né¢˜æ„ï¼š\nå·²çŸ¥éžé›¶æ•°ç»„a[i]ï¼Œæ±‚éžé›¶æ•°ç»„b[i]ï¼Œä½¿å¾—a[i]*b[i] çš„å’Œä¸º0\næ€è·¯ï¼š\nä¸ªæ•°ä¸ºå¶æ•°ä¸¤ä¸¤ç›¸æ¶ˆï¼Œä¸ªæ•°ä¸ºå¥‡æ•°çš„è¯ï¼Œé€‰å–å°¾éƒ¨ä¸‰ä¸ªæ•°ï¼Œåˆ¤æ–­ä¸¤ä¸ªç›¸åŠ ä¸ä¸ºé›¶çš„æ•°å‡ºæ¥ï¼Œå½“ä½œä¸€ä¸ªæ•°ä¸Žå‰©ä¸‹çš„ä¸€ä¸ªæ•°ä¸¤ä¸¤ç›¸æ¶ˆå³å¯ã€‚\nå‘ç‚¹ï¼šä¸‰ä¸ªæ•°æ—¶åˆå¹¶çš„ä¸¤ä¸ªæ•°ç›¸åŠ ä¸èƒ½ä¸º0\n#include &lt;bits/stdc++.h>\n\n#define INF 0x3f3f3f3f3f\n#define eps 1e-6\n#define PI acos(-1.0)\n#define pb push_back\n#define eif else if\n#define en putchar('\\n')\n#define rep(i, x, y) for (int i = x; i &lt; y; i++)\n#define red(i, x, y) for (int i = x; i > y; i--)\n#define mem(a, x) memset(a, x, sizeof(a))\n#define IOS cin.tie(0), ios::sync_with_stdio(false)\n#define maxn 100005\ntypedef long long ll;\n#define pll pair&lt;ll, ll>\nusing namespace std;\nvoid solve() &#123;\n    int a[maxn];\n    int n;\n    cin >> n;\n    rep(i, 0, n) &#123;\n        cin >> a[i];\n    &#125;\n    bool t1 = false, t2 = false, t3 = false;\n    if (n &amp; 1) &#123;\n        if (a[n - 1] + a[n - 2] != 0) &#123;\n            a[n - 2] = a[n - 1] + a[n - 2];\n            t1 = true;\n        &#125; else &#123;\n            if (a[n - 2] + a[n - 3] != 0) &#123;\n                a[n - 3] = a[n - 2] + a[n - 3];\n                a[n - 2] = a[n - 1];\n                t2 = true;\n            &#125; else &#123;\n                a[n - 3] = a[n - 3] + a[n - 1];\n                t3 = true;\n            &#125;\n        &#125;\n        for (int i = 0; i &lt; n - 1; i += 2) &#123;\n            if (i == n - 3) &#123;\n                if (t1) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n                &#125;\n                eif(t2) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i];\n                &#125;\n                eif(t3) &#123;\n                    cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \" &lt;&lt; a[i + 1];\n                &#125;\n            &#125; else &#123;\n                cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n            &#125;\n        &#125;\n        cout &lt;&lt; endl;\n    &#125; else &#123;\n        for (int i = 0; i &lt; n; i += 2) &#123;\n            cout &lt;&lt; a[i + 1] &lt;&lt; \" \" &lt;&lt; -a[i] &lt;&lt; \" \";\n        &#125;\n        cout &lt;&lt; endl;\n    &#125;\n&#125;\nint main() &#123;\n    int T = 1;\n    cin >> T;\n    while (T--) &#123;\n        solve();\n    &#125;\n&#125;\n\n","slug":"codeforces/cf 750","date":"2021-10-27T17:02:50.000Z","categories_index":"SOLUTIONS","tags_index":"solutions,codeforces,ACM,æ€ç»´,string","author_index":"Maskros"},{"id":"e2155c016c02706041cead02c4e9a9a6","title":"kmp & exkmp","content":"kmp &amp; exkmpKnuth-Morris-Pratt &amp; entend kmp \nå­—ç¬¦ä¸²åŒ¹é…\nkmp\n\n\n\n\n\n\n\n\nKeywordsï¼šnext[] \nç”±BFæ”¹è¿›ï¼ŒO(m+n)ï¼Œä¼ ä¸–ç»å…¸å±žäºŽæ˜¯ðŸ˜…\nä»¥ä¸‹å‡å‡è®¾ä¸»ä¸²ä¸º Sï¼Œæ¨¡å¼ä¸²ä¸º P \n\nWhat is next[] ?\né’ˆå¯¹æ¨¡å¼ä¸²ï¼Œnext[j] è¡¨ç¤ºæ¨¡å¼ä¸²ä¸‹æ ‡ j ä¹‹å‰ æœ€é•¿ç›¸åŒå‰åŽç¼€çš„é•¿åº¦ï¼Œè¿™ä¸é‡è¦ã€‚\nä½ åªéœ€è¦è®°ä½ï¼šnext[j]è¡¨ç¤ºå½“ P[j]!=S[i] æ—¶ï¼Œj æŒ‡é’ˆçš„ä¸‹ä¸€æ­¥ç§»åŠ¨ä½ç½®ã€‚\nå·ä¸ªå¥½å›¾ï¼š\n\n\n\n\nHow to quickly build next[] ?\n\n\n\n\n\n\n\n\n\nè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸ŠðŸŽ\nvoid kmp_pre(string p, int next[])&#123;\n\tint i,j;\n\tj&#x3D;next[0]&#x3D;-1;\n\ti&#x3D;0;\n\twhile(i&lt;p.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j];\n\t\tnext[++i]&#x3D;++j;\n\t&#125;\n&#125;\nâ‘  åˆå§‹åŒ–next[0]=-1\nâ‘¡ å¦‚æžœ P[next[m]]==P[m] ï¼Œé‚£ä¹ˆ next[m+1]=next[m]+1\nâ‘¢ å¦‚æžœ P[next[m]]!=P[m]ï¼Œä»¤ t=m, t=next[t]ï¼Œæ¯”è¾ƒ P[next[t]]å’Œ P[m]ï¼šç›¸åŒçš„è¯ next[m]=next[t]+1 , ä¸åŒçš„ä»¤t=next[t] ç»§ç»­æ¯”è¾ƒï¼Œç›´åˆ° t==-1 æ—¶ï¼Œnext[m]=0\n\n\nkmpè®¡æ•°æ¨¡æ¿\næ¨¡å¼ä¸²åœ¨ä¸»ä¸²ä¸­å‡ºçŽ°äº†å‡ æ¬¡ (å¯é‡å ã€ä¸å¯é‡å )\nvoid kmp_pre(string p, int next[])&#123;\n\tint i,j;\n\tj&#x3D;next[0]&#x3D;-1;\n\ti&#x3D;0;\n\twhile(i&lt;p.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; p[i]!&#x3D;p[j]) j&#x3D;next[j];\n\t\tnext[++i]&#x3D;++j;\n\t&#125;\n&#125;\nint kmp_Count(string x, string y, int next[])&#123; &#x2F;&#x2F;xæ˜¯æ¨¡å¼ä¸²ï¼Œyæ˜¯ä¸»ä¸²\n\tint i,j;\n\tint ans&#x3D;0;\n\tkmp_pre(x,next);\n\ti&#x3D;j&#x3D;0;\n\twhile(i&lt;y.length())&#123;\n\t\twhile(-1!&#x3D;j &amp;&amp; y[i]!&#x3D;x[j]) j&#x3D;next[j];\n\t\ti++;j++;\n\t\tif(j&gt;&#x3D;x.length())&#123;\n\t\t\tans++;\n            &#x2F;&#x2F;ä»¥ä¸‹äºŒé€‰ä¸€\n\t\t\tj&#x3D;next[j]; &#x2F;&#x2F;å¯é‡å è®¡æ•°\n            j&#x3D;0;\t&#x2F;&#x2F;ä¸å¯é‡å è®¡æ•°\n\t\t&#125;\n\t&#125;\n\treturn ans;\n&#125;\n\n\nexkmp\n\n\n\n\n\n\n\n\nKeywords: extend[] next[]\nO(m+n)\ne-kmp å¯ä»¥æ‰¾åˆ°ä¸»ä¸²ä¸­æ‰€æœ‰æ¨¡å¼ä¸²çš„åŒ¹é…\n\nWhat are they?\nnext[i]: å¯¹æ¨¡å¼ä¸²ï¼Œè¡¨ç¤º P[i...m-1] ä¸Ž P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€\nextend[i] : å¯¹ä¸»ä¸²å’Œæ¨¡å¼ä¸²ï¼Œè¡¨ç¤º S[i...n-1]ä¸Ž P[0...m-1] çš„æœ€é•¿å…¬å…±å‰ç¼€\n\nHow to build them?\n\n\n\n\n\n\n\n\n\nðŸŽæ¥\nvoid ekmp_pre(string x, int next[])&#123;\n\tint m&#x3D;x.length();\n\tnext[0]&#x3D;m;\n\tint j&#x3D;0;\n\twhile(j+1&lt;m &amp;&amp; x[j]&#x3D;&#x3D;x[j+1]) j++;\n\tnext[1]&#x3D;j;\n\tint k&#x3D;1;\n\tfor(int i&#x3D;2; i&lt;m; i++)&#123;\n\t\tint p&#x3D;next[k]+k-1;\n\t\tint L&#x3D;next[i-k];\n\t\tif(i+L&lt;p+1) next[i]&#x3D;L;\n\t\telse&#123;\n\t\t\tj&#x3D;max(0,p-i+1);\n\t\t\twhile(i+j&lt;m &amp;&amp; xi+j]&#x3D;&#x3D;x[j]) j++;\n\t\t\tnext[i]&#x3D;j;\n\t\t\tk&#x3D;i;\n\t\t&#125;\n\t&#125;\n&#125;\nvoid ekmp(string x, string y, int next[], int extend[])&#123;\n\tekmp_pre(x,next);\n\tint j&#x3D;0;\n\tint m&#x3D;x.length(), n&#x3D;y.length();\n\twhile(j&lt;n &amp;&amp; j&lt;m &amp;&amp; x[j]&#x3D;&#x3D;y[j]) j++;\n\textend[0]&#x3D;j;\n\tint k&#x3D;0;\n\tfor(int i&#x3D;1; i&lt;n; i++)&#123;\n\t\tint p&#x3D;extend[k]+k-1;\n\t\tint L&#x3D;next[i-k];\n\t\tif(i+L&lt;p+1) extend[i]&#x3D;L;\n\t\telse&#123;\n\t\t\tj&#x3D;max(0,p-i+1);\n\t\t\twhile(i+j&lt;n &amp;&amp; j&lt;m &amp;&amp; y[i+j]&#x3D;&#x3D;x[j]) j++;\n\t\t\textend[i]&#x3D;j;\n\t\t\tk&#x3D;i;\n\t\t&#125;\n\t&#125;\n&#125;\nå‡è®¾æˆ‘ä»¬å·²ç»çŸ¥é“ next[] , å¦‚ä½•æ±‚ extend[] å‘¢ï¼Ÿ\n\n\n\n\n\n\n\n\n\næ­¤å¤„å˜é‡è®¾ç½®ä¼šå’ŒðŸŽæœ‰æ‰€å‡ºå…¥ï¼Œä¸»è¦æ˜¯ç†è§£è¿‡ç¨‹ðŸ˜…\nâ‘  å‡è®¾å½“å‰ S ä¸²éåŽ†åˆ°ä½ç½®i, å³extend[0...i-1]çš„å€¼å‡ä»¥æ±‚å‡ºï¼›é¦–å…ˆè®¾ç½®ä¸¤ä¸ªå˜é‡ï¼Œa å’Œ pï¼Œp ä»£è¡¨ä»¥aä¸ºèµ·å§‹ä½ç½®çš„å­—ç¬¦åŒ¹é…æˆåŠŸçš„æœ€å³è¾¹ç•Œï¼Œâ€™p = æœ€åŽä¸€ä¸ªåŒ¹é…æˆåŠŸä½ç½®+1â€™ ï¼Œå³ S[a...p) == P[0...p-a)ï¼Œå‡è®¾ä¸‹é¢åŸºäºŽS[i] å¯¹åº” P[i-a] çš„å‡ ç§æƒ…å†µå¼€å§‹è®¨è®ºï¼š\nâ‘¡ å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æžœ i+next[i-a] &lt; p ï¼Œæ ¹æ® next[]  æ•°ç»„çš„å®šä¹‰ï¼Œæ˜“çŸ¥ extend[i] = next[i-a]\n\nâ‘¢ å¦‚æžœ i+next[i-a] == p ï¼Œæ­¤æ—¶S[p]!=P[p-a] ä¸”P[p-i]!=P[p-a]ï¼Œä½†æ˜¯S[p]==P[p-i]çš„å¯èƒ½ä»ç„¶å­˜åœ¨ï¼Œæ‰€ä»¥ç›´æŽ¥ä»Ž S[p] ä¸Ž P[p-i] å¼€å§‹å‘åŽåŒ¹é…å³å¯\n\nâ‘£ å¦‚æžœ i+next[i-a] &gt; p ï¼Œæ­¤æ—¶è¯´æ˜Ž S[i...p) ä¸Ž P[i-a...p-a]ç›¸åŒï¼Œæ³¨æ„åˆ° S[p]!=P[p-a] å¹¶ä¸” P[p-i]==P[p-a]ï¼Œå³ S[p]!=T[p-i] ï¼Œæ‰€ä»¥æ²¡å¿…è¦ç»§ç»­å¾€ä¸‹åˆ¤æ–­äº†ï¼Œæ•…èµ‹å€¼extend[i]=p-i\n\nâ‘¤ ç”±ä¸Šé¢çš„è¿‡ç¨‹ï¼Œæ±‚è§£next[i]çš„è¿‡ç¨‹å³ä¸º P è‡ªå·±å’Œè‡ªå·±åŒ¹é…çš„è¿‡ç¨‹ï¼Œover\n\n\n\n\n\n\n\n\n\n\n\néœ€è¦ç»†å“\n\né¢˜å•Solution\n\n0x01 å‰ªèŠ±å¸ƒæ¡ HDU-2087 link\n\n0x02 Secret HDU-6153 link\n\n0x03 Cow Patterns POJ-3167 link\nâ€¦ å¾…æ›´\n\n\n\n\n\n\n\n\n\n\nkmp å’Œ exkmp æ•´çš„å¤´æ™•â€¦.\n","slug":"algorithm/learn/kmp & exkmp","date":"2021-10-23T17:02:50.000Z","categories_index":"ALGORITHMS","tags_index":"ACM,string,note,algorithm","author_index":"Maskros"},{"id":"ebad22b2d3ed9cce7b0eb0ed467a5511","title":"SpringMVCå­¦ä¹ æ‚è®°","content":"SpringMVCå­¦ä¹ æ‚è®°\n\n\n\n\n\n\n\n\næ³¨ï¼šæ‚è®°å³ä¸ºçœ‹åˆ°å•¥è®°å•¥ æ¯«æ— ç« æ³• ä¹±jbè®°\nå¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æž¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æž¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰\nSpringSpring æ˜¯æœ€å—æ¬¢è¿Žçš„ä¼ä¸šçº§ Java åº”ç”¨ç¨‹åºå¼€å‘çš„è½»é‡çº§æ¡†æž¶\nSpring æ¡†æž¶çš„æ ¸å¿ƒç‰¹æ€§æ˜¯å¯ä»¥ç”¨äºŽå¼€å‘ä»»ä½• Java åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åœ¨ Java EE å¹³å°ä¸Šæž„å»º web åº”ç”¨ç¨‹åºæ˜¯éœ€è¦æ‰©å±•çš„ã€‚ Spring æ¡†æž¶çš„ç›®æ ‡æ˜¯ä½¿ J2EE å¼€å‘å˜å¾—æ›´å®¹æ˜“ä½¿ç”¨ï¼Œé€šè¿‡å¯ç”¨åŸºäºŽ POJO ç¼–ç¨‹æ¨¡åž‹æ¥ä¿ƒè¿›è‰¯å¥½çš„ç¼–ç¨‹å®žè·µ\nä¸‰å±‚æž¶æž„\nè¡¨çŽ°å±‚  webå±‚  MVCæ˜¯è¡¨çŽ°å±‚çš„ä¸€ä¸ªè®¾è®¡æ¨¡åž‹ \n\nä¸šåŠ¡å±‚  serviceå±‚\n\næŒä¹…å±‚  daoå±‚\n\n\nä¼˜è‰¯ç‰¹æ€§\néžä¾µå…¥å¼ï¼šåŸºäºŽSpringå¼€å‘çš„åº”ç”¨ä¸­çš„å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äºŽSpringçš„API\næŽ§åˆ¶åè½¬ï¼šIOCâ€”â€”Inversion of Controlï¼ŒæŒ‡çš„æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™ Spring åŽ»åˆ›å»ºã€‚ä½¿ç”¨ Spring ä¹‹å‰ï¼Œå¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç”±æˆ‘ä»¬è‡ªå·±åœ¨ä»£ç ä¸­newåˆ›å»ºã€‚è€Œä½¿ç”¨ Spring ä¹‹åŽã€‚å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ç»™äº† Spring æ¡†æž¶ã€‚\nä¾èµ–æ³¨å…¥ï¼šDIâ€”â€”Dependency Injectionï¼Œæ˜¯æŒ‡ä¾èµ–çš„å¯¹è±¡ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ setXX æ–¹æ³•åŽ»è®¾ç½®ï¼Œè€Œæ˜¯é€šè¿‡é…ç½®èµ‹å€¼ã€‚\né¢å‘åˆ‡é¢ç¼–ç¨‹ï¼šAspect Oriented Programmingâ€”â€”AOP\nå®¹å™¨ï¼šSpring æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå› ä¸ºå®ƒåŒ…å«å¹¶ä¸”ç®¡ç†åº”ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ\nç»„ä»¶åŒ–ï¼šSpring å®žçŽ°äº†ä½¿ç”¨ç®€å•çš„ç»„ä»¶é…ç½®ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„åº”ç”¨ã€‚åœ¨ Spring ä¸­å¯ä»¥ä½¿ç”¨XMLå’ŒJavaæ³¨è§£ç»„åˆè¿™äº›å¯¹è±¡ã€‚\nä¸€ç«™å¼ï¼šåœ¨ IOC å’Œ AOP çš„åŸºç¡€ä¸Šå¯ä»¥æ•´åˆå„ç§ä¼ä¸šåº”ç”¨çš„å¼€æºæ¡†æž¶å’Œä¼˜ç§€çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆå®žé™…ä¸Š Spring è‡ªèº«ä¹Ÿæä¾›äº†è¡¨çŽ°å±‚çš„ SpringMVC å’ŒæŒä¹…å±‚çš„ Spring JDBCï¼‰\n\nä½“ç³»ç»“æž„\nMVCèŒè´£åˆ†æž\nControllerï¼šæŽ§åˆ¶å™¨\n\nå–å¾—è¡¨å•æ•°æ®\nè°ƒç”¨ä¸šåŠ¡é€»è¾‘\nè½¬å‘æŒ‡å®šçš„é¡µé¢\n\n\nModelï¼šæ¨¡åž‹\n\nä¸šåŠ¡é€»è¾‘\nä¿å­˜æ•°æ®çš„çŠ¶æ€\n\n\nViewï¼šè§†å›¾\n\næ˜¾ç¤ºé¡µé¢\n\n\n\n\n\nMVCæ¡†æž¶éœ€è¦åšå“ªäº›äº‹æƒ…ï¼š\n\nå°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .\n\nå°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .\n\nå¤„ç†è¯·æ±‚â€”è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€”å°è£…å“åº”æ•°æ® .\n\nå°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .\n\n\n\n\nServletjspï¼šæœ¬è´¨å°±æ˜¯ä¸€ä¸ªservlet\n\næ·»åŠ pomä¾èµ–\n\næ–°å»ºç©ºMavené¡¹ç›®\n\nAdd Framework Support é€‰æ‹©Web Applicationæ·»åŠ  å˜æˆwebé¡¹ç›® \n\nå¯¼å…¥servletå’Œjspçš„ä¾èµ–\n\nç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚\n\n\npublic class HelloServlet extends HttpServlet \n\nåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºtest.jsp\nåœ¨web.xmlä¸­æ³¨å†ŒServlet\né…ç½®Tomcat å¹¶å¯åŠ¨æµ‹è¯•\n\nSpringMVC\n\n\n\n\n\n\n\n\nSpring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºŽJavaå®žçŽ°MVCçš„è½»é‡ çº§Webæ¡†æž¶\n Spring MVCçš„ç‰¹ç‚¹ï¼š\n\nè½»é‡çº§ï¼Œç®€å•æ˜“å­¦\né«˜æ•ˆ , åŸºäºŽè¯·æ±‚å“åº”çš„MVCæ¡†æž¶\nä¸ŽSpringå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ\nçº¦å®šä¼˜äºŽé…ç½®\nåŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰\nç®€æ´çµæ´»\n\nSpringçš„webæ¡†æž¶å›´ç»•DispatcherServlet [ è°ƒåº¦Servlet ] è®¾è®¡\nDispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»ŽSpring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºŽæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´\nä¸­å¿ƒæŽ§åˆ¶å™¨Spring MVCæ¡†æž¶ä»¥è¯·æ±‚ä¸ºé©±åŠ¨ , å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½ï¼ŒDispatcherServletæ˜¯ä¸€ä¸ªå®žé™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)ã€‚\nSpringMVCçš„åŽŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nâ€‹    å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æŽ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®žé™…æŽ§åˆ¶å™¨ï¼ŒæŽ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡åž‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡åž‹å“åº”ç»™ä¸­å¿ƒæŽ§åˆ¶å™¨ï¼ŒæŽ§åˆ¶å™¨ä½¿ç”¨æ¨¡åž‹ä¸Žè§†å›¾æ¸²æŸ“è§†å›¾ç»“æžœï¼Œå°†ç»“æžœè¿”å›žç»™ä¸­å¿ƒæŽ§åˆ¶å™¨ï¼Œå†å°†ç»“æžœè¿”å›žç»™è¯·æ±‚è€…ã€‚\n\nSpringMVCæ‰§è¡ŒåŽŸç†\n\n\n\n\n\n\n\n\nå›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®žçº¿è¡¨ç¤ºSpringMVCæ¡†æž¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®žçŽ°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®žçŽ°\n\n\nDispatcherServletè¡¨ç¤ºå‰ç½®æŽ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æŽ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæŽ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚\n\n\n\n\n\n\n\n\n\næˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : http://localhost:8080/SpringMVC/hello\nå¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š\nhttp://localhost:8080 æœåŠ¡å™¨åŸŸå\nSpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹\nhelloè¡¨ç¤ºæŽ§åˆ¶å™¨\né€šè¿‡åˆ†æžï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºŽæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæŽ§åˆ¶å™¨ã€‚\n\nHandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚\n\nHandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æŽ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æŽ§åˆ¶å™¨ä¸ºï¼šhelloã€‚\n\nHandlerExecutionå°†è§£æžåŽçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£æžæŽ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚\n\nHandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™åŽ»æ‰§è¡ŒHandlerã€‚\n\nHandlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚\n\nControllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›žç»™HandlerAdapter,å¦‚ModelAndViewã€‚\n\nHandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡åž‹ä¼ é€’ç»™DispatcherServletã€‚\n\nDispatcherServletè°ƒç”¨è§†å›¾è§£æžå™¨(ViewResolver)æ¥è§£æžHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚\n\nè§†å›¾è§£æžå™¨å°†è§£æžçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚\n\nDispatcherServletæ ¹æ®è§†å›¾è§£æžå™¨è§£æžçš„è§†å›¾ç»“æžœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚\n\næœ€ç»ˆè§†å›¾å‘ˆçŽ°ç»™ç”¨æˆ·ã€‚\n\n\né…ç½®ç‰ˆ\né…ç½®web.xml  ï¼Œ æ³¨å†ŒDispatcherServlet\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n        version=\"4.0\">\n\n   &lt;!--1.æ³¨å†ŒDispatcherServlet-->\n   &lt;servlet>\n       &lt;servlet-name>springmvc&lt;/servlet-name>\n       &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class>\n       &lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml-->\n       &lt;init-param>\n           &lt;param-name>contextConfigLocation&lt;/param-name>\n           &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value>\n       &lt;/init-param>\n       &lt;!--å¯åŠ¨çº§åˆ«-1-->\n       &lt;load-on-startup>1&lt;/load-on-startup>\n   &lt;/servlet>\n\n   &lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰-->\n   &lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰-->\n   &lt;servlet-mapping>\n       &lt;servlet-name>springmvc&lt;/servlet-name>\n       &lt;url-pattern>/&lt;/url-pattern>\n   &lt;/servlet-mapping>\n\n&lt;/web-app>\n\nç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xml\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n&lt;/beans>\n\næ·»åŠ  å¤„ç†æ˜ å°„å™¨\n&lt;bean class=\"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping\"/>\n\næ·»åŠ  å¤„ç†å™¨é€‚é…å™¨\n&lt;bean class=\"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter\"/>\n\næ·»åŠ  è§†å›¾è§£æžå™¨\n&lt;!--è§†å›¾è§£æžå™¨:DispatcherServletç»™ä»–çš„ModelAndView-->\n&lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" id=\"InternalResourceViewResolver\">\n   &lt;!--å‰ç¼€-->\n   &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"/>\n   &lt;!--åŽç¼€-->\n   &lt;property name=\"suffix\" value=\".jsp\"/>\n&lt;/bean>\n\nç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®žçŽ°ControlleræŽ¥å£ï¼Œè¦ä¹ˆå¢žåŠ æ³¨è§£ï¼›éœ€è¦è¿”å›žä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›\npackage com.maskros.controller;\n\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.servlet.mvc.Controller;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥ControlleræŽ¥å£\npublic class HelloController implements Controller &#123;\n\n   public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;\n       //ModelAndView æ¨¡åž‹å’Œè§†å›¾\n       ModelAndView mv = new ModelAndView();\n\n       //å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model\n       mv.addObject(\"msg\",\"HelloSpringMVC!\");\n       //å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­\n       mv.setViewName(\"hello\"); //: /WEB-INF/jsp/hello.jsp\n       return mv;\n  &#125;\n   \n&#125;\n\nå°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean\n&lt;!--Handler-->\n&lt;bean id=\"/hello\" class=\"com.kuang.controller.HelloController\"/>\n\nå†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;Kuangshen&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\né…ç½®tomcatå¯åŠ¨æµ‹è¯•\n\n\n\n\n\n\n\n\n\n\n\nå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºçŽ°404ï¼ŒæŽ’æŸ¥æ­¥éª¤ï¼š\n\næŸ¥çœ‹æŽ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚\nå¦‚æžœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼\n\n\nâ€»æ³¨è§£ç‰ˆ\nç”±äºŽMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„\n&lt;build>\n   &lt;resources>\n       &lt;resource>\n           &lt;directory>src/main/java&lt;/directory>\n           &lt;includes>\n               &lt;include>**/*.properties&lt;/include>\n               &lt;include>**/*.xml&lt;/include>\n           &lt;/includes>\n           &lt;filtering>false&lt;/filtering>\n       &lt;/resource>\n       &lt;resource>\n           &lt;directory>src/main/resources&lt;/directory>\n           &lt;includes>\n               &lt;include>**/*.properties&lt;/include>\n               &lt;include>**/*.xml&lt;/include>\n           &lt;/includes>\n           &lt;filtering>false&lt;/filtering>\n       &lt;/resource>\n   &lt;/resources>\n&lt;/build>\n\nåœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æž¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥\n\né…ç½® web.xml\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n        version=\"4.0\">\n\n   &lt;!--1.æ³¨å†Œservlet-->\n   &lt;servlet>\n       &lt;servlet-name>SpringMVC&lt;/servlet-name>\n       &lt;servlet-class>org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class>\n       &lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”-->\n       &lt;init-param>\n           &lt;param-name>contextConfigLocation&lt;/param-name>\n           &lt;param-value>classpath:springmvc-servlet.xml&lt;/param-value>\n       &lt;/init-param>\n       &lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© -->\n       &lt;load-on-startup>1&lt;/load-on-startup>\n   &lt;/servlet>\n\n   &lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª -->\n   &lt;servlet-mapping>\n       &lt;servlet-name>SpringMVC&lt;/servlet-name>\n       &lt;url-pattern>/&lt;/url-pattern>\n   &lt;/servlet-mapping>\n\n&lt;/web-app>\n\n\n\n\n\n\n\n\n\n/ å’Œ /* çš„åŒºåˆ«ï¼š&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¼šåŒ¹é… .jspï¼Œä¼šå‡ºçŽ°è¿”å›ž jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™\n\næ·»åŠ  SpringMVC é…ç½®æ–‡ä»¶\nåœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸ŽSpringå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºŽæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œåœ¨è§†å›¾è§£æžå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æŽ¥è®¿é—®\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xmlns:context=\"http://www.springframework.org/schema/context\"\n      xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       https://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n       https://www.springframework.org/schema/mvc/spring-mvc.xsd\">\n\n   &lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† -->\n   &lt;context:component-scan base-package=\"com.kuang.controller\"/>\n   &lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº -->\n   &lt;mvc:default-servlet-handler />\n   &lt;!--\n   æ”¯æŒmvcæ³¨è§£é©±åŠ¨\n       åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»\n       è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ\n       å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping\n       å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®žä¾‹\n       è¿™ä¸¤ä¸ªå®žä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚\n       è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®žä¾‹çš„æ³¨å…¥ã€‚\n    -->\n   &lt;mvc:annotation-driven />\n\n   &lt;!-- è§†å›¾è§£æžå™¨ -->\n   &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n         id=\"internalResourceViewResolver\">\n       &lt;!-- å‰ç¼€ -->\n       &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" />\n       &lt;!-- åŽç¼€ -->\n       &lt;property name=\"suffix\" value=\".jsp\" />\n   &lt;/bean>\n\n&lt;/beans>\n\nåˆ›å»º Contronller\n\n\n\n\n\n\n\n\n\n\n@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›\n@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸Žæ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼›\næ–¹æ³•ä¸­å£°æ˜ŽModelç±»åž‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›\næ–¹æ³•è¿”å›žçš„ç»“æžœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åŽç¼€å˜æˆWEB-INF/jsp/hello.jspã€‚\n\n// ç¼–å†™æŽ§åˆ¶ç±»\npackage com.kuang.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(\"/HelloController\")\npublic class HelloController &#123;\n\n   //çœŸå®žè®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello\n   @RequestMapping(\"/hello\")\n   public String sayHello(Model model)&#123;\n       //å‘æ¨¡åž‹ä¸­æ·»åŠ å±žæ€§msgä¸Žå€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“\n       model.addAttribute(\"msg\",\"hello,SpringMVC\");\n       //web-inf/jsp/hello.jsp\n       return \"hello\";\n  &#125;\n&#125;\n\nåˆ›å»ºè§†å›¾å±‚\nåœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æŽ¥å–å‡ºå¹¶å±•ç¤ºä»ŽControllerå¸¦å›žçš„ä¿¡æ¯\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;SpringMVC&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\né…ç½® Tomcat è¿è¡Œ\n\n\n\nä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š\nå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æžå™¨\né€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰‹åŠ¨é…ç½®è§†å›¾è§£æžå™¨ï¼Œè€Œå¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨åªéœ€è¦å¼€å¯æ³¨è§£é©±åŠ¨å³å¯ï¼Œè€ŒçœåŽ»äº†å¤§æ®µçš„xmlé…ç½®\næŽ§åˆ¶å™¨å’ŒRestFul\n\n\n\n\n\n\n\n\næŽ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æŽ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®žçŽ°ã€‚\næŽ§åˆ¶å™¨è´Ÿè´£è§£æžç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡åž‹ã€‚\nåœ¨Spring MVCä¸­ä¸€ä¸ªæŽ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•\nåœ¨Spring MVCä¸­ï¼Œå¯¹äºŽControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬ä½¿ç”¨æ³¨è§£@Controller\nå®žçŽ°ControlleræŽ¥å£\nmvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æžå™¨\n\nControllerTest1\n//å®šä¹‰æŽ§åˆ¶å™¨\n//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®žçŽ°ControlleræŽ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›\npublic class ControllerTest1 implements Controller &#123;\n\n   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123;\n       //è¿”å›žä¸€ä¸ªæ¨¡åž‹è§†å›¾å¯¹è±¡\n       ModelAndView mv = new ModelAndView();\n       mv.addObject(\"msg\",\"Test1Controller\");\n       mv.setViewName(\"test\");\n       return mv;\n  &#125;\n&#125;\n\nç¼–å†™å®Œæ¯•åŽï¼ŒåŽ»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»\n&lt;bean name=\"/t1\" class=\"com.maskros.controller.ControllerTest1\"/>\n\nç¼–å†™å‰ç«¯test.jsp\n&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;Kuangshen&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n$&#123;msg&#125;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\n\n\n\nå®žçŽ°æŽ¥å£Controllerå®šä¹‰æŽ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠžæ³•\nç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæŽ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æžœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›\n\nä½¿ç”¨æ³¨è§£@Controller\n@Controlleræ³¨è§£ç±»åž‹ç”¨äºŽå£°æ˜ŽSpringç±»çš„å®žä¾‹æ˜¯ä¸€ä¸ªæŽ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›\n\nSpringå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºŽæ³¨è§£çš„æŽ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æŽ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜Žç»„ä»¶æ‰«æã€‚\n&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† -->\n&lt;context:component-scan base-package=\"com.kuang.controller\"/>\n\nå¢žåŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®žçŽ°\n//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­\n@Controller\npublic class ControllerTest2&#123;\n\n   //æ˜ å°„è®¿é—®è·¯å¾„\n   @RequestMapping(\"/t2\")\n   public String index(Model model)&#123;\n       //Spring MVCä¼šè‡ªåŠ¨å®žä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºŽå‘è§†å›¾ä¸­ä¼ å€¼\n       model.addAttribute(\"msg\", \"ControllerTest2\");\n       //è¿”å›žè§†å›¾ä½ç½®\n       return \"test\";\n  &#125;\n&#125;\n\n\n\n\n\n\n\n\n\n\n\nå¯ä»¥å‘çŽ°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æžœçš„ç»“æžœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»Žè¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€ŒæŽ§åˆ¶å™¨ä¸Žè§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚\n@RequestMapping ä½¿ç”¨\n@RequestMappingæ³¨è§£ç”¨äºŽæ˜ å°„urlåˆ°æŽ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºŽç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºŽç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„\n\n// åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢\n@Controller\npublic class TestController &#123;\n   @RequestMapping(\"/h1\")\n   public String test()&#123;\n       return \"test\";\n  &#125;\n&#125;\n//è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å / h1\n\n// åŒæ—¶æ³¨è§£ç±»ä¸Žæ–¹æ³•@Controller\n@RequestMapping(\"/admin\")\npublic class TestController &#123;\n   @RequestMapping(\"/h1\")\n   public String test()&#123;\n       return \"test\";\n  &#125;\n&#125;\n//è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080 / é¡¹ç›®å/ admin /h1 \nRestFulé£Žæ ¼\n\n\n\n\n\n\n\n\nRestfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£Žæ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£Žæ ¼ã€‚åŸºäºŽè¿™ä¸ªé£Žæ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºŽå®žçŽ°ç¼“å­˜ç­‰æœºåˆ¶ã€‚localhost:8080/a/b/c/d/â€¦â€¦\nåœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Š\n@Controller\npublic class RestFulController &#123;\n\n   //æ˜ å°„è®¿é—®è·¯å¾„\n   @RequestMapping(\"/commit/&#123;p1&#125;/&#123;p2&#125;\")\n   public String index(@PathVariable int p1, @PathVariable int p2, Model model)&#123;\n       \n       int result = p1+p2;\n       //Spring MVCä¼šè‡ªåŠ¨å®žä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºŽå‘è§†å›¾ä¸­ä¼ å€¼\n       model.addAttribute(\"msg\", \"ç»“æžœï¼š\"+result);\n       //è¿”å›žè§†å›¾ä½ç½®\n       return \"test\";\n       \n  &#125;\n   \n&#125;\nä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ\n\n\nä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›\nèŽ·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æž¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»åž‹è½¬æ¢ã€‚\né€šè¿‡è·¯å¾„å˜é‡çš„ç±»åž‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æžœç±»åž‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸Žæ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚\n\n\n\nä½¿ç”¨methodå±žæ€§æŒ‡å®šè¯·æ±‚ç±»åž‹\nç”¨äºŽçº¦æŸè¯·æ±‚çš„ç±»åž‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»åž‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰\n//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚\n@RequestMapping(value = \"/hello\",method = &#123;RequestMethod.POST&#125;)\npublic String index2(Model model)&#123;\n   model.addAttribute(\"msg\", \"hello!\");\n   return \"test\";\n&#125;\n\n// æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405\n// å¦‚æžœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†\n\n//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚\n@RequestMapping(value = \"/hello\",method = &#123;RequestMethod.GET&#125;)\npublic String index2(Model model)&#123;\n   model.addAttribute(\"msg\", \"hello!\");\n   return \"test\";\n&#125;\n\nSpring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚\\\næ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»åž‹çš„\næ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£\n@GetMapping\n@PostMapping\n@PutMapping\n@DeleteMapping\n@PatchMapping\n@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤š, å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼\næ•°æ®å¤„ç†å’Œè·³è½¬è½¬å‘ é‡å®šå‘\næŽ¥å—è¯·æ±‚å‚æ•°ä»¥åŠæ•°æ®å›žæ˜¾\n@RequestParam(\"xxx\")  //å¿…é¡»è¦æ±‚ä¼ è¿™ä¸ªå‚æ•°\nJson\n\n\n\n\n\n\n\n\nJavaScript Object Notation, JS å¯¹è±¡æ ‡è®° æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ï¼Œé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºŽç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®\n\n@Controllerï¼šå®šä¹‰ä¸€ä¸ªæŽ§åˆ¶å™¨ç±»ï¼Œ\n@RestControllerï¼š æ³¨è§£ç›¸å½“äºŽ @Controller ï¼‹ @ResponseBody åˆåœ¨ä¸€èµ·çš„ä½œç”¨ã€‚\n@ResponseBodyï¼šæ ‡è®°Controllerç±»ä¸­çš„æ–¹æ³•ã€‚æŠŠreturnçš„ç»“æžœå˜æˆJSONå¯¹è±¡è¿”å›žã€‚\n\nè¯­æ³•æ ¼å¼ï¼š\n\nå¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”\nèŠ±æ‹¬å·ä¿å­˜å¯¹è±¡\næ–¹æ‹¬å·ä¿å­˜æ•°ç»„\n\nJSON é”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åŽç´§æŽ¥ç€å€¼\n&#123;\"name\": \"QinJiang\"&#125;\n&#123;\"age\": \"3\"&#125;\n&#123;\"sex\": \"ç”·\"&#125;\nJson å’Œ JavaScript å¯¹è±¡äº’è½¬ï¼š\nJSON.parse()  //ä»ŽJSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡\nJSON.stringify() //ä»ŽJavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²\nControllerè¿”å›žJsonæ•°æ®Jacksonä½¿ç”¨å¯¼å…¥å®ƒçš„jaråŒ… é…ç½®SpringMVC\nç¼–å†™Controlleræ—¶éœ€è¦è¿ç”¨åˆ°ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼š@ResponseBodyï¼ŒObjectMapperå¯¹è±¡\nä¹±ç å¤„ç†\nFastJsonä½¿ç”¨\n\n\n\n\n\n\n\n\n é˜¿é‡Œå¼€å‘ æ–¹ä¾¿çš„å®žçŽ°jsonå¯¹è±¡ä¸ŽJavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®žçŽ°JavaBeanå¯¹è±¡ä¸Žjsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®žçŽ°jsonå¯¹è±¡ä¸Žjsonå­—ç¬¦ä¸²çš„è½¬æ¢\nä¹±ç é—®é¢˜&lt;!-- Jsonä¹±ç é—®é¢˜é…ç½® -->\n&lt;mvc:annotation-driven>\n   &lt;mvc:message-converters register-defaults=\"true\">\n       &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\">\n           &lt;constructor-arg value=\"UTF-8\"/>\n       &lt;/bean>\n       &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\">\n           &lt;property name=\"objectMapper\">\n               &lt;bean class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\">\n                   &lt;property name=\"failOnEmptyBeans\" value=\"false\"/>\n               &lt;/bean>\n           &lt;/property>\n       &lt;/bean>\n   &lt;/mvc:message-converters>\n&lt;/mvc:annotation-driven>\nAjax\n\n\n\n\n\n\n\n\nAsynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰\nAjax æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯\n\nå¯ä»¥é€šè¿‡ iframe æ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªAjax\nåˆ©ç”¨AJAXå¯ä»¥åšï¼š\næ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚\nç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯\nåˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åŽå°ï¼ŒåŽå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåŽï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚\nâ€¦.\n\n\n\njQuery.ajax\n\n\n\n\n\n\n\n\nAjaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£æžæœåŠ¡å™¨å“åº”æä¾›äº†æŽ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»ŽæœåŠ¡å™¨èŽ·å–æ–°æ•°æ®\njQueryæ˜¯ä¸€ä¸ªåº“ï¼Œæä¾›å¤§é‡çš„JavaScriptå‡½æ•°\njQuery.ajax(...)\n      éƒ¨åˆ†å‚æ•°ï¼š\n            urlï¼šè¯·æ±‚åœ°å€\n            typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ1.9.0ä¹‹åŽç”¨methodï¼‰\n        headersï¼šè¯·æ±‚å¤´\n            dataï¼šè¦å‘é€çš„æ•°æ®\n    contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»åž‹(é»˜è®¤: \"application/x-www-form-urlencoded; charset=UTF-8\")\n          asyncï¼šæ˜¯å¦å¼‚æ­¥\n        timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n      beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)\n        completeï¼šå®Œæˆä¹‹åŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°(å…¨å±€)\n        successï¼šæˆåŠŸä¹‹åŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°(å…¨å±€)\n          errorï¼šå¤±è´¥ä¹‹åŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°(å…¨å±€)\n        acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯å¯æŽ¥å—çš„æ•°æ®ç±»åž‹\n        dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›žçš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»åž‹\n          \"xml\": å°†æœåŠ¡å™¨ç«¯è¿”å›žçš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼\n          \"text\": å°†æœåŠ¡å™¨ç«¯è¿”å›žçš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼\n          \"html\": å°†æœåŠ¡å™¨ç«¯è¿”å›žçš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æžœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•åŽ»æ‰§è¡Œã€‚\n        \"script\": å°è¯•å°†è¿”å›žå€¼å½“ä½œJavaScriptåŽ»æ‰§è¡Œï¼Œç„¶åŽå†å°†æœåŠ¡å™¨ç«¯è¿”å›žçš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼\n          \"json\": å°†æœåŠ¡å™¨ç«¯è¿”å›žçš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡\n        \"jsonp\": JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ \"myurl?callback=?\" jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›žè°ƒå‡½æ•°\nAjaxå¼‚æ­¥åŠ è½½æ•°æ®å®žçŽ°äº†æ•°æ®å›žæ˜¾\n&lt;script>\n   $(function () &#123;\n       $(\"#btn\").click(function () &#123;\n           $.post(\"$&#123;pageContext.request.contextPath&#125;/a2\",function (data) &#123;\n               console.log(data)\n               var html=\"\";\n               for (var i = 0; i &lt;data.length ; i++) &#123;\n                   html+= \"&lt;tr>\" +\n                       \"&lt;td>\" + data[i].name + \"&lt;/td>\"+\n                       \"&lt;td>\" + data[i].age + \"&lt;/td>\" +\n                       \"&lt;td>\" + data[i].sex + \"&lt;/td>\" +\n                       \"&lt;/tr>\"\n              &#125; \t//htmlæ‹¼æŽ¥\n               $(\"#content\").html(html);\n          &#125;);\n      &#125;)\n  &#125;)\n&lt;/script>\næ‹¦æˆªå™¨Interceptor\n\n\n\n\n\n\n\n\nSpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºŽServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºŽå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’ŒåŽå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®žçŽ°ç‰¹å®šçš„åŠŸèƒ½ã€‚å¯ç”¨äºŽéªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)\nè¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š\nè¿‡æ»¤å™¨ï¼š\n\nservletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨\nåœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åŽï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª\n\næ‹¦æˆªå™¨ (æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨)\n\næ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æž¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æž¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨\næ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æŽ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æžœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„\n\næƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®žçŽ° HandlerInterceptor æŽ¥å£\nåœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨\n&lt;!--å…³äºŽæ‹¦æˆªå™¨çš„é…ç½®-->\n    &lt;mvc:interceptors>\n        &lt;mvc:interceptor>\n            &lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„-->\n            &lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª-->\n            &lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰-->\n            &lt;mvc:mapping path=\"/somewhere/**\"/>\n            &lt;!--æ‹¦æˆªsomewhereä¸‹çš„ somewhereç”¨@RequestMapping()é…ç½® -->\n            &lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨-->\n            &lt;bean class=\"com.maskros.interceptor.MyInterceptor\"/>\n        &lt;/mvc:interceptor>\n    &lt;/mvc:interceptors>\næ¯å†™ä¸€ä¸ªæ‹¦æˆªå™¨è¦åˆ°xmlä¸­é…ç½®è¿™ä¸ªæ‹¦æˆªå™¨\nexpï¼šæœªç™»å½•æ—¶ç‚¹å‡»ä¸»é¡µæŒ‰é’®ä¼šè¢«æ‹¦æˆªå™¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢\næ‚è®°SpringMVC + Vue + SpringBoot + SpringCloud + Linux\nSpringï¼šIOC å’Œ AOP\nSpringMVCï¼šSpringMVCçš„æ‰§è¡Œæµç¨‹ï¼ŒSSMæ¡†æž¶æ•´åˆ\nSSM =  javawebåšé¡¹ç›®\nMVCï¼šæ¨¡åž‹ (dao, service) , è§†å›¾ (jsp) , æŽ§åˆ¶å™¨ (servlet)\nservlet: è½¬å‘ é‡å®šå‘\nå‰ç«¯ æ•°æ®ä¼ è¾“ å®žä½“ç±»\nå®žä½“ç±»ï¼šç”¨æˆ·å å¯†ç   ç”Ÿæ—¥ â€¦.. nä¸ª\nå‰ç«¯ï¼šç”¨æˆ·å å¯†ç \npojo: User\nvo: UserVo\nMVVM:  M - V - VM (ViewModel: åŒå‘ç»‘å®š)\nformè¡¨å• method: get/post\n&lt;form action&#x3D;&quot;&#x2F;hello&quot; method&#x3D;&quot;post&quot;&gt;\n    &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;method&quot;&gt;\n    &lt;input type&#x3D;&quot;submit&quot;&gt;\n&lt;&#x2F;form&gt;\nSpring: å¤§æ‚çƒ©ï¼Œæˆ‘ä»¬å¯ä»¥å°†SpringMVCä¸­æ‰€æœ‰è¦ç”¨åˆ°çš„Beanï¼Œæ³¨å†Œåˆ°Springä¸­\nè®¿é—®ç½‘ç«™ï¼š-&gt; Servlet(ä¸­è½¬è°ƒåº¦) &lt;=&gt; Service -&gt; Dao -&gt; Sql\nå‰åŽç«¯åˆ†ç¦»æ—¶ä»£ï¼š\nåŽç«¯éƒ¨ç½²åŽç«¯ï¼Œæä¾›æŽ¥å£ï¼Œæä¾›æ•°æ®ï¼šjson\nå‰ç«¯ç‹¬ç«‹éƒ¨ç½²ï¼Œè´Ÿè´£æ¸²æŸ“åŽç«¯çš„æ•°æ®\njs:\n\nå‡½æ•°ï¼šé—­åŒ…() ()\nDom\nid, name, tag\ncreate, remove\n\n\nBom\nwindow\ndocument\n\n\n\nES6: import require\njs:\ndata:&#123;'name':$(\"#username\").val()&#125;,\n// dataä¼ é”®å€¼å¯¹ &#123;x:y&#125;  .val()==value å·¦è¾¹çš„nameå¯¹åº”controllerçš„name å³è¾¹çš„usernameå¯¹åº”ä¸‹é¢è¾“å…¥æ¡†çš„id,åŠ #æ‰èƒ½å–åˆ°ï¼    \nIDEA alt+insert å¿«æ·é”® å®žçŽ°æŽ¥å£ç­‰ç­‰\n","slug":"note/springMVC","date":"2021-09-15T18:37:28.000Z","categories_index":"NOTE","tags_index":"note,springMVC,java","author_index":"Maskros"},{"id":"0b411eca06d29c39e2fc21f5cd175527","title":"STLä½¿ç”¨æ‰‹å†Œ","content":"STLä½¿ç”¨æ‰‹å†ŒStandard Template Library\n\n\n\n\n\n\n\n\n\nåˆåã€ŠðŸ‘´æ€•å¿˜äº†å…ˆæŠŠä»–å†™ä¸‹æ¥ã€‹\næˆ‘ æ˜¯ è° ?æ–¯ä¸¹å¾·å„¿çš„ å¦æ™®é›·ç‰¹ èŽ±åšç‘ž å³æ ‡å‡†æ¨¡æ¿åº“\n\né‡è¦ç‰¹ç‚¹ï¼šæ•°æ®ç»“æž„å’Œç®—æ³•çš„åˆ†ç¦»\n\né‡è¦ç‰¹æ€§ï¼šä¸æ˜¯é¢å‘å¯¹è±¡çš„\n\né€»è¾‘å±‚æ¬¡ï¼šä½“çŽ°äº†æ³›åž‹åŒ–ç¨‹åºè®¾è®¡çš„æ€æƒ³\n\nå®žçŽ°å±‚æ¬¡ï¼šä»¥ä¸€ç§ç±»åž‹å‚æ•°åŒ–çš„æ–¹å¼å®žçŽ°ï¼ŒåŸºäºŽæ¨¡æ¿(template)\n\n\nå…­å¤§ç»„ä»¶ï¼š\n\nå®¹å™¨ï¼ˆContainerï¼‰ï¼Œæ˜¯ä¸€ç§æ•°æ®ç»“æž„ï¼Œå¦‚listï¼Œvectorï¼Œdeques ï¼Œä»¥æ¨¡æ¿ç±»çš„æ–¹æ³•æä¾› ;\nè¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œæä¾›äº†è®¿é—®å®¹å™¨ä¸­å¯¹è±¡çš„æ–¹æ³•ã€‚è¿­ä»£å™¨å°±å¦‚åŒä¸€ä¸ªæŒ‡é’ˆã€‚C++çš„æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚è¿­ä»£å™¨ä¹Ÿå¯ä»¥æ˜¯é‚£äº›å®šä¹‰äº†operator*()ä»¥åŠå…¶ä»–ç±»ä¼¼äºŽæŒ‡é’ˆçš„æ“ä½œç¬¦åœ°æ–¹æ³•çš„ç±»å¯¹è±¡ï¼›\nç®—æ³•ï¼ˆAlgorithmï¼‰ï¼Œæ˜¯ç”¨æ¥æ“ä½œå®¹å™¨ä¸­çš„æ•°æ®çš„æ¨¡æ¿å‡½æ•°ã€‚å¦‚sort()ï¼Œfind()ï¼Œå‡½æ•°æœ¬èº«ä¸Žä»–ä»¬æ“ä½œçš„æ•°æ®çš„ç»“æž„å’Œç±»åž‹æ— å…³ ;\nä»¿å‡½æ•°ï¼ˆFunctorï¼‰\né€‚é…å™¨ï¼ˆAdaptorï¼‰\nåˆ†é…å™¨ï¼ˆallocatorï¼‰\n\nðŸ‘´ å¸¸ç”¨çš„\n\n\n\n\n\n\n\n\nä»¥ä¸‹ä¸æŒ‰é¡ºåºï¼Œæƒ³åˆ°å•¥å°±å†™å•¥ï¼Œæœ‰ä¸ªðŸ¥šçš„é¡ºåº\nå®¹å™¨stringå­—ç¬¦ä¸²\n&#x2F;&#x2F;æž„é€ å‡½æ•°\nstring s(str,index); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºŽä½ç½®indexâ€çš„éƒ¨åˆ†å½“ä½œå­—ç¬¦ä¸²çš„åˆå€¼\nstring s(str,index,n); &#x2F;&#x2F;å°†å­—ç¬¦ä¸²strå†…â€œå§‹äºŽindexä¸”é•¿åº¦é¡¶å¤šnâ€çš„éƒ¨åˆ†ä½œä¸ºå­—ç¬¦ä¸²çš„åˆå€¼\nstring s(n,c); &#x2F;&#x2F;ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«nä¸ªcå­—ç¬¦(char)\nstring s(str.begin(),str.end()); &#x2F;&#x2F;ä»¥åŒºé—´begin():end() (ä¸åŒ…å«end())å†…çš„å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²sçš„åˆå€¼\n\n&#x2F;&#x2F;æ“ä½œå‡½æ•°\ns.erase(s.begin(),s.end()); &#x2F;&#x2F;åˆ é™¤\ns.replace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢ï¼Œä»Žposå¼€å§‹é•¿ä¸ºlenè¢«æ›¿æ¢ä¸ºstr\ns.find(str,pos&#x3D;0); &#x2F;&#x2F;ä»Žposå‘å³æŸ¥æ‰¾ï¼Œè¿”å›žstrç¬¬ä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®\ns.rfind(str,pos&#x3D;npos); &#x2F;&#x2F;ä»Žposåå‘æŸ¥æ‰¾ï¼Œè¿”å›žæ‰¾åˆ°ä½ç½®\ns.find_first_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå±žäºŽsträ¸­å­—ç¬¦çš„ä½ç½®\ns.find_first_not_of(str); &#x2F;&#x2F;æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å±žäºŽsträ¸­å­—ç¬¦ä½ç½®\ns.find_last_of(str);\ns.find_last_not_of(str);\ns1.compare(s2); &#x2F;&#x2F;æ¯”è¾ƒï¼Œç›¸ç­‰0å¤§äºŽ1å°äºŽ-1\ns1.compare(pos,len,s2)&#x2F;&#x2F;ä»Žs1çš„poså¼€å§‹é•¿ä¸ºlenä¸Žs2æ¯”è¾ƒ\nstringstreamè‡ªåŠ¨ä¸”ç›´æŽ¥çš„ç±»åž‹è½¬æ¢\nstringstream sstream;\n&#x2F;&#x2F;æ•°æ®ç±»åž‹è½¬æ¢\nstring str;\nint a&#x3D;123;\nsstream &lt;&lt; a;\nsstream &gt;&gt; str;\ncout&lt;&lt;str;\ncout&lt;&lt;sstream.str(); \n&#x2F;&#x2F;å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æŽ¥\nsstream &lt;&lt; &quot;xxxx&quot; &lt;&lt; &quot; &quot; &lt;&lt; &quot;aaaaa&quot;;\n&#x2F;&#x2F;æ¸…ç©ºstringstream\nsstream.clear();\nsstream.str(&quot;&quot;);\npairä¾¿æºç»“æž„ä½“\n&#x2F;&#x2F;è®¿é—®é€šè¿‡first second\n&#x2F;&#x2F;å¯ä»¥é€šè¿‡ä¸€èˆ¬è¿ç®—ç¬¦æ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒfirstå†second\npair&lt;string,int&gt; p (str,123);\npair&lt;string,int&gt; p &#x3D; make_pair(str,123);\nvectorå‘é‡å®¹å™¨ï¼ŒåŠ¨æ€å­˜å‚¨\nvector&lt;int&gt; v;\nv.front(); v.back();\nv.begin(); v.end();\nv.push_back();\nv.size();\nv.empty();\nv.clear();\nv.pop_back(); &#x2F;&#x2F;åˆ é™¤è¡¨å°¾å…ƒç´ \nv.insert(it,x); &#x2F;&#x2F;å‘è¿­ä»£å™¨it æŒ‡å‘çš„å…ƒç´ å‰æ’å…¥æ–°å…ƒç´ x\nv.insert(it,n,x); &#x2F;&#x2F;æ’å…¥nä¸ªx\nv.insert(it, first, last); &#x2F;&#x2F;å°†ç”±è¿­ä»£å™¨firstå’Œlast æ‰€æŒ‡å®šçš„åºåˆ—[first, last)æ’å…¥åˆ°è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰é¢\nv.erase(it); &#x2F;&#x2F;åˆ \nv.erase(first,last);\nv.reverse(n); &#x2F;&#x2F;é¢„åˆ†é…ç¼“å†²ç©ºé—´ï¼Œä½¿å­˜å‚¨ç©ºé—´è‡³å°‘å¯å®¹çº³nä¸ªå…ƒç´ \nv.resize(n); &#x2F;&#x2F;æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºå…ƒç´ åˆ é™¤ï¼Œè‹¥æºç©ºé—´å°äºŽnï¼Œåˆ™é»˜è®¤å€¼å¡«æ»¡ç©ºé—´\nv.resize(n,val); &#x2F;&#x2F;è¶…å‡ºçš„ç”¨valå¡«æ»¡\nstackæ ˆ\nstack&lt;int&gt; s;\ns.push(x);\ns.pop();\ns.top();\ns.empty();\ns.size();\nqueueé˜Ÿåˆ—ï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼ŒåŒç«¯é˜Ÿåˆ—\n&#x2F;&#x2F; queue\nqueue&lt;int&gt; q;\nq.push(x);\nq.pop();\nq.front(); q.back();\nq.empty();\nq.size();\n\n&#x2F;&#x2F; priority_queue\npriority&lt;int&gt; q; &#x2F;&#x2F;é»˜è®¤å¤§è€…ä¼˜å…ˆ\npriority&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q; &#x2F;&#x2F;å°çš„å…ˆå‡ºé˜Ÿ ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼šå…ƒç´ ç±»åž‹ï¼Œå®¹å™¨ç±»åž‹ï¼Œæ¯”è¾ƒç®—å­\n&#x2F;&#x2F; ä¼˜å…ˆçº§è®¾ç½®ï¼šå®šä¹‰ç»“æž„ä½“\nstruct Student&#123;\n    int num;\n    int grade;\n    friend bool operator &lt; (Student s1, Student s2)&#123;\n        return s1.grade&lt;s2.grade;\n        &#x2F;&#x2F;æ­¤å¤„å°äºŽå·è¿˜æ˜¯å°äºŽçš„ä½œç”¨ï¼Œæ•…é˜Ÿåˆ—ä¸­ä»¥æˆç»©é«˜çš„å­¦ç”Ÿä¼˜å…ˆï¼Œè‹¥åä¹‹å˜å·å³å¯\n    &#125;\n&#125;;\npriority_queue&lt;Student&gt; q;\n&#x2F;&#x2F;ä¹Ÿå¯ä»¥æŠŠé‡è½½çš„å‡½æ•°å†™åœ¨ç»“æž„ä½“å¤–é¢\nstruct cmp&#123;\n    bool operator() (Student s1, Student s2)&#123;\n        return s1.grade&lt;s2.grade;\n    &#125;\n&#125;;&#x2F;&#x2F;tips:ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„cmpå’Œsortä¸­çš„cmpæ•ˆæžœç›¸å\npriority_queue&lt;Student,vector&lt;Student&gt;,cmp&gt; q;\n&#x2F;&#x2F;å¦‚æžœç»“æž„ä½“å†…æ•°æ®åºžå¤§ï¼Œåƒå‡ºçŽ°å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼Œå»ºè®®ä½¿ç”¨å¼•ç”¨æ¥æé«˜æ•ˆçŽ‡ã€‚æ­¤æ—¶æ¯”è¾ƒç±»çš„å‚æ•°éœ€è¦åŠ ä¸Š const å’Œ &amp;\nfriend bool operator &lt; (const Student &amp;s1, const Student &amp;s2)&#123;\n\treturn s1.grade&lt;s2.grade;\n&#125;\n\n&#x2F;&#x2F;deque\ndeque&lt;int&gt; d;\nd.push_back(x); &#x2F;&#x2F;å°¾éƒ¨æ’å…¥\nd.push_front(x); &#x2F;&#x2F;é¦–éƒ¨æ’å…¥å…ƒç´ \nd.insert(d.begin()+len,x); &#x2F;&#x2F;ä¸­é—´æ’å…¥å…ƒç´ \n&#x2F;&#x2F;å¯ä»¥é€šè¿‡ d[0] d[1] è®¿é—®\nd.pop_front(); &#x2F;&#x2F;åˆ é™¤å¤´éƒ¨\nd.pop_back();\nd.erase(d.begin()+len); &#x2F;&#x2F;åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ ï¼Œå¯ä»¥å†™å¤šä¸ª\nmapé”®å€¼å¯¹ï¼Œå…ƒç´ æŒ‰å…³é”®å­—æœ‰åºï¼Œå†…éƒ¨çº¢é»‘æ ‘\n&#x2F;&#x2F; mapç©ºé—´å ç”¨çŽ‡é«˜\nmap&lt;string,int&gt; m;\nm[key]&#x3D;value;\nm.insert(make_pair(key,value));\nm.erase(key);\nm.erase(it);\nm.clear();\nm.size();\t\nmap&lt;string,int&gt;::iterator it;\nfor(it&#x3D;mp.begin();it!&#x3D;mp.end();++it)&#123;\n    cout&lt;&lt;it-&gt;first&lt;&lt;&quot; &quot;&lt;&lt;it-&gt;second&lt;&lt;endl;\n&#125;\n\n&#x2F;&#x2F; unordered_map æ•ˆçŽ‡è¾ƒé«˜ å†…éƒ¨å“ˆå¸Œè¡¨\n&#x2F;&#x2F; å¯¹äºŽæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_mapä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ï¼Œå› æ­¤é‡åˆ°æŸ¥æ‰¾é—®é¢˜ï¼Œå¸¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨unordered_map\nsetæ— é‡å¤ï¼ŒæŒ‰é”®å€¼è‡ªåŠ¨æŽ’åº\næ•°æ®ç»“æž„ä¸ºçº¢é»‘æ ‘ã€‚ä»¥èŠ‚ç‚¹å½¢å¼ä¿å­˜ï¼ˆåŠ¨æ€)ï¼Œç”¨è¿­ä»£å™¨è®¿é—®\nset&lt;int&gt; s;\ns.begin(); s.end();\ns.clear();\ns.empty();\ns.erase(x);\ns.find(x);\ns.insert(x);\ns.size();\ns.lower_bound(value); &#x2F;&#x2F;è¿”å›žç¬¬ä¸€ä¸ªå¤§äºŽç­‰äºŽvalueçš„å®šä½å™¨\ns.upper_bound(value); &#x2F;&#x2F;è¿”å›žæœ€åŽä¸€ä¸ªå¤§äºŽç­‰äºŽvalueçš„å®šä½å™¨\nset&lt;int&gt;::iterator it;\nfor(it&#x3D;s.begin();it!&#x3D;s.end();it++)\n\tcout&lt;&lt;*it&lt;&lt;&quot; &quot;;\nlisté“¾è¡¨\n\nå¦‚æžœä½ éœ€è¦é«˜æ•ˆçš„éšå³å­˜å–ï¼Œè€Œä¸åœ¨ä¹Žæ’å…¥å’Œåˆ é™¤çš„æ•ˆçŽ‡ï¼Œä½¿ç”¨vector \nå¦‚æžœä½ éœ€è¦å¤§é‡çš„æ’å…¥å’Œåˆ é™¤ï¼Œè€Œä¸å…³å¿ƒéšå³å­˜å–ï¼Œåˆ™åº”ä½¿ç”¨list \nå¦‚æžœä½ éœ€è¦éšå³å­˜å–ï¼Œè€Œä¸”å…³å¿ƒä¸¤ç«¯æ•°æ®çš„æ’å…¥å’Œåˆ é™¤ï¼Œåˆ™åº”ä½¿ç”¨deque\n\nlist&lt;int&gt; a(n);\nlist&lt;int&gt; a&#123;1,2,3,4&#125;;\na.push_back(x);\na.push_front(x);\na.empty();\na.resize(n);\na.clear();\na.front(); a.back();\na.reverse();\na.merge(b); &#x2F;&#x2F;bå˜ç©ºï¼Œaå°¾æ’å…¥b\na.insert(pos,x);\na.insert(pos,b.begin(),b.end());\na.erase(a.begin(),a.end());\na.remove(x);\nbitsetå­˜æ”¾äºŒè¿›åˆ¶0/1çš„å®¹å™¨ï¼Œå¯ä»¥å£°æ˜Žéžå¸¸å¤§çš„äºŒè¿›åˆ¶ä½è€Œä¸é™äºŽ64ï¼Œç”¨æ¥ä¼˜åŒ–\nbitset&lt;N&gt; b; &#x2F;&#x2F;è¡¨ç¤ºé•¿ä¸ºNçš„äºŒè¿›åˆ¶ä¸²\n&#x2F;&#x2F; é€šè¿‡b[pos]è®¿é—®\nb.any(); &#x2F;&#x2F;å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½\nb.none(); &#x2F;&#x2F;ä¸å­˜åœ¨ä¸º1çš„äºŒè¿›åˆ¶ä½\nb.count(); &#x2F;&#x2F;ç½®1çš„äºŒè¿›åˆ¶ä½çš„ä¸ªæ•°\nb.size();\nb.test(pos); &#x2F;&#x2F;åœ¨posä½å¤„æ˜¯å¦ä¸º1\nb.set(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®1\nb.set(pos);\nb.reset(); &#x2F;&#x2F;æ‰€æœ‰ä½ç½®0\nb.reset(pos);\nb.flip(); &#x2F;&#x2F;é€ä½å–å\nb.flip(pos);\nfunctionsæŸ¥æ‰¾lower_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºŽç­‰äºŽxçš„ä½ç½®\nupper_bound(a,a+n,x); &#x2F;&#x2F;äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºŽxçš„ä½ç½®\nfind();\nrfind();\næŽ’åºsort(a,a+n,cmp); &#x2F;&#x2F;é»˜è®¤ASC\nä¿®æ”¹swap(a,b); &#x2F;&#x2F;äº¤æ¢\nreplace(pos,len,str); &#x2F;&#x2F;æ›¿æ¢\nunique(a,a+n); &#x2F;&#x2F;åŽ»é™¤ç›¸é‚»çš„é‡å¤å…ƒç´ ,ä¼šæŠŠé‡å¤çš„è—åˆ°æœ«å°¾ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆæŽ’åº\næŽ’åˆ—next_permutation(a,a+n); &#x2F;&#x2F;ä¸‹ä¸€ä¸ªå…¨æŽ’åˆ—\nprev_permutation(a,a+n); &#x2F;&#x2F;ä¸Šä¸€ä¸ªå…¨æŽ’åˆ—\n&#x2F;&#x2F;å‡½æ•°è¿”å›žboolå€¼ï¼Œä¸€èˆ¬é…åˆwhile()\nå…¶ä»–isalpha(char x); &#x2F;&#x2F;å°å†™å­—æ¯è¿”å›ž2ï¼Œå¤§å†™å­—æ¯1ï¼Œéžå­—æ¯0\t\ntolower(char x); toupper(char x); &#x2F;&#x2F;è¿”å›žå°å†™ï¼Œå¤§å†™å­—æ¯çš„ASCIIå€¼ï¼Œéžå­—æ¯åˆ™ç›¸ç­‰\n&#x2F;&#x2F;æµ·ä¼¦å…¬å¼\np&#x3D;(a+b+c)&#x2F;2;\ns&#x3D;sqrt(p*(p-a)*(p-b)*(p-c));\nabs(int x); &#x2F;&#x2F;åªç”¨äºŽæ•´æ•°\nfabs(double x); &#x2F;&#x2F;ç²¾åº¦æ›´é«˜\n\næš‚æ—¶å°±è¿™äº›äº†ï¼Œå¯„ï¼\n","slug":"algorithm/learn/STLä½¿ç”¨æ‰‹å†Œ","date":"2021-08-13T06:15:31.000Z","categories_index":"ALGORITHMS","tags_index":"ACM,note,algorithm","author_index":"Maskros"},{"id":"e4b68a32c6fd94c2953f12692556d556","title":"æˆ‘ç¡®å®žä¸ä¼šçº¿æ®µæ ‘","content":"çº¿æ®µæ ‘Segment Tree\n\n\n\n\n\n\n\n\n\nä¸€ä¸ªé—®é¢˜ï¼Œåªè¦èƒ½åŒ–æˆå¯¹ä¸€äº›è¿žç»­ç‚¹lçš„ä¿®æ”¹å’Œç»Ÿè®¡é—®é¢˜ï¼ŒåŸºæœ¬å°±å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥è‰¹äº†\n\nåŽŸç†ï¼šå°†[1,n]åˆ†è§£æˆè‹¥å¹²ç‰¹å®šçš„å­åŒºé—´(æ•°é‡ä¸è¶…è¿‡4*n),ç„¶åŽï¼Œå°†æ¯ä¸ªåŒºé—´[L,R]éƒ½åˆ†è§£ä¸ºå°‘é‡ç‰¹å®šçš„å­åŒºé—´ï¼Œé€šè¿‡å¯¹è¿™äº›å°‘é‡å­åŒºé—´çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ï¼Œæ¥å®žçŽ°å¿«é€Ÿå¯¹[L,R]çš„ä¿®æ”¹æˆ–è€…ç»Ÿè®¡ã€‚æ¯ä¸€ä¸ªéžå¶ç»“ç‚¹æ‰€è¡¨ç¤ºçš„ç»“ç‚¹[a,b]ï¼Œå…¶å·¦å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[a,(a+b)/2]ï¼Œå³å„¿å­è¡¨ç¤ºçš„åŒºé—´ä¸º[(a+b)/2,b]ã€‚\nä½œç”¨ï¼šå¯¹ç¼–å·è¿žç»­çš„ä¸€äº›ç‚¹çš„åŒºé—´ä¿¡æ¯è¿›è¡Œä¿®æ”¹æˆ–è€…ç»Ÿè®¡æ“ä½œï¼Œç”¨çº¿æ®µæ ‘ç»Ÿè®¡çš„ä¸œè¥¿ï¼Œå¿…é¡»ç¬¦åˆåŒºé—´åŠ æ³•ã€‚ä¸Žæ ‘çŠ¶æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œçº¿æ®µæ ‘ä¸æ­¢é€‚ç”¨äºŽåŒºé—´æ±‚å’Œçš„æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡ŒåŒºé—´æœ€å¤§å€¼ï¼ŒåŒºé—´æœ€å°å€¼ï¼Œæˆ–è€…åŒºé—´å¼‚æˆ–å€¼çš„æŸ¥è¯¢ã€‚\nä¸»è¦æ“ä½œï¼šåŒºé—´æŸ¥è¯¢ã€ç‚¹æ›´æ–°ã€åŒºé—´æ›´æ–°\nä¾‹å¦‚ï¼š\n\nç»™å®šså’Œtï¼Œæ±‚å…¶åŒºé—´ä¸Šçš„æœ€å°å€¼\nç»™å®šiå’Œxï¼ŒæŠŠaiçš„å€¼æ”¹æˆx\n\næ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢çš„å¤æ‚åº¦éƒ½æ˜¯ O(log(N))\næ“ä½œ\n\n\n\n\n\n\n\n\nbuild, update(å†…å«push_down), query\nå»ºæ ‘ (build)çº¿æ®µæ ‘æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯¹åº”ä¸€æ¡çº¿æ®µ(åŒºé—´)ï¼Œåä¹‹ä¸æˆç«‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹  çš„å·¦å³å­èŠ‚ç‚¹çš„ç¼–å·åˆ†åˆ«ä¸º  å’Œ  ï¼Œå‡å¦‚èŠ‚ç‚¹  å‚¨å­˜åŒºé—´  çš„å’Œï¼Œè®¾ ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«å‚¨å­˜  å’Œ  çš„å’Œã€‚å¯ä»¥å‘çŽ°ï¼Œå·¦èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´é•¿åº¦ï¼Œä¸Žå³èŠ‚ç‚¹ç›¸åŒæˆ–è€…æ¯”ä¹‹æ°å¥½å¤š ã€‚\næ•…å»ºæ ‘å¯è€ƒè™‘é€’å½’è¿›è¡Œï¼š\nvoid build(ll l = 1, ll r = n, ll p = 1)\n{\n    if (l == r) // åˆ°è¾¾å¶å­èŠ‚ç‚¹\n        tree[p]=A[l]; // ç”¨æ•°ç»„ä¸­çš„æ•°æ®èµ‹å€¼\n    else{\n        ll mid = (l + r) / 2;\n        build(l, mid, p * 2); // å…ˆå»ºç«‹å·¦å³å­èŠ‚ç‚¹\n        build(mid + 1, r, p * 2 + 1);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1]; // è¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºŽå·¦å³å­èŠ‚ç‚¹ä¹‹å’Œ\n    }\n}\n è¿™é‡ŒðŸ‘´å·äº†ä¸ª gif æ¥æ¼”ç¤ºä¸€ä¸‹è¿‡ç¨‹ (è™½ç„¶å¤§éƒ¨åˆ†éƒ½æ˜¯å·çš„ðŸ¤¡)\n\nåŒºé—´ä¿®æ”¹(update)é¦–å…ˆå®šä¹‰â€æ‡’æ ‡è®°â€œ(å³â€œå»¶è¿Ÿæ ‡è®°â€) mark[]ï¼š\nå¯¹äºŽåŒºé—´ä¿®æ”¹ï¼Œæœ´ç´ çš„æƒ³æ³•æ˜¯ç”¨é€’å½’çš„æ–¹å¼ä¸€å±‚å±‚ä¿®æ”¹ï¼ˆç±»ä¼¼äºŽçº¿æ®µæ ‘çš„å»ºç«‹ï¼‰ï¼Œä½†è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒé«˜ã€‚ä½¿ç”¨æ‡’æ ‡è®°åŽï¼Œå¯¹äºŽé‚£äº›æ­£å¥½æ˜¯çº¿æ®µæ ‘èŠ‚ç‚¹çš„åŒºé—´ï¼Œæˆ‘ä»¬ä¸ç»§ç»­é€’å½’ä¸‹åŽ»ï¼Œè€Œæ˜¯æ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå°†æ¥è¦ç”¨åˆ°å®ƒçš„å­åŒºé—´çš„æ—¶å€™ï¼Œå†å‘ä¸‹ä¼ é€’\nç›´æŽ¥ä¸ŠðŸ´ (éžæœ€ç®€):\nvoid update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n)\n{\n    if (cl &gt; r || cr &lt; l) // åŒºé—´æ— äº¤é›†\n        return; // å‰ªæž\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r) // å½“å‰èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´åŒ…å«åœ¨ç›®æ ‡åŒºé—´ä¸­\n    {\n        tree[p] += (cr - cl + 1) * d; // æ›´æ–°å½“å‰åŒºé—´çš„å€¼\n        if (cr &gt; cl) // å¦‚æžœä¸æ˜¯å¶å­èŠ‚ç‚¹\n            mark[p] += d; // ç»™å½“å‰åŒºé—´æ‰“ä¸Šæ ‡è®°\n    }\n    else // ä¸Žç›®æ ‡åŒºé—´æœ‰äº¤é›†ï¼Œä½†ä¸åŒ…å«äºŽå…¶ä¸­\n    {\n        ll mid = (cl + cr) / 2;\n        mark[p * 2] += mark[p]; // æ ‡è®°å‘ä¸‹ä¼ é€’\n        mark[p * 2 + 1] += mark[p];\n        tree[p * 2] += mark[p] * (mid - cl + 1); // å¾€ä¸‹æ›´æ–°ä¸€å±‚\n        tree[p * 2 + 1] += mark[p] * (cr - mid);\n        mark[p] = 0; // æ¸…é™¤æ ‡è®°\n        update(l, r, d, p * 2, cl, mid); // é€’å½’åœ°å¾€ä¸‹å¯»æ‰¾\n        update(l, r, d, p * 2 + 1, mid + 1, cr);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1]; // æ ¹æ®å­èŠ‚ç‚¹æ›´æ–°å½“å‰èŠ‚ç‚¹çš„å€¼\n    }\n}\næ›´æ–°æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä»Žæœ€å¤§çš„åŒºé—´å¼€å§‹ï¼Œé€’å½’å‘ä¸‹å¤„ç†ã€‚æ³¨æ„åˆ°ï¼Œä»»ä½•åŒºé—´éƒ½æ˜¯çº¿æ®µæ ‘ä¸ŠæŸäº›èŠ‚ç‚¹çš„å¹¶é›†ã€‚äºŽæ˜¯æˆ‘ä»¬è®°ç›®æ ‡åŒºé—´ä¸º ï¼Œå½“å‰åŒºé—´ä¸º  ï¼Œ å½“å‰èŠ‚ç‚¹ä¸º  ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸‰ç§æƒ…å†µï¼š\n\nå½“å‰åŒºé—´ä¸Žç›®æ ‡åŒºé—´æ²¡æœ‰äº¤é›†ï¼š\nç›´æŽ¥ç»“æŸé€’å½’\n\nå½“å‰åŒºé—´è¢«åŒ…æ‹¬åœ¨ç›®æ ‡åŒºé—´é‡Œï¼š\nå¯ä»¥æ›´æ–°åŒºé—´ï¼Œä¸èƒ½å¿˜è®°ä¹˜ä¸ŠåŒºé—´é•¿åº¦\ntree[p] += (cr - cl + 1) * d;\nç„¶åŽæ‰“ä¸Šæ‡’æ ‡è®°ï¼ˆå¶å­èŠ‚ç‚¹å¯ä»¥ä¸æ‰“æ ‡è®°ï¼Œå› ä¸ºä¸ä¼šå†å‘ä¸‹ä¼ é€’äº†ï¼‰\nmark[p] += d;\t//è¡¨ç¤ºâ€œè¯¥åŒºé—´ä¸Šæ¯ä¸€ä¸ªç‚¹éƒ½è¦åŠ ä¸Šdâ€ã€‚å› ä¸ºåŽŸæ¥å¯èƒ½å­˜åœ¨æ ‡è®°ï¼Œæ‰€ä»¥æ˜¯+=è€Œä¸æ˜¯=\n\nå½“å‰åŒºé—´ä¸Žç›®æ ‡åŒºé—´ç›¸äº¤ï¼Œä½†ä¸åŒ…å«äºŽå…¶ä¸­:\nè¿™æ—¶æŠŠå½“å‰åŒºé—´ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†åˆ«è¿›è¡Œå¤„ç†ã€‚å¦‚æžœå­˜åœ¨æ‡’æ ‡è®°ï¼Œè¦å…ˆæŠŠæ‡’æ ‡è®°ä¼ é€’ç»™å­èŠ‚ç‚¹ï¼ˆæ³¨æ„ä¹Ÿæ˜¯+=ï¼Œå› ä¸ºåŽŸæ¥å¯èƒ½å­˜åœ¨æ‡’æ ‡è®°)\nll mid = (cl + cr) / 2;\nmark[p * 2] += mark[p];\nmark[p * 2 + 1] += mark[p];\nä¸¤ä¸ªå­èŠ‚ç‚¹çš„å€¼ä¹Ÿå°±éœ€è¦ç›¸åº”çš„æ›´æ–°ï¼ˆåŽé¢ä¹˜çš„æ˜¯åŒºé—´é•¿åº¦) :[p * 2] += mark[p] * (mid - cl + 1);\ntree[p * 2 + 1] += mark[p] * (cr - mid);\nä¸è¦å¿˜è®°æ¸…é™¤è¯¥èŠ‚ç‚¹çš„æ‡’æ ‡è®°ï¼š\nmark[p]=0;\nå› ä¸ºè´µæ ‡è®°å’ŒðŸ‘´ä¸€æ ·æ˜¯ä¸ªæ‡’è›‹ï¼Œåªå¾€ä¸‹ä¼ é€’ä¸€å±‚ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸æ˜¯é€’å½’çš„ï¼Œä»¥åŽè¦ç”¨å†æ‰ç»§ç»­ä¼ é€’ã€‚å…¶å®žæˆ‘ä»¬å¸¸å¸¸æŠŠè¿™ä¸ªä¼ é€’è¿‡ç¨‹å°è£…æˆä¸€ä¸ªå‡½æ•°æ‰‘å±Žè£† :\ninline void push_down(ll p, ll len){\n    mark[p * 2] += mark[p];\n    mark[p * 2 + 1] += mark[p];\n    tree[p * 2] += mark[p] * (len - len / 2);\n    tree[p * 2 + 1] += mark[p] * (len / 2); // å³è¾¹çš„åŒºé—´å¯èƒ½è¦çŸ­ä¸€ç‚¹\n    mark[p] = 0;\n}\n//è¿™æ ·å„¿ update() é‡Œé¢è°ƒç”¨çš„æ—¶å€™ç›´æŽ¥ push_down(p, cr - cl + 1); å°±å½³äº\nä¼ é€’å®Œæ ‡è®°åŽï¼Œå†é€’å½’åœ°åŽ»å¤„ç†å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹å°±å½³äºä¹\n\n\nä¸‹é¢å„¿ðŸ‘´åˆå·äº†ä¸ªè§†é¢‘å±•ç¤ºä¸€ä¸‹åŒºé—´  åŠ ä¸Š  çš„è¿‡ç¨‹ï¼š\n\n\nè‡³äºŽå•ç‚¹ä¿®æ”¹ï¼Œåªéœ€è¦ä»¤å·¦å³ç«¯ç‚¹ç›¸ç­‰å³å¯~\nåŒºé—´æŸ¥è¯¢(query)è¿˜å°±é‚£ä¸ªç›´æŽ¥ä¸ŠðŸ´\nll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return 0;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r)\n        return tree[p];\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr); \n        // ä¸Šä¸€è¡Œæ‹†æˆä¸‰è¡Œå†™å°±å’ŒåŒºé—´ä¿®æ”¹æ ¼å¼ä¸€è‡´äº†\n    }\n}\nä¸€æ ·çš„é€’å½’ï¼Œä¸€æ ·è‡ªé¡¶è‡³åº•åœ°å¯»æ‰¾ï¼Œä¸€æ ·çš„åˆå¹¶ä¿¡æ¯ï¼Œå³æ’å³ç”¨ðŸ˜\næ¨¡æ¿\n\n\n\n\n\n\n\n\nsource : æ´›è°·P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1\né¢˜ç›®æè¿°å¦‚é¢˜ï¼Œå·²çŸ¥ä¸€ä¸ªæ•°åˆ—ï¼Œä½ éœ€è¦è¿›è¡Œä¸‹é¢ä¸¤ç§æ“ä½œï¼š1.å°†æŸåŒºé—´æ¯ä¸€ä¸ªæ•°åŠ ä¸Šx2.æ±‚å‡ºæŸåŒºé—´æ¯ä¸€ä¸ªæ•°çš„å’Œè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nã€Mï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¥æ•°åˆ—æ•°å­—çš„ä¸ªæ•°å’Œæ“ä½œçš„æ€»ä¸ªæ•°ã€‚ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°å­—è¡¨ç¤ºæ•°åˆ—ç¬¬ié¡¹çš„åˆå§‹å€¼ã€‚æŽ¥ä¸‹æ¥Mè¡Œæ¯è¡ŒåŒ…å«3æˆ–4ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼šæ“ä½œ1ï¼š æ ¼å¼ï¼š1 x y k å«ä¹‰ï¼šå°†åŒºé—´[x,y]å†…æ¯ä¸ªæ•°åŠ ä¸Škæ“ä½œ2ï¼š æ ¼å¼ï¼š2 x y å«ä¹‰ï¼šè¾“å‡ºåŒºé—´[x,y]å†…æ¯ä¸ªæ•°çš„å’Œè¾“å‡ºæ ¼å¼è¾“å‡ºåŒ…å«è‹¥å¹²è¡Œæ•´æ•°ï¼Œå³ä¸ºæ‰€æœ‰æ“ä½œ2çš„ç»“æžœã€‚\n\ntips: æœ¬æ¨¡æ¿åˆ†ä¸ºé¾™é¸£ç‰ˆå’Œè´µæ—ç‰ˆ\né¾™é¸£version\n\n\n\n\n\n\n\n\n(æ­¤é¾™é¸£éžå½¼é¾™é¸£ï¼Œæ„ä¸ºæŠŠä¸Šé¢çš„é¾™é¸£ðŸ´æ•´åˆèµ·æ¥):\n#define MAXN 100005\nll n, m, A[MAXN], tree[MAXN * 4], mark[MAXN * 4]; \ninline void push_down(ll p, ll len){\n    mark[p * 2] += mark[p];\n    mark[p * 2 + 1] += mark[p];\n    tree[p * 2] += mark[p] * (len - len / 2);\n    tree[p * 2 + 1] += mark[p] * (len / 2);\n    mark[p] = 0;\n}\nvoid build(ll l = 1, ll r = n, ll p = 1){\n    if (l == r)\n        tree[p] = A[l];\n    else{\n        ll mid = (l + r) / 2;\n        build(l, mid, p * 2);\n        build(mid + 1, r, p * 2 + 1);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1];\n    }\n}\nvoid update(ll l, ll r, ll d, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r){\n        tree[p] += (cr - cl + 1) * d;\n        if (cr &gt; cl)\n            mark[p] += d;\n    }\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        update(l, r, d, p * 2, cl, mid);\n        update(l, r, d, p * 2 + 1, mid + 1, cr);\n        tree[p] = tree[p * 2] + tree[p * 2 + 1];\n    }\n}\nll query(ll l, ll r, ll p = 1, ll cl = 1, ll cr = n){\n    if (cl &gt; r || cr &lt; l)\n        return 0;\n    else if (cl &gt;= l &amp;&amp; cr &lt;= r)\n        return tree[p];\n    else{\n        ll mid = (cl + cr) / 2;\n        push_down(p, cr - cl + 1);\n        return query(l, r, p * 2, cl, mid) + query(l, r, p * 2 + 1, mid + 1, cr);\n    }\n}\nint main(){\n    n = read();\n    m = read();\n    for (int i = 1; i &lt;= n; ++i)\n        A[i] = read();\n    build();\n    for (int i = 0; i &lt; m; ++i){\n        ll opr = read(), l = read(), r = read();\n        if (opr == 1){\n            ll d = read();\n            update(l, r, d);\n        }\n        else\n            printf(\"%lld\\n\", query(l, r));\n    }\n    return 0;\n}\nè´µæ—version\n\n\n\n\n\n\n\n\nè±ªåŽå‡çº§plusï¼Œæœ¬æ¥æƒ³åŠ ä¸ªä¹˜é™¤çš„å‘çŽ°æ¿å­ä¸å…¼å®¹ï¼ŒðŸ‘´æ˜¯æ‡’ç‹—\nconst int MAXN = 1e5 + 5;\nll tree[MAXN &lt;&lt; 2], mark[MAXN &lt;&lt; 2], n, m, A[MAXN];\nvoid push_down(int p, int len){\n    tree[p &lt;&lt; 1] += mark[p] * (len - len / 2);\n    mark[p &lt;&lt; 1] += mark[p];\n    tree[p &lt;&lt; 1 | 1] += mark[p] * (len / 2);\n    mark[p &lt;&lt; 1 | 1] += mark[p];\n    mark[p] = 0;\n}\nvoid build(int p = 1, int cl = 1, int cr = n){\n    if (cl == cr) { tree[p] = A[cl]; return; }\n    int mid = (cl + cr) &gt;&gt; 1;\n    build(p &lt;&lt; 1, cl, mid);\n    build(p &lt;&lt; 1 | 1, mid + 1, cr);\n    tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1];\n}\nll query(int l, int r, int p = 1, int cl = 1, int cr = n){\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) return tree[p];\n    push_down(p, cr - cl + 1);\n    ll mid = (cl + cr) &gt;&gt; 1, ans = 0;\n    if (mid &gt;= l) ans += query(l, r, p &lt;&lt; 1, cl, mid);\n    if (mid &lt; r) ans += query(l, r, p &lt;&lt; 1 | 1, mid + 1, cr);\n    return ans;\n}   \nvoid update(int l, int r, int d, int p = 1, int cl = 1, int cr = n){\n    if (cl &gt;= l &amp;&amp; cr &lt;= r) { tree[p] += d * (cr - cl + 1), mark[p] += d; return; }\n    push_down(p, cr - cl + 1);\n    int mid = (cl + cr) &gt;&gt; 1;\n    if (mid &gt;= l) update(l, r, d, p &lt;&lt; 1, cl, mid);\n    if (mid &lt; r) update(l, r, d, p &lt;&lt; 1 | 1, mid + 1, cr);\n    tree[p] = tree[p &lt;&lt; 1] + tree[p &lt;&lt; 1 | 1];\n}\nå¸¸è§æ¨¡åž‹æ­¥éª¤ï¼š\n\nå°†é—®é¢˜è½¬åŒ–æˆç‚¹ä¿¡æ¯å’Œç›®æ ‡ä¿¡æ¯\nå°†ç›®æ ‡ä¿¡æ¯æ ¹æ®éœ€è¦æ‰©å……æˆåŒºé—´ä¿¡æ¯\nå¢žåŠ ä¿¡æ¯ç¬¦åˆåŒºé—´åŠ æ³•\nå¢žåŠ æ ‡è®°æ”¯æŒåŒºé—´æ“ä½œ\n\n\nä»£ç ä¸­çš„ä¸»è¦æ¨¡å—ï¼šåŒºé—´åŠ æ³•ï¼Œæ ‡è®°ä¸‹æŽ¨ï¼Œç‚¹ä¿¡æ¯-&gt;åŒºé—´ä¿¡æ¯ï¼Œå„ç§æ“ä½œ(ä¿®æ”¹ã€æŸ¥è¯¢â€¦)\n\nå­—ç¬¦ä¸²å“ˆå¸Œ\n\n\n\n\n\n\n\n\nURAL1989 Subpalindromes  é¢˜è§£\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²(é•¿åº¦&lt;=100000)ï¼Œæœ‰ä¸¤ä¸ªæ“ä½œã€‚  1ï¼šæ”¹å˜æŸä¸ªå­—ç¬¦ã€‚ 2ï¼šåˆ¤æ–­æŸä¸ªå­ä¸²æ˜¯å¦æž„æˆå›žæ–‡ä¸²\nåˆ†æžï¼š\nç›´æŽ¥åˆ¤æ–­ä¼šè¶…æ—¶ï¼Œæ­¤å¤„ç”¨ çº¿æ®µæ ‘ç»´æŠ¤å­—ç¬¦ä¸²å“ˆå¸Œ\nå¯¹äºŽä¸€ä¸ªå­—ç¬¦ä¸²å®ƒå¯¹åº”çš„å“ˆå¸Œå‡½æ•°ä¸º$a[0]+a[1]K + a[2]K^2 +â€¦+a[n-1]*K^{n-1}$\nå†ç»´æŠ¤ä¸€ä¸ªä»Žå³å¾€å·¦çš„å“ˆå¸Œå€¼ï¼š\n$a[0]K^{n-1} + a[1]K^{n-2} +â€¦+a[n-1]$\nè‹¥æ˜¯å›žæ–‡ä¸²ï¼Œåˆ™å·¦å³çš„å“ˆå¸Œå€¼ä¼šç›¸ç­‰ã€‚è€Œå·¦å³å“ˆå¸Œå€¼ç›¸ç­‰ï¼Œåˆ™å¾ˆå¤§å¯èƒ½è¿™æ˜¯å›žæ–‡ä¸²ã€‚\nè‹¥å‡ºçŽ°è¯¯åˆ¤ï¼Œå¯ä»¥å†ç”¨ä¸€ä¸ªK2ï¼Œè¿›è¡ŒäºŒæ¬¡å“ˆå¸Œåˆ¤æ–­ï¼Œå¯ä»¥å‡å°è¯¯åˆ¤æ¦‚çŽ‡ã€‚å®žçŽ°ä¸Šï¼Œå“ˆå¸Œå€¼æœ€å¥½å¯¹æŸä¸ªè´¨æ•°å–ä½™æ•°ï¼Œè¿™æ ·åˆ†å¸ƒæ›´å‡åŒ€ã€‚\nè§£é¢˜æ¨¡åž‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šæŸä¸ªåŒºé—´çš„å·¦ï¼Œå³å“ˆå¸Œå€¼\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\nç›®æ ‡ä¿¡æ¯å·²ç»ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥åŒºé—´ä¿¡æ¯=ç›®æ ‡ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æž„ï¼š\n\nåŒºé—´ä¿¡æ¯ï¼šåŒºé—´å“ˆå¸Œå€¼\n\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\n\næ ¸å¿ƒï¼šå°±æ˜¯æ‰¾åˆ°åŒºé—´ä¿¡æ¯ï¼Œ å†™å¥½åŒºé—´åŠ æ³•\næœ€é•¿è¿žç»­é›¶\n\n\n\n\n\n\n\n\nCodeforces 527C Glass Carving é¢˜è§£\nç»™å®šä¸€ä¸ªçŸ©å½¢ï¼Œä¸åœåœ°çºµå‘/æ¨ªå‘åˆ‡å‰²ï¼Œé—®æ¯æ¬¡åˆ‡å‰²åŽï¼Œæœ€å¤§çš„çŸ©å½¢é¢ç§¯æ˜¯å¤šå°‘\nåˆ†æžï¼š\næœ€å¤§çŸ©å½¢é¢ç§¯=æœ€é•¿çš„é•¿*æœ€å®½çš„å®½\né•¿å®½èŒƒå›´å‡ä¸º1e5ï¼Œæ•…ç”¨01åºåˆ—è¡¨ç¤ºæ¯ä¸ªç‚¹æ˜¯å¦è¢«åˆ‡å‰²\næœ€é•¿çš„é•¿å°±æ˜¯é•¿çš„æœ€é•¿è¿žç»­0çš„æ•°é‡+1ï¼Œå®½åŒç†ï¼ŒäºŽæ˜¯å¯ç”¨ç”¨çº¿æ®µæ ‘ç»´æŠ¤æœ€é•¿è¿žç»­é›¶\nè§£é¢˜æ¨¡åž‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´æœ€é•¿è¿žç»­é›¶çš„ä¸ªæ•°\nç‚¹ä¿¡æ¯ï¼š0æˆ–1\n\nç”±äºŽç›®æ ‡ä¿¡æ¯ä¸ç¬¦åˆåŒºé—´åŠ æ³•ï¼Œæ‰€ä»¥è¦æ‰©å……ç›®æ ‡ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æž„ï¼š\n\nåŒºé—´ä¿¡æ¯ï¼šä»Žå·¦ï¼Œå³å¼€å§‹çš„æœ€é•¿è¿žç»­é›¶ï¼Œæœ¬åŒºé—´æ˜¯å¦å…¨é›¶ï¼Œæœ¬åŒºé—´æœ€é•¿è¿žç»­é›¶\nç‚¹ä¿¡æ¯ï¼š0æˆ–1\n\nè®¡æ•°æŽ’åº\n\n\n\n\n\n\n\n\nCodeforces 558E A Simple Task é¢˜è§£\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡1e5çš„å­—ç¬¦ä¸²ï¼ˆå°å†™è‹±æ–‡å­—æ¯ï¼‰ï¼Œå’Œä¸è¶…è¿‡5000ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œ L R K è¡¨ç¤ºç»™åŒºé—´[L,R]çš„å­—ç¬¦ä¸²æŽ’åºï¼ŒK=1ä¸ºå‡åºï¼ŒK=0ä¸ºé™åºã€‚ æœ€åŽè¾“å‡ºæœ€ç»ˆçš„å­—ç¬¦ä¸²\nè§£é¢˜æ¨¡åž‹ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æŽ’åºç»“æžœ\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\nç›®æ ‡ä¿¡æ¯æ˜¯ç¬¦åˆåŒºé—´åŠ æ³•çš„ï¼Œä½†æ˜¯ä¸ºäº†æ”¯æŒåŒºé—´æ“ä½œï¼Œè¿˜æ˜¯éœ€è¦æ‰©å……ä¿¡æ¯\næ•…çº¿æ®µæ ‘ç»“æž„ï¼š\n\nç›®æ ‡ä¿¡æ¯ï¼šåŒºé—´çš„è®¡æ•°æŽ’åºç»“æžœï¼ŒæŽ’åºæ ‡è®°ï¼ŒæŽ’åºç§ç±»ï¼ˆå‡é™ï¼‰\nç‚¹ä¿¡æ¯ï¼šä¸€ä¸ªå­—ç¬¦\n\n\n\n\n\n\n\n\n\n\nTo be continuedâ€¦\n","slug":"algorithm/learn/çº¿æ®µæ ‘","date":"2021-08-06T08:14:31.000Z","categories_index":"ALGORITHMS","tags_index":"ACM,note,algorithm","author_index":"Maskros"},{"id":"1f59b3eb6e524ce1c0f6b34920ea6c38","title":"åšå¼ˆè®º","content":"åšå¼ˆè®ºGame Theory\n\nNimæ¸¸æˆå±žäºŽ ICG (Impartial Combinatorial Games) çš„ä¸€ç§ï¼Œæ»¡è¶³æ¡ä»¶å¦‚ä¸‹ï¼š\n\nä¸¤åé€‰æ‰‹äº¤æ›¿ç§»åŠ¨ï¼Œåœ¨æœ‰é™çš„åˆæ³•ç§»åŠ¨é›†åˆä¸­ä»»é€‰ä¸€ç§è¿›è¡Œç§»åŠ¨\nå¯¹äºŽä»»ä½•ä¸€ç§å±€é¢ï¼Œåˆæ³•çš„ç§»åŠ¨é›†åˆåªå–å†³äºŽå±€é¢æœ¬èº«\nåˆ°è°æ— æ³•ç§»åŠ¨è°å°±è¾“äº†\n\nä»¥ä¸‹ç»™å‡º P/N çš„å®šä¹‰ï¼š\n\nP-Positionï¼šå…ˆæ‰‹å¿…è´¥ç‚¹ (Previous)\nN-Positionï¼šå…ˆæ‰‹å¿…èƒœç‚¹ (Next)\nå¯çŸ¥æ‰€æœ‰ç»ˆç»“ç‚¹éƒ½æ˜¯Pç‚¹ï¼Œä¸€æ­¥å°±èƒ½åˆ°Pç‚¹çš„ä¸€å®šæ˜¯Nç‚¹ï¼Œé€šè¿‡ä¸€æ­¥åªèƒ½åˆ°Nç‚¹çš„ä¸€å®šæ˜¯Pç‚¹\n\nä¸‹é¢æ¥è¯´è¯´Nimæ¸¸æˆï¼šâ€œæœ‰è‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œåˆæ³•çš„ç§»åŠ¨æ˜¯â€œé€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢—ï¼ˆä¸èƒ½ä¸æ‹¿ï¼‰â€ï¼Œå¦‚æžœè½®åˆ°æŸä¸ªäººæ—¶æ‰€æœ‰çš„çŸ³å­å †éƒ½å·²ç»è¢«æ‹¿ç©ºäº†ï¼Œåˆ™åˆ¤è´Ÿï¼ˆå› ä¸ºæ²¡æœ‰ä»»ä½•åˆæ³•çš„ç§»åŠ¨ï¼‰â€œï¼Œç®€å•æ¥æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ä¸ªé€’å½’çš„ç®—æ³•ï¼šå¯¹äºŽå½“å‰çš„å±€é¢ï¼Œé€’å½’è®¡ç®—å®ƒçš„æ‰€æœ‰å­å±€é¢çš„æ€§è´¨ï¼Œå¦‚æžœå­˜åœ¨æŸä¸ªå­å±€é¢æ˜¯Pï¼Œé‚£ä¹ˆå‘è¿™ä¸ªå­å±€é¢çš„ç§»åŠ¨å°±æ˜¯å¿…èƒœç­–ç•¥ã€‚è¿™å…¶ä¸­æœ‰å¤§é‡çš„é‡å å­é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥ç”¨DPæˆ–è€…è®°å¿†åŒ–æœç´¢çš„æ–¹æ³•ä»¥æé«˜æ•ˆçŽ‡ã€‚\nä½†æ˜¯ðŸ‘´ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªnbçš„ç»“è®ºï¼š\nå¯¹äºŽä¸€ä¸ªNimæ¸¸æˆçš„å±€é¢(a1,a2,â€¦,an)ï¼Œå®ƒæ˜¯P-positionå½“ä¸”ä»…å½“a1^a2^â€¦^an=0ï¼Œå…¶ä¸­^è¡¨ç¤ºå¼‚æˆ–(xor)è¿ç®—\næ ¹æ®è¿™ä¸ªå®šç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…åˆ¤æ–­ä¸€ä¸ªNimçš„å±€é¢çš„æ€§è´¨ï¼Œä¸”å¦‚æžœå®ƒæ˜¯N-positionï¼Œä¹Ÿå¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…æ‰¾åˆ°æ‰€æœ‰çš„å¿…èƒœç­–ç•¥ã€‚Nimé—®é¢˜å°±è¿™æ ·åŸºæœ¬ä¸Šå®Œç¾Žçš„è§£å†³äº†ã€‚\n\nSprague-Grundyå‡½æ•°ICGçš„æŠ½è±¡æ¨¡åž‹ï¼šç»™å®šä¸€ä¸ªæœ‰å‘æ— çŽ¯å›¾å’Œä¸€ä¸ªèµ·å§‹é¡¶ç‚¹ä¸Šçš„ä¸€æžšæ£‹å­ï¼Œä¸¤åé€‰æ‰‹äº¤æ›¿çš„å°†è¿™æžšæ£‹å­æ²¿æœ‰å‘è¾¹è¿›è¡Œç§»åŠ¨ï¼Œæ— æ³•ç§»åŠ¨è€…åˆ¤è´Ÿ\né¦–å…ˆå®šä¹‰mex(minimal excludnt) è¿ç®—ï¼š\næ–½åŠ äºŽé›†åˆï¼Œè¡¨ç¤ºæœ€å°çš„ä¸å±žäºŽè¿™ä¸ªé›†åˆçš„éžè´Ÿæ•´æ•°ï¼Œexp: mex{0,1,2,4}=3ã€mex{2,3,5}=0ã€mex{}=0ã€‚\nä¸‹é¢ç»™å‡ºSGå‡½æ•°çš„å®šä¹‰ï¼š\nå¯¹äºŽä¸€ä¸ªç»™å®šçš„æœ‰å‘æ— çŽ¯å›¾ï¼Œå®šä¹‰å…³äºŽå›¾çš„æ¯ä¸ªé¡¶ç‚¹çš„Sprague-Garundyå‡½æ•°å¦‚ä¸‹ï¼šsg(x)=mex{ sg(y) | yæ˜¯xçš„åŽç»§ }ã€‚\nç»“è®ºï¼šå½“SG[x] = 0æ—¶ï¼Œxä¸ºå¿…è´¥çŠ¶æ€ï¼›å½“SG[x] &gt; 0æ—¶ï¼Œxä¸ºå¿…èƒœçŠ¶æ€\næ‰€ä»¥ä»Ž1~nçš„SGå‡½æ•°å€¼åº”è¯¥å¦‚ä½•è®¡ç®—å‘¢ï¼Ÿ\n\nä½¿ç”¨ æ•°ç»„ f[ ] å°†å¯æ”¹å˜å½“å‰çŠ¶æ€ çš„æ–¹å¼è®°å½•ä¸‹æ¥\nç„¶åŽæˆ‘ä»¬ä½¿ç”¨ å¦ä¸€ä¸ªæ•°ç»„ S[ ] å°†å½“å‰çŠ¶æ€x çš„åŽç»§çŠ¶æ€æ ‡è®°\næ¨¡æ‹Ÿmexè¿ç®—ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æ ‡è®°å€¼ä¸­ æœç´¢ æœªè¢«æ ‡è®°å€¼ çš„æœ€å°å€¼ï¼Œå°†å…¶èµ‹å€¼ç»™SG(x)\nä¸æ–­é‡å¤ 2-3 çš„æ­¥éª¤ï¼Œå³å®Œæˆè®¡ç®— 1-n çš„SGå‡½æ•°å€¼\n\nSGå®šç†ï¼šSG(G)=SG(G1)^SG(G2)^â€¦^SG(Gn)ï¼ŒåŽŸæ¸¸æˆçš„SGå‡½æ•°å€¼æ˜¯å®ƒçš„æ‰€æœ‰å­æ¸¸æˆçš„SGå‡½æ•°å€¼çš„å¼‚æˆ–\n\nè§£é¢˜æ¨¡åž‹\næŠŠåŽŸæ¸¸æˆåˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„å­æ¸¸æˆï¼Œåˆ™åŽŸæ¸¸æˆçš„SGå‡½æ•°å€¼å°±å˜ä¸ºSG(G)=SG(G1)^SG(G2)^â€¦^Sg(Gn)\n\nåˆ†åˆ«è€ƒè™‘æ¯ä¸€ä¸ªå­æ¸¸æˆï¼Œè®¡ç®—å…¶SGå€¼\nSGå€¼çš„è®¡ç®—æ–¹æ³•ï¼ˆimportantï¼‰ï¼š\nâ€‹    a. å¯é€‰æ­¥æ•°ä¸º1~mçš„è¿žç»­æ•´æ•°ï¼Œç›´æŽ¥å–æ¨¡å³å¯ï¼ŒSG(x) = x % (m+1) ï¼ˆBash gameï¼‰\nâ€‹    b. å¯é€‰æ­¥æ•°ä¸ºä»»æ„æ­¥ï¼ŒSG(x) = xï¼ˆNim gameï¼‰\nâ€‹    c. å¯é€‰æ­¥æ•°ä¸ºä¸€ç³»åˆ—ä¸è¿žç»­çš„æ•°ï¼Œç”¨æ¨¡æ¿è®¡ç®—\n\n\næ¿å­\n\n\n\n\n\n\n\n\né¦–é€‰æ‰“è¡¨é¢„å¤„ç†ï¼Œæ‰“è¡¨æ²¡æ³•ä½¿çš„æ—¶å€™å°±æ€¼dfs\nâ˜†æ‰“è¡¨&#x2F;&#x2F;æ‰“è¡¨\nint f[N],SG[MAXN],S[MAXN]; &#x2F;&#x2F; f[] å¯æ”¹å˜å½“å‰çŠ¶æ€çš„æ–¹å¼(å¯å–èµ°çŸ³å­ä¸ªæ•°)   S[] å½“å‰çŠ¶æ€çš„åŽç»§çŠ¶æ€é›†åˆ\n\nvoid getSG(int n) &#123;\n\tint i,j;\n\tmemset(SG,0,sizeof(SG));\n\tfor(i&#x3D;1;i&lt;&#x3D;n;i++) &#123; \n\t\tmemset(S,0,sizeof(S));\n\t\tfor(j&#x3D;0; f[j]&lt;&#x3D;i &amp;&amp; j&lt;&#x3D;N;j++)\n\t\t\tS[SG[i-f[j]]]&#x3D;1; &#x2F;&#x2F;S[]æ•°ç»„æ¥ä¿å­˜å½“å‰çŠ¶æ€çš„åŽç»§çŠ¶æ€é›†åˆ\n\t\tfor(j&#x3D;0;j&lt;&#x3D;n;j++)&#123; \n        \tif(!S[j])&#123;&#x2F;&#x2F;æ¨¡æ‹Ÿmexè¿ç®—\n\t\t\t\tSG[i]&#x3D;j;\n\t\t\t\tbreak;\n            &#125;\n\t\t&#125;\n\t&#125;\n&#125;\næ·±æœ&#x2F;&#x2F;æ³¨æ„ fæ•°ç»„è¦æŒ‰ä»Žå°åˆ°å¤§æŽ’åº SGå‡½æ•°è¦åˆå§‹åŒ–ä¸º-1 å¯¹äºŽæ¯ä¸ªé›†åˆåªéœ€åˆå§‹åŒ–1é\n&#x2F;&#x2F;næ˜¯é›†åˆfçš„å¤§å° f[i]æ˜¯å®šä¹‰çš„ç‰¹æ®Šå–æ³•è§„åˆ™çš„æ•°ç»„\nint f[110],SG[10010],n;\n\nint SG_dfs(int x)&#123;\n    int i;\n    if(SG[x]!&#x3D;-1)\n        return SG[x];\n    bool vis[110];\n    memset(vis,0,sizeof(vis));\n    for(i&#x3D;0;i&lt;n;i++)&#123;\n        if(x&gt;&#x3D;f[i])&#123;\n            SG_dfs(x-f[i]);\n            vis[SG[x-f[i]]]&#x3D;1;\n        &#125;\n    &#125;\n    int e;\n    for(i&#x3D;0;;i++)\n        if(!vis[i])&#123;\n            e&#x3D;i;\n            break;\n        &#125;\n    return SG[x]&#x3D;e;\n&#125;\n\nå¸¸è§åšå¼ˆBash Gameåªæœ‰ä¸€å †nä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµå–ç‰©ï¼Œæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œæœ€å¤šå–mä¸ªã€‚æœ€åŽå–å…‰è€…å¾—èƒœï¼ˆè°æ‹¿äº†æœ€åŽä¸€ä¸ªè°èµ¢ï¼‰\nç»“è®ºï¼šæœ€ä¼˜é€‰æ‹©ä¸ºä¿æŒç»™å¯¹æ‰‹ç•™ä¸‹ m+1 çš„å€æ•°\n\nif(n%(m+1) != 0)  åˆ™å…ˆæ‰‹å¿…èµ¢ \n\nif(n%(m+1) == 0)  åˆ™åŽæ‰‹å¿…èµ¢\n\n\nWythoff Game\n\n\n\n\n\n\n\n\nå„ä½ðŸ‘´å±žå®žðŸ®ï¼Œé»„é‡‘åˆ†å‰²æ•°ï¼ˆ1+âˆš5ï¼‰/2 = 1.618 éƒ½ç»™æ•´ä¸Šäº†\næœ‰ä¸¤å †å„è‹¥å¹²ä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»ŽæŸä¸€å †å–ç‰©æˆ–åŒæ—¶ä»Žä¸¤å †ä¸­å–åŒæ ·å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åŽå–å…‰è€…å¾—èƒœ\nè¿™é‡Œç”¨ï¼ˆakï¼Œbkï¼‰ï¼ˆak â‰¤ bk ,k=0ï¼Œ1ï¼Œ2ï¼Œâ€¦,n)è¡¨ç¤ºä¸¤å †ç‰©å“çš„æ•°é‡å¹¶ç§°å…¶ä¸ºå±€åŠ¿\nç”±akï¼Œbkç»„æˆçš„çŸ©å½¢è¿‘ä¼¼ä¸ºé»„é‡‘çŸ©å½¢\nç»“è®ºï¼š\n\n(int)((bk-ak)*(1+sqrt(5.0))/2) != ak ,  å…ˆæ‰‹å¿…èµ¢\n\n(int)((bk-ak)*(1+sqrt(5.0))/2) == ak , åŽæ‰‹å¿…èµ¢\n\n\nNim Gameè‹¥å¹²å †çŸ³å­ï¼Œæ¯å †çŸ³å­çš„æ•°é‡æœ‰é™ï¼Œä¸¤ä¸ªäººå¯ä»¥é€‰æ‹©ä¸€å †çŸ³å­å¹¶æ‹¿èµ°è‹¥å¹²é¢—\nç»“è®ºï¼šxor ç•¥\nFibonacci Nimæœ‰ä¸€å †ä¸ªæ•°ä¸ºnçš„çŸ³å­ï¼Œæ¸¸æˆåŒæ–¹è½®æµå–çŸ³å­ï¼Œæ»¡è¶³: (1)å…ˆæ‰‹ä¸èƒ½åœ¨ç¬¬ä¸€æ¬¡æŠŠæ‰€æœ‰çš„çŸ³å­å–å®Œ (2)æ¯æ¬¡å¯ä»¥å–çš„çŸ³å­æ•°ä»‹äºŽ1åˆ°å¯¹æ‰‹åˆšå–çš„çŸ³å­æ•°çš„2å€ä¹‹é—´(åŒ…å«)  (3) å–èµ°æœ€åŽä¸€ä¸ªçŸ³å­çš„äººä¸ºèµ¢å®¶\nç»“è®ºï¼šå½“nä¸ºFibonacciæ•°çš„æ—¶å€™ï¼Œå¿…è´¥\nf[i]ï¼š1,2,3,5,8,13,21,34,55,89â€¦â€¦\n","slug":"algorithm/learn/åšå¼ˆè®º","date":"2021-07-31T01:51:28.000Z","categories_index":"ALGORITHMS","tags_index":"ACM,note,algorithm,åšå¼ˆ","author_index":"Maskros"},{"id":"3da5b418046b7895ffe91ec3b92eec28","title":"sqlå­¦ä¹ ç¬”è®°","content":"SQLç»“æž„åŒ–æŸ¥è¯¢è¯­è¨€-Structured Query Language\n@authorï¼šMaskros\n\nTypeç±»åž‹\n\nå­—ç¬¦åž‹\nVARCHARåž‹å’ŒCHARåž‹\n\n\næ–‡æœ¬åž‹\nTEXT\n\n\næ•°å€¼åž‹\næ•´æ•°INT ã€å°æ•°NUMERICã€é’±æ•°MONEY)\n\n\né€»è¾‘åž‹\nBIT\n\n\næ—¥æœŸåž‹\nDATETIME \n\n\n\n\nOperationæ“ä½œ\nå¢žåˆ æ”¹æŸ¥ CURD\ntips : ä¸åŒºåˆ†å¤§å°å†™ï¼Œåˆ—åè¡¨åå‰``å¯ä»¥çœç•¥\nSELECT(FROM)\nSELECT COLUMN æŸ¥è¯¢å•ä¸ªåˆ—\n\nSELECT `column_name`\nFROM `table_name`;\n\nSELECT COLUMN, COLUMN æŸ¥è¯¢å¤šä¸ªåˆ—\n\nSELECT `column_name_1`, `column_name_2`  \nFROM `table_name`;\n\nä½¿ç”¨ SELECT * æŸ¥è¯¢æ‰€æœ‰åˆ—\n\nSELECT * FROM `table_name`;\n\nä½¿ç”¨ SELECT DISTINCT æŸ¥è¯¢ä¸åŒè¡Œ\n\nSELECT DISTINCT `column_name`\nFROM `table_name`\nâ€‹    å¸Œæœ›æŸ¥è¯¢çš„å€¼éƒ½æ˜¯å”¯ä¸€ä¸é‡å¤çš„\n\nSELECT WHERE å¯¹è¡Œè¿›è¡Œç­›é€‰è¿‡æ»¤\n\nSELECT `column_name1`,`column_name2`â€¦\nFROM `table_name`\nWHERE `column_name` operator `value`;\nINSERT(INTO)\nINSERT INTO åœ¨ä¸æŒ‡å®šåˆ—çš„æƒ…å†µä¸‹æ’å…¥æ•°æ®\n\nINSERT INTO `table_name`\nVALUES (value1, value2, value3,...);\n# 'value'\n\nINSERT INTO åœ¨æŒ‡å®šçš„åˆ—ä¸­æ’å…¥æ•°æ®\n\nINSERT INTO `table_name`\n(`column1`, `column2`, `column3`,...)\nVALUES (value1, value2, value3,...);\nUPDATE(SET)\nUPDATE æ›´æ–°æ•°æ®\n\nUPDATE `table_name`\nSET `column1`=value1,`column2`=value2,...\nWHERE `some_column`=some_value;\n# WHERE å¯ä»¥çœç•¥\nDELETE(FROM)\nDELETE åˆ é™¤æ•°æ®\n\nDELETE FROM `table_name`\nWHERE `some_column` = `some_value`;\n\nTRUNCATE TABLE æ¸…ç©ºè¡¨\n\n\nConditionæ¡ä»¶\næ¯”è¾ƒè¿ç®—ç¬¦WHERE A OPERATOR B\n\ntips:  &lt;&gt; , != å‡ä¸ºä¸ç­‰äºŽï¼Œä½†ç”¨æ³•ä¸åŒ\n\né€»è¾‘è¿ç®—ç¬¦\nAND è¿žæŽ¥å¤šæ¡ä»¶\nOR è¿žæŽ¥å¤šæ¡ä»¶\n\nNOT è¿‡æ»¤ä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ®\n\n\nSELECT `column_name` \nFROM `table_name` \nWHERE NOT `condition`;\n# (condition1 operator condition2)\nç‰¹æ®Šæ¡ä»¶\nIN æŸ¥è¯¢å¤šæ¡ä»¶\n\nWhere `column_name1` IN (condition)\n# condition ä¸­ä¹Ÿå¯ä»¥å†™\nIN (select `column_name1` xxxxxxxx)\n\nNOT IN æŽ’é™¤\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` (NOT) IN `value`;\n# ï¼ˆvalue1, value2ï¼‰\n\nBETWEEN AND æŸ¥è¯¢ä¸¤å€¼é—´çš„æ•°æ®èŒƒå›´\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` BETWEEN `value` AND `value`;\n\nIS NULL æŸ¥è¯¢ç©ºæ•°æ®\nä½¿ç”¨ LIKE æ¨¡ç³ŠæŸ¥è¯¢\n\nSELECT *\nFROM `table_name`\nWHERE `column_name` LIKE `value`;\n# LIKE `D%`\n# 'D%' è¡¨ç¤ºä»¥Då¼€å¤´çš„æ‰€æœ‰å•è¯ï¼Œ% è¡¨ç¤ºä¸ºé€šé…ç¬¦ï¼Œå¯ä»¥æ›¿ä»£0~nä¸ªå­—ç¬¦\nORDER BY &amp; LIMIT\nORDER BY å¯¹æ•°æ®è¿›è¡ŒæŽ’åºï¼ˆä¸€åˆ—/å¤šåˆ—(å¤šåˆ—æŒ‰SELECTé¡ºåº)ï¼‰\nASC (ascend)å‡åº(é»˜è®¤)  |  DESC(descend) é™åº\n\n\nSELECT &#96;column_name&#96;, &#96;column_name&#96;\nFROM &#96;table_name&#96;\n# WHERE XXXX\nORDER BY &#96;column_name&#96;, &#96;column_name&#96; ASC|DESC; \n\nä½¿ç”¨ LIMIT é™åˆ¶è¾“å‡ºè¡Œæ•°\noffset ï¼šæ˜¯è¿”å›žé›†çš„åˆå§‹æ ‡æ³¨ï¼Œèµ·å§‹ç‚¹æ˜¯0\ncount ï¼šåˆ¶å®šè¿”å›žçš„æ•°é‡\n\n\nSELECT `column_name`, `column_name`\nFROM `table_name`\n# ORDER BY XXXX\nLIMIT `offset` , `count`;\n# offsetå’Œcounté€šå¸¸åªç”¨ä¸€ä¸ªcountï¼šLIMIT (0,)1 \nFunctionå‡½æ•°\nç®—æ•°å‡½æ•°\nAVG() å‡½æ•°æ±‚æ•°å€¼åˆ—çš„å¹³å‡å€¼\n\nSELECT AVG(`column_name`) # AS `column2_name`\nFROM `table_name`;\n\nMAX() å‡½æ•°è¿”å›žæŒ‡å®šåˆ—ä¸­çš„æœ€å¤§å€¼\n\nMIN() å‡½æ•°è¿”å›žæŒ‡å®šåˆ—ä¸­çš„æœ€å°å€¼\n\nSUM() å‡½æ•°ç»Ÿè®¡æ•°å€¼åˆ—çš„æ€»æ•°\n\nROUND() å‡½æ•°å°†æ•°å€¼å››èˆäº”å…¥\n\nROUND() è¿”å›žå€¼æ•°æ®ç±»åž‹ä¼šè¢«å˜æ¢ä¸ºä¸€ä¸ªBIGINT ã€‚\nå½“ decimals ä¸ºæ­£æ•°æ—¶ï¼Œcolumn_name å››èˆäº”å…¥ä¸º decimals æ‰€æŒ‡å®šçš„å°æ•°ä½æ•°ã€‚çœç•¥decimalsè‡ªåŠ¨ä¿ç•™å››èˆäº”å…¥åŽçš„æ•´æ•°ã€‚å½“ decimals ä¸ºè´Ÿæ•°æ—¶ï¼Œcolumn_name åˆ™æŒ‰ decimals æ‰€æŒ‡å®šçš„åœ¨å°æ•°ç‚¹çš„å·¦è¾¹å››èˆäº”å…¥ã€‚\n\nSELECT ROUND(`column_name`, `decimals`) \nFROM `table_name`;\n#decimals è§„å®šè¦è¿”å›žçš„å°æ•°ä½æ•°\n\nNULL() å‡½æ•°åˆ¤æ–­ç©ºå€¼\n\nISNULL()\nSELECT ISNULL(`column_name`)\nFROM `table_name`;\n# è¿”å›ž 0 æˆ– 1\n\nIFNULL()\nSELECT IFNULL(`column_name`, `value`)\nFROM `table_name`;\n# æ˜¯ NULL åˆ™è¿”å›ž value å€¼ï¼Œä¸æ˜¯åˆ™è¿”å›žå¯¹åº”å†…å®¹\n\n\n\nCOUNT() å‡½æ•°è®¡æ•°\n\n\n# COUNT(column_name) å¯¹åˆ—å…·æœ‰çš„è¡Œæ•°è¿›è¡Œè®¡æ•° é™¤åŽ»å€¼ä¸º NULL çš„è¡Œ\n# ä¸»è¦ç”¨äºŽæŸ¥çœ‹å„åˆ—æ•°æ®çš„æ•°é‡æƒ…å†µï¼Œä¾¿äºŽç»Ÿè®¡æ•°æ®çš„ç¼ºå¤±å€¼\nSELECT COUNT(`column_name`) \nFROM `table_name`;\n# COUNT(*) å¯¹è¡¨ä¸­è¡Œçš„æ•°ç›®è¿›è¡Œè®¡æ•°,åŒ…æ‹¬ NULL æ‰€åœ¨è¡Œå’Œé‡å¤é¡¹æ‰€åœ¨è¡Œ\n# ä¸»è¦ç”¨äºŽæŸ¥çœ‹è¡¨ä¸­çš„è®°å½•æ•°\nSELECT COUNT(*) \nFROM `table_name`;\n# COUNT(DISTINCT column_name) å‡½æ•°è¿”å›žæŒ‡å®šåˆ—çš„ä¸åŒå€¼çš„æ•°ç›®\nSELECT COUNT(DISTINCT `column_name`) \nFROM `table_name`;\næ—¶é—´å‡½æ•°\nNOW()ï¼ŒCURDATE()ã€CURTIME() èŽ·å–å½“å‰æ—¶é—´\n\nNOW() è¿”å›žå½“å‰æ—¥æœŸå’Œæ—¶é—´  YYYY-MM-DD hh:mm:ss\nCURDATE() è¿”å›žå½“å‰æ—¥æœŸ  YYYY-MM-DD\nCURTIME() è¿”å›žå½“å‰æ—¶é—´  hh:mm:ss\nè¦ç²¾ç¡®çš„ç§’ä»¥åŽçš„æ—¶é—´çš„è¯ï¼Œå¯ä»¥åœ¨ () ä¸­åŠ æ•°å­—ï¼ŒåŠ å¤šå°‘ï¼Œå°±è¡¨ç¤ºç²¾ç¡®åˆ°ç§’åŽå¤šå°‘ä½\n\n\nDATE()ã€TIME() å‡½æ•°æå–æ—¥æœŸå’Œæ—¶é—´\n\nEXTRACT() å‡½æ•°æå–æŒ‡å®šçš„æ—¶é—´ä¿¡æ¯\n\nFROM\n\nè¿”å›žæ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ†\n\nunit :  YEAR (å¹´)ã€MONTH (æœˆ)ã€DAY (æ—¥)ã€HOUR (å°æ—¶)ã€MINUTE (åˆ†é’Ÿ)ã€ SECOND (ç§’)\nSELECT EXTRACT(unit FROM date) # unit ä¸ºå•ç‹¬éƒ¨åˆ†å\nFROM `table`\n# date - åˆæ³•column\n\n\n\nDATE_FORMAT() æ ¼å¼åŒ–è¾“å‡ºæ—¥æœŸ\n\n%Y å¹´ä»½ %m æœˆä»½ %d æ—¥æœŸ %w æ˜ŸæœŸ %H å°æ—¶  %i åˆ†é’Ÿ %s ç§’\nå°å†™y è¡¨ç¤ºå¹´ä»½åŽä¸¤ä½ï¼Œå°å†™hè¡¨ç¤º12å°æ—¶è®¡çš„å°æ—¶\n\nSELECT DATE_FORMAT(date,'format');\n\nDATE_ADD() å¢žåŠ æ—¶é—´\n\nINTERVAL\nå‘æ—¥æœŸæ·»åŠ æŒ‡å®šçš„æ—¶é—´é—´éš”\nexpr æ˜¯å¸Œæœ›æ·»åŠ çš„æ—¶é—´é—´éš”çš„æ•°å€¼\ntype :  MICROSECOND , SECOND , MINUTE , HOUR , DAY , WEEK , MONTH , QUARTER , YEAR\n\nSELECT DATE_ADD(date, INTERVAL expr type)\nFROM table_name\n\nDATE_SUB() å‡å°‘æ—¶é—´\n\nDATEDIFF() å’Œ TIMESTAMPDIFF() è®¡ç®—æ—¥æœŸå·®\n\næ—¶é—´1-æ—¶é—´2\nDATEDIFF() é»˜è®¤åªèƒ½è®¡ç®—å¤©æ•°å·®\n\nSELECT DATEDIFF(æ—¶é—´1,æ—¶é—´2) AS date_diff FROM courses;\n\nTIMESTAMPDIFF() è®¡ç®—ç›¸å·®å¹´æœˆå‘¨æ—¥æ—¶\nç±»åž‹YEAR,MONTH,WEEK,DAY,HOUR\n\n\n\nSELECT TIMESTAMPDIFF (ç±»åž‹,æ—¶é—´1,æ—¶é—´2) AS year_diffï¼›\n\n\n\nConstraintsçº¦æŸ\nNOT NULLéžç©ºçº¦æŸ\n\nå¼ºåˆ¶åˆ—ä¸æŽ¥å— NULL å€¼\n\n# å»ºè¡¨\nCREATE TABLE &#96;Persons&#96; (\n    &#96;ID&#96; int NOT NULL,\n    &#96;LastName&#96; varchar(255)\n);\n# å·²å»ºè¡¨\nALTER TABLE &#96;Persons&#96;\nMODIFY &#96;Age&#96; int NOT NULL;\n# æ’¤é”€\nALTER TABLE &#96;Persons&#96;\nMODIFY &#96;Age&#96; int NULL;\nUNIQUEå”¯ä¸€çº¦æŸ\n\nä¸å¸Œæœ›å‡ºçŽ°é‡å¤è®°å½•\nCONSTRAINT å‘½å\nDROP æ’¤é”€\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL,\n    UNIQUE (`P_Id`)\n)\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Persons`(\n\t`P_Id` int NOT NULL UNIQUE,\n)\n## å‘½å+å¤šåˆ—\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL,\n    `LastName` varchar(255) NOT NULL,\n    CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`)\n)\n\n# å·²å»º\nALTER TABLE `Persons`\nADD UNIQUEï¼ˆ`P_Id`ï¼‰\n## å¤šåˆ—\nALTER TABLE `Persons`\nADD CONSTRAINT uc_PersonID UNIQUE (`P_Id`,`LastName`)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Persons`\nDROP INDEX uc_PersonID\n## SQL Server / Oracle / MS Access\nALTER TABLE `Persons`\nDROP CONSTRAINT uc_PersonID\nPRIMARY KEYä¸»é”®çº¦æŸ\n\nç®€å•çš„è¯´ï¼ŒPRIMARY KEY = UNIQUE + NOT NULL \nNOT NULL UNIQUE å¯ä»¥å°†è¡¨çš„ä¸€åˆ—æˆ–å¤šåˆ—å®šä¹‰ä¸ºå”¯ä¸€æ€§å±žæ€§ï¼Œè€Œ PRIMARY KEY è®¾ä¸ºå¤šåˆ—æ—¶ï¼Œä»…èƒ½ä¿è¯å¤šåˆ—ä¹‹å’Œæ˜¯å”¯ä¸€çš„ï¼Œå…·ä½“åˆ°æŸä¸€åˆ—å¯èƒ½ä¼šé‡å¤ã€‚\nPRIMARY KEY å¯ä»¥ä¸Žå¤–é”®é…åˆï¼Œä»Žè€Œå½¢æˆä¸»ä»Žè¡¨çš„å…³ç³»\nPRIMARY KEY ä¸€èˆ¬åœ¨é€»è¾‘è®¾è®¡ä¸­ç”¨ä½œè®°å½•æ ‡è¯†ï¼Œè¿™ä¹Ÿæ˜¯è®¾ç½® PRIMARY KEY çš„æœ¬æ¥ç”¨æ„ï¼Œè€Œ UNIQUE åªæ˜¯ä¸ºäº†ä¿è¯åŸŸ/åŸŸç»„çš„å”¯ä¸€æ€§\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Persons(\n    `P_Id` int NOT NULL,\n    PRIMARY KEY (`P_Id`)\n);\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Persons`(\n    `P_Id` int NOT NULL PRIMARY KEY,\n)\n## å‘½å+å¤šåˆ—\nCONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`)\n\n# å·²å»º\nALTER TABLE `Persons`\nADD PRIMARY KEY (`P_Id`)\n## å¤šåˆ—\nALTER TABLE `Persons`\nADD CONSTRAINT pk_PersonID PRIMARY KEY (`P_Id`,`LastName`)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Persons`\nDROP PRIMARY KEY\n## SQL Server / Oracle / MS Access\nALTER TABLE `Persons`\nDROP CONSTRAINT pk_PersonID\nFOREIGN KEYå¤–é”®çº¦æŸ \n\nä¸€ä¸ªè¡¨ä¸­çš„ FOREIGN KEY æŒ‡å‘å¦ä¸€ä¸ªè¡¨ä¸­çš„ UNIQUE KEY \nä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§\nåœ¨ä¸¤ä¸ªè¡¨ä¹‹é—´å»ºç«‹å…³ç³»ï¼Œéœ€è¦æŒ‡å®šå¼•ç”¨ä¸»è¡¨çš„å“ªä¸€åˆ—ï¼ŒREFERENCES è¡¨ç¤ºå¼•ç”¨ä¸€ä¸ªè¡¨\n\n# å»ºè¡¨\n## MySQL\nCREATE TABLE `Orders`(\n    `P_Id` int,\n    FOREIGN KEY (P_Id) REFERENCES Persons(P_Id)\n)\n## SQL Server / Oracle / MS Access\nCREATE TABLE `Orders`(\n    P_Id int FOREIGN KEY REFERENCES Persons(P_Id)\n)\n## å‘½å+å¤šåˆ—\nCONSTRAINT fk_PerOrders FOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n\n# å·²å»º\nALTER TABLE `Orders`\nADD FOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n## å‘½å\nALTER TABLE `Orders`\nADD CONSTRAINT fk_PerOrders\nFOREIGN KEY (P_Id)\nREFERENCES Persons(P_Id)\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `Orders`\nDROP FOREIGN KEY fk_PerOrders\n## SQL Server / Oracle / MS Access\nALTER TABLE `Orders`\nDROP CONSTRAINT fk_PerOrders\nCHECKæ£€æŸ¥çº¦æŸ \n\né™åˆ¶åˆ—ä¸­çš„å€¼çš„èŒƒå›´ï¼Œè¯„ä¼°æ’å…¥æˆ–ä¿®æ”¹åŽçš„å€¼ã€‚æ»¡è¶³æ¡ä»¶æ’å…¥ï¼Œå¦ä¸æ’\nå¯ä»¥ä¸ºåŒä¸€åˆ—æŒ‡å®šå¤šä¸ª CHECK çº¦æŸ\n\n# å»ºè¡¨\nCREATE TABLE `courses`(\n\t`student_count` int, â€¦\n\tCHECK (Condition1 AND Condition2)\n)\n## å‘½å\nCONSTRAINT chk_courses CHECK (`student_count` > 0);\n\n# å·²å»º\nALTER TABLE `courses` \nADD CHECK ( `student_count` > 0);\n## ADD CONSTRAINT XXX CHECK (Condition);\n\n# æ’¤é”€\n## MySQL\nALTER TABLE `courses` \nDROP CHECK chk_courses\n## SQL Server / Oracle / MS Access\nALTER TABLE `courses` \nDROP CONSTRAINT chk_courses\nDEFAULTé»˜è®¤çº¦æŸ\n`City` varchar(255) DEFAULT 'Sandnes'\n`OrderDate` date DEFAULT GETDATE()  # å¯ä»¥ç”¨å‡½æ•°\n\nALTER TABLE `Persons`\nALTER `City` SET DEFAULT 'SANDNES'\nADD CONSTRAINT ab_c DEFAULT 'SANDNES' for `City`\n\nALTER `City` DROP DEFAULT\nALTER COLUMN `City` DROP DEFAULT\nJoinå¤šè¡¨è”ç»“\nè”ç»“\nåœ¨ä¸€æ¡ SELECT è¯­å¥ä¸­å…³è”å¤šä¸ªè¡¨ï¼Œè¿”å›žä¸€ç»„è¾“å‡º\nä¸¤å¤§ä¸»è§’ : ä¸»é”® (PRIMARY KEY) å’Œå¤–é”® (FOREIGN KEY)\n\nä½¿ç”¨å®Œå…¨é™å®šåˆ—åï¼ˆç”¨ä¸€ä¸ªç‚¹åˆ†éš”è¡¨åå’Œåˆ—åï¼‰\n\n\n# condition\n`table1`.`common_field` = `table2`.`common_field`\n\nJOIN è¿žæŽ¥å­å¥\nINNER JOIN å†…è¿žæŽ¥ï¼šå¦‚æžœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›žè¡Œ\nOUTER JOIN å¤–è¿žæŽ¥\nLEFT JOINï¼šå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»Žå·¦è¡¨è¿”å›žæ‰€æœ‰çš„è¡Œ\nRIGHT JOINï¼šå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»Žå³è¡¨è¿”å›žæ‰€æœ‰çš„è¡Œ\n\n\nFULL JOIN å…¨è¿žæŽ¥ï¼šåªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›žè¡Œ\nCROSS JOIN äº¤å‰è¿žæŽ¥ï¼šåˆç§°ç¬›å¡å°”ç§¯ï¼Œä¸¤ä¸ªè¡¨æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œè¿”å›žç»“æžœçš„è¡Œæ•°ç­‰äºŽä¸¤ä¸ªè¡¨è¡Œæ•°çš„ä¹˜ç§¯\n\n\n\nINNER JOINå†…è¿žæŽ¥ åˆç§°ä¸ºEQUIJOIN ç­‰å€¼è¿žæŽ¥\n\nå†…è¿žæŽ¥å°±æ˜¯å–ä¸¤ä¸ªè¡¨çš„äº¤é›†ï¼Œè¿”å›žçš„ç»“æžœå°±æ˜¯è¿žæŽ¥çš„ä¸¤å¼ è¡¨ä¸­éƒ½æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†\n\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`\n(INNER) JOIN `table2` # INNER å¯çœç•¥ä¸å†™\nON `table1`.`common_field` = `table2`.`common_field`;\n# ON CONDITION\n# exp\nSELECT `c`.`id`, `c`.`name` AS `course_name`, `t`.`name` AS `teacher_email`\nFROM `courses` `c`\n    (INNER) JOIN `teachers` `t` ON `c`.`teacher_id` = `t`.`id`;\n\ncourses c ç­‰åŒäºŽ courses AS c ï¼Œç»™courses è¡¨å–åˆ«åä¸º c\n\nOUTER JOINå¤–è¿žæŽ¥ åˆ†ä¸ºå·¦å¤–è¿žæŽ¥ å³å¤–è¿žæŽ¥ å…¨å¤–è¿žæŽ¥\n\nå¤–è¿žæŽ¥å¯ä»¥å°†æŸä¸ªè¡¨æ ¼ä¸­ï¼Œåœ¨å¦å¤–ä¸€å¼ è¡¨æ ¼ä¸­æ— å¯¹åº”å…³ç³»ï¼Œä½†æ˜¯ä¹Ÿèƒ½å°†æ•°æ®åŒ¹é…å‡ºæ¥\n\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        LEFT | RIGHT | FULL  (OUTER) JOIN table2\n        ON CONDITION;\n\nLEFT JOIN : ä»¥å·¦è¡¨ä¸ºå‚è€ƒè¡¨ï¼Œè¿”å›žå·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼ŒåŠ ä¸Šå³è¡¨ä¸­åŒ¹é…åˆ°çš„è®°å½•\nRIGHT JOIN :  ä»¥å³è¡¨ä¸ºå‚è€ƒè¡¨\nFULL JOIN : åªè¦å·¦è¡¨å’Œå³è¡¨å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›žè¡Œ\n\n\n\n\n\n\n\n\n\n\ntips :  MySQL æ•°æ®åº“ä¸æ”¯æŒå…¨è¿žæŽ¥ï¼Œæƒ³è¦å®žçŽ°å…¨è¿žæŽ¥å¯ä»¥ä½¿ç”¨ UNION ALL æ¥å°†å·¦è¿žæŽ¥å’Œå³è¿žæŽ¥ç»“æžœç»„åˆåœ¨ä¸€èµ·å®žçŽ°å…¨è¿žæŽ¥\n\nUNION :  è”åˆï¼ŒæŠŠä¸¤æ¬¡æˆ–å¤šæ¬¡æŸ¥è¯¢ç»“æžœåˆå¹¶èµ·æ¥\nè¦æ±‚ï¼šä¸¤æ¬¡æŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»ä¸€è‡´ï¼ŒåŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒ\nUNION ä¼šåŽ»æŽ‰é‡å¤çš„è¡Œã€‚ å¦‚æžœä¸æƒ³åŽ»æŽ‰é‡å¤çš„è¡Œï¼Œå¯ä»¥ä½¿ç”¨ UNION ALL \nå¦‚æžœå­å¥ä¸­æœ‰ order by , limitï¼Œéœ€ç”¨æ‹¬å·()åŒ…èµ·æ¥ã€‚æŽ¨èæ”¾åˆ°æ‰€æœ‰å­å¥ä¹‹åŽï¼Œå³å¯¹æœ€ç»ˆåˆå¹¶çš„ç»“æžœæ¥æŽ’åºæˆ–ç­›é€‰\n\n\n\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        LEFT JOIN table2 ON CONDITION \nUNION\nSELECT column_name 1,column_name 2 ... column_name n\n    FROM table1\n        RIGHT JOIN table2 ON CONDITION ;\nCROSS JOINäº¤å‰è¿žæŽ¥ ç»“æžœä¹Ÿç§°ä½œç¬›å¡å°”ç§¯\n\nè¿”å›žå·¦è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå·¦è¡¨ä¸­çš„æ¯ä¸€è¡Œä¸Žå³è¡¨ä¸­çš„æ‰€æœ‰è¡Œç»„åˆã€‚å³å°†ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œå…¶æŸ¥è¯¢ç»“æžœçš„è¡Œæ•°ä¸ºå·¦è¡¨ä¸­çš„è¡Œæ•°ä¹˜ä»¥å³è¡¨ä¸­çš„è¡Œæ•°ã€‚\n\n# éšå¼è¿žæŽ¥ ä¸éœ€è¦ä½¿ç”¨ CROSS JOIN å…³é”®å­—\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`,`table2`;\n# æ˜¾å¼è¿žæŽ¥\nSELECT `table1`.`column1`, `table2`.`column2`...\nFROM `table1`\nCROSS JOIN `table2`;\n\né€šè¿‡å¢žåŠ è”ç»“æ¡ä»¶ï¼Œä½¿ç”¨ WHERE å­å¥å¸®åŠ©ç­›é€‰è¿‡æ»¤æ— æ•ˆçš„æ•°æ®\n\n\nAdvanced Selectåˆ†ç»„æŸ¥è¯¢\nGROUP BY å­å¥\n\nå¯¹åŒç±»çš„æ•°æ®è¿›è¡Œåˆ†ç±»\n\nSELECT `column_name`, aggregate_function(`column_name`)\nFROM `table_name`\nWHERE `column_name` operator value\nGROUP BY `column_name`;\n\nHAVING å­å¥\n\nä½¿ç”¨ WHERE æ¡ä»¶å­å¥æ—¶ä¸èƒ½ä¸Žèšåˆå‡½æ•°è”åˆä½¿ç”¨\nHAVING å­å¥ç»å¸¸ä¸Ž GROUP BY è”åˆä½¿ç”¨ï¼ŒHAVING å­å¥å°±æ˜¯å¯¹åˆ†ç»„ç»Ÿè®¡å‡½æ•°è¿›è¡Œè¿‡æ»¤çš„å­å¥\nHAVING å­å¥å¯¹äºŽ GROUP BY å­å¥è®¾ç½®æ¡ä»¶çš„æ–¹å¼å…¶å®žä¸Ž WHERE å­å¥ä¸Ž SELECT çš„æ–¹å¼ç±»ä¼¼ï¼Œè¯­æ³•ç›¸è¿‘ï¼Œä½† WHERE å­å¥æœç´¢æ¡ä»¶æ˜¯åœ¨åˆ†ç»„æ“ä½œä¹‹å‰ï¼Œè€Œ HAVING åˆ™æ˜¯åœ¨ä¹‹åŽ\n\nSELECT   `column_name`, aggregate_function(`column_name`) \nFROM     `table_name` \nWHERE    `column_name` operator value \nGROUP BY `column_name` \nHAVING   aggregate_function(`column_name`) operator value;\n\nex: æŸ¥è¯¢æ•™å¸ˆè¡¨ teachersè®¡ç®—ä¸åŒå›½ç±æ•™å¸ˆçš„å¹³å‡å¹´é¾„å’Œæ‰€æœ‰æ•™å¸ˆçš„å¹³å‡å¹´é¾„ï¼Œæ¯”è¾ƒä¸¤è€…çš„å¤§å°ï¼Œæœ€åŽè¿”å›žå¤§äºŽæ‰€æœ‰æ•™å¸ˆå¹³å‡å¹´é¾„çš„ä¸åŒå›½ç±ä¸‹çš„å…¨éƒ¨æ•™å¸ˆä¿¡æ¯\n\n# å­æŸ¥è¯¢\nSELECT * FROM teachers \n    WHERE country IN\n        (SELECT country FROM teachers GROUP BY country\n            HAVING AVG(age) > (SELECT AVG(age) FROM teachers))\n\n\nå­æŸ¥è¯¢(Base)\nSELECT è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nSELECT `column_name(s)`\nFROM `table_name`\nWHERE `column_name` OPERATOR (\n    SELECT `column_name(s)`\n    FROM `table_name`\n);\n\nINSERT è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nINSERT INTO `table_name`\n\tSELECT `colnum_name(s)`\n\tFROM `table_name`\n\t[ WHERE VALUE OPERATOR ]\n\nUPDATE è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nUPDATE `table_name` \nSET `column_name` = `new_value`\nWHERE `column_name` OPERATOR \n   (SELECT `column_name`\n   FROM `table_name`\n   [WHERE] )\n\nDELETE è¯­å¥ä¸­çš„å­æŸ¥è¯¢\n\nDELETE FROM `table_name`\nWHERE `column_name` OPERATOR \n   (SELECT `column_name`\n   FROM `table_name`  \n   [WHERE] )\nå­æŸ¥è¯¢(Adv.)\nå†…è”è§†å›¾å­æŸ¥è¯¢\n\nå°†æŸ¥è¯¢çš„ç»“æžœé›†ä½œä¸ºä¸€ä¸ªæŸ¥è¯¢è¡¨ï¼Œç»§ç»­è¿›è¡ŒæŸ¥è¯¢æ“ä½œ\n\nSELECT *\nFROM (\n\tSELECT * xxxx\n) `T`\nWHERE xxx = (\n\tSELECT xxxx\n);\n\nIN æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢ / NOT IN \n\nANY æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢\n\nåœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ANY ï¼Œè¡¨ç¤ºä¸Žå­æŸ¥è¯¢è¿”å›žçš„ä»»ä½•å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›žçœŸ\n\nSELECT `column_name(s)`\nFROM `table_name`\nWHERE `column_name` OPERATOR\n   ANY(SELECT column_name\n   FROM table_name)\n\nALL æ“ä½œç¬¦çš„å¤šè¡Œå­æŸ¥è¯¢\n\nåœ¨å­æŸ¥è¯¢ä¸­ä½¿ç”¨ ALL ï¼Œè¡¨ç¤ºä¸Žå­æŸ¥è¯¢è¿”å›žçš„æ‰€æœ‰å€¼æ¯”è¾ƒä¸ºçœŸï¼Œåˆ™è¿”å›žçœŸ\n\n\nå¤šåˆ—å­æŸ¥è¯¢\n\nHAVING å­å¥ä¸­çš„å­æŸ¥è¯¢\n\n\n","slug":"note/sql","date":"2021-07-28T16:07:28.000Z","categories_index":"NOTE","tags_index":"note,sql","author_index":"Maskros"},{"id":"0308df9afb3678486e587f2739f6cf31","title":"ç«žèµ›è®°å½•","content":"ç«žèµ›è®°å½•\n\n\n\n\n\n\n\n\n= æ‰“é“è®°å½•\n2020.10 CCPCå¨æµ·æ‰“é“2020.10.17 è“æ¡¥çœäºŒæ‰“é“2020.11 åŽä¸ºæ¯æ ¡èµ›ä¸‰ç­‰2020.12 ICPCå—äº¬çº¿ä¸Šèµ›æ‰“é“2021.3 ICPCå±±ä¸œçœèµ›æ‰“é“\n\n\n\n\n\n\n\n\nè¿™ä¹Ÿèƒ½é“ï¼Ÿçº¯åºŸç‰©\n2021.5.16 ICPCé“¶å·çŽ°åœºèµ›æ‰“é“\n\n\n\n\n\n\n\n\né˜…è¯»ç­¾åˆ°WA32ï¼Œå¡è¡Œæœ«ç©ºæ ¼AC+6ï¼ŒTrieå½“æ—¶æ²¡æŽŒæ¡\n2021.4.18 è“æ¡¥çœäºŒæ‰“é“2021.8.21 ç™¾åº¦ä¹‹æ˜Ÿå¤èµ›æ‰“é“2021.8 CCPCç½‘ç»œé¢„é€‰èµ›æ‰“é“2021.9 ICPCç½‘ç»œé¢„é€‰èµ›æ‰“é“2021.10 CCPCç½‘ç»œèµ›é‡èµ›æ‰“é“2021.11.28 ICPCä¸Šæµ·çº¿ä¸Šèµ›æ‰“é“\n\n\n\n\n\n\n\n\nå¡æ ‘ä¸ŠDPç­¾åˆ°ï¼ŒDPå˜å½¢\n2021.12 CCSPåˆ†èµ›é“œé¦–åŽä¸œrk71","slug":"life/ç«žèµ›è®°å½•","date":"2019-08-24T16:00:01.000Z","categories_index":"LIFE","tags_index":"ACM,Life","author_index":"Maskros"}]